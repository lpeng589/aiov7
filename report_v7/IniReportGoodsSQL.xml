<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="" reportName="商品期初表"/><fieldInfo><field fieldname="tblStock.classCode" AsfieldName="StockCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="仓库" fieldType="2" inputType="2" popUpName="ReportSelectStock_v2" width="0" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="仓库"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="GoodsCode" groupByFlag="0" displayFlag="0" condition="=?" conditionJoin="and" orderbyFlag="" display="商品" fieldType="2" inputType="2" popUpName="ReportSelectGoods_v2" width="-1" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品"/><Display localStr="en" display="Sub-category code"/><Display localStr="zh_TW" display="分类代码"/></Displays><groupNames/></field><field fieldname="tblStock.StockFullName" AsfieldName="StockFullName" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="  " display="仓库" fieldType="2" inputType="0" popUpName="" width="75" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/><Display localStr="zh_TW" display="倉庫"/></Displays><groupNames/></field><field fieldname="tblGoods.[tblGoods]" AsfieldName="GoodsNumber" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="升" display="商品编号" fieldType="2" inputType="0" popUpName="" width="120" classCode="1" linkAdd="" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品编号"/><Display localStr="en" display="Product No"/><Display localStr="zh_TW" display="商品編號"/></Displays><groupNames/></field><field fieldname="k1.[GOODSPROP]" AsfieldName="BatchNo" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="批号" fieldType="2" inputType="0" popUpName="" width="130" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="GoodsField" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="批号"/><Display localStr="en" display="BatchNo"/><Display localStr="zh_TW" display="批號"/></Displays><groupNames/></field><field fieldname="isnull(k.Qty,k1.Qty)" AsfieldName="lastQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="期初数" fieldType="1" inputType="0" popUpName="" width="90" classCode="1" linkAdd="" order="6" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_CN" display="期初数"/><Display localStr="en" display="Qty"/><Display localStr="zh_TW" display="期初數"/></Displays><groupNames/></field><field fieldname="case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.Amount,k1.Amount)/isnull(k.Qty,k1.Qty) end" AsfieldName="lastPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="期初单价" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="期初单价"/><Display localStr="en" display="Unit Price"/><Display localStr="zh_TW" display="期初單價"/></Displays><groupNames/></field><field fieldname="isnull(k.Amount,k1.Amount)" AsfieldName="lastAmount" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="期初金额" fieldType="1" inputType="0" popUpName="" width="110" classCode="1" linkAdd="" order="8" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="期初金额"/><Display localStr="en" display="Amount"/><Display localStr="zh_TW" display="期初金額"/></Displays><groupNames/></field><field fieldname="tblGoodsunit.SecUnit" AsfieldName="SecUnit" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位" fieldType="2" inputType="0" popUpName="" width="80" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位"/><Display localStr="zh_CN" display="辅助单位"/><Display localStr="en" display="SecUnit"/></Displays><groupNames/></field><field fieldname="isnull(k.UnitIntQty,k1.UnitIntQty)" AsfieldName="UnitIntQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位整数" fieldType="0" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="10" isStat="1" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位整数"/><Display localStr="zh_CN" display="辅助单位整数"/><Display localStr="en" display="UnitIntQty"/></Displays><groupNames/></field><field fieldname="isnull(k.UnitBaseQty,k1.UnitBaseQty)" AsfieldName="UnitBaseQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助基本单位" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="11" isStat="1" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="辅助基本单位"/><Display localStr="zh_CN" display="辅助基本单位"/><Display localStr="en" display="UnitBaseQty"/></Displays><groupNames/></field><field fieldname="isnull(k.UnitQty,k1.UnitQty)" AsfieldName="UnitQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位数量" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="12" isStat="1" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Qty" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位数量"/><Display localStr="zh_CN" display="辅助单位数量"/><Display localStr="en" display="UnitQty"/></Displays><groupNames/></field><field fieldname="case when isnull(k.UnitQty,k1.UnitQty)=0 then 0 else isnull(k.Amount,k1.Amount)/isnull(k.UnitQty,k1.UnitQty) end" AsfieldName="UnitPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="辅助单位单价" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="13" isStat="0" defaultValue="" fieldSysType="AssUnit" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="辅助单位单价"/><Display localStr="zh_CN" display="辅助单位单价"/><Display localStr="en" display="UnitPrice"/></Displays><groupNames/></field><field fieldname="tblCurrency.CurrencyName" AsfieldName="CurrencyName" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="币种" fieldType="2" inputType="0" popUpName="" width="80" classCode="1" linkAdd="" order="14" isStat="0" defaultValue="" fieldSysType="currency" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="币种"/><Display localStr="en" display="Currency"/><Display localStr="zh_TW" display="幣種"/></Displays><groupNames/></field><field fieldname="isnull(k.CurrencyRate,k1.CurrencyRate)" AsfieldName="CurrencyRate" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="汇率" fieldType="1" inputType="0" popUpName="" width="80" classCode="1" linkAdd="" order="15" isStat="0" defaultValue="" fieldSysType="currency" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="Price" analysis="0"><Displays><Display localStr="zh_TW" display="汇率"/><Display localStr="zh_CN" display="汇率"/><Display localStr="en" display="CurrencyRate"/></Displays><groupNames/></field><field fieldname="case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.CurAmount,k1.CurAmount)/isnull(k.Qty,k1.Qty) end" AsfieldName="CurPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="外币单价" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="16" isStat="0" defaultValue="" fieldSysType="currency" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="外币单价"/><Display localStr="zh_CN" display="外币单价"/><Display localStr="en" display="CurPrice"/></Displays><groupNames/></field><field fieldname="isnull(k.CurAmount,k1.CurAmount)" AsfieldName="CurAmount" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="外币金额" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="17" isStat="1" defaultValue="" fieldSysType="currency" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="外币金额"/><Display localStr="zh_CN" display="外币金额"/><Display localStr="en" display="CurAmount"/></Displays><groupNames/></field><field fieldname="isnull(k.Discount,k1.Discount)" AsfieldName="Discount" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="折扣率%" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="18" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="折扣率%"/><Display localStr="zh_CN" display="折扣率%"/><Display localStr="en" display="Discount"/></Displays><groupNames/></field><field fieldname="case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.DisBackAmt,k1.DisBackAmt)/isnull(k.Qty,k1.Qty) end" AsfieldName="DisPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="折后单价" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="19" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="折后单价"/><Display localStr="zh_CN" display="折后单价"/><Display localStr="en" display="DisPrice"/></Displays><groupNames/></field><field fieldname="isnull(k.DisBackAmt,k1.DisBackAmt)" AsfieldName="DisBackAmt" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="折后金额" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="20" isStat="1" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="折后金额"/><Display localStr="zh_CN" display="折后金额"/><Display localStr="en" display="DisBackAmt"/></Displays><groupNames/></field><field fieldname="isnull(k.DisAmount,k1.DisAmount)" AsfieldName="DisAmount" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="折让金额" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="21" isStat="1" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="折让金额"/><Display localStr="zh_CN" display="折让金额"/><Display localStr="en" display="DisAmount"/></Displays><groupNames/></field><field fieldname="isnull(k.Tax,k1.Tax)" AsfieldName="Tax" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="税率%" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="22" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="税率%"/><Display localStr="zh_CN" display="税率%"/><Display localStr="en" display="Tax"/></Displays><groupNames/></field><field fieldname="case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.TaxAmount,k1.TaxAmount)/isnull(k.Qty,k1.Qty) end" AsfieldName="TaxPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="含税单价" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="23" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="含税单价"/><Display localStr="en" display="Unit Price"/><Display localStr="zh_TW" display="期初單價"/></Displays><groupNames/></field><field fieldname="isnull(k.TaxAmount,k1.TaxAmount)" AsfieldName="TaxAmount" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="含税金额" fieldType="1" inputType="6" popUpName="" width="110" classCode="1" linkAdd="" order="24" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="含税金额"/><Display localStr="en" display="Amount"/><Display localStr="zh_TW" display="期初金額"/></Displays><groupNames/></field><field fieldname="isnull(k.CoTaxAmt,k1.CoTaxAmt)" AsfieldName="CoTaxAmt" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="税额" fieldType="1" inputType="6" popUpName="" width="100" classCode="1" linkAdd="" order="25" isStat="1" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_TW" display="税额"/><Display localStr="zh_CN" display="税额"/><Display localStr="en" display="CoTaxAmt"/></Displays><groupNames/></field><field fieldname="tblGoods.SCompanyID" AsfieldName="SCompanyID" groupByFlag="0" displayFlag="1" condition="like '@Sess:SCompanyID'+'%'" conditionJoin="and" orderbyFlag="" display="分支机构" fieldType="2" inputType="100" popUpName="" width="0" classCode="1" linkAdd="" order="26" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="分支机构"/><Display localStr="en" display="Branch Company"/><Display localStr="zh_TW" display="分支機構"/></Displays><groupNames/></field><field fieldname="tblGoods.isCatalog" AsfieldName="isCatalog" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="0" inputType="100" popUpName="" width="0" classCode="1" linkAdd="" order="27" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field><field fieldname="isnull(k.Qty,k1.Qty)" AsfieldName="lastQty1" groupByFlag="0" displayFlag="1" condition="&lt;&gt; ?" conditionJoin="and" orderbyFlag="" display="期初数" fieldType="1" inputType="5" popUpName="zero" width="0" classCode="1" linkAdd="" order="28" isStat="0" defaultValue="0" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="期初数"/><Display localStr="en" display="Initial"/><Display localStr="zh_TW" display="期初數"/></Displays><groupNames/></field><field fieldname="(case when '@Sess:Local'='zh_CN' then '商品期初明细' when '@Sess:Local'='zh_TW' then '商品期初明細' when '@Sess:Local'='en' then 'Goods Initial Detail' end)" AsfieldName="GoodsList" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="商品期初明细" fieldType="2" inputType="0" popUpName="" width="100" classCode="1" linkAdd="ReportDataAction.do?reportNumber=ReporttblBeginStockDet&amp;detTable_list=tblBeginStock&amp;hide_GoodsCode=@ValueofDB:hideCode&amp;GoodsCode=@ValueofDB:classCode&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber&amp;tblStock.StockFullName=@ValueofDB:StockFullName&amp;BatchNo=@ValueofDB:BatchNo&amp;HueName=@ValueofDB:HueName&amp;Inch=@ValueofDB:Inch&amp;yearNOName=@ValueofDB:yearNOName&amp;CurrencyName=@ValueofDB:CurrencyName&amp;detTable_list=tblBeginStock" order="29" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品期初明细"/><Display localStr="en" display="Detail"/><Display localStr="zh_TW" display="商品期初明細"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode" AsfieldName="classCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="classCode" fieldType="" inputType="" popUpName="" width="0" classCode="0" linkAdd="" order="30" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="classCode"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode+'#;#'+cast(tblGoods.isCatalog as varchar(2))+'#;#'+'#;#'" AsfieldName="hideCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="31" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field><field fieldname="isnull(k.remark,k1.remark)" AsfieldName="Mremark" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="备注" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="32" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="备注"/></Displays><groupNames/></field><field fieldname="isnull(k.dremark,k1.dremark)" AsfieldName="dremark" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="明细备注" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="33" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="明细备注"/></Displays><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblStock.StockFullName as StockFullName,vbCrLf    tblGoods.[tblGoods] as GoodsNumber,vbCrLf    k1.[GOODSPROP] as BatchNo,vbCrLf    isnull(k.Qty,k1.Qty) as lastQty,vbCrLf    case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.Amount,k1.Amount)/isnull(k.Qty,k1.Qty) end as lastPrice,vbCrLf    isnull(k.Amount,k1.Amount) as lastAmount,vbCrLf    tblGoodsunit.SecUnit as SecUnit,vbCrLf    isnull(k.UnitIntQty,k1.UnitIntQty) as UnitIntQty,vbCrLf    isnull(k.UnitBaseQty,k1.UnitBaseQty) as UnitBaseQty,vbCrLf    isnull(k.UnitQty,k1.UnitQty) as UnitQty,vbCrLf    case when isnull(k.UnitQty,k1.UnitQty)=0 then 0 else isnull(k.Amount,k1.Amount)/isnull(k.UnitQty,k1.UnitQty) end as UnitPrice,vbCrLf    tblCurrency.CurrencyName as CurrencyName,vbCrLf    isnull(k.CurrencyRate,k1.CurrencyRate) as CurrencyRate,vbCrLf    case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.CurAmount,k1.CurAmount)/isnull(k.Qty,k1.Qty) end as CurPrice,vbCrLf    isnull(k.CurAmount,k1.CurAmount) as CurAmount,vbCrLf    isnull(k.Discount,k1.Discount) as Discount,vbCrLf    case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.DisBackAmt,k1.DisBackAmt)/isnull(k.Qty,k1.Qty) end as DisPrice,vbCrLf    isnull(k.DisBackAmt,k1.DisBackAmt) as DisBackAmt,vbCrLf    isnull(k.DisAmount,k1.DisAmount) as DisAmount,vbCrLf    isnull(k.Tax,k1.Tax) as Tax,vbCrLf    case when isnull(k.Qty,k1.Qty)=0 then 0 else isnull(k.TaxAmount,k1.TaxAmount)/isnull(k.Qty,k1.Qty) end as TaxPrice,vbCrLf    isnull(k.TaxAmount,k1.TaxAmount) as TaxAmount,vbCrLf    isnull(k.CoTaxAmt,k1.CoTaxAmt) as CoTaxAmt,vbCrLf    tblGoods.SCompanyID as SCompanyID,vbCrLf    tblGoods.isCatalog as isCatalog,vbCrLf    isnull(k.Qty,k1.Qty) as lastQty1,vbCrLf    (case when '@Sess:Local'='zh_CN' then '商品期初明细' when '@Sess:Local'='zh_TW' then '商品期初明細' when '@Sess:Local'='en' then 'Goods Initial Detail' end) as GoodsList,vbCrLf    tblGoods.classCode as classCode,vbCrLf    tblGoods.classCode+'#;#'+cast(tblGoods.isCatalog as varchar(2))+'#;#'+'#;#' as hideCode,vbCrLf    isnull(k.remark,k1.remark) as Mremark,vbCrLf    isnull(k.dremark,k1.dremark) as dremarkvbCrLffrom tblGoods vbCrLfleft join (vbCrLf    select a.classCode,c.StockCode,Tax,CurrencyRate,c.remark,MAX(b.remark) dremark,SUM(isnull(b.Qty,0)) as Qty,SUM(isnull(b.Amount,0)) as Amount,SUM(isnull(b.TaxAmount,0)) as TaxAmount,b.Discount,sum(DisBackAmt) as DisBackAmt,sum(b.DisAmount) as DisAmount,sum(CoTaxAmt) as CoTaxAmt,sum(CurAmount) as CurAmount,c.Currency,sum(cast(b.UnitIntQty as float)) as UnitIntQty,sum(cast(b.UnitBaseQty as float)) as UnitBaseQty,sum(cast(b.UnitQty as float)) as UnitQty vbCrLf    from tblGoods a vbCrLf    left join tblBeginStockDet b on b.f_ref in (select id from tblBeginStock where workFlowNodeName='finish') and b.GoodsCode like a.classCode+'%' vbCrLf    left join tblBeginStock c on b.f_ref=c.id and c.workFlowNodeName='finish' vbCrLf    where a.isCatalog=1 group by a.classCode,c.StockCode,b.Discount,Tax,CurrencyRate,c.Currency,c.remarkvbCrLf) as k on tblGoods.classCode=k.classCode vbCrLfleft join (vbCrLf    select b.GoodsCode,c.StockCode,Tax,CurrencyRate,b.BatchNo,b.Inch,b.Hue,b.yearNO,b.ProDate,b.Availably,c.remark,MAX(b.remark) dremark,SUM(isnull(b.Qty,0)) as Qty,SUM(isnull(b.Amount,0)) as Amount,SUM(isnull(b.TaxAmount,0)) as TaxAmount,b.Discount,sum(DisBackAmt) as DisBackAmt,sum(b.DisAmount) as DisAmount,sum(CoTaxAmt) as CoTaxAmt,sum(CurAmount) as CurAmount,c.Currency,sum(cast(b.UnitIntQty as float)) as UnitIntQty,sum(cast(b.UnitBaseQty as float)) as UnitBaseQty,sum(cast(b.UnitQty as float)) as UnitQty vbCrLf    from tblBeginStockDet b vbCrLf    left join tblBeginStock c on b.f_ref=c.id vbCrLf    where c.workFlowNodeName='finish' group by b.GoodsCode,c.StockCode,b.BatchNo,b.Inch,b.Hue,b.yearNO,b.ProDate,b.Availably,b.Discount,Tax,CurrencyRate,c.Currency,c.remarkvbCrLf) as k1 on tblGoods.classCode=k1.GoodsCodevbCrLfleft join tblStock on tblStock.classCode=isnull(k.StockCode,k1.StockCode)vbCrLfleft join tblGoodsunit on tblGoodsunit.GoodsCode=tblGoods.classCode and DefaultAssit=1vbCrLfleft join tblCurrency on tblCurrency.id=k.Currency or tblCurrency.id=k1.Currency vbCrLf{k1.GOODSPROP}vbCrLfwhere 1=1 vbCrLf      and (tblStock.classCode =?)vbCrLf      and (tblGoods.classCode =?)vbCrLf      and (tblCurrency.CurrencyName like '%'+?+'%')vbCrLf      and (tblGoods.SCompanyID like '@Sess:SCompanyID'+'%')vbCrLf      and (isnull(k.Qty,k1.Qty) &lt;&gt; ?)vbCrLfvbCrLforder by vbCrLf   tblGoods.[tblGoods] vbCrLfvbCrLf"/><charts/></ReportDataSource>
