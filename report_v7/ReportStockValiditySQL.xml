<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="" reportName="保质期明细"/><fieldInfo><field fieldname="tblStocks.StockCode" AsfieldName="StockCode" groupByFlag="0" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="仓库" fieldType="2" inputType="2" popUpName="ReportSelectStock_v2" width="0" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="1" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="倉庫"/><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/></Displays><groupNames/></field><field fieldname="tblStocks.GoodsCode" AsfieldName="GoodsCode" groupByFlag="0" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="商品" fieldType="2" inputType="2" popUpName="ReportSelectGoods_v2" width="0" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品"/><Display localStr="en" display="Goods"/><Display localStr="zh_TW" display="貨品"/></Displays><groupNames/></field><field fieldname="tblStock.StockFullName" AsfieldName="StockFullName" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="升" display="仓库" fieldType="2" inputType="0" popUpName="" width="75" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/><Display localStr="zh_TW" display="倉庫"/></Displays><groupNames/></field><field fieldname="tblGoods.[tblGoods]" AsfieldName="GoodsNumber" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="升" display="商品编号" fieldType="2" inputType="" popUpName="" width="120" classCode="1" linkAdd="" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品编号"/><Display localStr="en" display="Commodity No."/><Display localStr="zh_TW" display="商品編號"/></Displays><groupNames/></field><field fieldname="tblStocks.[GOODSPROP]" AsfieldName="BatchNo" groupByFlag="0" displayFlag="1" condition="=?" conditionJoin="and" orderbyFlag="" display="批号" fieldType="2" inputType="0" popUpName="" width="130" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="GoodsField" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="批号"/><Display localStr="en" display="Batch"/><Display localStr="zh_TW" display="批号"/></Displays><groupNames/></field><field fieldname="tblStocks.LastQty" AsfieldName="totalQty" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="结存数量" fieldType="1" inputType="0" popUpName="" width="90" classCode="1" linkAdd="ReportDataAction.do?reportNumber=ReportOutInDetDisplayData&amp;tblStock.StockFullName=@ValueofDB:StockFullName&amp;StockCode=@ValueofDB:StockCode&amp;GoodsCode=@ValueofDB:GoodsCode&amp;hide_GoodsCode=@ValueofDB:hideGoodsCode&amp;hide_StockCode=@ValueofDB:hideStockCode&amp;BatchNo=@ValueofDB:BatchNo&amp;Inch=@ValueofDB:Inch&amp;Hue=@ValueofDB:Hue&amp;yearNO=@ValueofDB:yearNO&amp;ProDate=@ValueofDB:ProDate&amp;Availably=@ValueofDB:Availably&amp;tblGoods.[tblGoods]=@ValueofDB:GoodsNumber" order="6" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="结存数量"/><Display localStr="en" display="Inventory quantity"/><Display localStr="zh_TW" display="結存數量"/></Displays><groupNames/></field><field fieldname="tblStocks.lastPrice" AsfieldName="lastPrice" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="结存单价" fieldType="1" inputType="0" popUpName="" width="100" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="priceIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="结存单价"/><Display localStr="en" display="Last Price"/><Display localStr="zh_TW" display="結存單價"/></Displays><groupNames/></field><field fieldname="tblStocks.lastAmount" AsfieldName="totalAmount" groupByFlag="0" displayFlag="1" condition="tblGoods.isCatalog=0 and tblstock.isCatalog=0" conditionJoin="and" orderbyFlag="" display="结存金额" fieldType="1" inputType="0" popUpName="" width="110" classCode="1" linkAdd="" order="8" isStat="1" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="1" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="结存金额"/><Display localStr="en" display="Inventory amount"/><Display localStr="zh_TW" display="結存金額"/></Displays><groupNames/></field><field fieldname="tblStocks.lastAmount" AsfieldName="totalAmount1" groupByFlag="0" displayFlag="1" condition="&gt;= ?" conditionJoin="and" orderbyFlag="" display="结存金额≥" fieldType="1" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="结存金额≥"/><Display localStr="en" display="Inventory amount"/><Display localStr="zh_TW" display="結存金額"/></Displays><groupNames/></field><field fieldname="tblStocks.lastAmount" AsfieldName="totalAmount2" groupByFlag="0" displayFlag="1" condition="&lt;= ?" conditionJoin="and" orderbyFlag="" display="结存金额≤" fieldType="1" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="10" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="结存金额≤"/><Display localStr="en" display="Inventory amount"/><Display localStr="zh_TW" display="結存金額"/></Displays><groupNames/></field><field fieldname="tblStocks.SCompanyID" AsfieldName="SCompanyID" groupByFlag="0" displayFlag="1" condition="like '@Sess:SCompanyID'+'%'" conditionJoin="and" orderbyFlag="" display="分支机构" fieldType="2" inputType="100" popUpName="" width="0" classCode="1" linkAdd="" order="11" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="分支机构"/><Display localStr="en" display="Branch"/><Display localStr="zh_TW" display="分支機搆"/></Displays><groupNames/></field><field fieldname="tblStocks.LastQty" AsfieldName="Qty" groupByFlag="0" displayFlag="0" condition="&gt;?" conditionJoin="and" orderbyFlag="" display="数量&gt;" fieldType="1" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="12" isStat="0" defaultValue="0" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="数量&gt;"/><Display localStr="en" display="Quantity&gt;"/><Display localStr="zh_TW" display="數量&gt;"/></Displays><groupNames/></field><field fieldname="Datediff(d,getdate(),tblStocks.Availably) " AsfieldName="Availably1" groupByFlag="0" displayFlag="0" condition="&lt;=?" conditionJoin="and" orderbyFlag="" display="保质期(天)≤" fieldType="0" inputType="0" popUpName="" width="0" classCode="1" linkAdd="" order="13" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="保质期(天)≤"/></Displays><groupNames/></field><field fieldname="tblStock.classCode+'#;#'+CAST(tblStock.isCatalog as varchar(2))+'#;##;#'" AsfieldName="hideStockCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="仓库" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="14" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="1" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_TW" display="倉庫"/><Display localStr="zh_CN" display="仓库"/><Display localStr="en" display="Warehouse"/></Displays><groupNames/></field><field fieldname="tblGoods.classCode+'#;#'+CAST(tblGoods.isCatalog as varchar(2))+'#;##;#'" AsfieldName="hideGoodsCode" groupByFlag="0" displayFlag="1" condition="" conditionJoin="  " orderbyFlag="" display="商品" fieldType="2" inputType="3" popUpName="" width="0" classCode="1" linkAdd="" order="15" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="商品"/><Display localStr="en" display="Goods"/><Display localStr="zh_TW" display="貨品"/></Displays><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblStocks.StockCode as StockCode,vbCrLf    tblStocks.GoodsCode as GoodsCode,vbCrLf    tblStock.StockFullName as StockFullName,vbCrLf    tblGoods.[tblGoods] as GoodsNumber,vbCrLf    tblStocks.[GOODSPROP] as BatchNo,vbCrLf    tblStocks.LastQty as totalQty,vbCrLf    tblStocks.lastPrice as lastPrice,vbCrLf    tblStocks.lastAmount as totalAmount,vbCrLf    tblStocks.lastAmount as totalAmount1,vbCrLf    tblStocks.lastAmount as totalAmount2,vbCrLf    tblStocks.SCompanyID as SCompanyID,vbCrLf    tblStock.classCode+'#;#'+CAST(tblStock.isCatalog as varchar(2))+'#;##;#' as hideStockCode,vbCrLf    tblGoods.classCode+'#;#'+CAST(tblGoods.isCatalog as varchar(2))+'#;##;#' as hideGoodsCodevbCrLffrom (select t.SCompanyID,t.GoodsCode,t.StockCode,t.BatchNo,t.Inch,t.yearNO,t.Hue,t.ProDate,t.Availably,SUM(InstoreQty)-SUM(OutstoreQty) as LastQty,SUM(InstoreAmount)-SUM(OutstoreAmount) as LastAmount,case when SUM(InstoreQty)-SUM(OutstoreQty)=0 then 0 else (SUM(InstoreAmount)-SUM(OutstoreAmount))/(SUM(InstoreQty)-SUM(OutstoreQty)) end as LastPrice from tblGoods g,tblStockDet t where len(t.Availably)&gt;0 and g.classCode=t.GoodsCode and g.isCatalog=0 group by t.SCompanyID,t.goodsCode,t.stockCode,t.BatchNo,t.Inch,t.yearNO,t.Hue,t.ProDate,t.Availably) tblStocksvbCrLf left join tblGoods on tblGoods.classCode=tblStocks.GoodsCode and tblGoods.isCatalog=0vbCrLf left join tblstock on tblstock.classCode=tblstocks.StockCode and tblstock.isCatalog=0vbCrLf{tblStocks.GOODSPROP}vbCrLfwhere 1=1 vbCrLf      and (tblStocks.StockCode =?)vbCrLf      and (tblStocks.GoodsCode =?)vbCrLf      and (tblStocks.[GOODSPROP] =?)vbCrLf      and tblGoods.isCatalog=0 and tblstock.isCatalog=0vbCrLf      and (tblStocks.lastAmount &gt;= ?)vbCrLf      and (tblStocks.lastAmount &lt;= ?)vbCrLf      and (tblStocks.SCompanyID like '@Sess:SCompanyID'+'%')vbCrLf      and (tblStocks.LastQty &gt;?)vbCrLf      and (Datediff(d,getdate(),tblStocks.Availably)  &lt;=?)vbCrLfvbCrLforder by vbCrLf   tblStock.StockFullName ,vbCrLf   tblGoods.[tblGoods] vbCrLfvbCrLf"/><charts/></ReportDataSource>
