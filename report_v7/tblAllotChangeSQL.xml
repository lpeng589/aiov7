<?xml version="1.0" encoding="UTF-8" ?>
<ReportDataSource><Report reporteId="" reportName="变价调拨单"/><fieldInfo><field fieldname="tblAllotChange.BillDate" AsfieldName="BillDate" groupByFlag="0" displayFlag="1" condition="" conditionJoin="and" orderbyFlag="降" display="单据日期" fieldType="5" inputType="" popUpName="" width="70" classCode="1" linkAdd="" order="1" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期"/><Display localStr="en" display="Document date"/><Display localStr="zh_TW" display="單據日期"/></Displays><groupNames/></field><field fieldname="tblAllotChange.BillDate" AsfieldName="BillDate1" groupByFlag="0" displayFlag="0" condition="&gt;= ?" conditionJoin="and" orderbyFlag="" display="单据日期≥" fieldType="5" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="2" isStat="0" defaultValue="@MEM:defaultTime" fieldSysType="" fixColName="1" isNull="1" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期≥"/><Display localStr="en" display="Start date≥"/><Display localStr="zh_TW" display="單據日期≥"/></Displays><groupNames/></field><field fieldname="tblAllotChange.BillDate" AsfieldName="BillDate2" groupByFlag="0" displayFlag="0" condition="&lt;= ?" conditionJoin="and" orderbyFlag="" display="单据日期≤ " fieldType="5" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="3" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据日期≤ "/><Display localStr="en" display="End date≤"/><Display localStr="zh_TW" display="單據日期≤"/></Displays><groupNames/></field><field fieldname="tblAllotChange.BillNo" AsfieldName="BillNo" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="降" display="单据编号" fieldType="2" inputType="" popUpName="" width="100" classCode="1" linkAdd="UserFunctionAction.do?tableName=tblAllotChange&amp;keyId=@ValueofDB:id&amp;operation=5" order="4" isStat="0" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="单据编号"/><Display localStr="en" display="Document No."/><Display localStr="zh_TW" display="單據編號"/></Displays><groupNames/></field><field fieldname="isnull(tblStock.StockFullName,s1.StockFullName)" AsfieldName="StockCode" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="出库仓库" fieldType="2" inputType="2" popUpName="ReportSelectStock" width="75" classCode="1" linkAdd="" order="5" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="出库仓库"/><Display localStr="en" display="Delivery warehouse"/><Display localStr="zh_TW" display="出庫倉庫"/></Displays><groupNames/></field><field fieldname="isnull(tblStock2.StockFullName,s2.StockFullName)" AsfieldName="InStockCode" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="入库仓库" fieldType="2" inputType="2" popUpName="ReportSelectStockIn" width="75" classCode="1" linkAdd="" order="6" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="入库仓库"/><Display localStr="en" display="Warehousing destination"/><Display localStr="zh_TW" display="入庫倉庫"/></Displays><groupNames/></field><field fieldname="tblBillAccSetup.SubType" AsfieldName="AllotType" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="调拨类型" fieldType="2" inputType="2" popUpName="ReportSelectAllotType" width="100" classCode="1" linkAdd="" order="7" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="调拨类型"/><Display localStr="en" display="Transfer type"/><Display localStr="zh_TW" display="調撥類型"/></Displays><groupNames/></field><field fieldname="tblAllotChange.BillAmtChange" AsfieldName="BillAmtChange" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="差异金额" fieldType="1" inputType="" popUpName="" width="100" classCode="1" linkAdd="" order="8" isStat="1" defaultValue="" fieldSysType="" fixColName="0" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="AmountIdentifier" analysis="0"><Displays><Display localStr="zh_CN" display="差异金额"/><Display localStr="en" display="Difference amount"/><Display localStr="zh_TW" display="差異金額"/></Displays><groupNames/></field><field fieldname="tblEmployee1.EmpFullName" AsfieldName="EmpFullName" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="经手人" fieldType="2" inputType="2" popUpName="ReportSelectEmployee" width="50" classCode="1" linkAdd="" order="9" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="经手人"/><Display localStr="en" display="Handler"/><Display localStr="zh_TW" display="經手人"/></Displays><groupNames/></field><field fieldname="tblDepartment.DeptFullName" AsfieldName="DeptFullName" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="部门" fieldType="2" inputType="2" popUpName="ReportSelectDepartment" width="75" classCode="1" linkAdd="" order="10" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="部门"/><Display localStr="en" display="Department"/><Display localStr="zh_TW" display="部門"/></Displays><groupNames/></field><field fieldname="tblEmployee2.EmpFullName" AsfieldName="sysName" groupByFlag="0" displayFlag="1" condition="like '%'+?+'%'" conditionJoin="and" orderbyFlag="" display="制单人" fieldType="2" inputType="2" popUpName="ReportSelectUser" width="50" classCode="1" linkAdd="" order="11" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays><Display localStr="zh_CN" display="制单人"/><Display localStr="en" display="Created by"/><Display localStr="zh_TW" display="制單人"/></Displays><groupNames/></field><field fieldname="tblAllotChange.id" AsfieldName="id" groupByFlag="0" displayFlag="1" condition="" conditionJoin="" orderbyFlag="" display="" fieldType="" inputType="" popUpName="" width="0" classCode="1" linkAdd="" order="12" isStat="0" defaultValue="" fieldSysType="" fixColName="1" isNull="0" planarField="0" subSQL="" repeatNotShow="0" zeroDisplay="0" seriesCol="" seriesNums="" crossField="" groupName="" fieldIdentity="" analysis="0"><Displays/><groupNames/></field></fieldInfo><SQL text="select vbCrLf    tblAllotChange.BillDate as BillDate,vbCrLf    tblAllotChange.BillNo as BillNo,vbCrLf    isnull(tblStock.StockFullName,s1.StockFullName) as StockCode,vbCrLf    isnull(tblStock2.StockFullName,s2.StockFullName) as InStockCode,vbCrLf    tblBillAccSetup.SubType as AllotType,vbCrLf    tblAllotChange.BillAmtChange as BillAmtChange,vbCrLf    tblEmployee1.EmpFullName as EmpFullName,vbCrLf    tblDepartment.DeptFullName as DeptFullName,vbCrLf    tblEmployee2.EmpFullName as sysName,vbCrLf    tblAllotChange.id as idvbCrLffrom tblAllotChangevbCrLf left join tblAllotChangeDet on (tblAllotChange.id=tblAllotChangeDet.f_ref and tblAllotChangeDet.id=(select top 1 a.id from tblAllotChangeDet a where a.f_ref=tblAllotChange.id and a.StockCode in (select classCode from tblStock where StockFullName like '%'+@condition:StockCode+'%') and a.InStockCode in (select classCode from tblStock where StockFullName like '%'+@condition:InStockCode+'%'))) vbCrLf left join tblDepartment on tblDepartment.classCode=tblAllotChange.DepartmentCodevbCrLf left join tblEmployee tblEmployee1 on tblEmployee1.id=tblAllotChange.EmployeeID vbCrLf left join tblEmployee tblEmployee2 on tblEmployee2.id=tblAllotChange.createBy vbCrLf left join tblStock on tblStock.classCode=tblAllotChangeDet.StockCode  vbCrLf left join tblStock tblStock2 on tblStock2.classCode=tblAllotChangeDet.InStockCode vbCrLf left join tblBillAccSetup on tblBillAccSetup.SubCode=tblAllotChange.SubCode and tblBillAccSetup.MainType='tblAllotChange'vbCrLf left join tblStock s1 on s1.classCode=tblAllotChange.StockCode  vbCrLf left join tblStock s2 on s2.classCode=tblAllotChange.InStockCodevbCrLfwhere 1=1 vbCrLf      and (tblAllotChange.BillDate &gt;= ?)vbCrLf      and (tblAllotChange.BillDate &lt;= ?)vbCrLf      and (tblAllotChange.BillNo like '%'+?+'%')vbCrLf      and (isnull(tblStock.StockFullName,s1.StockFullName) like '%'+?+'%')vbCrLf      and (isnull(tblStock2.StockFullName,s2.StockFullName) like '%'+?+'%')vbCrLf      and (tblBillAccSetup.SubType like '%'+?+'%')vbCrLf      and (tblEmployee1.EmpFullName like '%'+?+'%')vbCrLf      and (tblDepartment.DeptFullName like '%'+?+'%')vbCrLf      and (tblEmployee2.EmpFullName like '%'+?+'%')vbCrLfvbCrLforder by vbCrLf   tblAllotChange.BillDate desc,vbCrLf   tblAllotChange.BillNo descvbCrLfvbCrLf"/><charts/></ReportDataSource>
