[INFO ] 2017-12-29 10:20:36,761 Line:206 系统开始启动，最大内存：1792;目前总内存：253;目前空闲内存：162
 [INFO ] 2017-12-29 10:20:36,879 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-29 10:20:40,730 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-29 10:20:41,064 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-29 10:20:41,088 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-29 10:20:41,093 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-29 10:20:41,099 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-29 10:20:41,117 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-29 10:20:41,131 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-29 10:20:43,132 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 10:20:43,179 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-29 10:20:43,236 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-29 10:20:43,257 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-29 10:20:44,998 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-29 10:20:44,999 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-29 10:20:45,590 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-29 10:20:45,675 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-29 10:20:46,568 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-29 10:20:46,617 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-29 10:20:46,627 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-29 10:20:46,648 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-29 10:20:46,672 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-29 10:20:46,684 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-29 10:20:46,742 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-29 10:20:50,549 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-29 10:20:50,818 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,820 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,822 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,824 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,826 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,829 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,831 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,833 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,835 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,837 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,885 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,908 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,939 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:50,999 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,001 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,002 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,003 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,026 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,027 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,029 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,030 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,031 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,032 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,045 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,066 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,068 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,069 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,071 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,072 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,074 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,111 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,112 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,114 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,140 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,154 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,174 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,175 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,176 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 10:20:51,189 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 10:20:51,201 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-29 10:20:51,228 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-29 10:20:51,425 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-29 10:20:51,426 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-29 10:20:52,758 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-29 00:00:00
 [INFO ] 2017-12-29 10:20:52,758 Line:144 SAFE 备份任务开始执行，时间2017-12-29 10:20:52
 [INFO ] 2017-12-29 10:20:52,759 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [INFO ] 2017-12-29 10:20:57,610 Line:148 SAFE 备份任务执行成功，时间2017-12-29 10:20:57
 [DEBUG] 2017-12-29 10:21:43,115 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 10:21:43,117 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 10:21:43,117 Line:243 AIOApi op=getSessEmp&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:21:43,166 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2017-12-29 10:21:52,021 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 10:21:53,817 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2017-12-29 10:21:53,818 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 10:21:53,819 Line:243 AIOApi op=LOGIN&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:21:53,929 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 10:21:54,064 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 10:21:54,111 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 10:21:54,499 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2017-12-29 10:21:54,996 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 10:21:54,997 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 10:21:54,997 Line:243 AIOApi op=getSessEmp&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:21:55,003 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 10:21:55,057 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 10:21:55,058 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 10:21:55,059 Line:243 AIOApi op=getEnum&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:21:55,071 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 10:22:01,919 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:01,920 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:22:01,921 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:02,415 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:02,428 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:22:02,428 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:02,428 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:02,428 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:02,428 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:02,429 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:22:02,429 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:02,429 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:02,429 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:02,429 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:02,430 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:02,430 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:02,430 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:02,430 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:02,430 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:02,430 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:02,431 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:02,431 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:02,516 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:02,517 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:02,518 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:02,518 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:02,518 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:02,519 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:02,519 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:02,520 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:02,522 Line:689 通过SQL读原始数据：95
 [DEBUG] 2017-12-29 10:22:02,524 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 10:22:02,570 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:22:03,380 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:03,380 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2017-12-29 10:22:03,381 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:03,396 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:03,396 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2017-12-29 10:22:03,397 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:03,397 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:03,397 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:03,398 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:03,398 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:22:03,399 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:03,401 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:03,401 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:03,402 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:03,403 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:03,404 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:03,404 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:03,404 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:03,405 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:03,405 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:03,405 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:03,405 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:03,408 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:03,408 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:03,409 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:03,409 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:03,409 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:03,409 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:03,409 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:03,410 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:03,410 Line:689 通过SQL读原始数据：14
 [DEBUG] 2017-12-29 10:22:03,412 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:22:03,438 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:22:07,996 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:07,997 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:22:07,997 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:08,009 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:08,010 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:22:08,010 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:08,010 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:08,010 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:08,011 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:08,011 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:22:08,011 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:08,011 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:08,012 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:08,012 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:08,012 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:08,012 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:08,012 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:08,013 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:08,013 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:08,013 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:08,014 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:08,014 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:08,039 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:08,039 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:08,040 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:08,040 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:08,040 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:08,040 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:08,040 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:08,040 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:08,041 Line:689 通过SQL读原始数据：31
 [DEBUG] 2017-12-29 10:22:08,041 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:22:08,048 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:22:14,711 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 10:22:14,712 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 10:22:14,712 Line:243 AIOApi op=getSessEmp&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:14,715 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 10:22:14,739 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 10:22:14,740 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 10:22:14,740 Line:243 AIOApi op=getEnum&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:14,742 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 10:22:16,491 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:16,492 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:22:16,492 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:16,509 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:16,509 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:22:16,510 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:16,510 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:16,510 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:16,510 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:16,510 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:22:16,510 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:16,511 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:16,511 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:16,511 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:16,511 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:16,511 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:16,511 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:16,512 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:16,512 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:16,512 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:16,512 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:16,512 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:16,516 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:16,516 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:16,516 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:16,516 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:16,516 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:16,517 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:16,517 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:16,517 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:16,518 Line:689 通过SQL读原始数据：9
 [DEBUG] 2017-12-29 10:22:16,521 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 10:22:16,532 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:22:17,956 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:17,958 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2017-12-29 10:22:17,959 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:17,984 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:17,985 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2017-12-29 10:22:17,985 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:17,985 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:17,986 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:17,986 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:17,987 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:22:17,987 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:17,987 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:17,988 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:17,988 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:17,989 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:17,989 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:17,989 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:17,990 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:17,990 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:17,991 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:17,991 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:17,991 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:17,995 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:17,995 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:17,995 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:17,996 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:17,997 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:17,997 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:17,997 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:17,998 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:17,999 Line:689 通过SQL读原始数据：14
 [DEBUG] 2017-12-29 10:22:18,001 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 10:22:18,008 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:22:18,373 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:18,374 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:22:18,374 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:18,388 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:18,388 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:22:18,389 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:18,389 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:18,389 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:18,389 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:18,389 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:22:18,389 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:18,390 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:18,391 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:18,391 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:18,391 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:18,391 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:18,393 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:18,393 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:18,393 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:18,394 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:18,394 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:18,394 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:18,394 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:18,394 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:18,395 Line:689 通过SQL读原始数据：7
 [DEBUG] 2017-12-29 10:22:18,397 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:22:18,404 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:22:22,011 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:22:22,011 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:22:22,013 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:22:22,024 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:22:22,024 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:22:22,025 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:22:22,025 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:22:22,025 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:22:22,025 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:22:22,025 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:22:22,025 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:22:22,025 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:22:22,026 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:22:22,026 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:22:22,026 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:22:22,026 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:22:22,026 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:22:22,027 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:22:22,027 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:22:22,027 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:22:22,027 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:22:22,027 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:22:22,032 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:22:22,033 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:22:22,034 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:22,034 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:22,034 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:22:22,034 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:22:22,034 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:22:22,034 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:22:22,035 Line:689 通过SQL读原始数据：11
 [DEBUG] 2017-12-29 10:22:22,036 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:22:22,042 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:23:29,019 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblcardscan
 [DEBUG] 2017-12-29 10:23:29,021 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblcardscan,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 10:23:29,022 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:23:29,089 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,ComContactor,ComTel,ComEmail,ComName,ComContactorMobile,ComAddress,QQ,Status,createTime from ( select tblcardscan.id as keyId,tblcardscan.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblcardscan.createBy) as deptCodeR,'' as employeeId,null as deptCodeRE,      tblcardscan.ComContactor as ComContactor,     tblcardscan.ComTel as ComTel,     tblcardscan.ComEmail as ComEmail,     tblcardscan.ComName as ComName,     tblcardscan.ComContactorMobile as ComContactorMobile,     tblcardscan.ComAddress as ComAddress,     tblcardscan.QQ as QQ,     isnull(tblcardscan.Status,1) as Status,     tblcardscan.createTime as createTime   ,ROW_NUMBER() over(order by     tblcardscan.createTime desc) as row_id  from tblcardscan where 1=1               and ('admin' = 'admin' or tblcardscan.createBy = '1')  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 10:23:29,121 Line:689 通过SQL读原始数据：31
 [DEBUG] 2017-12-29 10:23:29,122 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:23:29,125 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ComContactor",""]],"cols":[["姓名","50","string","","ComContactor"],["公司电话","100","string","","ComTel"],["公司邮箱","250","string","","ComEmail"],["公司","200","string","","ComName"],["手机","150","string","","ComContactorMobile"],["公司地址","250","string","","ComAddress"],["QQ号码","200","string","","QQ"],["状态","200","int","","Status"],["建立时间","200","date","","createTime"]],"rows":[],"totalPage":1}}
 [DEBUG] 2017-12-29 10:23:39,562 Line:2993 MobileAjax 请求地址：/MobileAjax?op=cardscan
 [DEBUG] 2017-12-29 10:23:39,564 Line:3004 MobileAjax 操作人:admin;请求数据：op=[cardscan,];
 [DEBUG] 2017-12-29 10:23:39,565 Line:243 AIOApi op=cardscan&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:23:40,718 Line:1750 AIOConnect发送远程请求返回：2da381dff55b0b7be544417f0b5e08e0a4256b158d24f4987ecaf61b2ae18590173f0ab9ab0c6865506a85edf0b0a4221b3f5e5b55d6229f439e6153160765b6499fe5bbd5d48f757611175e2f15e2bc1b3de318b302073b326019d176b63628abcd4fe33d5676e7a3b17d4d45309a9b9485db1ecf6f205dd1fa01b42c82aeb3e1c98cb8a499d93dd79bbf1079213b5d
 [DEBUG] 2017-12-29 10:23:44,262 Line:1750 AIOConnect发送远程请求返回：c01fb9f7d34032ae72181f54e625d50919972443cec8a0b97ce889484d6327e5
 [DEBUG] 2017-12-29 10:23:44,645 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 10:23:44,646 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblcardscan,];keyId=[ebcc3c1b_1712291023440710002,];
 [DEBUG] 2017-12-29 10:23:44,646 Line:243 AIOApi op=detail&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:23:44,697 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ebcc3c1b_1712291023440710002' and  a.tableName='tblcardscan'
 [DEBUG] 2017-12-29 10:23:44,733 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"ComAddress":"深圳市罗湖区国成路互联网产业园3栋5楼","ComContactorMobile":"15986780403","printCount":0,"ComTel":"0755-22384000","id":"ebcc3c1b_1712291023440710002","ComName":"深圳市科荣软件股份有限公司","isCatalog":0,"Status":0,"createByName":"admin","createBy":"1","statusId":0,"createTime":"2017-12-29 10:23:44","LANGUAGEQUERY":{},"ComContactor":"等等！
 [DEBUG] 2017-12-29 10:24:21,558 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 10:24:21,558 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2017-12-29 10:24:21,559 Line:243 AIOApi op=popup&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:24:21,573 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 10:24:21,592 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"主管审核","value":"1513322741341"},{"label":"财务审核","value":"1513322743692"}]}}
 [DEBUG] 2017-12-29 10:24:23,045 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 10:24:23,048 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 10:24:23,050 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:24:23,136 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 10:24:23,137 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 10:24:23,138 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 10:24:23,276 Line:689 通过SQL读原始数据：139
 [DEBUG] 2017-12-29 10:24:23,278 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:24:23,290 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 10:24:24,830 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 10:24:24,832 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[2,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 10:24:24,833 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:24:24,849 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 11 and 21 order by row_id
 [DEBUG] 2017-12-29 10:24:24,849 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 10:24:24,850 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 10:24:24,895 Line:689 通过SQL读原始数据：46
 [DEBUG] 2017-12-29 10:24:24,917 Line:1391 整理数据：21
 [DEBUG] 2017-12-29 10:24:24,921 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 10:24:27,482 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:24:27,484 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:24:27,485 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:24:27,515 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:24:27,516 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:24:27,516 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:24:27,516 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:24:27,516 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:24:27,517 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:24:27,517 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:24:27,517 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:24:27,517 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:24:27,518 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:24:27,518 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:24:27,518 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:24:27,518 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:24:27,519 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:24:27,519 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:24:27,519 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:24:27,519 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:24:27,520 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:24:27,520 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:24:27,592 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:24:27,592 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:24:27,592 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:24:27,592 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:24:27,592 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:24:27,593 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:24:27,593 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:24:27,593 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:24:27,593 Line:689 通过SQL读原始数据：77
 [DEBUG] 2017-12-29 10:24:27,594 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:24:27,605 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:30:05,827 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:30:05,828 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:30:05,829 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:30:05,872 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:30:05,873 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:30:05,873 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:30:05,873 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:30:05,873 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:30:05,874 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:30:05,874 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:30:05,874 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:30:05,874 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:30:05,874 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:30:05,874 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:30:05,874 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:30:05,875 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:30:05,966 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:30:05,967 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:30:05,968 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:30:05,968 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:30:05,968 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:30:05,968 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:30:05,968 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:30:05,968 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:30:05,969 Line:689 通过SQL读原始数据：96
 [DEBUG] 2017-12-29 10:30:05,970 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:30:05,975 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:30:07,274 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:30:07,274 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2017-12-29 10:30:07,274 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:30:07,286 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:30:07,287 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2017-12-29 10:30:07,287 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:30:07,287 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:30:07,287 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:30:07,287 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:30:07,288 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:30:07,289 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:30:07,289 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:30:07,289 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:30:07,289 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:30:07,289 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:30:07,289 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:30:07,291 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:30:07,291 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:30:07,291 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:30:07,291 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:30:07,292 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:30:07,292 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:30:07,292 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:30:07,292 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:30:07,292 Line:689 通过SQL读原始数据：5
 [DEBUG] 2017-12-29 10:30:07,293 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:30:07,303 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:31:32,151 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:31:32,152 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:31:32,152 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:31:32,188 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:31:32,188 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:31:32,189 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:31:32,189 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:31:32,189 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:31:32,189 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:31:32,189 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:31:32,189 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:31:32,189 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:31:32,190 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:31:32,191 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:31:32,191 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:31:32,191 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:31:32,270 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:31:32,270 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:31:32,270 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:31:32,270 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:31:32,271 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:31:32,271 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:31:32,271 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:31:32,271 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:31:32,271 Line:689 通过SQL读原始数据：83
 [DEBUG] 2017-12-29 10:31:32,272 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:31:32,280 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:34:18,677 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 10:34:18,678 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 10:34:18,678 Line:243 AIOApi op=getSessEmp&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:34:18,679 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 10:34:18,689 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 10:34:18,691 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 10:34:18,692 Line:243 AIOApi op=getEnum&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:34:18,693 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 10:34:20,061 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:34:20,061 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:34:20,062 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:34:20,100 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:34:20,100 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:34:20,100 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:34:20,100 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:34:20,101 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:34:20,101 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:34:20,101 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:34:20,101 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:34:20,101 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:34:20,102 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:34:20,103 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:34:20,103 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:34:20,104 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:34:20,104 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:34:20,105 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:34:20,106 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:34:20,107 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:34:20,108 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:34:20,108 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:34:20,177 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:34:20,178 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:34:20,178 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:20,178 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:20,178 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:34:20,178 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:20,178 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:34:20,179 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:34:20,179 Line:689 通过SQL读原始数据：79
 [DEBUG] 2017-12-29 10:34:20,180 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:34:20,189 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:34:29,171 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:34:29,172 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:34:29,172 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:34:29,185 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:34:29,185 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:34:29,186 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:34:29,186 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:34:29,186 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:34:29,186 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:34:29,187 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:34:29,187 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:34:29,187 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:34:29,187 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:34:29,187 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:34:29,187 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:34:29,188 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:34:29,188 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:34:29,188 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:34:29,188 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:34:29,188 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:34:29,188 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:34:29,189 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:34:29,208 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:34:29,208 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:34:29,208 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:29,208 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:29,208 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:34:29,209 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:29,209 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:34:29,209 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:34:29,209 Line:689 通过SQL读原始数据：24
 [DEBUG] 2017-12-29 10:34:29,210 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:34:29,213 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:34:48,136 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:34:48,137 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:34:48,137 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:34:48,175 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:34:48,176 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:34:48,176 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:34:48,176 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:34:48,176 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:34:48,176 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:34:48,177 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:34:48,177 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:34:48,177 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:34:48,178 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:34:48,179 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:34:48,180 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:34:48,181 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:34:48,182 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:34:48,183 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:34:48,184 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:34:48,184 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:34:48,185 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:34:48,185 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:34:48,254 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:34:48,254 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:34:48,256 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:48,256 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:48,256 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:34:48,256 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:34:48,256 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:34:48,256 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:34:48,257 Line:689 通过SQL读原始数据：81
 [DEBUG] 2017-12-29 10:34:48,257 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:34:48,268 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:35:05,020 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:35:05,020 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:35:05,021 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:35:05,033 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:35:05,033 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:35:05,034 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:35:05,034 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:35:05,034 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:35:05,034 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:35:05,034 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:35:05,034 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:35:05,034 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:35:05,035 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:35:05,036 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:35:05,036 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:35:05,036 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:35:05,060 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:35:05,060 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:35:05,060 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:05,060 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:05,061 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:35:05,061 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:05,061 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:35:05,061 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:35:05,061 Line:689 通过SQL读原始数据：28
 [DEBUG] 2017-12-29 10:35:05,062 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:35:05,065 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:35:22,214 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:35:22,216 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:35:22,217 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:35:22,242 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:35:22,243 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:35:22,244 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:35:22,245 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:35:22,245 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:35:22,245 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:35:22,246 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:35:22,246 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:35:22,247 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:35:22,247 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:35:22,247 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:35:22,248 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:35:22,248 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:35:22,249 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:35:22,249 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:35:22,250 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:35:22,251 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:35:22,251 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:35:22,252 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:35:22,256 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:35:22,257 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:35:22,258 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:22,258 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:22,258 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:35:22,259 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:22,259 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:35:22,259 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:35:22,260 Line:689 通过SQL读原始数据：17
 [DEBUG] 2017-12-29 10:35:22,264 Line:1391 整理数据：3
 [DEBUG] 2017-12-29 10:35:22,272 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:35:33,748 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:35:33,750 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[干蒸,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:35:33,751 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:35:33,762 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:35:33,762 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:35:33,763 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:35:33,763 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:35:33,763 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:35:33,763 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:35:33,763 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:35:33,763 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:35:33,763 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:35:33,764 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:35:33,765 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:35:33,765 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:35:33,765 Line:582 ReportDataMgt.getReportData 参数18:干蒸
 [DEBUG] 2017-12-29 10:35:33,770 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:35:33,770 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:35:33,770 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:33,770 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:33,771 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:35:33,771 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:33,771 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:35:33,771 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:35:33,771 Line:689 通过SQL读原始数据：9
 [DEBUG] 2017-12-29 10:35:33,772 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:35:33,774 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","干蒸"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floa等等！
 [DEBUG] 2017-12-29 10:35:41,754 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:35:41,755 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:35:41,756 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:35:41,767 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:35:41,769 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:35:41,769 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:35:41,769 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:35:41,770 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:35:41,770 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:35:41,770 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:35:41,770 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:35:41,770 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:35:41,770 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:35:41,771 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:35:41,772 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:35:41,772 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:35:41,773 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:35:41,774 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:35:41,774 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:41,774 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:41,774 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:35:41,775 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:41,775 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:35:41,775 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:35:41,775 Line:689 通过SQL读原始数据：6
 [DEBUG] 2017-12-29 10:35:41,776 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:35:41,784 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:35:45,496 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:35:45,496 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:35:45,497 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:35:45,508 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:35:45,509 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:35:45,509 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:35:45,509 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:35:45,509 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:35:45,509 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:35:45,509 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:35:45,509 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:35:45,510 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:35:45,511 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:35:45,511 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:35:45,511 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:35:45,511 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:35:45,512 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:35:45,513 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:35:45,513 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:45,513 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:45,513 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:35:45,513 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:35:45,513 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:35:45,514 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:35:45,515 Line:689 通过SQL读原始数据：6
 [DEBUG] 2017-12-29 10:35:45,517 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 10:35:45,521 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:36:00,690 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:36:00,691 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[干蒸,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:36:00,691 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:36:00,716 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:36:00,717 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:36:00,717 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:36:00,717 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:36:00,717 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:36:00,717 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:36:00,717 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:36:00,718 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:36:00,718 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:36:00,718 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:36:00,718 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:36:00,718 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:36:00,718 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:36:00,719 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:36:00,719 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:36:00,719 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:36:00,719 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:36:00,719 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:36:00,719 Line:582 ReportDataMgt.getReportData 参数18:干蒸
 [DEBUG] 2017-12-29 10:36:00,771 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:36:00,772 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:36:00,773 Line:689 通过SQL读原始数据：56
 [DEBUG] 2017-12-29 10:36:00,773 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:36:00,775 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","干蒸"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floa等等！
 [DEBUG] 2017-12-29 10:36:03,166 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:36:03,167 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:36:03,168 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:36:03,178 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:36:03,180 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:36:03,180 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:36:03,180 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:36:03,181 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:36:03,181 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:36:03,181 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:36:03,181 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:36:03,181 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:36:03,181 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:36:03,181 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:36:03,182 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:36:03,183 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:36:03,185 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:36:03,185 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:36:03,185 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:03,185 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:03,186 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:36:03,186 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:03,186 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:36:03,186 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:36:03,186 Line:689 通过SQL读原始数据：6
 [DEBUG] 2017-12-29 10:36:03,187 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:36:03,192 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:36:16,995 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:36:16,995 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:36:16,996 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:36:17,003 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:36:17,003 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:36:17,004 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:36:17,004 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:36:17,004 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:36:17,004 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:36:17,004 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:36:17,004 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:36:17,005 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:36:17,005 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:36:17,005 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:36:17,005 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:36:17,005 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:36:17,006 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:36:17,007 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:36:17,008 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:36:17,008 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:36:17,008 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:36:17,009 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:36:17,030 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:36:17,030 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:36:17,030 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:17,030 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:17,030 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:36:17,031 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:17,031 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:36:17,031 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:36:17,031 Line:689 通过SQL读原始数据：28
 [DEBUG] 2017-12-29 10:36:17,032 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:36:17,035 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:36:20,648 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:36:20,650 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[1,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:36:20,650 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:36:20,673 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:36:20,675 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:36:20,676 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:36:20,677 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:36:20,678 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:36:20,678 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:36:20,679 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:36:20,679 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:36:20,680 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:36:20,680 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:36:20,681 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:36:20,681 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:36:20,681 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:36:20,682 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:36:20,682 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:36:20,683 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:36:20,683 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:36:20,683 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:36:20,684 Line:582 ReportDataMgt.getReportData 参数18:1
 [DEBUG] 2017-12-29 10:36:20,688 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:36:20,690 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:36:20,691 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:20,692 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:20,692 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:36:20,693 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:20,693 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:36:20,693 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:36:20,694 Line:689 通过SQL读原始数据：19
 [DEBUG] 2017-12-29 10:36:20,695 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 10:36:20,699 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","1"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","float等等！
 [DEBUG] 2017-12-29 10:36:24,635 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:36:24,636 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:36:24,636 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:36:24,647 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:36:24,647 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:36:24,647 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:36:24,648 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:36:24,648 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:36:24,648 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:36:24,648 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:36:24,648 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:36:24,648 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:36:24,648 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:36:24,649 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:36:24,650 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:36:24,650 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:36:24,651 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:36:24,652 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:36:24,653 Line:689 通过SQL读原始数据：6
 [DEBUG] 2017-12-29 10:36:24,653 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:36:24,662 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:46:14,303 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:46:14,304 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 10:46:14,304 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:46:14,350 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:46:14,350 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:46:14,351 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:46:14,351 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:46:14,351 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:46:14,351 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:46:14,351 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 10:46:14,351 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:46:14,351 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:46:14,351 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:46:14,352 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:46:14,353 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:46:14,353 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:46:14,409 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:46:14,410 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:46:14,411 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:14,412 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:14,412 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:46:14,412 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:14,412 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:46:14,412 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:46:14,413 Line:689 通过SQL读原始数据：63
 [DEBUG] 2017-12-29 10:46:14,413 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:46:14,416 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:46:20,426 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:46:20,427 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 10:46:20,427 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:46:20,438 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:46:20,438 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 10:46:20,438 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:46:20,439 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:46:20,439 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:46:20,439 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:46:20,439 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:46:20,440 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:46:20,440 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:46:20,440 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:46:20,441 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:46:20,442 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:46:20,442 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:46:20,442 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:46:20,442 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:46:20,443 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:46:20,443 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:46:20,443 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:46:20,443 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:46:20,466 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:46:20,467 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:46:20,467 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:20,467 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:20,467 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:46:20,467 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:20,467 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:46:20,468 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:46:20,468 Line:689 通过SQL读原始数据：30
 [DEBUG] 2017-12-29 10:46:20,468 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:46:20,476 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:46:21,868 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 10:46:21,870 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2017-12-29 10:46:21,871 Line:243 AIOApi op=report&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:46:21,901 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 10:46:21,901 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2017-12-29 10:46:21,902 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 10:46:21,902 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 10:46:21,903 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 10:46:21,903 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 10:46:21,903 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 10:46:21,904 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 10:46:21,904 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 10:46:21,904 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 10:46:21,905 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 10:46:21,905 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 10:46:21,906 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 10:46:21,906 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 10:46:21,907 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 10:46:21,907 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 10:46:21,908 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 10:46:21,909 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 10:46:21,910 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 10:46:21,914 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 10:46:21,915 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 10:46:21,915 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:21,916 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:21,916 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 10:46:21,917 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 10:46:21,917 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 10:46:21,917 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 10:46:21,918 Line:689 通过SQL读原始数据：17
 [DEBUG] 2017-12-29 10:46:21,919 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 10:46:21,930 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 10:47:21,189 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 10:47:21,189 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 10:47:21,190 Line:243 AIOApi op=getSessEmp&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:47:21,191 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 10:47:21,206 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 10:47:21,206 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 10:47:21,207 Line:243 AIOApi op=getEnum&sessionid=9B3BDC033FD2859374458918ACF2A72E
 [DEBUG] 2017-12-29 10:47:21,208 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 10:52:18,429 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 10:53:55,684 Line:5227 GlobalsTool.js 生成js 时间60:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-29 10:53:55,934 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 10:53:55,935 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 10:53:56,176 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514516036124
 [DEBUG] 2017-12-29 10:53:56,201 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[valpwd,];time=[1514516036124,];
 [DEBUG] 2017-12-29 10:53:56,305 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 10:53:56,306 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 10:53:57,046 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 10:53:57,047 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 10:53:57,196 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 10:53:57,197 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 10:53:57,313 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514516037305
 [DEBUG] 2017-12-29 10:53:57,313 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[valpwd,];time=[1514516037305,];
 [DEBUG] 2017-12-29 11:22:39,322 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 11:52:58,222 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 11:53:01,000 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 11:53:01,001 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 11:53:01,086 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 11:53:01,087 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 11:53:01,198 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514519581196
 [DEBUG] 2017-12-29 11:53:01,198 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514519581196,];
 [DEBUG] 2017-12-29 11:53:04,686 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514519584684
 [DEBUG] 2017-12-29 11:53:04,686 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514519584684,];
 [DEBUG] 2017-12-29 11:53:04,697 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514519584696
 [DEBUG] 2017-12-29 11:53:04,697 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514519584696,];
 [DEBUG] 2017-12-29 11:53:04,776 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-29 11:53:04,776 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 11:53:04,829 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 11:53:04,839 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 11:53:04,913 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 11:53:04,913 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 11:53:04,928 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 11:53:05,117 Line:5227 GlobalsTool.js 生成js 时间22:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-29 11:53:05,364 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 11:53:05,364 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 11:53:05,365 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 11:53:05,365 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 11:53:05,365 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 11:53:05,380 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 11:53:05,380 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 11:53:05,381 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 11:53:05,390 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 11:53:05,390 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 11:53:05,391 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 11:53:05,403 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 11:53:05,404 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 11:53:05,405 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 11:53:12,946 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 11:53:12,947 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 11:53:12,947 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-29 11:53:12,990 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-29 11:53:12,991 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-29 11:53:13,038 Line:689 通过SQL读原始数据：47
 [DEBUG] 2017-12-29 11:53:13,041 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 11:53:13,224 Line:5227 GlobalsTool.js 生成js 时间35:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-29 11:53:13,300 Line:5227 GlobalsTool.js 生成js 时间75:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 11:54:08,636 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-29 11:54:08,636 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-29 11:54:08,637 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-12-29 11:54:09,739 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-12-29 11:54:09,740 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-12-29 11:54:10,557 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2017-12-29 11:54:10,558 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-12-29 11:54:10,559 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-12-29 11:54:19,078 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-12-29 11:54:19,079 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2017-12-29 11:54:20,949 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2017-12-29 11:54:20,950 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-12-29 11:54:21,088 Line:5227 GlobalsTool.js 生成js 时间10:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 11:54:21,529 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2017-12-29 11:54:21,529 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2017-12-29 11:54:22,102 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 11:54:27,875 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2017-12-29 11:54:27,876 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2017-12-29 11:54:32,800 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2017-12-29 11:54:32,801 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2017-12-29 11:54:32,830 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=D7D8AE41342B915BBABC1F2BC2171DE4E20B8C6FE73756BA1F0404A919D9283E4DF7A7BFDC3D2E92293BC6E9B3A7D2B75622FDE4212056BC
 [DEBUG] 2017-12-29 11:54:32,841 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2017-12-29 11:55:13,695 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=D7D8AE41342B915BBABC1F2BC2171DE4E20B8C6FE73756BA1F0404A919D9283E4DF7A7BFDC3D2E92E416AF13F777750E33A3E039F5C82ECB
 [ERROR] 2017-12-29 11:55:13,760 Line:119 ------保存成功
 [DEBUG] 2017-12-29 11:55:29,201 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=D7D8AE41342B915BBABC1F2BC2171DE4E20B8C6FE73756BA1F0404A919D9283E4DF7A7BFDC3D2E9284CBA6D87DEEDDBF1E744B5FB9F213DE
 [ERROR] 2017-12-29 11:55:29,253 Line:119 ------保存成功
 [DEBUG] 2017-12-29 11:55:38,750 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 11:55:38,751 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 11:55:39,095 Line:5227 GlobalsTool.js 生成js 时间224:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 11:55:41,457 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 11:55:41,457 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 11:55:41,555 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 11:55:41,555 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 11:55:41,555 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 11:55:41,556 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 11:55:41,556 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-29 11:55:41,592 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-29'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 11:55:41,668 Line:5227 GlobalsTool.js 生成js 时间17:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-29 11:55:41,689 Line:5227 GlobalsTool.js 生成js 时间20:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 11:55:44,902 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 11:55:44,903 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 11:55:44,942 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 11:55:44,942 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 11:55:44,943 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 11:55:44,944 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 11:55:44,944 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-29 11:55:44,949 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 11:55:47,393 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-29 11:55:47,393 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-29 11:55:47,428 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 11:55:47,429 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 11:55:47,429 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-29 11:55:47,429 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-29 11:55:47,430 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 11:55:47,441 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 11:56:50,712 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 11:56:50,713 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290018,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0002,];tblBuyInStockDet_tblGoods_GoodsFullName=[流沙包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300002,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 11:56:50,715 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 11:56:50,746 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 11:56:50,747 Line:5853 1:0.0
 [DEBUG] 2017-12-29 11:56:50,747 Line:5853 2:
 [DEBUG] 2017-12-29 11:56:50,747 Line:5853 3:ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:50,747 Line:5853 4:-1
 [DEBUG] 2017-12-29 11:56:50,747 Line:5853 5:finish
 [DEBUG] 2017-12-29 11:56:50,748 Line:5853 6:0.0
 [DEBUG] 2017-12-29 11:56:50,748 Line:5853 7:0
 [DEBUG] 2017-12-29 11:56:50,749 Line:5853 8:0.0
 [DEBUG] 2017-12-29 11:56:50,749 Line:5853 9:BI1712290018
 [DEBUG] 2017-12-29 11:56:50,749 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 11:56:50,749 Line:5853 11:00003
 [DEBUG] 2017-12-29 11:56:50,750 Line:5853 12:00101
 [DEBUG] 2017-12-29 11:56:50,750 Line:5853 13:1
 [DEBUG] 2017-12-29 11:56:50,750 Line:5853 14:00001
 [DEBUG] 2017-12-29 11:56:50,750 Line:5853 15:3
 [DEBUG] 2017-12-29 11:56:50,750 Line:5853 16:0.0
 [DEBUG] 2017-12-29 11:56:50,750 Line:5853 17:0.0
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 18:0.0
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 19:0.0
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 20:
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 21:0.0
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 22:0.0
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 23:0.0
 [DEBUG] 2017-12-29 11:56:50,751 Line:5853 24:
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 25:0.0
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 26:0.0
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 27:0.0
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 28:
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 29:12
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 30:12
 [DEBUG] 2017-12-29 11:56:50,752 Line:5853 31:2017
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 32:
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 33:0.0
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 34:0.0
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 35:0.0
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 36:
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 37:
 [DEBUG] 2017-12-29 11:56:50,753 Line:5853 38:
 [DEBUG] 2017-12-29 11:56:50,754 Line:5853 39:0.0
 [DEBUG] 2017-12-29 11:56:50,754 Line:5853 40:0.0
 [DEBUG] 2017-12-29 11:56:50,754 Line:5853 41:
 [DEBUG] 2017-12-29 11:56:50,754 Line:5853 42:
 [DEBUG] 2017-12-29 11:56:50,754 Line:5853 43:100.0
 [DEBUG] 2017-12-29 11:56:50,754 Line:5853 44:0.0
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 45:0.0
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 46:
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 47:1.0
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 48:1.0
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 49:1.0
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 50:0.0
 [DEBUG] 2017-12-29 11:56:50,755 Line:5853 51:1.0
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 52:
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 53:
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 54:0.0
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 55:0.0
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 56:0.0
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 57:0
 [DEBUG] 2017-12-29 11:56:50,756 Line:5853 58:00001
 [DEBUG] 2017-12-29 11:56:50,757 Line:5853 59:0
 [DEBUG] 2017-12-29 11:56:50,757 Line:5853 60:2017-12-29 11:56:50
 [DEBUG] 2017-12-29 11:56:50,757 Line:5853 61:1
 [DEBUG] 2017-12-29 11:56:50,757 Line:5853 62:2017-12-29 11:56:50
 [DEBUG] 2017-12-29 11:56:50,757 Line:5853 63:1
 [DEBUG] 2017-12-29 11:56:50,757 Line:5853 64:2017-12-29 11:56:50
 [DEBUG] 2017-12-29 11:56:50,773 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 11:56:50,773 Line:5853 1:ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 2:ebcc3c1b_1712291156507730007
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 3:
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 4:
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 5:
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 6:
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 7:0000300002
 [DEBUG] 2017-12-29 11:56:50,774 Line:5853 8:
 [DEBUG] 2017-12-29 11:56:50,775 Line:5853 9:
 [DEBUG] 2017-12-29 11:56:50,775 Line:5853 10:
 [DEBUG] 2017-12-29 11:56:50,775 Line:5853 11:
 [DEBUG] 2017-12-29 11:56:50,775 Line:5853 12:
 [DEBUG] 2017-12-29 11:56:50,775 Line:5853 13:
 [DEBUG] 2017-12-29 11:56:50,776 Line:5853 14:
 [DEBUG] 2017-12-29 11:56:50,776 Line:5853 15:1.0
 [DEBUG] 2017-12-29 11:56:50,776 Line:5853 16:1.0
 [DEBUG] 2017-12-29 11:56:50,776 Line:5853 17:1.0
 [DEBUG] 2017-12-29 11:56:50,776 Line:5853 18:0.0
 [DEBUG] 2017-12-29 11:56:50,777 Line:5853 19:0
 [DEBUG] 2017-12-29 11:56:50,777 Line:5853 20:0.0
 [DEBUG] 2017-12-29 11:56:50,777 Line:5853 21:0.0
 [DEBUG] 2017-12-29 11:56:50,777 Line:5853 22:0.0
 [DEBUG] 2017-12-29 11:56:50,777 Line:5853 23:100.0
 [DEBUG] 2017-12-29 11:56:50,778 Line:5853 24:1.0
 [DEBUG] 2017-12-29 11:56:50,778 Line:5853 25:1.0
 [DEBUG] 2017-12-29 11:56:50,779 Line:5853 26:0.0
 [DEBUG] 2017-12-29 11:56:50,779 Line:5853 27:1.0
 [DEBUG] 2017-12-29 11:56:50,779 Line:5853 28:1.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 29:0.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 30:1.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 31:1.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 32:0.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 33:0.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 34:0.0
 [DEBUG] 2017-12-29 11:56:50,780 Line:5853 35:0.0
 [DEBUG] 2017-12-29 11:56:50,781 Line:5853 36:0.0
 [DEBUG] 2017-12-29 11:56:50,781 Line:5853 37:
 [DEBUG] 2017-12-29 11:56:50,781 Line:5853 38:0.0
 [DEBUG] 2017-12-29 11:56:50,782 Line:5853 39:0.0
 [DEBUG] 2017-12-29 11:56:50,782 Line:5853 40:0.0
 [DEBUG] 2017-12-29 11:56:50,783 Line:5853 41:0.0
 [DEBUG] 2017-12-29 11:56:50,783 Line:5853 42:0.0
 [DEBUG] 2017-12-29 11:56:50,783 Line:5853 43:0.0
 [DEBUG] 2017-12-29 11:56:50,783 Line:5853 44:0.0
 [DEBUG] 2017-12-29 11:56:50,783 Line:5853 45:0.0
 [DEBUG] 2017-12-29 11:56:50,784 Line:5853 46:0.0
 [DEBUG] 2017-12-29 11:56:50,784 Line:5853 47:0
 [DEBUG] 2017-12-29 11:56:50,784 Line:5853 48:0.0
 [DEBUG] 2017-12-29 11:56:50,784 Line:5853 49:0.0
 [DEBUG] 2017-12-29 11:56:50,784 Line:5853 50:0
 [DEBUG] 2017-12-29 11:56:50,784 Line:5853 51:
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 52:0.0
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 53:0.0
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 54:0.0
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 55:0
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 56:0
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 57:
 [DEBUG] 2017-12-29 11:56:50,785 Line:5853 58:0.0
 [DEBUG] 2017-12-29 11:56:50,786 Line:5853 59:0.0
 [DEBUG] 2017-12-29 11:56:50,786 Line:5853 60:
 [DEBUG] 2017-12-29 11:56:50,786 Line:5853 61:0.0
 [DEBUG] 2017-12-29 11:56:50,786 Line:5853 62:00001
 [DEBUG] 2017-12-29 11:56:50,997 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 11:56:51,242 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,242 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 11:56:51,245 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,246 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 11:56:51,247 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,247 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 11:56:51,248 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,248 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 11:56:51,249 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,249 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 11:56:51,250 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,250 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 11:56:51,251 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,252 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 11:56:51,252 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,253 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,253 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 11:56:51,262 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 11:56:51,263 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:56:51,264 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,264 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 11:56:51,265 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,265 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,265 Line:988 2值：00003
 [DEBUG] 2017-12-29 11:56:51,282 Line:1043 ---上述语句时间---18
 [DEBUG] 2017-12-29 11:56:51,282 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:56:51,283 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,283 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 11:56:51,284 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,284 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,284 Line:988 2值：00003
 [DEBUG] 2017-12-29 11:56:51,292 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 11:56:51,293 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:56:51,294 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,294 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 11:56:51,294 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,294 Line:988 1值：false
 [DEBUG] 2017-12-29 11:56:51,294 Line:988 2值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,305 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 11:56:51,305 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 11:56:51,305 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 11:56:51,306 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,306 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 11:56:51,306 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,307 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,312 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 11:56:51,312 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,313 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,313 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 11:56:51,313 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,314 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,317 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:56:51,318 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,319 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,319 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 11:56:51,320 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,320 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,322 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:56:51,323 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,324 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,324 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 11:56:51,324 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,324 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,328 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:56:51,329 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,330 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,330 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,333 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,333 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 11:56:51,334 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,334 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,339 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 11:56:51,339 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,340 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,340 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 11:56:51,341 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,341 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 11:56:51,342 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,342 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,344 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:56:51,345 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,346 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,346 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 11:56:51,346 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,346 Line:988 1值：1
 [DEBUG] 2017-12-29 11:56:51,347 Line:988 2值：0
 [DEBUG] 2017-12-29 11:56:51,347 Line:988 3值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,383 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 11:56:51,383 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 11:56:51,383 Line:1043 ---上述语句时间---37
 [DEBUG] 2017-12-29 11:56:51,384 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 11:56:51,386 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,386 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 11:56:51,386 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,386 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,396 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 11:56:51,397 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,398 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,400 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 11:56:51,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,400 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,404 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:56:51,404 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:56:51,405 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,405 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 11:56:51,405 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,405 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,408 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:56:51,408 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 11:56:51,409 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,409 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 11:56:51,409 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,409 Line:988 1值：
 [DEBUG] 2017-12-29 11:56:51,410 Line:988 2值：00001
 [DEBUG] 2017-12-29 11:56:51,419 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 11:56:51,419 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 11:56:51,420 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,420 Line:988 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,420 Line:988 2值：
 [DEBUG] 2017-12-29 11:56:51,420 Line:988 3值：
 [DEBUG] 2017-12-29 11:56:51,420 Line:988 4值：
 [DEBUG] 2017-12-29 11:56:51,423 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:56:51,424 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 11:56:51,425 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,425 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:56:51,426 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,426 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 11:56:51,427 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,427 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 11:56:51,427 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,428 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 11:56:51,428 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,429 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 11:56:51,429 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 11:56:51,429 Line:1157 2值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,432 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,433 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 11:56:51,433 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 11:56:51,433 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 11:56:51,433 Line:1157 2值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,433 Line:1157 3值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,440 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,440 Line:229 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 11:56:51,440 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 11:56:51,441 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,441 Line:1157 2值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,445 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,446 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 11:56:51,446 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 11:56:51,446 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,449 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,450 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 11:56:51,450 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 11:56:51,450 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,453 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,453 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 11:56:51,454 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 11:56:51,454 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,455 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 11:56:51,455 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,455 Line:1157 2值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,459 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,459 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 11:56:51,459 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 11:56:51,460 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,460 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 11:56:51,461 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,461 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 11:56:51,461 Line:1270 ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,462 Line:1270 add
 [DEBUG] 2017-12-29 11:56:51,531 Line:425 ************上述语句执行时间：70
 [DEBUG] 2017-12-29 11:56:51,532 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 11:56:51,533 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,533 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 11:56:51,533 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,542 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 11:56:51,542 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 11:56:51,542 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 11:56:51,543 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,550 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 11:56:51,551 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 11:56:51,551 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 11:56:51,552 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,552 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 11:56:51,553 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,553 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 11:56:51,554 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,588 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 11:56:51,590 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,590 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 11:56:51,590 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,591 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 11:56:51,591 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,592 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 11:56:51,592 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,593 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 11:56:51,594 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,594 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:56:51,595 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,595 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 11:56:51,595 Line:1157 1值：ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,598 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 11:56:51,598 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 11:56:51,598 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:56:51,599 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,599 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 11:56:51,600 Line:1270 ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,600 Line:1270 add
 [DEBUG] 2017-12-29 11:56:51,649 Line:425 ************上述语句执行时间：50
 [DEBUG] 2017-12-29 11:56:51,649 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 11:56:51,650 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,650 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 11:56:51,651 Line:1270 12
 [DEBUG] 2017-12-29 11:56:51,651 Line:1270 2017
 [DEBUG] 2017-12-29 11:56:51,651 Line:1270 12
 [DEBUG] 2017-12-29 11:56:51,651 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 11:56:51,651 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 11:56:51,651 Line:1270 ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 BI1712290018
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 11:56:51,652 Line:1270 1
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 1
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 2017-12-29 11:56:50
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 2017-12-29 11:56:50
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 00001
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 11:56:51,653 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 11:56:51,654 Line:1270 00003
 [DEBUG] 2017-12-29 11:56:51,654 Line:1270 1
 [DEBUG] 2017-12-29 11:56:51,654 Line:1270 00101
 [DEBUG] 2017-12-29 11:56:51,654 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 11:56:51,654 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 11:56:51,654 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 0
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 11:56:51,655 Line:1270 f_ref='ebcc3c1b_1712291156507330006'
 [DEBUG] 2017-12-29 11:56:51,842 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291156507330006','2017-12-29','BI1712290018','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 11:56:50','2017-12-29 11:56:50','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291156507330006' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 11:56:51,843 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 11:56:51,843 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 11:56:51,843 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 11:56:51,843 Line:425 ************上述语句执行时间：193
 [DEBUG] 2017-12-29 11:56:51,843 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 11:56:51,844 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,844 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:56:51,845 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,845 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 11:56:51,846 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,847 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 11:56:51,847 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 11:56:51,848 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,848 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 11:56:51,849 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,849 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 11:56:51,849 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:51,850 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 11:56:51,850 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:51,850 Line:988 1值：1
 [DEBUG] 2017-12-29 11:56:51,850 Line:988 2值：0
 [DEBUG] 2017-12-29 11:56:51,850 Line:988 3值：1
 [DEBUG] 2017-12-29 11:56:51,850 Line:988 4值：0
 [DEBUG] 2017-12-29 11:56:51,851 Line:988 5值：0
 [DEBUG] 2017-12-29 11:56:51,851 Line:988 6值：1
 [DEBUG] 2017-12-29 11:56:51,852 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 11:56:51,852 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 11:56:51,852 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 11:56:51,852 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 11:56:51,853 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 11:56:51,853 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:51,900 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 11:56:51,906 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 11:56:51,920 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,926 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,933 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,939 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,946 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,952 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,965 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:56:51,974 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 11:56:52,093 Line:434 ************上述语句执行时间：240
 [DEBUG] 2017-12-29 11:56:52,093 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 11:56:52,094 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:52,094 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 11:56:52,095 Line:1270 1ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:52,095 Line:1270 00003
 [DEBUG] 2017-12-29 11:56:52,095 Line:1270 1
 [DEBUG] 2017-12-29 11:56:52,095 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 11:56:52,095 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291156507330006@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 11:56:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 11:56:50@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290018@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 11:56:52,154 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291156507330006',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291156507330006','','1','0','1','1','2017-12-29 11:56:50','1','2017-12-29 11:56:50','00001','tblBuyInStock','BI1712290018','1','00101','0','')
 [DEBUG] 2017-12-29 11:56:52,154 Line:425 ************上述语句执行时间：60
 [DEBUG] 2017-12-29 11:56:52,154 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 11:56:52,155 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,156 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 11:56:52,157 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,157 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 11:56:52,158 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,159 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 11:56:52,160 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,161 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 11:56:52,161 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,162 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 11:56:52,162 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,162 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 11:56:52,163 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:52,163 Line:988 1值：1
 [DEBUG] 2017-12-29 11:56:52,163 Line:988 2值：0
 [DEBUG] 2017-12-29 11:56:52,163 Line:988 3值：1
 [DEBUG] 2017-12-29 11:56:52,163 Line:988 4值：0
 [DEBUG] 2017-12-29 11:56:52,163 Line:988 5值：0
 [DEBUG] 2017-12-29 11:56:52,164 Line:988 6值：0
 [DEBUG] 2017-12-29 11:56:52,166 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 11:56:52,166 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 11:56:52,166 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 11:56:52,166 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:56:52,166 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 11:56:52,167 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,168 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 11:56:52,168 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,168 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 11:56:52,169 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,169 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 11:56:52,170 Line:321 flag:false
 [DEBUG] 2017-12-29 11:56:52,170 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:56:52,170 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:52,171 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 11:56:52,171 Line:1270 ebcc3c1b_1712291156507330006
 [DEBUG] 2017-12-29 11:56:52,171 Line:1270 add
 [DEBUG] 2017-12-29 11:56:52,185 Line:425 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 11:56:52,186 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 11:56:52,186 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:56:52,187 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 11:56:52,187 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 11:56:52,187 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 11:56:52,187 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 11:56:52,187 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 11:56:52,187 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 11:56:52,188 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 11:56:52,188 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 11:56:52,188 Line:321 flag:true
 [DEBUG] 2017-12-29 11:56:52,193 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-29 11:56:52,246 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:174)
	at com.google.gson.Gson.fromJson(Gson.java:720)
	at com.google.gson.Gson.fromJson(Gson.java:686)
	at com.google.gson.Gson.fromJson(Gson.java:636)
	at com.google.gson.Gson.fromJson(Gson.java:608)
	at tzhive.HiveServlet.optHive(HiveServlet.java:81)
	... 50 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:331)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:314)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
	... 55 more
[ERROR] 2017-12-29 11:56:52,248 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
 [DEBUG] 2017-12-29 11:57:52,939 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 11:57:52,941 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290018,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0002,];tblBuyInStockDet_tblGoods_GoodsFullName=[流沙包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300002,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 11:57:52,943 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 11:57:52,957 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 11:57:52,958 Line:5853 1:0.0
 [DEBUG] 2017-12-29 11:57:52,958 Line:5853 2:
 [DEBUG] 2017-12-29 11:57:52,958 Line:5853 3:ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:52,958 Line:5853 4:-1
 [DEBUG] 2017-12-29 11:57:52,958 Line:5853 5:finish
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 6:0.0
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 7:0
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 8:0.0
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 9:BI1712290018
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 11:00003
 [DEBUG] 2017-12-29 11:57:52,959 Line:5853 12:00101
 [DEBUG] 2017-12-29 11:57:52,960 Line:5853 13:1
 [DEBUG] 2017-12-29 11:57:52,960 Line:5853 14:00001
 [DEBUG] 2017-12-29 11:57:52,960 Line:5853 15:3
 [DEBUG] 2017-12-29 11:57:52,960 Line:5853 16:0.0
 [DEBUG] 2017-12-29 11:57:52,960 Line:5853 17:0.0
 [DEBUG] 2017-12-29 11:57:52,960 Line:5853 18:0.0
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 19:0.0
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 20:
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 21:0.0
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 22:0.0
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 23:0.0
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 24:
 [DEBUG] 2017-12-29 11:57:52,961 Line:5853 25:0.0
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 26:0.0
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 27:0.0
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 28:
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 29:12
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 30:12
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 31:2017
 [DEBUG] 2017-12-29 11:57:52,962 Line:5853 32:
 [DEBUG] 2017-12-29 11:57:52,963 Line:5853 33:0.0
 [DEBUG] 2017-12-29 11:57:52,963 Line:5853 34:0.0
 [DEBUG] 2017-12-29 11:57:52,963 Line:5853 35:0.0
 [DEBUG] 2017-12-29 11:57:52,963 Line:5853 36:
 [DEBUG] 2017-12-29 11:57:52,963 Line:5853 37:
 [DEBUG] 2017-12-29 11:57:52,963 Line:5853 38:
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 39:0.0
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 40:0.0
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 41:
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 42:
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 43:100.0
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 44:0.0
 [DEBUG] 2017-12-29 11:57:52,964 Line:5853 45:0.0
 [DEBUG] 2017-12-29 11:57:52,965 Line:5853 46:
 [DEBUG] 2017-12-29 11:57:52,965 Line:5853 47:1.0
 [DEBUG] 2017-12-29 11:57:52,965 Line:5853 48:1.0
 [DEBUG] 2017-12-29 11:57:52,965 Line:5853 49:1.0
 [DEBUG] 2017-12-29 11:57:52,965 Line:5853 50:0.0
 [DEBUG] 2017-12-29 11:57:52,966 Line:5853 51:1.0
 [DEBUG] 2017-12-29 11:57:52,966 Line:5853 52:
 [DEBUG] 2017-12-29 11:57:52,967 Line:5853 53:
 [DEBUG] 2017-12-29 11:57:52,967 Line:5853 54:0.0
 [DEBUG] 2017-12-29 11:57:52,967 Line:5853 55:0.0
 [DEBUG] 2017-12-29 11:57:52,967 Line:5853 56:0.0
 [DEBUG] 2017-12-29 11:57:52,967 Line:5853 57:0
 [DEBUG] 2017-12-29 11:57:52,967 Line:5853 58:00001
 [DEBUG] 2017-12-29 11:57:52,968 Line:5853 59:0
 [DEBUG] 2017-12-29 11:57:52,968 Line:5853 60:2017-12-29 11:57:52
 [DEBUG] 2017-12-29 11:57:52,968 Line:5853 61:1
 [DEBUG] 2017-12-29 11:57:52,968 Line:5853 62:2017-12-29 11:57:52
 [DEBUG] 2017-12-29 11:57:52,968 Line:5853 63:1
 [DEBUG] 2017-12-29 11:57:52,968 Line:5853 64:2017-12-29 11:57:52
 [DEBUG] 2017-12-29 11:57:52,973 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 11:57:52,974 Line:5853 1:ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:52,974 Line:5853 2:ebcc3c1b_1712291157529730011
 [DEBUG] 2017-12-29 11:57:52,974 Line:5853 3:
 [DEBUG] 2017-12-29 11:57:52,974 Line:5853 4:
 [DEBUG] 2017-12-29 11:57:52,974 Line:5853 5:
 [DEBUG] 2017-12-29 11:57:52,975 Line:5853 6:
 [DEBUG] 2017-12-29 11:57:52,975 Line:5853 7:0000300002
 [DEBUG] 2017-12-29 11:57:52,975 Line:5853 8:
 [DEBUG] 2017-12-29 11:57:52,975 Line:5853 9:
 [DEBUG] 2017-12-29 11:57:52,975 Line:5853 10:
 [DEBUG] 2017-12-29 11:57:52,975 Line:5853 11:
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 12:
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 13:
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 14:
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 15:1.0
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 16:1.0
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 17:1.0
 [DEBUG] 2017-12-29 11:57:52,976 Line:5853 18:0.0
 [DEBUG] 2017-12-29 11:57:52,977 Line:5853 19:0
 [DEBUG] 2017-12-29 11:57:52,977 Line:5853 20:0.0
 [DEBUG] 2017-12-29 11:57:52,977 Line:5853 21:0.0
 [DEBUG] 2017-12-29 11:57:52,977 Line:5853 22:0.0
 [DEBUG] 2017-12-29 11:57:52,977 Line:5853 23:100.0
 [DEBUG] 2017-12-29 11:57:52,977 Line:5853 24:1.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 25:1.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 26:0.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 27:1.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 28:1.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 29:0.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 30:1.0
 [DEBUG] 2017-12-29 11:57:52,978 Line:5853 31:1.0
 [DEBUG] 2017-12-29 11:57:52,979 Line:5853 32:0.0
 [DEBUG] 2017-12-29 11:57:52,979 Line:5853 33:0.0
 [DEBUG] 2017-12-29 11:57:52,979 Line:5853 34:0.0
 [DEBUG] 2017-12-29 11:57:52,979 Line:5853 35:0.0
 [DEBUG] 2017-12-29 11:57:52,979 Line:5853 36:0.0
 [DEBUG] 2017-12-29 11:57:52,979 Line:5853 37:
 [DEBUG] 2017-12-29 11:57:52,980 Line:5853 38:0.0
 [DEBUG] 2017-12-29 11:57:52,980 Line:5853 39:0.0
 [DEBUG] 2017-12-29 11:57:52,980 Line:5853 40:0.0
 [DEBUG] 2017-12-29 11:57:52,980 Line:5853 41:0.0
 [DEBUG] 2017-12-29 11:57:52,980 Line:5853 42:0.0
 [DEBUG] 2017-12-29 11:57:52,981 Line:5853 43:0.0
 [DEBUG] 2017-12-29 11:57:52,981 Line:5853 44:0.0
 [DEBUG] 2017-12-29 11:57:52,981 Line:5853 45:0.0
 [DEBUG] 2017-12-29 11:57:52,981 Line:5853 46:0.0
 [DEBUG] 2017-12-29 11:57:52,981 Line:5853 47:0
 [DEBUG] 2017-12-29 11:57:52,982 Line:5853 48:0.0
 [DEBUG] 2017-12-29 11:57:52,982 Line:5853 49:0.0
 [DEBUG] 2017-12-29 11:57:52,982 Line:5853 50:0
 [DEBUG] 2017-12-29 11:57:52,982 Line:5853 51:
 [DEBUG] 2017-12-29 11:57:52,982 Line:5853 52:0.0
 [DEBUG] 2017-12-29 11:57:52,982 Line:5853 53:0.0
 [DEBUG] 2017-12-29 11:57:52,983 Line:5853 54:0.0
 [DEBUG] 2017-12-29 11:57:52,983 Line:5853 55:0
 [DEBUG] 2017-12-29 11:57:52,983 Line:5853 56:0
 [DEBUG] 2017-12-29 11:57:52,983 Line:5853 57:
 [DEBUG] 2017-12-29 11:57:52,983 Line:5853 58:0.0
 [DEBUG] 2017-12-29 11:57:52,983 Line:5853 59:0.0
 [DEBUG] 2017-12-29 11:57:52,984 Line:5853 60:
 [DEBUG] 2017-12-29 11:57:52,984 Line:5853 61:0.0
 [DEBUG] 2017-12-29 11:57:52,984 Line:5853 62:00001
 [DEBUG] 2017-12-29 11:57:52,995 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 11:57:53,000 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,000 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 11:57:53,002 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,003 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 11:57:53,004 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,004 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 11:57:53,005 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,005 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 11:57:53,006 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,007 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 11:57:53,008 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,008 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 11:57:53,009 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,010 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 11:57:53,011 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,011 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,011 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 11:57:53,019 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 11:57:53,019 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:57:53,020 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,020 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 11:57:53,021 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,021 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,021 Line:988 2值：00003
 [DEBUG] 2017-12-29 11:57:53,035 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-12-29 11:57:53,036 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:57:53,036 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,037 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 11:57:53,037 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,037 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,037 Line:988 2值：00003
 [DEBUG] 2017-12-29 11:57:53,047 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 11:57:53,047 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:57:53,048 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,048 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 11:57:53,049 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,049 Line:988 1值：false
 [DEBUG] 2017-12-29 11:57:53,049 Line:988 2值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,060 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 11:57:53,061 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-12-29 11:57:53,061 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 11:57:53,062 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,062 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 11:57:53,063 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,063 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,069 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 11:57:53,069 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,070 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,070 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 11:57:53,072 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,072 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,076 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 11:57:53,076 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,077 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,078 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 11:57:53,078 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,078 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,081 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:57:53,082 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,083 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,083 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 11:57:53,083 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,083 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,088 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 11:57:53,089 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,090 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,090 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,091 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,091 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 11:57:53,091 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,091 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,095 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:57:53,095 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,096 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,096 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 11:57:53,097 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,097 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 11:57:53,097 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,097 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,100 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:57:53,100 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,101 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,101 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 11:57:53,101 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,102 Line:988 1值：1
 [DEBUG] 2017-12-29 11:57:53,102 Line:988 2值：0
 [DEBUG] 2017-12-29 11:57:53,102 Line:988 3值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,135 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 11:57:53,135 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 11:57:53,135 Line:1043 ---上述语句时间---34
 [DEBUG] 2017-12-29 11:57:53,136 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 11:57:53,136 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,137 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 11:57:53,137 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,137 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,147 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 11:57:53,148 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,148 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,150 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 11:57:53,150 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,150 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,153 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 11:57:53,154 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 11:57:53,155 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,155 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 11:57:53,156 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,156 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,160 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 11:57:53,160 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 11:57:53,161 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,161 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 11:57:53,161 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,162 Line:988 1值：
 [DEBUG] 2017-12-29 11:57:53,162 Line:988 2值：00001
 [DEBUG] 2017-12-29 11:57:53,171 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 11:57:53,171 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 11:57:53,171 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,172 Line:988 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,172 Line:988 2值：
 [DEBUG] 2017-12-29 11:57:53,172 Line:988 3值：
 [DEBUG] 2017-12-29 11:57:53,172 Line:988 4值：
 [DEBUG] 2017-12-29 11:57:53,176 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 11:57:53,177 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 11:57:53,180 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,180 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 11:57:53,181 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,182 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 11:57:53,184 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,184 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 11:57:53,185 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,185 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 11:57:53,186 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,187 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 11:57:53,187 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 11:57:53,187 Line:1157 2值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,190 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,191 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 11:57:53,191 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 11:57:53,191 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 11:57:53,192 Line:1157 2值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,192 Line:1157 3值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,196 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,197 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 11:57:53,197 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 11:57:53,198 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,198 Line:1157 2值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,203 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,203 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 11:57:53,203 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 11:57:53,204 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,207 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,207 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 11:57:53,207 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 11:57:53,207 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,211 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,212 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 11:57:53,212 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 11:57:53,213 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,213 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 11:57:53,213 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,213 Line:1157 2值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,217 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,217 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 11:57:53,217 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 11:57:53,218 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,218 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 11:57:53,219 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,219 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 11:57:53,219 Line:1270 ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,220 Line:1270 add
 [DEBUG] 2017-12-29 11:57:53,292 Line:425 ************上述语句执行时间：73
 [DEBUG] 2017-12-29 11:57:53,292 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 11:57:53,293 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,293 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 11:57:53,293 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,307 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 11:57:53,307 Line:408 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 11:57:53,307 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 11:57:53,308 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,317 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 11:57:53,317 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 11:57:53,317 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 11:57:53,318 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,318 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 11:57:53,319 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,319 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 11:57:53,319 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,339 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 11:57:53,340 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,340 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 11:57:53,341 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,341 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 11:57:53,342 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,343 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 11:57:53,343 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,344 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 11:57:53,344 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,345 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:57:53,345 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,346 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 11:57:53,346 Line:1157 1值：ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,348 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 11:57:53,349 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 11:57:53,349 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:57:53,350 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,350 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 11:57:53,350 Line:1270 ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,350 Line:1270 add
 [DEBUG] 2017-12-29 11:57:53,398 Line:425 ************上述语句执行时间：48
 [DEBUG] 2017-12-29 11:57:53,398 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 11:57:53,399 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,400 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 11:57:53,400 Line:1270 12
 [DEBUG] 2017-12-29 11:57:53,400 Line:1270 2017
 [DEBUG] 2017-12-29 11:57:53,400 Line:1270 12
 [DEBUG] 2017-12-29 11:57:53,400 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 11:57:53,401 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 11:57:53,401 Line:1270 ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,401 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 11:57:53,401 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 11:57:53,401 Line:1270 BI1712290018
 [DEBUG] 2017-12-29 11:57:53,401 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 11:57:53,402 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 11:57:53,402 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 11:57:53,402 Line:1270 1
 [DEBUG] 2017-12-29 11:57:53,402 Line:1270 1
 [DEBUG] 2017-12-29 11:57:53,402 Line:1270 2017-12-29 11:57:52
 [DEBUG] 2017-12-29 11:57:53,402 Line:1270 2017-12-29 11:57:52
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 00001
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 00003
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 1
 [DEBUG] 2017-12-29 11:57:53,403 Line:1270 00101
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 0
 [DEBUG] 2017-12-29 11:57:53,404 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 11:57:53,405 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 11:57:53,405 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 11:57:53,405 Line:1270 f_ref='ebcc3c1b_1712291157529450010'
 [DEBUG] 2017-12-29 11:57:53,585 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291157529450010','2017-12-29','BI1712290018','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 11:57:52','2017-12-29 11:57:52','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291157529450010' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 11:57:53,585 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 11:57:53,585 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 11:57:53,586 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 11:57:53,586 Line:425 ************上述语句执行时间：186
 [DEBUG] 2017-12-29 11:57:53,586 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 11:57:53,587 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,587 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:57:53,587 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,588 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 11:57:53,588 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,589 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 11:57:53,590 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 11:57:53,590 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,591 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 11:57:53,591 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,591 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 11:57:53,592 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,592 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 11:57:53,592 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,593 Line:988 1值：1
 [DEBUG] 2017-12-29 11:57:53,593 Line:988 2值：0
 [DEBUG] 2017-12-29 11:57:53,593 Line:988 3值：1
 [DEBUG] 2017-12-29 11:57:53,593 Line:988 4值：0
 [DEBUG] 2017-12-29 11:57:53,593 Line:988 5值：0
 [DEBUG] 2017-12-29 11:57:53,593 Line:988 6值：1
 [DEBUG] 2017-12-29 11:57:53,594 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 11:57:53,594 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 11:57:53,595 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 11:57:53,595 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:57:53,595 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 11:57:53,596 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,608 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 11:57:53,614 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 11:57:53,627 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,633 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,639 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,645 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,652 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,659 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,672 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 11:57:53,680 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 11:57:53,788 Line:434 ************上述语句执行时间：187
 [DEBUG] 2017-12-29 11:57:53,788 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 11:57:53,791 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,792 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 11:57:53,792 Line:1270 1ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,792 Line:1270 00003
 [DEBUG] 2017-12-29 11:57:53,792 Line:1270 1
 [DEBUG] 2017-12-29 11:57:53,792 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 11:57:53,793 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291157529450010@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 11:57:52@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 11:57:52@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290018@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 11:57:53,847 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291157529450010',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291157529450010','','1','0','1','1','2017-12-29 11:57:52','1','2017-12-29 11:57:52','00001','tblBuyInStock','BI1712290018','1','00101','0','')
 [DEBUG] 2017-12-29 11:57:53,847 Line:425 ************上述语句执行时间：55
 [DEBUG] 2017-12-29 11:57:53,848 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 11:57:53,848 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,849 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 11:57:53,850 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,851 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 11:57:53,851 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,852 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 11:57:53,852 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,852 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 11:57:53,853 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,853 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 11:57:53,854 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,854 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 11:57:53,854 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,854 Line:988 1值：1
 [DEBUG] 2017-12-29 11:57:53,854 Line:988 2值：0
 [DEBUG] 2017-12-29 11:57:53,855 Line:988 3值：1
 [DEBUG] 2017-12-29 11:57:53,855 Line:988 4值：0
 [DEBUG] 2017-12-29 11:57:53,855 Line:988 5值：0
 [DEBUG] 2017-12-29 11:57:53,855 Line:988 6值：0
 [DEBUG] 2017-12-29 11:57:53,856 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 11:57:53,856 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 11:57:53,857 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 11:57:53,857 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 11:57:53,857 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 11:57:53,858 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,858 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 11:57:53,859 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,859 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 11:57:53,859 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,860 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 11:57:53,860 Line:321 flag:false
 [DEBUG] 2017-12-29 11:57:53,860 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 11:57:53,861 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,861 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 11:57:53,861 Line:1270 ebcc3c1b_1712291157529450010
 [DEBUG] 2017-12-29 11:57:53,861 Line:1270 add
 [DEBUG] 2017-12-29 11:57:53,870 Line:425 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 11:57:53,870 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 11:57:53,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 11:57:53,871 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 11:57:53,872 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 11:57:53,872 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 11:57:53,872 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 11:57:53,872 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 11:57:53,872 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 11:57:53,872 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 11:57:53,873 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 11:57:53,873 Line:321 flag:true
 [DEBUG] 2017-12-29 11:57:53,874 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-29 11:58:09,861 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:174)
	at com.google.gson.Gson.fromJson(Gson.java:720)
	at com.google.gson.Gson.fromJson(Gson.java:686)
	at com.google.gson.Gson.fromJson(Gson.java:636)
	at com.google.gson.Gson.fromJson(Gson.java:608)
	at tzhive.HiveServlet.optHive(HiveServlet.java:81)
	... 50 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:331)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:314)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
	... 55 more
[ERROR] 2017-12-29 11:58:09,863 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
 [DEBUG] 2017-12-29 12:23:16,978 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 13:37:46,819 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 14:08:08,786 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 14:09:37,071 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:09:37,073 Line:146 BaseAction.execute 操作人:;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290018,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0002,];tblBuyInStockDet_tblGoods_GoodsFullName=[流沙包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300002,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:09:39,698 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 14:09:39,700 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-29 14:09:39,701 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-29 14:09:39,808 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 14:09:39,809 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 14:09:39,836 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 14:09:39,838 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 14:09:39,983 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514527779982
 [DEBUG] 2017-12-29 14:09:39,984 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514527779982,];
 [DEBUG] 2017-12-29 14:09:48,852 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514527788851
 [DEBUG] 2017-12-29 14:09:48,853 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514527788851,];
 [DEBUG] 2017-12-29 14:09:48,856 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514527788855
 [DEBUG] 2017-12-29 14:09:48,857 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514527788855,];
 [DEBUG] 2017-12-29 14:09:48,866 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-29 14:09:48,866 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 14:09:48,922 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 14:09:48,932 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 14:09:48,990 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 14:09:48,990 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 14:09:48,991 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:09:49,118 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 14:09:49,119 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 14:09:49,132 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 14:09:49,133 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:09:49,133 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:09:49,144 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 14:09:49,144 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:09:49,145 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:09:49,153 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 14:09:49,154 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:09:49,155 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:09:49,162 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 14:09:49,162 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:09:49,163 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:10:00,039 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 14:10:00,040 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 14:10:00,040 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-29 14:10:00,094 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-29 14:10:00,095 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-29 14:10:00,138 Line:689 通过SQL读原始数据：43
 [DEBUG] 2017-12-29 14:10:00,143 Line:1391 整理数据：5
 [DEBUG] 2017-12-29 14:10:02,468 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:10:02,469 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:10:03,998 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 14:10:03,999 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 14:10:04,029 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:10:04,029 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:10:04,031 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-29 14:10:04,031 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:10:04,032 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:10:04,042 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-29'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:10:06,517 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 14:10:06,518 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 14:10:06,546 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:10:06,546 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:10:06,548 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:10:06,549 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:10:06,550 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-29 14:10:06,552 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:10:09,081 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-29 14:10:09,082 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-29 14:10:09,113 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:10:09,113 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:10:09,114 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:10:09,114 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:10:09,115 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-29 14:10:09,124 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:10:18,438 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:10:18,439 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:10:18,441 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:10:18,448 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 2:
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 3:ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:10:18,449 Line:5853 7:0
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 9:BI1712290019
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 13:1
 [DEBUG] 2017-12-29 14:10:18,450 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:10:18,451 Line:5853 15:3
 [DEBUG] 2017-12-29 14:10:18,451 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:10:18,451 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:10:18,451 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:10:18,451 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:10:18,452 Line:5853 20:
 [DEBUG] 2017-12-29 14:10:18,452 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:10:18,452 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:10:18,453 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:10:18,453 Line:5853 24:
 [DEBUG] 2017-12-29 14:10:18,453 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:10:18,453 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 28:
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 29:12
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 30:12
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 32:
 [DEBUG] 2017-12-29 14:10:18,454 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 36:
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 37:
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 38:
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:10:18,455 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:10:18,456 Line:5853 41:
 [DEBUG] 2017-12-29 14:10:18,456 Line:5853 42:
 [DEBUG] 2017-12-29 14:10:18,456 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:10:18,456 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:10:18,456 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:10:18,461 Line:5853 46:
 [DEBUG] 2017-12-29 14:10:18,461 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:10:18,462 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:10:18,462 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:10:18,462 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:10:18,462 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:10:18,462 Line:5853 52:
 [DEBUG] 2017-12-29 14:10:18,462 Line:5853 53:
 [DEBUG] 2017-12-29 14:10:18,463 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:10:18,463 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:10:18,463 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:10:18,463 Line:5853 57:0
 [DEBUG] 2017-12-29 14:10:18,463 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:10:18,463 Line:5853 59:0
 [DEBUG] 2017-12-29 14:10:18,464 Line:5853 60:2017-12-29 14:10:18
 [DEBUG] 2017-12-29 14:10:18,464 Line:5853 61:1
 [DEBUG] 2017-12-29 14:10:18,464 Line:5853 62:2017-12-29 14:10:18
 [DEBUG] 2017-12-29 14:10:18,464 Line:5853 63:1
 [DEBUG] 2017-12-29 14:10:18,464 Line:5853 64:2017-12-29 14:10:18
 [DEBUG] 2017-12-29 14:10:18,469 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:10:18,470 Line:5853 1:ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,470 Line:5853 2:ebcc3c1b_1712291410184690016
 [DEBUG] 2017-12-29 14:10:18,470 Line:5853 3:
 [DEBUG] 2017-12-29 14:10:18,470 Line:5853 4:
 [DEBUG] 2017-12-29 14:10:18,470 Line:5853 5:
 [DEBUG] 2017-12-29 14:10:18,470 Line:5853 6:
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 8:
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 9:
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 10:
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 11:
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 12:
 [DEBUG] 2017-12-29 14:10:18,471 Line:5853 13:
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 14:
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 19:0
 [DEBUG] 2017-12-29 14:10:18,472 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:10:18,473 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:10:18,474 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:10:18,474 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:10:18,474 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:10:18,474 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:10:18,474 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:10:18,474 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 37:
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:10:18,475 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:10:18,476 Line:5853 47:0
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 50:0
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 51:
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:10:18,477 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:10:18,478 Line:5853 55:0
 [DEBUG] 2017-12-29 14:10:18,478 Line:5853 56:0
 [DEBUG] 2017-12-29 14:10:18,478 Line:5853 57:
 [DEBUG] 2017-12-29 14:10:18,478 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:10:18,478 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:10:18,478 Line:5853 60:
 [DEBUG] 2017-12-29 14:10:18,479 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:10:18,479 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:10:18,487 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:10:18,491 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,491 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:10:18,492 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,492 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:10:18,494 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,494 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:10:18,494 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,494 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:10:18,495 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,496 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:10:18,497 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,497 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:10:18,498 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,498 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:10:18,499 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,499 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,499 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:10:18,503 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:10:18,504 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:10:18,505 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,505 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:10:18,505 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,506 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,507 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:10:18,512 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:10:18,512 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:10:18,513 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,513 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:10:18,514 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,514 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,514 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:10:18,528 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-12-29 14:10:18,528 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:10:18,529 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,529 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:10:18,530 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,530 Line:988 1值：false
 [DEBUG] 2017-12-29 14:10:18,530 Line:988 2值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,537 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:10:18,538 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:10:18,538 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:10:18,539 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,539 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:10:18,540 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,540 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,547 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:10:18,547 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,548 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,548 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:10:18,549 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,549 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,553 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:10:18,553 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,554 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,555 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:10:18,555 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,555 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,561 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:10:18,562 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,563 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,563 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:10:18,563 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,563 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,569 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:10:18,571 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,572 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,572 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,574 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,574 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:10:18,574 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,575 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,579 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:10:18,579 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,580 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,580 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:10:18,581 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,582 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:10:18,582 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,582 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,585 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:10:18,586 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,587 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,587 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:10:18,588 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,588 Line:988 1值：1
 [DEBUG] 2017-12-29 14:10:18,588 Line:988 2值：0
 [DEBUG] 2017-12-29 14:10:18,589 Line:988 3值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,614 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:10:18,614 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:10:18,615 Line:1043 ---上述语句时间---28
 [DEBUG] 2017-12-29 14:10:18,615 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:10:18,616 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,616 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:10:18,616 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,616 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,631 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-12-29 14:10:18,631 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,632 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,633 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:10:18,633 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,633 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,636 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:10:18,637 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:10:18,638 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,638 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:10:18,638 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,639 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,641 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:10:18,642 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:10:18,643 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,643 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:10:18,643 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,643 Line:988 1值：
 [DEBUG] 2017-12-29 14:10:18,643 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:10:18,647 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:10:18,647 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:10:18,647 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:18,647 Line:988 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,648 Line:988 2值：
 [DEBUG] 2017-12-29 14:10:18,648 Line:988 3值：
 [DEBUG] 2017-12-29 14:10:18,648 Line:988 4值：
 [DEBUG] 2017-12-29 14:10:18,651 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:10:18,652 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:10:18,653 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,653 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:10:18,654 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,654 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:10:18,655 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,656 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:10:18,656 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,657 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:10:18,657 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,658 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:10:18,658 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:10:18,659 Line:1157 2值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,663 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,664 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:10:18,664 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:10:18,664 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:10:18,664 Line:1157 2值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,665 Line:1157 3值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,672 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,673 Line:229 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:10:18,673 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:10:18,673 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,674 Line:1157 2值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,681 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,682 Line:229 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:10:18,682 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:10:18,682 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,686 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,687 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:10:18,687 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:10:18,688 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,691 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,692 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:10:18,692 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:10:18,693 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,694 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:10:18,694 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,694 Line:1157 2值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,698 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,698 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:10:18,698 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:10:18,699 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,699 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:10:18,700 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,700 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:10:18,700 Line:1270 ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,701 Line:1270 add
 [DEBUG] 2017-12-29 14:10:18,783 Line:425 ************上述语句执行时间：83
 [DEBUG] 2017-12-29 14:10:18,784 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:10:18,785 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,785 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:10:18,785 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,797 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:10:18,798 Line:408 ************上述语句执行时间：13
 [DEBUG] 2017-12-29 14:10:18,798 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:10:18,798 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,807 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:10:18,807 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:10:18,807 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:10:18,808 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,808 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:10:18,809 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,809 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:10:18,810 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,820 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:10:18,821 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,822 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:10:18,823 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,823 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:10:18,824 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,824 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:10:18,825 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,825 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:10:18,825 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:18,825 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:10:18,826 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,826 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:10:18,826 Line:1157 1值：ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,828 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:10:18,829 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:10:18,829 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:10:18,830 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,830 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:10:18,830 Line:1270 ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,830 Line:1270 add
 [DEBUG] 2017-12-29 14:10:18,879 Line:425 ************上述语句执行时间：49
 [DEBUG] 2017-12-29 14:10:18,879 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:10:18,880 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:18,880 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:10:18,880 Line:1270 12
 [DEBUG] 2017-12-29 14:10:18,881 Line:1270 2017
 [DEBUG] 2017-12-29 14:10:18,881 Line:1270 12
 [DEBUG] 2017-12-29 14:10:18,881 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:10:18,881 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:10:18,881 Line:1270 ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:18,881 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 1
 [DEBUG] 2017-12-29 14:10:18,882 Line:1270 1
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 2017-12-29 14:10:18
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 2017-12-29 14:10:18
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 00001
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:10:18,883 Line:1270 00003
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 1
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 00101
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:10:18,884 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:10:18,885 Line:1270 0
 [DEBUG] 2017-12-29 14:10:18,885 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:10:18,885 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:10:18,886 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:10:18,886 Line:1270 f_ref='ebcc3c1b_1712291410184440015'
 [DEBUG] 2017-12-29 14:10:19,062 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291410184440015','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:10:18','2017-12-29 14:10:18','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291410184440015' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:10:19,062 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:10:19,062 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:10:19,063 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:10:19,063 Line:425 ************上述语句执行时间：183
 [DEBUG] 2017-12-29 14:10:19,063 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:10:19,064 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,064 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:10:19,064 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:19,065 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:10:19,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:19,066 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:10:19,067 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:10:19,067 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,068 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:10:19,068 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,069 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:10:19,070 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,070 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:10:19,070 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:19,071 Line:988 1值：1
 [DEBUG] 2017-12-29 14:10:19,071 Line:988 2值：0
 [DEBUG] 2017-12-29 14:10:19,071 Line:988 3值：1
 [DEBUG] 2017-12-29 14:10:19,071 Line:988 4值：0
 [DEBUG] 2017-12-29 14:10:19,071 Line:988 5值：0
 [DEBUG] 2017-12-29 14:10:19,072 Line:988 6值：1
 [DEBUG] 2017-12-29 14:10:19,072 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:10:19,073 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:10:19,073 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:10:19,073 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:10:19,073 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:10:19,074 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:19,080 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:10:19,083 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:10:19,094 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,100 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,107 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,113 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,121 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,127 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,138 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:10:19,146 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:10:19,256 Line:434 ************上述语句执行时间：182
 [DEBUG] 2017-12-29 14:10:19,256 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:10:19,257 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:19,257 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:10:19,258 Line:1270 1ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:19,258 Line:1270 00003
 [DEBUG] 2017-12-29 14:10:19,258 Line:1270 1
 [DEBUG] 2017-12-29 14:10:19,258 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:10:19,258 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291410184440015@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:10:18@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:10:18@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:10:19,310 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291410184440015',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291410184440015','','1','0','1','1','2017-12-29 14:10:18','1','2017-12-29 14:10:18','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:10:19,310 Line:425 ************上述语句执行时间：53
 [DEBUG] 2017-12-29 14:10:19,310 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:10:19,311 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,311 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:10:19,312 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,312 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:10:19,313 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,313 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:10:19,314 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,314 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:10:19,314 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,315 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:10:19,315 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,316 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:10:19,316 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:19,316 Line:988 1值：1
 [DEBUG] 2017-12-29 14:10:19,316 Line:988 2值：0
 [DEBUG] 2017-12-29 14:10:19,316 Line:988 3值：1
 [DEBUG] 2017-12-29 14:10:19,316 Line:988 4值：0
 [DEBUG] 2017-12-29 14:10:19,316 Line:988 5值：0
 [DEBUG] 2017-12-29 14:10:19,317 Line:988 6值：0
 [DEBUG] 2017-12-29 14:10:19,318 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:10:19,318 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:10:19,318 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:10:19,318 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:10:19,318 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:10:19,319 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,320 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:10:19,321 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,321 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:10:19,322 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,322 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:10:19,323 Line:321 flag:false
 [DEBUG] 2017-12-29 14:10:19,323 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:10:19,324 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:19,324 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:10:19,324 Line:1270 ebcc3c1b_1712291410184440015
 [DEBUG] 2017-12-29 14:10:19,324 Line:1270 add
 [DEBUG] 2017-12-29 14:10:19,332 Line:425 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:10:19,332 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:10:19,333 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:10:19,335 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:10:19,336 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:10:19,337 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:10:19,337 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:10:19,337 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:10:19,337 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:10:19,337 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:10:19,338 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:10:19,339 Line:321 flag:true
 [DEBUG] 2017-12-29 14:10:19,339 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-29 14:10:34,565 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:174)
	at com.google.gson.Gson.fromJson(Gson.java:720)
	at com.google.gson.Gson.fromJson(Gson.java:686)
	at com.google.gson.Gson.fromJson(Gson.java:636)
	at com.google.gson.Gson.fromJson(Gson.java:608)
	at tzhive.HiveServlet.optHive(HiveServlet.java:71)
	... 50 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:331)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:314)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
	... 55 more
[ERROR] 2017-12-29 14:10:34,566 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
 [DEBUG] 2017-12-29 14:11:31,795 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:11:31,798 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:11:31,799 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:11:31,806 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:11:31,807 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:11:31,807 Line:5853 2:
 [DEBUG] 2017-12-29 14:11:31,807 Line:5853 3:ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,807 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:11:31,807 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:11:31,808 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:11:31,809 Line:5853 7:0
 [DEBUG] 2017-12-29 14:11:31,809 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:11:31,809 Line:5853 9:BI1712290019
 [DEBUG] 2017-12-29 14:11:31,809 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:11:31,809 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 13:1
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 15:3
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:11:31,810 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:11:31,811 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:11:31,811 Line:5853 20:
 [DEBUG] 2017-12-29 14:11:31,811 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:11:31,811 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:11:31,811 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:11:31,811 Line:5853 24:
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 28:
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 29:12
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 30:12
 [DEBUG] 2017-12-29 14:11:31,812 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 32:
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 36:
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 37:
 [DEBUG] 2017-12-29 14:11:31,813 Line:5853 38:
 [DEBUG] 2017-12-29 14:11:31,814 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:11:31,814 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:11:31,814 Line:5853 41:
 [DEBUG] 2017-12-29 14:11:31,814 Line:5853 42:
 [DEBUG] 2017-12-29 14:11:31,814 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:11:31,814 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 46:
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:11:31,815 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:11:31,816 Line:5853 52:
 [DEBUG] 2017-12-29 14:11:31,816 Line:5853 53:
 [DEBUG] 2017-12-29 14:11:31,816 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:11:31,816 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:11:31,817 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:11:31,817 Line:5853 57:0
 [DEBUG] 2017-12-29 14:11:31,817 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:11:31,818 Line:5853 59:0
 [DEBUG] 2017-12-29 14:11:31,819 Line:5853 60:2017-12-29 14:11:31
 [DEBUG] 2017-12-29 14:11:31,820 Line:5853 61:1
 [DEBUG] 2017-12-29 14:11:31,820 Line:5853 62:2017-12-29 14:11:31
 [DEBUG] 2017-12-29 14:11:31,820 Line:5853 63:1
 [DEBUG] 2017-12-29 14:11:31,821 Line:5853 64:2017-12-29 14:11:31
 [DEBUG] 2017-12-29 14:11:31,825 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:11:31,825 Line:5853 1:ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,826 Line:5853 2:ebcc3c1b_1712291411318250020
 [DEBUG] 2017-12-29 14:11:31,826 Line:5853 3:
 [DEBUG] 2017-12-29 14:11:31,826 Line:5853 4:
 [DEBUG] 2017-12-29 14:11:31,826 Line:5853 5:
 [DEBUG] 2017-12-29 14:11:31,826 Line:5853 6:
 [DEBUG] 2017-12-29 14:11:31,827 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:11:31,827 Line:5853 8:
 [DEBUG] 2017-12-29 14:11:31,827 Line:5853 9:
 [DEBUG] 2017-12-29 14:11:31,827 Line:5853 10:
 [DEBUG] 2017-12-29 14:11:31,828 Line:5853 11:
 [DEBUG] 2017-12-29 14:11:31,828 Line:5853 12:
 [DEBUG] 2017-12-29 14:11:31,828 Line:5853 13:
 [DEBUG] 2017-12-29 14:11:31,828 Line:5853 14:
 [DEBUG] 2017-12-29 14:11:31,829 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:11:31,829 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:11:31,829 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:11:31,829 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:11:31,830 Line:5853 19:0
 [DEBUG] 2017-12-29 14:11:31,830 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:11:31,830 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:11:31,831 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:11:31,831 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:11:31,831 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:11:31,831 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:11:31,832 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:11:31,832 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:11:31,832 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:11:31,832 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:11:31,833 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:11:31,833 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:11:31,833 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:11:31,833 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:11:31,834 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:11:31,834 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:11:31,835 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:11:31,836 Line:5853 37:
 [DEBUG] 2017-12-29 14:11:31,836 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:11:31,836 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:11:31,836 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:11:31,836 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:11:31,837 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:11:31,837 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:11:31,837 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:11:31,837 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:11:31,837 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:11:31,837 Line:5853 47:0
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 50:0
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 51:
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:11:31,838 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:11:31,839 Line:5853 55:0
 [DEBUG] 2017-12-29 14:11:31,839 Line:5853 56:0
 [DEBUG] 2017-12-29 14:11:31,839 Line:5853 57:
 [DEBUG] 2017-12-29 14:11:31,839 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:11:31,839 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:11:31,839 Line:5853 60:
 [DEBUG] 2017-12-29 14:11:31,840 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:11:31,840 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:11:31,845 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:11:31,849 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,849 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:11:31,850 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,851 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:11:31,852 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,852 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:11:31,853 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,853 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:11:31,854 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,854 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:11:31,855 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,855 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:11:31,856 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:31,857 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:11:31,858 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,858 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,858 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:11:31,865 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:11:31,865 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:11:31,866 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,866 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:11:31,866 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,867 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,867 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:11:31,876 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 14:11:31,876 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:11:31,877 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,877 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:11:31,878 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,878 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,878 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:11:31,888 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 14:11:31,889 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:11:31,889 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,890 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:11:31,890 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,890 Line:988 1值：false
 [DEBUG] 2017-12-29 14:11:31,890 Line:988 2值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,895 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:11:31,896 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:11:31,896 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:11:31,896 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,897 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:11:31,897 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,897 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,907 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 14:11:31,907 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,908 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,908 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:11:31,909 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,909 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,915 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:11:31,916 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,916 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,917 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:11:31,917 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,917 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,923 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:11:31,924 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,924 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,925 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:11:31,925 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,925 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,932 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:11:31,932 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,933 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,934 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,934 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,934 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:11:31,935 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,935 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,942 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:11:31,942 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,943 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,943 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:11:31,943 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,944 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:11:31,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,944 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,949 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:11:31,949 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,951 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,951 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:11:31,951 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,952 Line:988 1值：1
 [DEBUG] 2017-12-29 14:11:31,952 Line:988 2值：0
 [DEBUG] 2017-12-29 14:11:31,952 Line:988 3值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,965 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:11:31,965 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:11:31,965 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-12-29 14:11:31,965 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:11:31,966 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,967 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:11:31,967 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,967 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,977 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 14:11:31,977 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,978 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,978 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:11:31,979 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,979 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,984 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:11:31,984 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:11:31,985 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,985 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:11:31,985 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,985 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,988 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:11:31,988 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:11:31,989 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,989 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:11:31,989 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,989 Line:988 1值：
 [DEBUG] 2017-12-29 14:11:31,989 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:11:31,992 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:11:31,992 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:11:31,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:31,992 Line:988 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:31,993 Line:988 2值：
 [DEBUG] 2017-12-29 14:11:31,993 Line:988 3值：
 [DEBUG] 2017-12-29 14:11:31,993 Line:988 4值：
 [DEBUG] 2017-12-29 14:11:31,996 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:11:31,996 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:11:31,997 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,997 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:11:31,998 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,998 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:11:31,999 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:31,999 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:11:32,000 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,000 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:11:32,001 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,001 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:11:32,002 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:11:32,002 Line:1157 2值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,009 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,009 Line:229 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:11:32,009 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:11:32,009 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:11:32,010 Line:1157 2值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,010 Line:1157 3值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,021 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,021 Line:229 ************上述语句执行时间：12
 [DEBUG] 2017-12-29 14:11:32,022 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:11:32,022 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,022 Line:1157 2值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,029 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,030 Line:229 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:11:32,030 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:11:32,030 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,036 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,036 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:11:32,036 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:11:32,037 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,043 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,043 Line:229 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:11:32,043 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:11:32,044 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,044 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:11:32,044 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,045 Line:1157 2值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,054 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,054 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:11:32,054 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:11:32,055 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,055 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:11:32,056 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,056 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:11:32,056 Line:1270 ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,056 Line:1270 add
 [DEBUG] 2017-12-29 14:11:32,117 Line:425 ************上述语句执行时间：61
 [DEBUG] 2017-12-29 14:11:32,118 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:11:32,119 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,119 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:11:32,120 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,129 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:11:32,129 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:11:32,129 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:11:32,130 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,139 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:11:32,139 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:11:32,139 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:11:32,140 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,140 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:11:32,141 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,141 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:11:32,142 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,148 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:11:32,149 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,149 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:11:32,150 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,150 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:11:32,151 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,151 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:11:32,152 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,152 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:11:32,153 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,153 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:11:32,153 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,154 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:11:32,154 Line:1157 1值：ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,159 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:11:32,159 Line:408 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:11:32,160 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:11:32,160 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,160 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:11:32,161 Line:1270 ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,161 Line:1270 add
 [DEBUG] 2017-12-29 14:11:32,205 Line:425 ************上述语句执行时间：45
 [DEBUG] 2017-12-29 14:11:32,206 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:11:32,206 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,207 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:11:32,207 Line:1270 12
 [DEBUG] 2017-12-29 14:11:32,207 Line:1270 2017
 [DEBUG] 2017-12-29 14:11:32,207 Line:1270 12
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:11:32,208 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:11:32,209 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:11:32,209 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:11:32,209 Line:1270 1
 [DEBUG] 2017-12-29 14:11:32,209 Line:1270 1
 [DEBUG] 2017-12-29 14:11:32,209 Line:1270 2017-12-29 14:11:31
 [DEBUG] 2017-12-29 14:11:32,209 Line:1270 2017-12-29 14:11:31
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 00001
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 00003
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 1
 [DEBUG] 2017-12-29 14:11:32,210 Line:1270 00101
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 0
 [DEBUG] 2017-12-29 14:11:32,211 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:11:32,212 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:11:32,212 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:11:32,212 Line:1270 f_ref='ebcc3c1b_1712291411318020019'
 [DEBUG] 2017-12-29 14:11:32,354 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291411318020019','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:11:31','2017-12-29 14:11:31','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291411318020019' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:11:32,354 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:11:32,355 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:11:32,355 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:11:32,355 Line:425 ************上述语句执行时间：148
 [DEBUG] 2017-12-29 14:11:32,355 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:11:32,356 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,356 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:11:32,357 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,357 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:11:32,358 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:32,359 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:11:32,360 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:11:32,361 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,361 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:11:32,362 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,363 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:11:32,363 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,363 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:11:32,364 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:32,364 Line:988 1值：1
 [DEBUG] 2017-12-29 14:11:32,364 Line:988 2值：0
 [DEBUG] 2017-12-29 14:11:32,364 Line:988 3值：1
 [DEBUG] 2017-12-29 14:11:32,364 Line:988 4值：0
 [DEBUG] 2017-12-29 14:11:32,364 Line:988 5值：0
 [DEBUG] 2017-12-29 14:11:32,365 Line:988 6值：1
 [DEBUG] 2017-12-29 14:11:32,366 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:11:32,366 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:11:32,366 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:11:32,366 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:11:32,366 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:11:32,367 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,372 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:11:32,378 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:11:32,393 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,402 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,411 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,421 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,428 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,438 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,451 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:11:32,462 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:11:32,553 Line:434 ************上述语句执行时间：186
 [DEBUG] 2017-12-29 14:11:32,553 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:11:32,554 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,554 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:11:32,554 Line:1270 1ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,555 Line:1270 00003
 [DEBUG] 2017-12-29 14:11:32,555 Line:1270 1
 [DEBUG] 2017-12-29 14:11:32,555 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:11:32,555 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291411318020019@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:11:31@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:11:31@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:11:32,612 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291411318020019',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291411318020019','','1','0','1','1','2017-12-29 14:11:31','1','2017-12-29 14:11:31','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:11:32,612 Line:425 ************上述语句执行时间：58
 [DEBUG] 2017-12-29 14:11:32,612 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:11:32,613 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,613 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:11:32,614 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,614 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:11:32,615 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,615 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:11:32,616 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,616 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:11:32,618 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,619 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:11:32,620 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,620 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:11:32,621 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:32,621 Line:988 1值：1
 [DEBUG] 2017-12-29 14:11:32,621 Line:988 2值：0
 [DEBUG] 2017-12-29 14:11:32,621 Line:988 3值：1
 [DEBUG] 2017-12-29 14:11:32,622 Line:988 4值：0
 [DEBUG] 2017-12-29 14:11:32,622 Line:988 5值：0
 [DEBUG] 2017-12-29 14:11:32,622 Line:988 6值：0
 [DEBUG] 2017-12-29 14:11:32,623 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:11:32,623 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:11:32,624 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:11:32,624 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:11:32,624 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:11:32,625 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,625 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:11:32,625 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,626 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:11:32,626 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,626 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:11:32,627 Line:321 flag:false
 [DEBUG] 2017-12-29 14:11:32,627 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:11:32,628 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,628 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:11:32,628 Line:1270 ebcc3c1b_1712291411318020019
 [DEBUG] 2017-12-29 14:11:32,629 Line:1270 add
 [DEBUG] 2017-12-29 14:11:32,635 Line:425 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:11:32,636 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:11:32,636 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:11:32,637 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:11:32,637 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:11:32,637 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:11:32,638 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:11:32,638 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:11:32,638 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:11:32,638 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:11:32,638 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:11:32,639 Line:321 flag:true
 [DEBUG] 2017-12-29 14:11:32,639 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-29 14:12:35,993 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:174)
	at com.google.gson.Gson.fromJson(Gson.java:720)
	at com.google.gson.Gson.fromJson(Gson.java:686)
	at com.google.gson.Gson.fromJson(Gson.java:636)
	at com.google.gson.Gson.fromJson(Gson.java:608)
	at tzhive.HiveServlet.optHive(HiveServlet.java:71)
	... 50 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:331)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:314)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
	... 55 more
[ERROR] 2017-12-29 14:12:35,994 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
 [DEBUG] 2017-12-29 14:24:51,264 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:24:51,266 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:24:51,268 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:24:51,296 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:24:51,296 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:24:51,297 Line:5853 2:
 [DEBUG] 2017-12-29 14:24:51,297 Line:5853 3:ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,297 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:24:51,297 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:24:51,297 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 7:0
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 9:BI1712290019
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:24:51,298 Line:5853 13:1
 [DEBUG] 2017-12-29 14:24:51,299 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:24:51,299 Line:5853 15:3
 [DEBUG] 2017-12-29 14:24:51,299 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:24:51,299 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:24:51,299 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:24:51,299 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 20:
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 24:
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:24:51,300 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 28:
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 29:12
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 30:12
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 32:
 [DEBUG] 2017-12-29 14:24:51,301 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:24:51,302 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:24:51,302 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:24:51,302 Line:5853 36:
 [DEBUG] 2017-12-29 14:24:51,302 Line:5853 37:
 [DEBUG] 2017-12-29 14:24:51,302 Line:5853 38:
 [DEBUG] 2017-12-29 14:24:51,302 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 41:
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 42:
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:24:51,303 Line:5853 46:
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 52:
 [DEBUG] 2017-12-29 14:24:51,304 Line:5853 53:
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 57:0
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 59:0
 [DEBUG] 2017-12-29 14:24:51,305 Line:5853 60:2017-12-29 14:24:51
 [DEBUG] 2017-12-29 14:24:51,306 Line:5853 61:1
 [DEBUG] 2017-12-29 14:24:51,306 Line:5853 62:2017-12-29 14:24:51
 [DEBUG] 2017-12-29 14:24:51,306 Line:5853 63:1
 [DEBUG] 2017-12-29 14:24:51,306 Line:5853 64:2017-12-29 14:24:51
 [DEBUG] 2017-12-29 14:24:51,310 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:24:51,310 Line:5853 1:ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,310 Line:5853 2:ebcc3c1b_1712291424513100024
 [DEBUG] 2017-12-29 14:24:51,311 Line:5853 3:
 [DEBUG] 2017-12-29 14:24:51,311 Line:5853 4:
 [DEBUG] 2017-12-29 14:24:51,311 Line:5853 5:
 [DEBUG] 2017-12-29 14:24:51,311 Line:5853 6:
 [DEBUG] 2017-12-29 14:24:51,311 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:24:51,311 Line:5853 8:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 9:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 10:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 11:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 12:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 13:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 14:
 [DEBUG] 2017-12-29 14:24:51,312 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 19:0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:24:51,313 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:24:51,314 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:24:51,314 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:24:51,314 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:24:51,314 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:24:51,314 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:24:51,314 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:24:51,315 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:24:51,315 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:24:51,315 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:24:51,315 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:24:51,315 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:24:51,316 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:24:51,316 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:24:51,316 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:24:51,316 Line:5853 37:
 [DEBUG] 2017-12-29 14:24:51,317 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:24:51,317 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:24:51,317 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:24:51,318 Line:5853 47:0
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 50:0
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 51:
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:24:51,319 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 55:0
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 56:0
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 57:
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 60:
 [DEBUG] 2017-12-29 14:24:51,320 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:24:51,321 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:24:51,338 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:24:51,343 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,343 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:24:51,344 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,344 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:24:51,345 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,345 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:24:51,346 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,346 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:24:51,347 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,347 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:24:51,348 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,348 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:24:51,349 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,350 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:24:51,350 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,351 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,351 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:24:51,363 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-12-29 14:24:51,363 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:24:51,365 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,365 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:24:51,365 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,366 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,366 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:24:51,384 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-12-29 14:24:51,384 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:24:51,385 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,385 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:24:51,386 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,386 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,386 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:24:51,393 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:24:51,393 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:24:51,394 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,394 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:24:51,394 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,395 Line:988 1值：false
 [DEBUG] 2017-12-29 14:24:51,395 Line:988 2值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,404 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:24:51,405 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 14:24:51,405 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:24:51,406 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,406 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:24:51,406 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,407 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,413 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:24:51,414 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,415 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,416 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:24:51,416 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,416 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,427 Line:1043 ---上述语句时间---12
 [DEBUG] 2017-12-29 14:24:51,427 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,428 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,428 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:24:51,428 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,429 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,433 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:24:51,433 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,434 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,434 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:24:51,435 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,435 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,440 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:24:51,440 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,441 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,441 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,442 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,442 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:24:51,442 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,443 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,446 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:24:51,446 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,448 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,448 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:24:51,449 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,449 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:24:51,449 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,449 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,451 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:24:51,452 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,453 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,453 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:24:51,453 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,453 Line:988 1值：1
 [DEBUG] 2017-12-29 14:24:51,453 Line:988 2值：0
 [DEBUG] 2017-12-29 14:24:51,454 Line:988 3值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,486 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:24:51,487 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:24:51,487 Line:1043 ---上述语句时间---34
 [DEBUG] 2017-12-29 14:24:51,487 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:24:51,488 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,488 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:24:51,488 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,489 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,502 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-12-29 14:24:51,502 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,503 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,504 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:24:51,504 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,504 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,506 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:24:51,506 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:24:51,507 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,507 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:24:51,507 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,507 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,510 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:24:51,510 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:24:51,511 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,511 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:24:51,511 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,511 Line:988 1值：
 [DEBUG] 2017-12-29 14:24:51,512 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:24:51,521 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 14:24:51,522 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:24:51,522 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,522 Line:988 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,522 Line:988 2值：
 [DEBUG] 2017-12-29 14:24:51,522 Line:988 3值：
 [DEBUG] 2017-12-29 14:24:51,523 Line:988 4值：
 [DEBUG] 2017-12-29 14:24:51,526 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:24:51,526 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:24:51,527 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,527 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:24:51,528 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,528 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:24:51,528 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,529 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:24:51,529 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,529 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:24:51,530 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,531 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:24:51,531 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:24:51,531 Line:1157 2值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,534 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,534 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:24:51,534 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:24:51,535 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:24:51,535 Line:1157 2值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,535 Line:1157 3值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,539 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,540 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:24:51,540 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:24:51,540 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,540 Line:1157 2值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,546 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,546 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:24:51,546 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:24:51,546 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,549 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,550 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:24:51,550 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:24:51,550 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,553 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,554 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:24:51,554 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:24:51,555 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,555 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:24:51,555 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,555 Line:1157 2值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,559 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,560 Line:408 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:24:51,560 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:24:51,561 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,561 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:24:51,561 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,562 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:24:51,562 Line:1270 ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,562 Line:1270 add
 [DEBUG] 2017-12-29 14:24:51,626 Line:425 ************上述语句执行时间：64
 [DEBUG] 2017-12-29 14:24:51,626 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:24:51,627 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,627 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:24:51,627 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,640 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:24:51,640 Line:408 ************上述语句执行时间：13
 [DEBUG] 2017-12-29 14:24:51,641 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:24:51,641 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,649 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:24:51,649 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:24:51,649 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:24:51,650 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,650 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:24:51,651 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,651 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:24:51,651 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,673 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:24:51,674 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,675 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:24:51,676 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,676 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:24:51,677 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,678 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:24:51,678 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,679 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:24:51,679 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,680 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:24:51,681 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,681 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:24:51,682 Line:1157 1值：ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,684 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:24:51,684 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:24:51,684 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:24:51,685 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,685 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:24:51,686 Line:1270 ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,686 Line:1270 add
 [DEBUG] 2017-12-29 14:24:51,731 Line:425 ************上述语句执行时间：46
 [DEBUG] 2017-12-29 14:24:51,731 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:24:51,732 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,732 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:24:51,733 Line:1270 12
 [DEBUG] 2017-12-29 14:24:51,733 Line:1270 2017
 [DEBUG] 2017-12-29 14:24:51,733 Line:1270 12
 [DEBUG] 2017-12-29 14:24:51,733 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:24:51,733 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:24:51,733 Line:1270 ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:51,734 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:24:51,734 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:24:51,734 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:24:51,734 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:24:51,734 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:24:51,734 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:24:51,735 Line:1270 1
 [DEBUG] 2017-12-29 14:24:51,735 Line:1270 1
 [DEBUG] 2017-12-29 14:24:51,735 Line:1270 2017-12-29 14:24:51
 [DEBUG] 2017-12-29 14:24:51,735 Line:1270 2017-12-29 14:24:51
 [DEBUG] 2017-12-29 14:24:51,735 Line:1270 00001
 [DEBUG] 2017-12-29 14:24:51,735 Line:1270 
 [DEBUG] 2017-12-29 14:24:51,736 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:24:51,736 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:24:51,737 Line:1270 00003
 [DEBUG] 2017-12-29 14:24:51,737 Line:1270 1
 [DEBUG] 2017-12-29 14:24:51,737 Line:1270 00101
 [DEBUG] 2017-12-29 14:24:51,737 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:24:51,738 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:24:51,738 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:24:51,738 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:24:51,738 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:24:51,738 Line:1270 0
 [DEBUG] 2017-12-29 14:24:51,738 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:24:51,739 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:24:51,739 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:24:51,739 Line:1270 f_ref='ebcc3c1b_1712291424512700023'
 [DEBUG] 2017-12-29 14:24:51,947 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291424512700023','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:24:51','2017-12-29 14:24:51','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291424512700023' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:24:51,947 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:24:51,947 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:24:51,947 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:24:51,948 Line:425 ************上述语句执行时间：216
 [DEBUG] 2017-12-29 14:24:51,948 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:24:51,948 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,949 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:24:51,949 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,950 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:24:51,950 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,951 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:24:51,951 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:24:51,952 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,952 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:24:51,953 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,953 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:24:51,954 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:51,954 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:24:51,954 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:51,954 Line:988 1值：1
 [DEBUG] 2017-12-29 14:24:51,954 Line:988 2值：0
 [DEBUG] 2017-12-29 14:24:51,955 Line:988 3值：1
 [DEBUG] 2017-12-29 14:24:51,955 Line:988 4值：0
 [DEBUG] 2017-12-29 14:24:51,955 Line:988 5值：0
 [DEBUG] 2017-12-29 14:24:51,955 Line:988 6值：1
 [DEBUG] 2017-12-29 14:24:51,956 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:24:51,956 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:24:51,957 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:24:51,957 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:24:51,957 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:24:51,957 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:51,962 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:24:51,969 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:24:51,984 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:51,998 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:52,011 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:52,024 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:52,040 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:52,052 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:52,063 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:24:52,072 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:24:52,169 Line:434 ************上述语句执行时间：211
 [DEBUG] 2017-12-29 14:24:52,170 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:24:52,170 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:52,171 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:24:52,171 Line:1270 1ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:52,171 Line:1270 00003
 [DEBUG] 2017-12-29 14:24:52,171 Line:1270 1
 [DEBUG] 2017-12-29 14:24:52,172 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:24:52,172 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291424512700023@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:24:51@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:24:51@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:24:52,210 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291424512700023',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291424512700023','','1','0','1','1','2017-12-29 14:24:51','1','2017-12-29 14:24:51','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:24:52,210 Line:425 ************上述语句执行时间：39
 [DEBUG] 2017-12-29 14:24:52,211 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:24:52,211 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,211 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:24:52,212 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,212 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:24:52,213 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,213 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:24:52,214 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,215 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:24:52,216 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,217 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:24:52,218 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,218 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:24:52,219 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:52,219 Line:988 1值：1
 [DEBUG] 2017-12-29 14:24:52,220 Line:988 2值：0
 [DEBUG] 2017-12-29 14:24:52,220 Line:988 3值：1
 [DEBUG] 2017-12-29 14:24:52,220 Line:988 4值：0
 [DEBUG] 2017-12-29 14:24:52,220 Line:988 5值：0
 [DEBUG] 2017-12-29 14:24:52,220 Line:988 6值：0
 [DEBUG] 2017-12-29 14:24:52,221 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:24:52,222 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:24:52,222 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:24:52,222 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:24:52,222 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:24:52,223 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,223 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:24:52,224 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,224 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:24:52,224 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,225 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:24:52,225 Line:321 flag:false
 [DEBUG] 2017-12-29 14:24:52,225 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:24:52,226 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:52,226 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:24:52,226 Line:1270 ebcc3c1b_1712291424512700023
 [DEBUG] 2017-12-29 14:24:52,226 Line:1270 add
 [DEBUG] 2017-12-29 14:24:52,235 Line:425 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:24:52,235 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:24:52,235 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:24:52,236 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:24:52,236 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:24:52,236 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:24:52,237 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:24:52,237 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:24:52,237 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:24:52,237 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:24:52,237 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:24:52,238 Line:321 flag:true
 [DEBUG] 2017-12-29 14:24:52,238 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-29 14:25:22,438 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:174)
	at com.google.gson.Gson.fromJson(Gson.java:720)
	at com.google.gson.Gson.fromJson(Gson.java:686)
	at com.google.gson.Gson.fromJson(Gson.java:636)
	at com.google.gson.Gson.fromJson(Gson.java:608)
	at tzhive.HiveServlet.optHive(HiveServlet.java:71)
	... 50 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:331)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:314)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
	... 55 more
[ERROR] 2017-12-29 14:25:22,442 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
 [DEBUG] 2017-12-29 14:26:54,630 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:26:54,631 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:26:54,632 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:26:54,660 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:26:54,661 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:26:54,661 Line:5853 2:
 [DEBUG] 2017-12-29 14:26:54,661 Line:5853 3:ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,661 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 7:0
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 9:BI1712290019
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:26:54,662 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 13:1
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 15:3
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:26:54,663 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 20:
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 24:
 [DEBUG] 2017-12-29 14:26:54,664 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:26:54,665 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:26:54,665 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:26:54,665 Line:5853 28:
 [DEBUG] 2017-12-29 14:26:54,665 Line:5853 29:12
 [DEBUG] 2017-12-29 14:26:54,665 Line:5853 30:12
 [DEBUG] 2017-12-29 14:26:54,665 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:26:54,666 Line:5853 32:
 [DEBUG] 2017-12-29 14:26:54,666 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:26:54,666 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:26:54,666 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:26:54,666 Line:5853 36:
 [DEBUG] 2017-12-29 14:26:54,666 Line:5853 37:
 [DEBUG] 2017-12-29 14:26:54,667 Line:5853 38:
 [DEBUG] 2017-12-29 14:26:54,667 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:26:54,667 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:26:54,667 Line:5853 41:
 [DEBUG] 2017-12-29 14:26:54,667 Line:5853 42:
 [DEBUG] 2017-12-29 14:26:54,667 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:26:54,668 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:26:54,668 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:26:54,668 Line:5853 46:
 [DEBUG] 2017-12-29 14:26:54,668 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:26:54,668 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:26:54,668 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:26:54,669 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:26:54,669 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:26:54,669 Line:5853 52:
 [DEBUG] 2017-12-29 14:26:54,669 Line:5853 53:
 [DEBUG] 2017-12-29 14:26:54,669 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:26:54,669 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 57:0
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 59:0
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 60:2017-12-29 14:26:54
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 61:1
 [DEBUG] 2017-12-29 14:26:54,670 Line:5853 62:2017-12-29 14:26:54
 [DEBUG] 2017-12-29 14:26:54,671 Line:5853 63:1
 [DEBUG] 2017-12-29 14:26:54,671 Line:5853 64:2017-12-29 14:26:54
 [DEBUG] 2017-12-29 14:26:54,675 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:26:54,675 Line:5853 1:ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,675 Line:5853 2:ebcc3c1b_1712291426546740028
 [DEBUG] 2017-12-29 14:26:54,675 Line:5853 3:
 [DEBUG] 2017-12-29 14:26:54,676 Line:5853 4:
 [DEBUG] 2017-12-29 14:26:54,676 Line:5853 5:
 [DEBUG] 2017-12-29 14:26:54,676 Line:5853 6:
 [DEBUG] 2017-12-29 14:26:54,676 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:26:54,676 Line:5853 8:
 [DEBUG] 2017-12-29 14:26:54,677 Line:5853 9:
 [DEBUG] 2017-12-29 14:26:54,677 Line:5853 10:
 [DEBUG] 2017-12-29 14:26:54,677 Line:5853 11:
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 12:
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 13:
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 14:
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:26:54,678 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 19:0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:26:54,679 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:26:54,680 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 37:
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:26:54,681 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:26:54,682 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:26:54,683 Line:5853 47:0
 [DEBUG] 2017-12-29 14:26:54,683 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:26:54,683 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:26:54,683 Line:5853 50:0
 [DEBUG] 2017-12-29 14:26:54,684 Line:5853 51:
 [DEBUG] 2017-12-29 14:26:54,684 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:26:54,684 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 55:0
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 56:0
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 57:
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:26:54,685 Line:5853 60:
 [DEBUG] 2017-12-29 14:26:54,686 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:26:54,686 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:26:54,702 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:26:54,706 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,707 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:26:54,708 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,708 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:26:54,708 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,709 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:26:54,709 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,710 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:26:54,710 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,710 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:26:54,711 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,711 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:26:54,712 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:54,712 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:26:54,713 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,713 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,713 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:26:54,725 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-12-29 14:26:54,725 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:26:54,726 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,726 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:26:54,726 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,726 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,727 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:26:54,744 Line:1043 ---上述语句时间---18
 [DEBUG] 2017-12-29 14:26:54,745 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:26:54,746 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,747 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:26:54,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,747 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,748 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:26:54,757 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 14:26:54,757 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:26:54,758 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,759 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:26:54,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,759 Line:988 1值：false
 [DEBUG] 2017-12-29 14:26:54,760 Line:988 2值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,771 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:26:54,772 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-12-29 14:26:54,772 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:26:54,773 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,773 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:26:54,773 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,773 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,778 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:26:54,779 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,780 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,780 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:26:54,780 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,780 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,791 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 14:26:54,792 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,792 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,792 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:26:54,793 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,793 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,796 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:26:54,796 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,797 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,797 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:26:54,797 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,798 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,804 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:26:54,804 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,805 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,805 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,805 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,806 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:26:54,806 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,806 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,809 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:26:54,809 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,810 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,810 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:26:54,811 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,811 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:26:54,811 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,812 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,813 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:26:54,814 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,814 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,815 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:26:54,815 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,815 Line:988 1值：1
 [DEBUG] 2017-12-29 14:26:54,815 Line:988 2值：0
 [DEBUG] 2017-12-29 14:26:54,816 Line:988 3值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,852 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:26:54,853 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:26:54,853 Line:1043 ---上述语句时间---38
 [DEBUG] 2017-12-29 14:26:54,853 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:26:54,854 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,854 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:26:54,855 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,855 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,870 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-12-29 14:26:54,870 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,871 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,872 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:26:54,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,872 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,874 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:26:54,874 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:26:54,875 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,876 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:26:54,876 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,876 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,879 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:26:54,879 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:26:54,880 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,880 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:26:54,880 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,880 Line:988 1值：
 [DEBUG] 2017-12-29 14:26:54,880 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:26:54,889 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:26:54,889 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:26:54,890 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:54,890 Line:988 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,890 Line:988 2值：
 [DEBUG] 2017-12-29 14:26:54,891 Line:988 3值：
 [DEBUG] 2017-12-29 14:26:54,891 Line:988 4值：
 [DEBUG] 2017-12-29 14:26:54,895 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:26:54,895 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:26:54,896 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,897 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:26:54,897 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,898 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:26:54,898 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,899 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:26:54,899 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,900 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:26:54,900 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:54,901 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:26:54,901 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:26:54,902 Line:1157 2值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,905 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:26:54,905 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:26:54,906 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:26:54,906 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:26:54,906 Line:1157 2值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,907 Line:1157 3值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,912 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:26:54,912 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:26:54,912 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:26:54,912 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,913 Line:1157 2值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,922 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:26:54,922 Line:229 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:26:54,922 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:26:54,923 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,925 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:26:54,926 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:26:54,926 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:26:54,926 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,930 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:26:54,930 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:26:54,931 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:26:54,931 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:54,932 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:26:54,932 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,932 Line:1157 2值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,937 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:26:54,937 Line:408 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:26:54,937 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:26:54,938 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:54,939 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:26:54,939 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:54,940 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:26:54,940 Line:1270 ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:54,940 Line:1270 add
 [DEBUG] 2017-12-29 14:26:55,020 Line:425 ************上述语句执行时间：81
 [DEBUG] 2017-12-29 14:26:55,021 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:26:55,021 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,022 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:26:55,022 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,031 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:26:55,031 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:26:55,031 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:26:55,031 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,040 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:26:55,040 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:26:55,040 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:26:55,041 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,041 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:26:55,042 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,042 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:26:55,043 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,061 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:26:55,062 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,062 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:26:55,063 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,063 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:26:55,064 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,064 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:26:55,064 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,065 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:26:55,065 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,065 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:26:55,066 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,066 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:26:55,066 Line:1157 1值：ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,068 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:26:55,069 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:26:55,069 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:26:55,069 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,070 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:26:55,070 Line:1270 ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,070 Line:1270 add
 [DEBUG] 2017-12-29 14:26:55,116 Line:425 ************上述语句执行时间：46
 [DEBUG] 2017-12-29 14:26:55,116 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:26:55,118 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,119 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:26:55,119 Line:1270 12
 [DEBUG] 2017-12-29 14:26:55,119 Line:1270 2017
 [DEBUG] 2017-12-29 14:26:55,119 Line:1270 12
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:26:55,120 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:26:55,121 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:26:55,121 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:26:55,121 Line:1270 1
 [DEBUG] 2017-12-29 14:26:55,121 Line:1270 1
 [DEBUG] 2017-12-29 14:26:55,121 Line:1270 2017-12-29 14:26:54
 [DEBUG] 2017-12-29 14:26:55,121 Line:1270 2017-12-29 14:26:54
 [DEBUG] 2017-12-29 14:26:55,122 Line:1270 00001
 [DEBUG] 2017-12-29 14:26:55,122 Line:1270 
 [DEBUG] 2017-12-29 14:26:55,122 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:26:55,122 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:26:55,122 Line:1270 00003
 [DEBUG] 2017-12-29 14:26:55,122 Line:1270 1
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 00101
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:26:55,123 Line:1270 0
 [DEBUG] 2017-12-29 14:26:55,124 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:26:55,124 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:26:55,124 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:26:55,124 Line:1270 f_ref='ebcc3c1b_1712291426546350027'
 [DEBUG] 2017-12-29 14:26:55,301 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291426546350027','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:26:54','2017-12-29 14:26:54','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291426546350027' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:26:55,302 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:26:55,302 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:26:55,302 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:26:55,302 Line:425 ************上述语句执行时间：183
 [DEBUG] 2017-12-29 14:26:55,303 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:26:55,303 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,303 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:26:55,304 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,305 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:26:55,305 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:55,306 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:26:55,307 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:26:55,307 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,307 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:26:55,308 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,308 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:26:55,309 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,309 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:26:55,309 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:55,309 Line:988 1值：1
 [DEBUG] 2017-12-29 14:26:55,309 Line:988 2值：0
 [DEBUG] 2017-12-29 14:26:55,310 Line:988 3值：1
 [DEBUG] 2017-12-29 14:26:55,310 Line:988 4值：0
 [DEBUG] 2017-12-29 14:26:55,310 Line:988 5值：0
 [DEBUG] 2017-12-29 14:26:55,310 Line:988 6值：1
 [DEBUG] 2017-12-29 14:26:55,311 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:26:55,311 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:26:55,311 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:26:55,312 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:26:55,312 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:26:55,312 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,315 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:26:55,319 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:26:55,325 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,331 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,338 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,344 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,352 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,365 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,391 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:26:55,409 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:26:55,539 Line:434 ************上述语句执行时间：226
 [DEBUG] 2017-12-29 14:26:55,539 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:26:55,540 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,540 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:26:55,541 Line:1270 1ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,541 Line:1270 00003
 [DEBUG] 2017-12-29 14:26:55,541 Line:1270 1
 [DEBUG] 2017-12-29 14:26:55,541 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:26:55,541 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291426546350027@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:26:54@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:26:54@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:26:55,581 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291426546350027',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291426546350027','','1','0','1','1','2017-12-29 14:26:54','1','2017-12-29 14:26:54','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:26:55,581 Line:425 ************上述语句执行时间：41
 [DEBUG] 2017-12-29 14:26:55,581 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:26:55,582 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,584 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:26:55,584 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,585 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:26:55,585 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,586 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:26:55,586 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,587 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:26:55,587 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,588 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:26:55,588 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,588 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:26:55,589 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:55,589 Line:988 1值：1
 [DEBUG] 2017-12-29 14:26:55,589 Line:988 2值：0
 [DEBUG] 2017-12-29 14:26:55,589 Line:988 3值：1
 [DEBUG] 2017-12-29 14:26:55,589 Line:988 4值：0
 [DEBUG] 2017-12-29 14:26:55,589 Line:988 5值：0
 [DEBUG] 2017-12-29 14:26:55,590 Line:988 6值：0
 [DEBUG] 2017-12-29 14:26:55,591 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:26:55,591 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:26:55,591 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:26:55,591 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:26:55,591 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:26:55,592 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,592 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:26:55,593 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,593 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:26:55,593 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,594 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:26:55,594 Line:321 flag:false
 [DEBUG] 2017-12-29 14:26:55,594 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:26:55,595 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,595 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:26:55,595 Line:1270 ebcc3c1b_1712291426546350027
 [DEBUG] 2017-12-29 14:26:55,596 Line:1270 add
 [DEBUG] 2017-12-29 14:26:55,602 Line:425 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:26:55,602 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:26:55,603 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:26:55,604 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:26:55,604 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:26:55,604 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:26:55,604 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:26:55,604 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:26:55,604 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:26:55,605 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:26:55,605 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:26:55,605 Line:321 flag:true
 [DEBUG] 2017-12-29 14:26:55,606 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-29 14:27:18,680 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:174)
	at com.google.gson.Gson.fromJson(Gson.java:720)
	at com.google.gson.Gson.fromJson(Gson.java:686)
	at com.google.gson.Gson.fromJson(Gson.java:636)
	at com.google.gson.Gson.fromJson(Gson.java:608)
	at tzhive.HiveServlet.optHive(HiveServlet.java:71)
	... 50 more
Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
	at com.google.gson.stream.JsonReader.expect(JsonReader.java:331)
	at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:314)
	at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:162)
	... 55 more
[ERROR] 2017-12-29 14:27:18,684 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING
 [DEBUG] 2017-12-29 14:27:41,401 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:27:41,404 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:27:41,406 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:27:41,436 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:27:41,436 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:27:41,436 Line:5853 2:
 [DEBUG] 2017-12-29 14:27:41,436 Line:5853 3:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 7:0
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 9:BI1712290019
 [DEBUG] 2017-12-29 14:27:41,437 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:27:41,438 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:27:41,438 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:27:41,438 Line:5853 13:1
 [DEBUG] 2017-12-29 14:27:41,438 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:27:41,438 Line:5853 15:3
 [DEBUG] 2017-12-29 14:27:41,438 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:27:41,439 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:27:41,439 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:27:41,439 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 20:
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 24:
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:27:41,440 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 28:
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 29:12
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 30:12
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 32:
 [DEBUG] 2017-12-29 14:27:41,441 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 36:
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 37:
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 38:
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:27:41,442 Line:5853 41:
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 42:
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 46:
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:27:41,443 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 52:
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 53:
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:27:41,444 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 57:0
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 59:0
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 60:2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 61:1
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 62:2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:27:41,445 Line:5853 63:1
 [DEBUG] 2017-12-29 14:27:41,446 Line:5853 64:2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:27:41,449 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:27:41,450 Line:5853 1:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,450 Line:5853 2:ebcc3c1b_1712291427414490032
 [DEBUG] 2017-12-29 14:27:41,450 Line:5853 3:
 [DEBUG] 2017-12-29 14:27:41,450 Line:5853 4:
 [DEBUG] 2017-12-29 14:27:41,450 Line:5853 5:
 [DEBUG] 2017-12-29 14:27:41,450 Line:5853 6:
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 8:
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 9:
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 10:
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 11:
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 12:
 [DEBUG] 2017-12-29 14:27:41,451 Line:5853 13:
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 14:
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 19:0
 [DEBUG] 2017-12-29 14:27:41,452 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:27:41,453 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:27:41,454 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 37:
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:27:41,455 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 47:0
 [DEBUG] 2017-12-29 14:27:41,456 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 50:0
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 51:
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:27:41,457 Line:5853 55:0
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 56:0
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 57:
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 60:
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:27:41,458 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:27:41,481 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:27:41,486 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,486 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:27:41,487 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,487 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:27:41,488 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,489 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:27:41,491 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,491 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:27:41,492 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,492 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:27:41,493 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,493 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:27:41,493 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,494 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:27:41,494 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,495 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,495 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:27:41,507 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-12-29 14:27:41,508 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:27:41,508 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,509 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:27:41,509 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,509 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,509 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:27:41,524 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-12-29 14:27:41,524 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:27:41,525 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,525 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:27:41,525 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,526 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,526 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:27:41,532 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:27:41,532 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:27:41,533 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,533 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:27:41,533 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,534 Line:988 1值：false
 [DEBUG] 2017-12-29 14:27:41,534 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,543 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:27:41,544 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 14:27:41,544 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:27:41,545 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,545 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:27:41,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,545 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,550 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:27:41,550 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,551 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,551 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:27:41,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,552 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,563 Line:1043 ---上述语句时间---12
 [DEBUG] 2017-12-29 14:27:41,564 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,564 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,565 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:27:41,565 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,565 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,568 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:41,569 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,569 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,570 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:27:41,570 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,570 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,574 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:27:41,574 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,575 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,575 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,576 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,576 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:27:41,576 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,576 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,579 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:41,580 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,580 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,581 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:27:41,581 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,581 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:27:41,581 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,582 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,584 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:41,584 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,585 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,585 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:27:41,585 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,585 Line:988 1值：1
 [DEBUG] 2017-12-29 14:27:41,585 Line:988 2值：0
 [DEBUG] 2017-12-29 14:27:41,585 Line:988 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,620 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:27:41,620 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:27:41,621 Line:1043 ---上述语句时间---36
 [DEBUG] 2017-12-29 14:27:41,621 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:27:41,622 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,622 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:27:41,622 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,622 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,633 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 14:27:41,633 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,634 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,635 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:27:41,635 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,635 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,637 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:27:41,637 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:27:41,638 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,639 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:27:41,639 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,639 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,642 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:41,642 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:27:41,643 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,643 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:27:41,643 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,643 Line:988 1值：
 [DEBUG] 2017-12-29 14:27:41,643 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:27:41,653 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 14:27:41,654 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:27:41,654 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:41,655 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,655 Line:988 2值：
 [DEBUG] 2017-12-29 14:27:41,656 Line:988 3值：
 [DEBUG] 2017-12-29 14:27:41,656 Line:988 4值：
 [DEBUG] 2017-12-29 14:27:41,661 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:27:41,662 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:27:41,662 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,663 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:27:41,663 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,663 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:27:41,664 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,664 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:27:41,665 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,665 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:27:41,665 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,666 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:27:41,666 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:27:41,666 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,670 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,670 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:27:41,670 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:27:41,670 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:27:41,671 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,671 Line:1157 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,676 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,677 Line:229 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:27:41,677 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:27:41,677 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,677 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,682 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,682 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:27:41,682 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:27:41,682 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,684 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,685 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:27:41,685 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:27:41,685 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,688 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,688 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:27:41,689 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:27:41,689 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,690 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:27:41,690 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,690 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,693 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,693 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:27:41,693 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:27:41,694 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,694 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:27:41,695 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,695 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:27:41,695 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,695 Line:1270 add
 [DEBUG] 2017-12-29 14:27:41,851 Line:425 ************上述语句执行时间：156
 [DEBUG] 2017-12-29 14:27:41,852 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:27:41,853 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,853 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:27:41,854 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,864 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:27:41,864 Line:408 ************上述语句执行时间：11
 [DEBUG] 2017-12-29 14:27:41,865 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:27:41,865 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,873 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:27:41,874 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:27:41,874 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:27:41,875 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,875 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:27:41,876 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,876 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:27:41,876 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,895 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:27:41,896 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,896 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:27:41,898 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,898 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:27:41,899 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,899 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:27:41,899 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,899 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:27:41,900 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:41,900 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:27:41,901 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,901 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:27:41,901 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,903 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:27:41,903 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:27:41,904 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:27:41,904 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,905 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:27:41,906 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,907 Line:1270 add
 [DEBUG] 2017-12-29 14:27:41,978 Line:425 ************上述语句执行时间：73
 [DEBUG] 2017-12-29 14:27:41,979 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:27:41,980 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:41,980 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:27:41,980 Line:1270 12
 [DEBUG] 2017-12-29 14:27:41,980 Line:1270 2017
 [DEBUG] 2017-12-29 14:27:41,980 Line:1270 12
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:27:41,981 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 1
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 1
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:27:41,982 Line:1270 00001
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 00003
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 1
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 00101
 [DEBUG] 2017-12-29 14:27:41,983 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:27:41,984 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:27:41,984 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:27:41,984 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:27:41,984 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:27:41,984 Line:1270 0
 [DEBUG] 2017-12-29 14:27:41,984 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:27:41,985 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:27:41,985 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:27:41,985 Line:1270 f_ref='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:27:42,203 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291427414080031','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:27:41','2017-12-29 14:27:41','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291427414080031' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:27:42,203 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:27:42,203 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:27:42,203 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:27:42,203 Line:425 ************上述语句执行时间：223
 [DEBUG] 2017-12-29 14:27:42,204 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:27:42,204 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,205 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:27:42,207 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:42,208 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:27:42,208 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:42,210 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:27:42,210 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:27:42,211 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,211 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:27:42,211 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,212 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:27:42,212 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,212 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:27:42,212 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:42,213 Line:988 1值：1
 [DEBUG] 2017-12-29 14:27:42,213 Line:988 2值：0
 [DEBUG] 2017-12-29 14:27:42,213 Line:988 3值：1
 [DEBUG] 2017-12-29 14:27:42,213 Line:988 4值：0
 [DEBUG] 2017-12-29 14:27:42,213 Line:988 5值：0
 [DEBUG] 2017-12-29 14:27:42,213 Line:988 6值：1
 [DEBUG] 2017-12-29 14:27:42,215 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:27:42,215 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:27:42,215 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:27:42,215 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:42,215 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:27:42,216 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:42,219 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:27:42,223 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:27:42,229 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,235 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,241 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,247 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,254 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,262 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,274 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:27:42,283 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:27:42,393 Line:434 ************上述语句执行时间：177
 [DEBUG] 2017-12-29 14:27:42,393 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:27:42,394 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:42,394 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:27:42,395 Line:1270 1ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:42,395 Line:1270 00003
 [DEBUG] 2017-12-29 14:27:42,395 Line:1270 1
 [DEBUG] 2017-12-29 14:27:42,395 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:27:42,395 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291427414080031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:27:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:27:41@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:27:42,434 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291427414080031',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291427414080031','','1','0','1','1','2017-12-29 14:27:41','1','2017-12-29 14:27:41','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:27:42,434 Line:425 ************上述语句执行时间：40
 [DEBUG] 2017-12-29 14:27:42,434 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:27:42,435 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,435 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:27:42,436 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,436 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:27:42,437 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,437 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:27:42,438 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,438 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:27:42,439 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,439 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:27:42,441 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,441 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:27:42,441 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:42,441 Line:988 1值：1
 [DEBUG] 2017-12-29 14:27:42,442 Line:988 2值：0
 [DEBUG] 2017-12-29 14:27:42,442 Line:988 3值：1
 [DEBUG] 2017-12-29 14:27:42,442 Line:988 4值：0
 [DEBUG] 2017-12-29 14:27:42,442 Line:988 5值：0
 [DEBUG] 2017-12-29 14:27:42,442 Line:988 6值：0
 [DEBUG] 2017-12-29 14:27:42,443 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:27:42,443 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:27:42,444 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:27:42,444 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:42,444 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:27:42,445 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,445 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:27:42,445 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,445 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:27:42,446 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,446 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:27:42,447 Line:321 flag:false
 [DEBUG] 2017-12-29 14:27:42,447 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:27:42,447 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:42,448 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:27:42,448 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:27:42,448 Line:1270 add
 [DEBUG] 2017-12-29 14:27:42,456 Line:425 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:27:42,456 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:27:42,456 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:27:42,458 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:27:42,458 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:27:42,458 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:27:42,458 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:27:42,459 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:27:42,459 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:27:42,459 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:27:42,459 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:27:42,460 Line:321 flag:true
 [DEBUG] 2017-12-29 14:27:42,460 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 14:28:01,624 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2017-12-29 14:28:01,625 Line:443 ************上述语句执行时间：19165
 [DEBUG] 2017-12-29 14:28:03,103 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=ebcc3c1b_1712291427414080031&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:28:03,104 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[ebcc3c1b_1712291427414080031,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:28:03,106 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ebcc3c1b_1712291427414080031' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 14:28:03,189 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:28:03,197 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:38:29,218 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 14:41:04,654 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:41:04,655 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ebcc3c1b_1712291427414080031,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ebcc3c1b_1712291427414080031,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ebcc3c1b_1712291427414080031,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 14:27:41,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 14:27:41,];createBy=[1,];createTime=[2017-12-29 14:27:41,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ebcc3c1b_1712291427414490032,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:41:04,769 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:41:04,777 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:41:04,808 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,818 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 14:41:04,819 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:04,819 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:04,820 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,820 Line:1270 delete
 [DEBUG] 2017-12-29 14:41:04,904 Line:425 ************上述语句执行时间：85
 [DEBUG] 2017-12-29 14:41:04,904 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 14:41:04,905 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,905 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 14:41:04,906 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:04,906 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 14:41:04,907 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,912 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 14:41:04,913 Line:408 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:41:04,913 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:41:04,913 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:04,914 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 14:41:04,915 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,915 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,916 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,916 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,924 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:41:04,924 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,925 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,925 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 14:41:04,926 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,926 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,928 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:04,928 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,929 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,929 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,929 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,929 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,936 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:41:04,936 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,937 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,937 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,937 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,943 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:41:04,943 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,945 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,945 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 14:41:04,945 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,945 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,948 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:04,949 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,949 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,950 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,950 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,950 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,954 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:41:04,955 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,956 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,956 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,956 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,956 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,965 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:41:04,965 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,966 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,966 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,966 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,966 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,971 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:41:04,971 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,972 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,972 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,972 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,972 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,980 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:41:04,980 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,981 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,981 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:04,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,982 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,985 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:41:04,986 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,986 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,987 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 14:41:04,987 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,987 Line:988 1值：0
 [DEBUG] 2017-12-29 14:41:04,987 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,991 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:41:04,991 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:04,992 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,992 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 14:41:04,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:04,993 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,994 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 14:41:04,994 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 14:41:04,994 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:04,995 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 14:41:04,995 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 14:41:04,995 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:04,995 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 14:41:04,996 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:04,996 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:04,996 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:04,997 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:04,997 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:04,997 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:41:04,997 Line:1270 1
 [DEBUG] 2017-12-29 14:41:05,109 Line:425 ************上述语句执行时间：112
 [DEBUG] 2017-12-29 14:41:05,109 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 14:41:05,110 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,110 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:05,110 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,111 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,111 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,111 Line:1270 delete
 [DEBUG] 2017-12-29 14:41:05,154 Line:425 ************上述语句执行时间：43
 [DEBUG] 2017-12-29 14:41:05,155 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:05,155 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,156 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,156 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:41:05,156 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 14:41:05,156 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 14:41:05,194 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 14:41:05,194 Line:425 ************上述语句执行时间：39
 [DEBUG] 2017-12-29 14:41:05,194 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 14:41:05,195 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,195 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,196 Line:1270 0
 [DEBUG] 2017-12-29 14:41:05,196 Line:1270 update
 [DEBUG] 2017-12-29 14:41:05,196 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,278 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:41:05,278 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:41:05,279 Line:425 ************上述语句执行时间：84
 [DEBUG] 2017-12-29 14:41:05,279 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 14:41:05,280 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,280 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:41:05,280 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,282 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,282 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:41:05,282 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 14:41:05,283 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,283 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:05,284 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,284 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,284 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,284 Line:1270 delete
 [DEBUG] 2017-12-29 14:41:05,293 Line:425 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:41:05,296 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 14:41:05,297 Line:5993 1:1.0
 [DEBUG] 2017-12-29 14:41:05,297 Line:5993 2:BI1712290019
 [DEBUG] 2017-12-29 14:41:05,297 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 14:41:05,297 Line:5993 4:00003
 [DEBUG] 2017-12-29 14:41:05,297 Line:5993 5:00101
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 6:1
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 7:00001
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 8:3
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 9:0.0
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 10:0.0
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 11:0.0
 [DEBUG] 2017-12-29 14:41:05,298 Line:5993 12:0.0
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 13:0.0
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 14:
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 15:0.0
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 16:0.0
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 17:0.0
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 18:12
 [DEBUG] 2017-12-29 14:41:05,299 Line:5993 19:12
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 20:2017
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 21:
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 22:0.0
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 23:0.0
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 24:0.0
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 25:100.0
 [DEBUG] 2017-12-29 14:41:05,300 Line:5993 26:0.0
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 27:0.0
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 28:
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 29:1.0
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 30:1.0
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 31:1.0
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 32:0.0
 [DEBUG] 2017-12-29 14:41:05,301 Line:5993 33:1.0
 [DEBUG] 2017-12-29 14:41:05,302 Line:5993 34:
 [DEBUG] 2017-12-29 14:41:05,302 Line:5993 35:0ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,302 Line:5993 36:1.0
 [DEBUG] 2017-12-29 14:41:05,302 Line:5993 37:1.0
 [DEBUG] 2017-12-29 14:41:05,302 Line:5993 38:1
 [DEBUG] 2017-12-29 14:41:05,302 Line:5993 39:2017-12-29 14:41:04
 [DEBUG] 2017-12-29 14:41:05,310 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:41:05,312 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:41:05,313 Line:5853 1:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,313 Line:5853 2:ebcc3c1b_1712291441053120036
 [DEBUG] 2017-12-29 14:41:05,313 Line:5853 3:00001
 [DEBUG] 2017-12-29 14:41:05,313 Line:5853 4:
 [DEBUG] 2017-12-29 14:41:05,313 Line:5853 5:
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 6:
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 8:
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 9:
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 10:
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 11:
 [DEBUG] 2017-12-29 14:41:05,314 Line:5853 12:
 [DEBUG] 2017-12-29 14:41:05,315 Line:5853 13:
 [DEBUG] 2017-12-29 14:41:05,315 Line:5853 14:
 [DEBUG] 2017-12-29 14:41:05,315 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:41:05,315 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:41:05,315 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:41:05,315 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 19:0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:41:05,316 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:41:05,317 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 37:
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:41:05,318 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:41:05,319 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 47:0
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 50:
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 51:0.0
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 52:1.0
 [DEBUG] 2017-12-29 14:41:05,320 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:41:05,321 Line:5853 54:0
 [DEBUG] 2017-12-29 14:41:05,321 Line:5853 55:0
 [DEBUG] 2017-12-29 14:41:05,321 Line:5853 56:
 [DEBUG] 2017-12-29 14:41:05,321 Line:5853 57:0.0
 [DEBUG] 2017-12-29 14:41:05,321 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:41:05,321 Line:5853 59:
 [DEBUG] 2017-12-29 14:41:05,322 Line:5853 60:0.0
 [DEBUG] 2017-12-29 14:41:05,322 Line:5853 61:00001
 [DEBUG] 2017-12-29 14:41:05,329 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:41:05,332 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:41:05,333 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,333 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:41:05,334 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,334 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:41:05,335 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,335 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:41:05,335 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,336 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:41:05,337 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,337 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:41:05,338 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,338 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:41:05,339 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,340 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:41:05,340 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,340 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,342 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:41:05,344 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:41:05,345 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:05,345 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,346 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:41:05,346 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,346 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,346 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:41:05,350 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:41:05,350 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:05,351 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,351 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:41:05,351 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,351 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,352 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:41:05,355 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:41:05,355 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:05,356 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,357 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:41:05,357 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,357 Line:988 1值：false
 [DEBUG] 2017-12-29 14:41:05,357 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,362 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:41:05,362 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:41:05,362 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:41:05,363 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,363 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:41:05,363 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,364 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,368 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:41:05,369 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,370 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,370 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:41:05,370 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,370 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,373 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,373 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,374 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,374 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:41:05,375 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,375 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,377 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,378 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,379 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,379 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:41:05,380 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,380 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,385 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:41:05,385 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,386 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,386 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,387 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,387 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:41:05,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,387 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,392 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:41:05,392 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,393 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,393 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:41:05,402 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,402 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:41:05,403 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,403 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,405 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,405 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,406 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,406 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:41:05,407 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,407 Line:988 1值：1
 [DEBUG] 2017-12-29 14:41:05,407 Line:988 2值：0
 [DEBUG] 2017-12-29 14:41:05,407 Line:988 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,418 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:41:05,418 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:41:05,419 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-12-29 14:41:05,419 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:41:05,419 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,420 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:41:05,420 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,420 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,429 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:41:05,429 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,430 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,431 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:41:05,431 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,431 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,433 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:05,433 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:05,434 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,434 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:41:05,434 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,434 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,437 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,437 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:41:05,438 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,438 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:41:05,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,438 Line:988 1值：
 [DEBUG] 2017-12-29 14:41:05,438 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:41:05,441 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,441 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:41:05,441 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,442 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,442 Line:988 2值：
 [DEBUG] 2017-12-29 14:41:05,442 Line:988 3值：
 [DEBUG] 2017-12-29 14:41:05,442 Line:988 4值：
 [DEBUG] 2017-12-29 14:41:05,446 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:41:05,447 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:41:05,447 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,448 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:05,448 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,448 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:41:05,449 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,449 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:41:05,450 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,450 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:41:05,450 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,451 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:41:05,451 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:41:05,452 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,455 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,455 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:41:05,455 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:41:05,455 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:41:05,456 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,456 Line:1157 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,461 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,462 Line:229 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:41:05,462 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:41:05,462 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,462 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,468 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,468 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:41:05,469 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:41:05,469 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,471 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,471 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:41:05,472 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:41:05,472 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,475 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,475 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:41:05,475 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:41:05,476 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,476 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:41:05,477 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,477 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,480 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,480 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:41:05,480 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:41:05,481 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,481 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:41:05,482 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,482 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,483 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,483 Line:1270 add
 [DEBUG] 2017-12-29 14:41:05,484 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:41:05,484 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:41:05,485 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,486 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:41:05,486 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,495 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:41:05,496 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:41:05,496 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:41:05,496 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,505 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:41:05,506 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:41:05,506 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:41:05,508 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,508 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:41:05,509 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,509 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:41:05,510 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,518 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:41:05,519 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,519 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:41:05,520 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,520 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:41:05,520 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,521 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:41:05,521 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,521 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:41:05,522 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,522 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:05,523 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,523 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:41:05,523 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,526 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:41:05,526 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:41:05,527 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:05,527 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,528 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,528 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,528 Line:1270 add
 [DEBUG] 2017-12-29 14:41:05,530 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:41:05,531 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:41:05,531 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,532 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:41:05,532 Line:1270 12
 [DEBUG] 2017-12-29 14:41:05,532 Line:1270 2017
 [DEBUG] 2017-12-29 14:41:05,532 Line:1270 12
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:41:05,533 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 1
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 1
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 2017-12-29 14:41:04
 [DEBUG] 2017-12-29 14:41:05,534 Line:1270 00001
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 00003
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 1
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 00101
 [DEBUG] 2017-12-29 14:41:05,535 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 0
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:41:05,536 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:41:05,537 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:41:05,537 Line:1270 f_ref='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:41:05,654 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291427414080031','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:27:41','2017-12-29 14:41:04','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291427414080031' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:41:05,655 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:41:05,655 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:41:05,655 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:41:05,655 Line:425 ************上述语句执行时间：123
 [DEBUG] 2017-12-29 14:41:05,655 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:41:05,656 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,656 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:05,657 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,658 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:41:05,658 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,660 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:05,660 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:41:05,661 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,661 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:41:05,661 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,662 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 14:41:05,662 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,663 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,663 Line:1270 zh_CN
 [DEBUG] 2017-12-29 14:41:05,663 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,663 Line:1270 00001
 [DEBUG] 2017-12-29 14:41:05,663 Line:1270 1
 [DEBUG] 2017-12-29 14:41:05,782 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ebcc3c1b_1712291427414080031') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ebcc3c1b_1712291427414080031') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 14:41:05,782 Line:425 ************上述语句执行时间：120
 [DEBUG] 2017-12-29 14:41:05,782 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:41:05,782 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,782 Line:988 1值：1
 [DEBUG] 2017-12-29 14:41:05,783 Line:988 2值：0
 [DEBUG] 2017-12-29 14:41:05,783 Line:988 3值：1
 [DEBUG] 2017-12-29 14:41:05,783 Line:988 4值：0
 [DEBUG] 2017-12-29 14:41:05,783 Line:988 5值：0
 [DEBUG] 2017-12-29 14:41:05,783 Line:988 6值：1
 [DEBUG] 2017-12-29 14:41:05,784 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:05,784 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:05,785 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:41:05,785 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,785 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:41:05,785 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,791 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:41:05,794 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:41:05,802 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,809 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,816 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,822 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,829 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,836 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,847 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:05,855 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:41:05,898 Line:434 ************上述语句执行时间：112
 [DEBUG] 2017-12-29 14:41:05,898 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:41:05,899 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,899 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,899 Line:1270 1ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,899 Line:1270 00003
 [DEBUG] 2017-12-29 14:41:05,899 Line:1270 1
 [DEBUG] 2017-12-29 14:41:05,900 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:41:05,900 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291427414080031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:27:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:41:04@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:41:05,926 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291427414080031',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291427414080031','','1','0','1','1','2017-12-29 14:27:41','1','2017-12-29 14:41:04','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:41:05,926 Line:425 ************上述语句执行时间：27
 [DEBUG] 2017-12-29 14:41:05,927 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:41:05,927 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,928 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:41:05,928 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,928 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:41:05,930 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,930 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:41:05,930 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,931 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:41:05,931 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,931 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:41:05,932 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,932 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:41:05,932 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,932 Line:988 1值：1
 [DEBUG] 2017-12-29 14:41:05,933 Line:988 2值：0
 [DEBUG] 2017-12-29 14:41:05,933 Line:988 3值：1
 [DEBUG] 2017-12-29 14:41:05,933 Line:988 4值：0
 [DEBUG] 2017-12-29 14:41:05,933 Line:988 5值：0
 [DEBUG] 2017-12-29 14:41:05,933 Line:988 6值：0
 [DEBUG] 2017-12-29 14:41:05,934 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:05,935 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:41:05,935 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:41:05,935 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:05,935 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:41:05,936 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,936 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:41:05,937 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,937 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:41:05,938 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,938 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:41:05,938 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:05,938 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:05,939 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,939 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:05,940 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:05,941 Line:1270 add
 [DEBUG] 2017-12-29 14:41:05,943 Line:425 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:41:05,943 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:41:05,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:05,944 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:41:05,945 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:41:05,945 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:41:05,945 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:41:05,945 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:41:05,945 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:41:05,945 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:05,946 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:41:05,946 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:05,947 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 14:41:11,908 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2017-12-29 14:41:11,909 Line:443 ************上述语句执行时间：5963
 [DEBUG] 2017-12-29 14:41:13,387 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=ebcc3c1b_1712291427414080031&parentCode=null&f_brother=&draftQuery=&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:41:13,388 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[ebcc3c1b_1712291427414080031,];parentCode=[null,];f_brother=[,];draftQuery=[,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:41:13,389 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ebcc3c1b_1712291427414080031' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 14:41:13,414 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:41:13,423 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:41:32,088 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:41:32,090 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ebcc3c1b_1712291427414080031,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ebcc3c1b_1712291427414080031,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ebcc3c1b_1712291427414080031,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 14:27:41,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 14:41:04,];createBy=[1,];createTime=[2017-12-29 14:27:41,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ebcc3c1b_1712291441053120036,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:41:32,096 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:41:32,098 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:41:32,102 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,104 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 14:41:32,111 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,111 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,111 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,111 Line:1270 delete
 [DEBUG] 2017-12-29 14:41:32,112 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,113 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 14:41:32,113 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,114 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 14:41:32,114 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,114 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 14:41:32,115 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,115 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 14:41:32,115 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,115 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:41:32,116 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,118 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 14:41:32,119 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,119 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,119 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,120 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,120 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,121 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,121 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 14:41:32,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,122 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,122 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,123 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,123 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,123 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,124 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,124 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,124 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,125 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,125 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,125 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,126 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,126 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,126 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,126 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,127 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,127 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 14:41:32,127 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,128 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,128 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,129 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,129 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,129 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,130 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,130 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,130 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,131 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,131 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,132 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,132 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,132 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,133 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,133 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,134 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,134 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,134 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,134 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,135 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,135 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,136 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,136 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,136 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,136 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,137 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,137 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,138 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,138 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:41:32,138 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,139 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,139 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,140 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,140 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,141 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 14:41:32,141 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,141 Line:988 1值：0
 [DEBUG] 2017-12-29 14:41:32,142 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,142 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,142 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,143 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,143 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 14:41:32,143 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,143 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,144 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 14:41:32,144 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 14:41:32,144 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:32,145 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 14:41:32,145 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 14:41:32,145 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:32,145 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 14:41:32,146 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,146 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:32,146 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,147 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,147 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,147 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:41:32,147 Line:1270 1
 [DEBUG] 2017-12-29 14:41:32,149 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:41:32,149 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 14:41:32,150 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,150 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:32,151 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,151 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,151 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,151 Line:1270 delete
 [DEBUG] 2017-12-29 14:41:32,152 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,152 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:32,153 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,154 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,154 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:41:32,154 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 14:41:32,154 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 14:41:32,156 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 14:41:32,156 Line:425 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:41:32,157 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 14:41:32,157 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,158 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,158 Line:1270 0
 [DEBUG] 2017-12-29 14:41:32,158 Line:1270 update
 [DEBUG] 2017-12-29 14:41:32,158 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,163 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:41:32,163 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:41:32,163 Line:425 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:41:32,163 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 14:41:32,164 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,164 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:41:32,164 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,165 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,165 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,165 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 14:41:32,166 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,166 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:41:32,166 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,167 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,167 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,167 Line:1270 delete
 [DEBUG] 2017-12-29 14:41:32,169 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:41:32,170 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 14:41:32,171 Line:5993 1:1.0
 [DEBUG] 2017-12-29 14:41:32,171 Line:5993 2:BI1712290019
 [DEBUG] 2017-12-29 14:41:32,172 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 14:41:32,172 Line:5993 4:00003
 [DEBUG] 2017-12-29 14:41:32,172 Line:5993 5:00101
 [DEBUG] 2017-12-29 14:41:32,172 Line:5993 6:1
 [DEBUG] 2017-12-29 14:41:32,172 Line:5993 7:00001
 [DEBUG] 2017-12-29 14:41:32,172 Line:5993 8:3
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 9:0.0
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 10:0.0
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 11:0.0
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 12:0.0
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 13:0.0
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 14:
 [DEBUG] 2017-12-29 14:41:32,173 Line:5993 15:0.0
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 16:0.0
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 17:0.0
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 18:12
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 19:12
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 20:2017
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 21:
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 22:0.0
 [DEBUG] 2017-12-29 14:41:32,174 Line:5993 23:0.0
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 24:0.0
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 25:100.0
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 26:0.0
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 27:0.0
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 28:
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 29:1.0
 [DEBUG] 2017-12-29 14:41:32,175 Line:5993 30:1.0
 [DEBUG] 2017-12-29 14:41:32,176 Line:5993 31:1.0
 [DEBUG] 2017-12-29 14:41:32,176 Line:5993 32:0.0
 [DEBUG] 2017-12-29 14:41:32,176 Line:5993 33:1.0
 [DEBUG] 2017-12-29 14:41:32,176 Line:5993 34:
 [DEBUG] 2017-12-29 14:41:32,176 Line:5993 35:0ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,176 Line:5993 36:1.0
 [DEBUG] 2017-12-29 14:41:32,177 Line:5993 37:1.0
 [DEBUG] 2017-12-29 14:41:32,177 Line:5993 38:1
 [DEBUG] 2017-12-29 14:41:32,177 Line:5993 39:2017-12-29 14:41:32
 [DEBUG] 2017-12-29 14:41:32,178 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:41:32,178 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:41:32,178 Line:5853 1:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 2:ebcc3c1b_1712291441321780040
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 3:00001
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 4:
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 5:
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 6:
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:41:32,179 Line:5853 8:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 9:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 10:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 11:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 12:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 13:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 14:
 [DEBUG] 2017-12-29 14:41:32,180 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 19:0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:41:32,181 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:41:32,182 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:41:32,183 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:41:32,183 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:41:32,183 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:41:32,183 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:41:32,183 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:41:32,183 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:41:32,184 Line:5853 37:
 [DEBUG] 2017-12-29 14:41:32,185 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:41:32,185 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:41:32,185 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 47:0
 [DEBUG] 2017-12-29 14:41:32,186 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 50:
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 51:0.0
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 52:1.0
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 54:0
 [DEBUG] 2017-12-29 14:41:32,187 Line:5853 55:0
 [DEBUG] 2017-12-29 14:41:32,188 Line:5853 56:
 [DEBUG] 2017-12-29 14:41:32,188 Line:5853 57:0.0
 [DEBUG] 2017-12-29 14:41:32,188 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:41:32,188 Line:5853 59:
 [DEBUG] 2017-12-29 14:41:32,188 Line:5853 60:0.0
 [DEBUG] 2017-12-29 14:41:32,188 Line:5853 61:00001
 [DEBUG] 2017-12-29 14:41:32,189 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:41:32,190 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:41:32,191 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,192 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:41:32,193 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,193 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:41:32,194 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,194 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:41:32,194 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,195 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:41:32,195 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,195 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:41:32,196 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,196 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:41:32,197 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,197 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:41:32,198 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,198 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,198 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:41:32,198 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,199 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,199 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,200 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:41:32,200 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,200 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,200 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:41:32,201 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,201 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,202 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,203 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:41:32,203 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,203 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,203 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:41:32,204 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,204 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,204 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,205 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:41:32,205 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,205 Line:988 1值：false
 [DEBUG] 2017-12-29 14:41:32,205 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,206 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:41:32,206 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,206 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:41:32,206 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,207 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:41:32,207 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,207 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,208 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,208 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,208 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,214 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:41:32,214 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,214 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,215 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,215 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,219 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,219 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:41:32,220 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,220 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,220 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,221 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,221 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,222 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:41:32,222 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,222 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,223 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,223 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,225 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,225 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,226 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,226 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:41:32,226 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,226 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,227 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,227 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,228 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,228 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:41:32,229 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,229 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:41:32,229 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,229 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,230 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,230 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,231 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,231 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:41:32,231 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,232 Line:988 1值：1
 [DEBUG] 2017-12-29 14:41:32,232 Line:988 2值：0
 [DEBUG] 2017-12-29 14:41:32,232 Line:988 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,233 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:41:32,233 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:41:32,234 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:32,235 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:41:32,235 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,236 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:41:32,236 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,236 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,237 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,237 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,238 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,238 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:41:32,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,239 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,239 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,240 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,241 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,241 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:41:32,241 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,241 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,242 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,242 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:41:32,243 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,243 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:41:32,243 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,243 Line:988 1值：
 [DEBUG] 2017-12-29 14:41:32,243 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:41:32,244 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,244 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:41:32,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,245 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,245 Line:988 2值：
 [DEBUG] 2017-12-29 14:41:32,245 Line:988 3值：
 [DEBUG] 2017-12-29 14:41:32,245 Line:988 4值：
 [DEBUG] 2017-12-29 14:41:32,246 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:32,246 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:41:32,247 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,247 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:41:32,248 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,248 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:41:32,249 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,249 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:41:32,250 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,250 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:41:32,250 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,251 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:41:32,251 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:41:32,252 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,252 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,252 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,252 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:41:32,252 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:41:32,253 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,253 Line:1157 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,253 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,253 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,253 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:41:32,254 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,254 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,254 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,254 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,255 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:41:32,255 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,255 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,255 Line:229 ************上述语句执行时间：0
 [DEBUG] 2017-12-29 14:41:32,255 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:41:32,256 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,256 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,256 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,256 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:41:32,257 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,257 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:41:32,257 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,258 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,258 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,258 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,258 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:41:32,259 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,259 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:41:32,260 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,260 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,260 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,261 Line:1270 add
 [DEBUG] 2017-12-29 14:41:32,261 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,262 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:41:32,262 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,262 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:41:32,263 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,263 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:41:32,263 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,264 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:41:32,264 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,264 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:41:32,264 Line:408 ************上述语句执行时间：0
 [DEBUG] 2017-12-29 14:41:32,265 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:41:32,265 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,265 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:41:32,266 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,266 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:41:32,267 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,268 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:41:32,269 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,269 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:41:32,269 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,270 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:41:32,270 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,270 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:41:32,271 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,271 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:41:32,271 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,272 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:32,272 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,272 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:41:32,272 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,273 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:41:32,273 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,273 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:32,274 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,274 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,274 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,274 Line:1270 add
 [DEBUG] 2017-12-29 14:41:32,275 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,275 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:41:32,276 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,276 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 12
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 2017
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 12
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,277 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 1
 [DEBUG] 2017-12-29 14:41:32,278 Line:1270 1
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 2017-12-29 14:41:32
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 00001
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:41:32,279 Line:1270 00003
 [DEBUG] 2017-12-29 14:41:32,280 Line:1270 1
 [DEBUG] 2017-12-29 14:41:32,280 Line:1270 00101
 [DEBUG] 2017-12-29 14:41:32,280 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:41:32,280 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:41:32,280 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:41:32,280 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:41:32,281 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:41:32,281 Line:1270 0
 [DEBUG] 2017-12-29 14:41:32,281 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:41:32,281 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:41:32,281 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:41:32,281 Line:1270 f_ref='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:41:32,288 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291427414080031','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:27:41','2017-12-29 14:41:32','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291427414080031' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:41:32,288 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:41:32,289 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:41:32,289 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:41:32,289 Line:425 ************上述语句执行时间：13
 [DEBUG] 2017-12-29 14:41:32,289 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:41:32,290 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,290 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:32,290 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,291 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:41:32,291 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,292 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:41:32,292 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:41:32,293 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,293 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:41:32,294 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,294 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 14:41:32,294 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,295 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,295 Line:1270 zh_CN
 [DEBUG] 2017-12-29 14:41:32,295 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,295 Line:1270 00001
 [DEBUG] 2017-12-29 14:41:32,295 Line:1270 1
 [DEBUG] 2017-12-29 14:41:32,298 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ebcc3c1b_1712291427414080031') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ebcc3c1b_1712291427414080031') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 14:41:32,299 Line:425 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:41:32,299 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:41:32,299 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,299 Line:988 1值：1
 [DEBUG] 2017-12-29 14:41:32,300 Line:988 2值：0
 [DEBUG] 2017-12-29 14:41:32,300 Line:988 3值：1
 [DEBUG] 2017-12-29 14:41:32,300 Line:988 4值：0
 [DEBUG] 2017-12-29 14:41:32,301 Line:988 5值：0
 [DEBUG] 2017-12-29 14:41:32,301 Line:988 6值：1
 [DEBUG] 2017-12-29 14:41:32,302 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:32,302 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:32,302 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:41:32,302 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:41:32,302 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:41:32,303 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,305 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:41:32,305 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:41:32,306 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,307 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,307 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,308 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,308 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,309 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,309 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:41:32,310 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:41:32,317 Line:434 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 14:41:32,317 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:41:32,318 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,319 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,319 Line:1270 1ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,319 Line:1270 00003
 [DEBUG] 2017-12-29 14:41:32,319 Line:1270 1
 [DEBUG] 2017-12-29 14:41:32,319 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:41:32,319 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291427414080031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:27:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:41:32@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:41:32,322 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291427414080031',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291427414080031','','1','0','1','1','2017-12-29 14:27:41','1','2017-12-29 14:41:32','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:41:32,322 Line:425 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:41:32,322 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:41:32,323 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,323 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:41:32,324 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,324 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:41:32,325 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,325 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:41:32,325 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,325 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:41:32,326 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,326 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:41:32,327 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,327 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:41:32,327 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,327 Line:988 1值：1
 [DEBUG] 2017-12-29 14:41:32,327 Line:988 2值：0
 [DEBUG] 2017-12-29 14:41:32,327 Line:988 3值：1
 [DEBUG] 2017-12-29 14:41:32,328 Line:988 4值：0
 [DEBUG] 2017-12-29 14:41:32,328 Line:988 5值：0
 [DEBUG] 2017-12-29 14:41:32,328 Line:988 6值：0
 [DEBUG] 2017-12-29 14:41:32,329 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:41:32,329 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:41:32,329 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:41:32,329 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:32,329 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:41:32,330 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,330 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:41:32,330 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,331 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:41:32,331 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,331 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:41:32,332 Line:321 flag:false
 [DEBUG] 2017-12-29 14:41:32,332 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:41:32,332 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,333 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:41:32,333 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:41:32,333 Line:1270 add
 [DEBUG] 2017-12-29 14:41:32,334 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:41:32,334 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:41:32,334 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:41:32,335 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:41:32,335 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:41:32,335 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:41:32,335 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:41:32,335 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:41:32,336 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:41:32,336 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:41:32,336 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:41:32,337 Line:321 flag:true
 [DEBUG] 2017-12-29 14:41:32,337 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 14:42:25,450 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2017-12-29 14:42:25,452 Line:443 ************上述语句执行时间：53115
 [DEBUG] 2017-12-29 14:42:26,992 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=ebcc3c1b_1712291427414080031&parentCode=null&f_brother=&draftQuery=&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:42:26,993 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[ebcc3c1b_1712291427414080031,];parentCode=[null,];f_brother=[,];draftQuery=[,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:42:26,994 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ebcc3c1b_1712291427414080031' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 14:42:27,088 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:42:27,096 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:42:38,199 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:42:38,201 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ebcc3c1b_1712291427414080031,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ebcc3c1b_1712291427414080031,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ebcc3c1b_1712291427414080031,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 14:27:41,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 14:41:32,];createBy=[1,];createTime=[2017-12-29 14:27:41,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ebcc3c1b_1712291441321780040,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:42:38,208 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:42:38,212 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:42:38,224 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,227 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 14:42:38,231 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,231 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,231 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,231 Line:1270 delete
 [DEBUG] 2017-12-29 14:42:38,298 Line:425 ************上述语句执行时间：67
 [DEBUG] 2017-12-29 14:42:38,298 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 14:42:38,298 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,299 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 14:42:38,299 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,299 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 14:42:38,300 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,302 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 14:42:38,302 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:42:38,302 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:42:38,303 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,303 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 14:42:38,304 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,304 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,304 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,305 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,310 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:42:38,310 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,311 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,311 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 14:42:38,312 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,312 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,312 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,313 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,313 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,313 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,314 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,314 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,319 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:42:38,320 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,320 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,321 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,321 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,321 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,322 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,322 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,322 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,323 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 14:42:38,323 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,323 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,324 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,324 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,325 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,325 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,325 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,326 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,327 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:38,328 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,329 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,329 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,329 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,329 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,334 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:42:38,335 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,336 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,336 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,336 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,336 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,339 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:42:38,339 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,340 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,340 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,340 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,340 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,343 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:42:38,343 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,344 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,344 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:42:38,344 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,344 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,346 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:38,346 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,347 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,347 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 14:42:38,347 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,347 Line:988 1值：0
 [DEBUG] 2017-12-29 14:42:38,348 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,348 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,348 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,349 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,349 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 14:42:38,349 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,349 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,350 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 14:42:38,350 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 14:42:38,351 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:42:38,351 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 14:42:38,351 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 14:42:38,351 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:38,351 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 14:42:38,352 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,352 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:42:38,353 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,353 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,353 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,353 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:42:38,354 Line:1270 1
 [DEBUG] 2017-12-29 14:42:38,464 Line:425 ************上述语句执行时间：111
 [DEBUG] 2017-12-29 14:42:38,464 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 14:42:38,465 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,465 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:42:38,466 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,466 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,466 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,466 Line:1270 delete
 [DEBUG] 2017-12-29 14:42:38,510 Line:425 ************上述语句执行时间：44
 [DEBUG] 2017-12-29 14:42:38,510 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:42:38,511 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,511 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,512 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:42:38,518 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 14:42:38,518 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 14:42:38,556 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 14:42:38,556 Line:425 ************上述语句执行时间：45
 [DEBUG] 2017-12-29 14:42:38,556 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 14:42:38,560 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,560 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,560 Line:1270 0
 [DEBUG] 2017-12-29 14:42:38,561 Line:1270 update
 [DEBUG] 2017-12-29 14:42:38,561 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,636 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:42:38,636 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:42:38,636 Line:425 ************上述语句执行时间：76
 [DEBUG] 2017-12-29 14:42:38,636 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 14:42:38,637 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,637 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:42:38,638 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,639 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,639 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:42:38,640 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 14:42:38,640 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,641 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:42:38,641 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,641 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,642 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,642 Line:1270 delete
 [DEBUG] 2017-12-29 14:42:38,651 Line:425 ************上述语句执行时间：10
 [DEBUG] 2017-12-29 14:42:38,651 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 14:42:38,652 Line:5993 1:1.0
 [DEBUG] 2017-12-29 14:42:38,652 Line:5993 2:BI1712290019
 [DEBUG] 2017-12-29 14:42:38,652 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 14:42:38,652 Line:5993 4:00003
 [DEBUG] 2017-12-29 14:42:38,652 Line:5993 5:00101
 [DEBUG] 2017-12-29 14:42:38,652 Line:5993 6:1
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 7:00001
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 8:3
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 9:0.0
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 10:0.0
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 11:0.0
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 12:0.0
 [DEBUG] 2017-12-29 14:42:38,653 Line:5993 13:0.0
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 14:
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 15:0.0
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 16:0.0
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 17:0.0
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 18:12
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 19:12
 [DEBUG] 2017-12-29 14:42:38,654 Line:5993 20:2017
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 21:
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 22:0.0
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 23:0.0
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 24:0.0
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 25:100.0
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 26:0.0
 [DEBUG] 2017-12-29 14:42:38,655 Line:5993 27:0.0
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 28:
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 29:1.0
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 30:1.0
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 31:1.0
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 32:0.0
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 33:1.0
 [DEBUG] 2017-12-29 14:42:38,656 Line:5993 34:
 [DEBUG] 2017-12-29 14:42:38,657 Line:5993 35:0ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,657 Line:5993 36:1.0
 [DEBUG] 2017-12-29 14:42:38,657 Line:5993 37:1.0
 [DEBUG] 2017-12-29 14:42:38,657 Line:5993 38:1
 [DEBUG] 2017-12-29 14:42:38,657 Line:5993 39:2017-12-29 14:42:38
 [DEBUG] 2017-12-29 14:42:38,663 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:42:38,665 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:42:38,665 Line:5853 1:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,665 Line:5853 2:ebcc3c1b_1712291442386650044
 [DEBUG] 2017-12-29 14:42:38,665 Line:5853 3:00001
 [DEBUG] 2017-12-29 14:42:38,665 Line:5853 4:
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 5:
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 6:
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 8:
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 9:
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 10:
 [DEBUG] 2017-12-29 14:42:38,666 Line:5853 11:
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 12:
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 13:
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 14:
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:42:38,667 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 19:0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:42:38,668 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:42:38,669 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:42:38,669 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:42:38,669 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:42:38,669 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:42:38,669 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:42:38,669 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 37:
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:42:38,670 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:42:38,671 Line:5853 47:0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 50:
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 51:0.0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 52:1.0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 54:0
 [DEBUG] 2017-12-29 14:42:38,672 Line:5853 55:0
 [DEBUG] 2017-12-29 14:42:38,673 Line:5853 56:
 [DEBUG] 2017-12-29 14:42:38,673 Line:5853 57:0.0
 [DEBUG] 2017-12-29 14:42:38,673 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:42:38,673 Line:5853 59:
 [DEBUG] 2017-12-29 14:42:38,673 Line:5853 60:0.0
 [DEBUG] 2017-12-29 14:42:38,673 Line:5853 61:00001
 [DEBUG] 2017-12-29 14:42:38,677 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:42:38,678 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:42:38,679 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,679 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:42:38,680 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,680 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:42:38,681 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,681 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:42:38,682 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,682 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:42:38,682 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,683 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:42:38,683 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,683 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:42:38,684 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,685 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:42:38,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,686 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,687 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:42:38,688 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:42:38,689 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,690 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,690 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:42:38,690 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,690 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,691 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:42:38,691 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,691 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,692 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,692 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:42:38,692 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,693 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,693 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:42:38,693 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,693 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,694 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,694 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:42:38,694 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,695 Line:988 1值：false
 [DEBUG] 2017-12-29 14:42:38,695 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,695 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:42:38,695 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,696 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:42:38,696 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,696 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:42:38,697 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,697 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,697 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,698 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,698 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,698 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:42:38,699 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,699 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,699 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,700 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,700 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,701 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:42:38,702 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,702 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,703 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:38,703 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,703 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,704 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:42:38,704 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,704 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,704 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-29 14:42:38,705 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,705 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,706 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,706 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,706 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:42:38,706 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,707 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,707 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,707 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,708 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,708 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:42:38,708 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,709 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:42:38,709 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,709 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,710 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,710 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,710 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,710 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:42:38,711 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,711 Line:988 1值：1
 [DEBUG] 2017-12-29 14:42:38,711 Line:988 2值：0
 [DEBUG] 2017-12-29 14:42:38,711 Line:988 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,721 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:42:38,721 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:42:38,721 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-29 14:42:38,721 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:42:38,722 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,722 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:42:38,722 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,723 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,724 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:38,724 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,725 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,725 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:42:38,726 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,726 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,726 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,727 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,727 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,727 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:42:38,728 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,728 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,729 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,729 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:42:38,729 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,730 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:42:38,730 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,730 Line:988 1值：
 [DEBUG] 2017-12-29 14:42:38,730 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:42:38,731 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,731 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:42:38,731 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,731 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,732 Line:988 2值：
 [DEBUG] 2017-12-29 14:42:38,732 Line:988 3值：
 [DEBUG] 2017-12-29 14:42:38,732 Line:988 4值：
 [DEBUG] 2017-12-29 14:42:38,732 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,733 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:42:38,733 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,733 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:42:38,734 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,734 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:42:38,735 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,735 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:42:38,735 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,735 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:42:38,736 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,737 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:42:38,737 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:42:38,737 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,741 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,741 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:42:38,741 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:42:38,741 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:42:38,741 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,741 Line:1157 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,747 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,747 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:42:38,748 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:42:38,748 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,748 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,753 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,754 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:42:38,754 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:42:38,754 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,756 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,756 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:42:38,757 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:42:38,757 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,760 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,760 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:42:38,760 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:42:38,761 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,761 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:42:38,761 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,762 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,765 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,765 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:42:38,765 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:42:38,766 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,766 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:42:38,767 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,767 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,768 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,768 Line:1270 add
 [DEBUG] 2017-12-29 14:42:38,769 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:42:38,769 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:42:38,770 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,770 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:42:38,770 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,778 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:42:38,778 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:42:38,778 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:42:38,779 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,786 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:42:38,787 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 14:42:38,787 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:42:38,788 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,788 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:42:38,788 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,789 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:42:38,789 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,794 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:42:38,795 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,795 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:42:38,796 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,796 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:42:38,796 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,797 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:42:38,797 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,797 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:42:38,798 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,798 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:42:38,798 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,799 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:42:38,799 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,801 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:42:38,801 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:42:38,801 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:42:38,802 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,802 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,802 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,803 Line:1270 add
 [DEBUG] 2017-12-29 14:42:38,804 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:42:38,804 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:42:38,805 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,806 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:42:38,806 Line:1270 12
 [DEBUG] 2017-12-29 14:42:38,807 Line:1270 2017
 [DEBUG] 2017-12-29 14:42:38,807 Line:1270 12
 [DEBUG] 2017-12-29 14:42:38,807 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:42:38,807 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:42:38,807 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:42:38,808 Line:1270 1
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 1
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 2017-12-29 14:42:38
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 00001
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:42:38,809 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 00003
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 1
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 00101
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:42:38,810 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:42:38,811 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:42:38,811 Line:1270 0
 [DEBUG] 2017-12-29 14:42:38,811 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:42:38,811 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:42:38,811 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:42:38,811 Line:1270 f_ref='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:42:38,922 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291427414080031','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:27:41','2017-12-29 14:42:38','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291427414080031' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:42:38,923 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:42:38,923 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:42:38,923 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:42:38,923 Line:425 ************上述语句执行时间：117
 [DEBUG] 2017-12-29 14:42:38,923 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:42:38,924 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,925 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:42:38,927 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,927 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:42:38,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:38,928 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:38,928 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:42:38,929 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,929 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:42:38,929 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:38,929 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 14:42:38,930 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:38,930 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:38,930 Line:1270 zh_CN
 [DEBUG] 2017-12-29 14:42:38,931 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:38,931 Line:1270 00001
 [DEBUG] 2017-12-29 14:42:38,931 Line:1270 1
 [DEBUG] 2017-12-29 14:42:39,036 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ebcc3c1b_1712291427414080031') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ebcc3c1b_1712291427414080031') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 14:42:39,036 Line:425 ************上述语句执行时间：106
 [DEBUG] 2017-12-29 14:42:39,037 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:42:39,037 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:39,037 Line:988 1值：1
 [DEBUG] 2017-12-29 14:42:39,037 Line:988 2值：0
 [DEBUG] 2017-12-29 14:42:39,037 Line:988 3值：1
 [DEBUG] 2017-12-29 14:42:39,037 Line:988 4值：0
 [DEBUG] 2017-12-29 14:42:39,038 Line:988 5值：0
 [DEBUG] 2017-12-29 14:42:39,038 Line:988 6值：1
 [DEBUG] 2017-12-29 14:42:39,038 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:42:39,038 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:42:39,039 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:42:39,039 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:39,039 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:42:39,040 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:39,042 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:42:39,043 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:42:39,044 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,045 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,047 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,048 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,049 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,050 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,052 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:42:39,053 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:42:39,091 Line:434 ************上述语句执行时间：51
 [DEBUG] 2017-12-29 14:42:39,092 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:42:39,092 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:39,093 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:39,093 Line:1270 1ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:39,093 Line:1270 00003
 [DEBUG] 2017-12-29 14:42:39,093 Line:1270 1
 [DEBUG] 2017-12-29 14:42:39,094 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:42:39,094 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291427414080031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:27:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:42:38@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:42:39,122 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291427414080031',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291427414080031','','1','0','1','1','2017-12-29 14:27:41','1','2017-12-29 14:42:38','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:42:39,122 Line:425 ************上述语句执行时间：29
 [DEBUG] 2017-12-29 14:42:39,122 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:42:39,123 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,123 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:42:39,124 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,124 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:42:39,124 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,125 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:42:39,125 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,125 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:42:39,126 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,126 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:42:39,127 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,127 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:42:39,127 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:39,127 Line:988 1值：1
 [DEBUG] 2017-12-29 14:42:39,127 Line:988 2值：0
 [DEBUG] 2017-12-29 14:42:39,127 Line:988 3值：1
 [DEBUG] 2017-12-29 14:42:39,128 Line:988 4值：0
 [DEBUG] 2017-12-29 14:42:39,128 Line:988 5值：0
 [DEBUG] 2017-12-29 14:42:39,128 Line:988 6值：0
 [DEBUG] 2017-12-29 14:42:39,128 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:42:39,129 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:42:39,129 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:42:39,129 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:42:39,129 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:42:39,130 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,130 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:42:39,130 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,131 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:42:39,131 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,131 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:42:39,132 Line:321 flag:false
 [DEBUG] 2017-12-29 14:42:39,132 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:42:39,132 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:39,133 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:42:39,133 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:42:39,133 Line:1270 add
 [DEBUG] 2017-12-29 14:42:39,134 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:42:39,135 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:42:39,135 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:42:39,135 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:42:39,135 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:42:39,136 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:42:39,136 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:42:39,136 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:42:39,136 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:42:39,136 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:42:39,136 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:42:39,137 Line:321 flag:true
 [DEBUG] 2017-12-29 14:42:39,137 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 14:42:51,013 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2017-12-29 14:42:51,014 Line:443 ************上述语句执行时间：11877
 [DEBUG] 2017-12-29 14:42:52,483 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=ebcc3c1b_1712291427414080031&parentCode=null&f_brother=&draftQuery=&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:42:52,484 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[ebcc3c1b_1712291427414080031,];parentCode=[null,];f_brother=[,];draftQuery=[,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:42:52,485 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ebcc3c1b_1712291427414080031' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 14:42:52,501 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:42:52,510 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:44:04,010 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-29 14:44:04,011 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-29 14:44:04,021 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-29 14:44:11,316 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：203
 [INFO ] 2017-12-29 14:44:11,404 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-29 14:44:15,951 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-29 14:44:16,259 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-29 14:44:16,274 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-29 14:44:16,279 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-29 14:44:16,284 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-29 14:44:16,302 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-29 14:44:16,314 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-29 14:44:17,454 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 14:44:17,478 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-29 14:44:17,507 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-29 14:44:17,519 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-29 14:44:18,449 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-29 14:44:18,449 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-29 14:44:19,003 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-29 14:44:19,095 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-29 14:44:20,044 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-29 14:44:20,095 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-29 14:44:20,103 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-29 14:44:20,123 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-29 14:44:20,149 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-29 14:44:20,158 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-29 14:44:20,216 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-29 14:44:23,632 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-29 14:44:23,919 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,921 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,924 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,926 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,929 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,931 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,935 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,937 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,939 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,942 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:23,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,018 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,038 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,105 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,107 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,110 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,112 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,155 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,157 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,162 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,164 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,166 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,191 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,229 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,232 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,235 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,237 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,240 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,242 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,300 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,302 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,304 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,363 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,393 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,433 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,436 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,438 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:44:24,457 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 14:44:24,477 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-29 14:44:24,535 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-29 14:44:25,226 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-29 14:44:25,227 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-29 14:44:26,731 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-30 00:00:00
 [INFO ] 2017-12-29 14:44:26,732 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-29 14:44:55,251 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:44:55,254 Line:146 BaseAction.execute 操作人:;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ebcc3c1b_1712291427414080031,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ebcc3c1b_1712291427414080031,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ebcc3c1b_1712291427414080031,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 14:27:41,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 14:42:38,];createBy=[1,];createTime=[2017-12-29 14:27:41,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ebcc3c1b_1712291442386650044,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:44:59,241 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2017-12-29 14:44:59,243 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 14:44:59,244 Line:243 AIOApi op=LOGIN&sessionid=8645AD147AFB6A51D4E500CDBAF6BF76
 [DEBUG] 2017-12-29 14:44:59,315 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:44:59,356 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 14:44:59,377 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 14:44:59,525 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2017-12-29 14:44:59,570 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:44:59,574 Line:146 BaseAction.execute 操作人:admin;请求数据：approveStatus=[transing,];PeriodYear=[2017,];parentTableName=[,];CurrencyRate=[1,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_Hue=[,];FactOutcome=[0,];tblBuyInStockDet_Discount=[100,];CheckPersont=[,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];deliverTo=[,];tableName=[tblBuyInStock,];Remark=[,];PayDate=[,];pageNo=[1,];Currency=[,];popWinName=[PopMainOpdiv,];id=[ebcc3c1b_1712291427414080031,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];OAWorkFlow=[false,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_ApportionAmt=[0,];AccAmt=[0,];DiscountAmount=[0,];tblBuyInStockDet_BaseQty=[0,];PeriodMonth=[12,];CurAlreadyPayAmt=[0,];defineInfo=[,];statusId=[0,];CurDiscountAmount=[0,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyInStockDet_GoodsCode=[0000300001,];Discount=[100,];fromCRM=[,];tblBuyInStockDet_InvoiceAmount=[0,];BuyOrderID=[,];CurAfterChangeAmt=[1,];SCompanyID=[00001,];tblBuyInStockDet_TaxPrice=[1,];pageType=[update,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Remark=[,];detLineNo=[,];saveDraft=[finish,];workFlowNode=[-1,];workFlowNodeName=[finish,];tblBuyInStockDet_Amount=[1,];CurChangeAmt=[0,];tblBuyInStockDet_SalesOutID=[,];tblCompany_ComFullName=[麦田食品,];checkPersons=[,];freightAmount=[0,];tblBuyInStockDet_StockCode=[00001,];checkFieldName=[,];tblBuyInStockDet_Seq=[,];NeedPayAmt=[1,];BuyAskPriceID=[,];DisAmount=[0,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];BackAmount=[0,];tblBuyPayAccount_Remark=[,];createTime=[2017-12-29 14:27:41,];tblBuyInStockDet_ProDate=[,];designId=[,];LinkType=[,];operation=[2,];InvoiceStatus=[0,];tblBuyInStockDet_CurAmount=[1,];BuyOrderNo=[,];CurProceDureExp=[0,];Tax=[0,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_detsId=[ebcc3c1b_1712291442386650044,];tblBuyPayAccount_detsId=[,];freightAcc=[,];tblBuyInStockDet_CheckBarCode=[,];tblBuyPayAccount_ExeBalFcAmt=[,];ProceDureExp=[0,];tblBuyInStockDet_Availably=[,];TotalTaxAmount=[1,];fromPage=[,];AlreadyPayAmt=[0,];NoInvoiceAmount=[1,];ButtonType=[,];logicValidate=[,];ButtonTypeName=[,];finishTime=[2017-12-29 14:27:41,];PayAmount=[0,];tblBuyInStockDet_Price=[1,];tblDepartment_DeptFullName=[默认部门,];tblBuyInStockDet_SourceID=[,];Period=[12,];BillDate=[2017-12-29,];CertificateNo=[0ebcc3c1b_1712291427414080031,];tblBuyInStockDet_BuyAskPriceID=[,];pframeName=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];popReturnVal=[,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblBuyPayAccount_Amount=[0,];InVoiceType=[3,];AfterChangeAmt=[1,];lastUpdateTime=[2017-12-29 14:42:38,];CurBackAmount=[0,];tblBuyInStockDet_PreferAmount=[0,];varKeyIds=[ebcc3c1b_1712291427414080031,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];org.apache.struts.taglib.html.TOKEN=[,];InvoiceAmount=[0,];button=[,];winCurIndex=[1,];BillNo=[BI1712290019,];parentCode=[,];TrackNo=[,];noback=[false,];printCount=[0,];tblBuyInStockDet_BackPayQty=[0,];defineName=[,];ProjectCode=[,];tblBuyInStockDet_CoTaxAmt=[0,];conver=[,];DepartmentCode=[00101,];frameName=[$fName,];tblStock_StockFullName=[总仓1,];moduleType=[,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];TotalAmount=[1,];tblBuyPayAccount_Paytype=[1,];TotalCoTaxAmt=[0,];hasFrame=[,];createBy=[1,];tblBuyPayAccount_Account=[,];tblBuyInStockDet_TaxAmount=[1,];checkTab=[,];ChangeAmt=[0,];CurAlrPayAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_yearNO=[,];fresh=[,];StockCode=[00001,];CurTotalAmount=[1,];CurNeedPayAmt=[1,];CompanyCode=[00003,];lastUpdateBy=[1,];
 [DEBUG] 2017-12-29 14:44:59,634 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:44:59,642 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:44:59,680 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:44:59,872 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 14:45:00,104 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,105 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,105 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,105 Line:1270 delete
 [DEBUG] 2017-12-29 14:45:00,200 Line:425 ************上述语句执行时间：95
 [DEBUG] 2017-12-29 14:45:00,200 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 14:45:00,202 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,202 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 14:45:00,203 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,204 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 14:45:00,204 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,205 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 14:45:00,205 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:00,206 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:45:00,207 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,208 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 14:45:00,209 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,209 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,209 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,210 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,212 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,213 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,213 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,214 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 14:45:00,214 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,214 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,216 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:00,216 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,217 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,218 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,218 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,218 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,221 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,221 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,222 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,223 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,223 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,223 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,230 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 14:45:00,230 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,231 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,232 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 14:45:00,232 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,232 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,234 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:00,234 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,235 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,235 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,236 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,236 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,238 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,239 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,240 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,240 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,240 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,241 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,245 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:45:00,246 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,247 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,248 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,248 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,248 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,251 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,251 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,252 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,253 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,253 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,253 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,259 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:45:00,260 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,261 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,262 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:00,262 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,263 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,266 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:00,267 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,268 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,269 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 14:45:00,269 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,270 Line:988 1值：0
 [DEBUG] 2017-12-29 14:45:00,270 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,273 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:00,274 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,275 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,275 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 14:45:00,276 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,276 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,278 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 14:45:00,279 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 14:45:00,279 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:00,279 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 14:45:00,280 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 14:45:00,280 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:45:00,280 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:00,281 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,281 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:00,282 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,283 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,283 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,283 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:45:00,283 Line:1270 1
 [DEBUG] 2017-12-29 14:45:00,359 Line:425 ************上述语句执行时间：76
 [DEBUG] 2017-12-29 14:45:00,360 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 14:45:00,361 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,361 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:00,363 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,363 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,363 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,364 Line:1270 delete
 [DEBUG] 2017-12-29 14:45:00,412 Line:425 ************上述语句执行时间：49
 [DEBUG] 2017-12-29 14:45:00,412 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:00,413 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,414 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,414 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:45:00,414 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 14:45:00,414 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 14:45:00,449 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 14:45:00,450 Line:425 ************上述语句执行时间：36
 [DEBUG] 2017-12-29 14:45:00,450 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 14:45:00,451 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,451 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,452 Line:1270 0
 [DEBUG] 2017-12-29 14:45:00,452 Line:1270 update
 [DEBUG] 2017-12-29 14:45:00,452 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,525 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:45:00,526 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:45:00,526 Line:425 ************上述语句执行时间：75
 [DEBUG] 2017-12-29 14:45:00,526 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 14:45:00,527 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,527 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:45:00,528 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,530 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,530 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:45:00,530 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 14:45:00,533 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,533 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:00,534 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,535 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,535 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,535 Line:1270 delete
 [DEBUG] 2017-12-29 14:45:00,542 Line:425 ************上述语句执行时间：7
 [DEBUG] 2017-12-29 14:45:00,544 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 14:45:00,545 Line:5993 1:1.0
 [DEBUG] 2017-12-29 14:45:00,546 Line:5993 2:BI1712290019
 [DEBUG] 2017-12-29 14:45:00,546 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 14:45:00,546 Line:5993 4:00003
 [DEBUG] 2017-12-29 14:45:00,546 Line:5993 5:00101
 [DEBUG] 2017-12-29 14:45:00,547 Line:5993 6:1
 [DEBUG] 2017-12-29 14:45:00,547 Line:5993 7:00001
 [DEBUG] 2017-12-29 14:45:00,547 Line:5993 8:3
 [DEBUG] 2017-12-29 14:45:00,547 Line:5993 9:0.0
 [DEBUG] 2017-12-29 14:45:00,547 Line:5993 10:0.0
 [DEBUG] 2017-12-29 14:45:00,548 Line:5993 11:0.0
 [DEBUG] 2017-12-29 14:45:00,548 Line:5993 12:0.0
 [DEBUG] 2017-12-29 14:45:00,548 Line:5993 13:0.0
 [DEBUG] 2017-12-29 14:45:00,548 Line:5993 14:
 [DEBUG] 2017-12-29 14:45:00,548 Line:5993 15:0.0
 [DEBUG] 2017-12-29 14:45:00,549 Line:5993 16:0.0
 [DEBUG] 2017-12-29 14:45:00,549 Line:5993 17:0.0
 [DEBUG] 2017-12-29 14:45:00,549 Line:5993 18:12
 [DEBUG] 2017-12-29 14:45:00,549 Line:5993 19:12
 [DEBUG] 2017-12-29 14:45:00,549 Line:5993 20:2017
 [DEBUG] 2017-12-29 14:45:00,549 Line:5993 21:
 [DEBUG] 2017-12-29 14:45:00,550 Line:5993 22:0.0
 [DEBUG] 2017-12-29 14:45:00,550 Line:5993 23:0.0
 [DEBUG] 2017-12-29 14:45:00,550 Line:5993 24:0.0
 [DEBUG] 2017-12-29 14:45:00,550 Line:5993 25:100.0
 [DEBUG] 2017-12-29 14:45:00,550 Line:5993 26:0.0
 [DEBUG] 2017-12-29 14:45:00,551 Line:5993 27:0.0
 [DEBUG] 2017-12-29 14:45:00,551 Line:5993 28:
 [DEBUG] 2017-12-29 14:45:00,551 Line:5993 29:1.0
 [DEBUG] 2017-12-29 14:45:00,551 Line:5993 30:1.0
 [DEBUG] 2017-12-29 14:45:00,551 Line:5993 31:1.0
 [DEBUG] 2017-12-29 14:45:00,553 Line:5993 32:0.0
 [DEBUG] 2017-12-29 14:45:00,553 Line:5993 33:1.0
 [DEBUG] 2017-12-29 14:45:00,553 Line:5993 34:
 [DEBUG] 2017-12-29 14:45:00,553 Line:5993 35:0ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,553 Line:5993 36:1.0
 [DEBUG] 2017-12-29 14:45:00,554 Line:5993 37:1.0
 [DEBUG] 2017-12-29 14:45:00,554 Line:5993 38:1
 [DEBUG] 2017-12-29 14:45:00,554 Line:5993 39:2017-12-29 14:44:59
 [DEBUG] 2017-12-29 14:45:00,560 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:45:00,563 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:45:00,563 Line:5853 1:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,563 Line:5853 2:2e644507_1712291445005620002
 [DEBUG] 2017-12-29 14:45:00,564 Line:5853 3:00001
 [DEBUG] 2017-12-29 14:45:00,564 Line:5853 4:
 [DEBUG] 2017-12-29 14:45:00,564 Line:5853 5:
 [DEBUG] 2017-12-29 14:45:00,564 Line:5853 6:
 [DEBUG] 2017-12-29 14:45:00,565 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:45:00,565 Line:5853 8:
 [DEBUG] 2017-12-29 14:45:00,565 Line:5853 9:
 [DEBUG] 2017-12-29 14:45:00,565 Line:5853 10:
 [DEBUG] 2017-12-29 14:45:00,565 Line:5853 11:
 [DEBUG] 2017-12-29 14:45:00,565 Line:5853 12:
 [DEBUG] 2017-12-29 14:45:00,566 Line:5853 13:
 [DEBUG] 2017-12-29 14:45:00,566 Line:5853 14:
 [DEBUG] 2017-12-29 14:45:00,566 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:45:00,566 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:45:00,566 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:45:00,567 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:45:00,567 Line:5853 19:0
 [DEBUG] 2017-12-29 14:45:00,567 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:45:00,567 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:45:00,567 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:45:00,567 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:45:00,568 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:45:00,568 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:45:00,568 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:45:00,568 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:45:00,568 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:45:00,568 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:45:00,569 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:45:00,569 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:45:00,569 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:45:00,569 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:45:00,569 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:45:00,570 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:45:00,570 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:45:00,570 Line:5853 37:
 [DEBUG] 2017-12-29 14:45:00,570 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:45:00,570 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:45:00,570 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:45:00,571 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:45:00,571 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:45:00,571 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:45:00,571 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:45:00,571 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:45:00,572 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:45:00,572 Line:5853 47:0
 [DEBUG] 2017-12-29 14:45:00,572 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:45:00,572 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:45:00,572 Line:5853 50:
 [DEBUG] 2017-12-29 14:45:00,572 Line:5853 51:0.0
 [DEBUG] 2017-12-29 14:45:00,573 Line:5853 52:1.0
 [DEBUG] 2017-12-29 14:45:00,573 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:45:00,573 Line:5853 54:0
 [DEBUG] 2017-12-29 14:45:00,573 Line:5853 55:0
 [DEBUG] 2017-12-29 14:45:00,574 Line:5853 56:
 [DEBUG] 2017-12-29 14:45:00,574 Line:5853 57:0.0
 [DEBUG] 2017-12-29 14:45:00,574 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:45:00,574 Line:5853 59:
 [DEBUG] 2017-12-29 14:45:00,574 Line:5853 60:0.0
 [DEBUG] 2017-12-29 14:45:00,574 Line:5853 61:00001
 [DEBUG] 2017-12-29 14:45:00,788 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:45:00,790 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:45:00,791 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,792 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:45:00,794 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,794 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:45:00,795 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,795 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:45:00,796 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,796 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:45:00,797 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,798 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:45:00,798 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,798 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:00,799 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,800 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:45:00,800 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,800 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,801 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:45:00,803 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,804 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,804 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,805 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:45:00,805 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,805 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,805 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:45:00,809 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:00,810 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,811 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,811 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:45:00,812 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,812 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,813 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:45:00,817 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 14:45:00,817 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,818 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,819 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:45:00,819 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,820 Line:988 1值：false
 [DEBUG] 2017-12-29 14:45:00,820 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,827 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:45:00,828 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:45:00,828 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:45:00,829 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,830 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:45:00,830 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,831 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,839 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 14:45:00,839 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,840 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,841 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:45:00,841 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,841 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,845 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:00,846 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,847 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,847 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:45:00,848 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,848 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,852 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:45:00,852 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,853 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,854 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:45:00,854 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,855 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,859 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:45:00,860 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,861 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,861 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,862 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,862 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:45:00,863 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,863 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,866 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:00,867 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,868 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,868 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:45:00,869 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,869 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:45:00,870 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,870 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,872 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,873 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,874 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,874 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:45:00,874 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,874 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:00,875 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:00,875 Line:988 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,881 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:45:00,882 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:45:00,882 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 14:45:00,882 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:45:00,883 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,884 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:45:00,884 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,884 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,896 Line:1043 ---上述语句时间---12
 [DEBUG] 2017-12-29 14:45:00,896 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,897 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,898 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:45:00,898 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,899 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,901 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:00,902 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:00,903 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,904 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:45:00,904 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,904 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,907 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:00,907 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:45:00,908 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,909 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:45:00,909 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,909 Line:988 1值：
 [DEBUG] 2017-12-29 14:45:00,909 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:45:00,911 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:00,912 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:45:00,912 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:00,913 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,913 Line:988 2值：
 [DEBUG] 2017-12-29 14:45:00,913 Line:988 3值：
 [DEBUG] 2017-12-29 14:45:00,913 Line:988 4值：
 [DEBUG] 2017-12-29 14:45:00,917 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 14:45:00,918 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:45:00,919 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,919 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:00,920 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,920 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:45:00,921 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,921 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:45:00,922 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,922 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:00,923 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,924 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:45:00,925 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:45:00,925 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,928 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,930 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:45:00,930 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:45:00,930 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:45:00,931 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,931 Line:1157 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,937 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,938 Line:229 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:45:00,938 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:45:00,938 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,938 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,945 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,946 Line:229 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 14:45:00,946 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:45:00,946 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,949 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,950 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:45:00,950 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:45:00,950 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,955 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,956 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:45:00,956 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:45:00,957 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,957 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:45:00,957 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,958 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,961 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:00,961 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:45:00,962 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:45:00,962 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,963 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:45:00,964 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,964 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:00,964 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,965 Line:1270 add
 [DEBUG] 2017-12-29 14:45:00,966 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:00,966 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:45:00,967 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:00,968 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:45:00,968 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,982 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:45:00,982 Line:408 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 14:45:00,982 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:45:00,983 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:00,996 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:45:00,996 Line:408 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 14:45:00,997 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:45:00,998 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:00,998 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:45:01,000 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,002 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:45:01,003 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,135 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:45:01,137 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,138 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:01,140 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,140 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:01,141 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,141 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:01,142 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,153 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:45:01,154 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,155 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:01,155 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,155 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:45:01,156 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:01,159 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:45:01,159 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:45:01,159 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:01,160 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,160 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:01,161 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:01,161 Line:1270 add
 [DEBUG] 2017-12-29 14:45:01,162 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:01,162 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:45:01,163 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,164 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:45:01,165 Line:1270 12
 [DEBUG] 2017-12-29 14:45:01,165 Line:1270 2017
 [DEBUG] 2017-12-29 14:45:01,165 Line:1270 12
 [DEBUG] 2017-12-29 14:45:01,165 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:45:01,165 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:45:01,165 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:01,166 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:45:01,166 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:45:01,166 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:45:01,166 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:01,166 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:01,166 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:45:01,167 Line:1270 1
 [DEBUG] 2017-12-29 14:45:01,167 Line:1270 1
 [DEBUG] 2017-12-29 14:45:01,167 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:45:01,167 Line:1270 2017-12-29 14:44:59
 [DEBUG] 2017-12-29 14:45:01,167 Line:1270 00001
 [DEBUG] 2017-12-29 14:45:01,168 Line:1270 
 [DEBUG] 2017-12-29 14:45:01,168 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:45:01,168 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:45:01,168 Line:1270 00003
 [DEBUG] 2017-12-29 14:45:01,168 Line:1270 1
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 00101
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:45:01,169 Line:1270 0
 [DEBUG] 2017-12-29 14:45:01,170 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:45:01,170 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:45:01,170 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:45:01,170 Line:1270 f_ref='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:45:01,282 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291427414080031','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:27:41','2017-12-29 14:44:59','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291427414080031' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:45:01,283 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:45:01,283 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:45:01,283 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:45:01,283 Line:425 ************上述语句执行时间：119
 [DEBUG] 2017-12-29 14:45:01,283 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:45:01,284 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,284 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:01,285 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,286 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:45:01,286 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:01,287 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:01,288 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:45:01,289 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,289 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:45:01,289 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,290 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 14:45:01,290 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,291 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:01,291 Line:1270 zh_CN
 [DEBUG] 2017-12-29 14:45:01,291 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:01,291 Line:1270 00001
 [DEBUG] 2017-12-29 14:45:01,291 Line:1270 1
 [DEBUG] 2017-12-29 14:45:01,388 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ebcc3c1b_1712291427414080031') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ebcc3c1b_1712291427414080031') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 14:45:01,388 Line:425 ************上述语句执行时间：97
 [DEBUG] 2017-12-29 14:45:01,388 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:45:01,388 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:01,389 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:01,389 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:01,389 Line:988 3值：1
 [DEBUG] 2017-12-29 14:45:01,389 Line:988 4值：0
 [DEBUG] 2017-12-29 14:45:01,389 Line:988 5值：0
 [DEBUG] 2017-12-29 14:45:01,390 Line:988 6值：1
 [DEBUG] 2017-12-29 14:45:01,391 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:01,391 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:01,392 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:45:01,392 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:45:01,392 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:45:01,393 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,435 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:45:01,439 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:45:01,445 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,452 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,458 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,465 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,472 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,478 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,490 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:01,499 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:45:01,541 Line:434 ************上述语句执行时间：148
 [DEBUG] 2017-12-29 14:45:01,541 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:45:01,542 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,542 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:01,543 Line:1270 1ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:01,543 Line:1270 00003
 [DEBUG] 2017-12-29 14:45:01,543 Line:1270 1
 [DEBUG] 2017-12-29 14:45:01,543 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:45:01,543 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291427414080031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:27:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:44:59@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:45:01,569 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291427414080031',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291427414080031','','1','0','1','1','2017-12-29 14:27:41','1','2017-12-29 14:44:59','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:45:01,569 Line:425 ************上述语句执行时间：27
 [DEBUG] 2017-12-29 14:45:01,570 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:45:01,570 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,571 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:45:01,571 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,572 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:45:01,572 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,573 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:45:01,573 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,574 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:45:01,575 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,575 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:45:01,576 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,577 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:45:01,577 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:01,577 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:01,577 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:01,577 Line:988 3值：1
 [DEBUG] 2017-12-29 14:45:01,578 Line:988 4值：0
 [DEBUG] 2017-12-29 14:45:01,578 Line:988 5值：0
 [DEBUG] 2017-12-29 14:45:01,578 Line:988 6值：0
 [DEBUG] 2017-12-29 14:45:01,579 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:01,580 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:45:01,580 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:45:01,580 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:01,580 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:45:01,581 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,581 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:45:01,582 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,582 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:01,583 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,583 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:01,584 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:01,584 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:01,585 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:01,585 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:01,586 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:01,586 Line:1270 add
 [DEBUG] 2017-12-29 14:45:01,588 Line:425 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:45:01,588 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:45:01,588 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:01,589 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:45:01,589 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:45:01,590 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:45:01,590 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:45:01,590 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:45:01,590 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:45:01,591 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:01,591 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:01,592 Line:321 flag:true
 [ERROR] 2017-12-29 14:45:01,605 Line:1774 DefineSQLBean.execClass Error
 java.lang.NoSuchMethodException: tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
	at java.lang.Class.getMethod(Class.java:1786)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1746)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-29 14:45:01,607 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
 [DEBUG] 2017-12-29 14:45:13,816 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:45:13,818 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ebcc3c1b_1712291427414080031,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ebcc3c1b_1712291427414080031,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290019,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ebcc3c1b_1712291427414080031,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 14:27:41,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 14:42:38,];createBy=[1,];createTime=[2017-12-29 14:27:41,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ebcc3c1b_1712291442386650044,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:45:13,825 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:45:13,828 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ebcc3c1b_1712291427414080031' order by detOrderNo
 [DEBUG] 2017-12-29 14:45:13,835 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,837 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 14:45:13,838 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,838 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:13,839 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,839 Line:1270 delete
 [DEBUG] 2017-12-29 14:45:13,840 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:13,840 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 14:45:13,841 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,841 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 14:45:13,842 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,842 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 14:45:13,842 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,842 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 14:45:13,843 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:13,843 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:45:13,843 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,844 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 14:45:13,845 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,845 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,846 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,847 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,848 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:13,848 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,849 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,849 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 14:45:13,849 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,849 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,850 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,850 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,851 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,851 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,852 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,852 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,852 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,853 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,853 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,854 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,854 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,854 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,855 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,855 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,857 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,857 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 14:45:13,857 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,857 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,858 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,858 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,859 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,860 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,860 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,860 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,861 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,861 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,862 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,862 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,862 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,863 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,863 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,864 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,864 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,865 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,865 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,866 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,866 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,866 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,867 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,867 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,868 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,868 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,868 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,869 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 14:45:13,869 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,869 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,870 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,870 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,870 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,871 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 14:45:13,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,871 Line:988 1值：0
 [DEBUG] 2017-12-29 14:45:13,871 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,872 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,872 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,873 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,874 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 14:45:13,874 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,874 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,876 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 14:45:13,876 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 14:45:13,876 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:13,876 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 14:45:13,877 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 14:45:13,877 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:13,877 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:13,878 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,878 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:13,878 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,879 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:13,879 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,880 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:45:13,880 Line:1270 1
 [DEBUG] 2017-12-29 14:45:13,882 Line:425 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:45:13,883 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 14:45:13,883 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,884 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:13,884 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,884 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:13,885 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,885 Line:1270 delete
 [DEBUG] 2017-12-29 14:45:13,886 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:13,886 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:13,887 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,887 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:13,887 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:45:13,887 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 14:45:13,888 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 14:45:13,889 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ebcc3c1b_1712291427414080031'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 14:45:13,889 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:13,890 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 14:45:13,890 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,891 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:13,891 Line:1270 0
 [DEBUG] 2017-12-29 14:45:13,891 Line:1270 update
 [DEBUG] 2017-12-29 14:45:13,891 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,896 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:45:13,897 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 14:45:13,897 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:45:13,897 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 14:45:13,898 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,898 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:45:13,899 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,899 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 14:45:13,899 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:13,900 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 14:45:13,900 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,901 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 14:45:13,901 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,902 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:13,902 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,902 Line:1270 delete
 [DEBUG] 2017-12-29 14:45:13,904 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:13,905 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 14:45:13,906 Line:5993 1:1.0
 [DEBUG] 2017-12-29 14:45:13,906 Line:5993 2:BI1712290019
 [DEBUG] 2017-12-29 14:45:13,906 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 14:45:13,906 Line:5993 4:00003
 [DEBUG] 2017-12-29 14:45:13,906 Line:5993 5:00101
 [DEBUG] 2017-12-29 14:45:13,907 Line:5993 6:1
 [DEBUG] 2017-12-29 14:45:13,907 Line:5993 7:00001
 [DEBUG] 2017-12-29 14:45:13,907 Line:5993 8:3
 [DEBUG] 2017-12-29 14:45:13,907 Line:5993 9:0.0
 [DEBUG] 2017-12-29 14:45:13,907 Line:5993 10:0.0
 [DEBUG] 2017-12-29 14:45:13,907 Line:5993 11:0.0
 [DEBUG] 2017-12-29 14:45:13,908 Line:5993 12:0.0
 [DEBUG] 2017-12-29 14:45:13,908 Line:5993 13:0.0
 [DEBUG] 2017-12-29 14:45:13,908 Line:5993 14:
 [DEBUG] 2017-12-29 14:45:13,908 Line:5993 15:0.0
 [DEBUG] 2017-12-29 14:45:13,908 Line:5993 16:0.0
 [DEBUG] 2017-12-29 14:45:13,908 Line:5993 17:0.0
 [DEBUG] 2017-12-29 14:45:13,909 Line:5993 18:12
 [DEBUG] 2017-12-29 14:45:13,909 Line:5993 19:12
 [DEBUG] 2017-12-29 14:45:13,909 Line:5993 20:2017
 [DEBUG] 2017-12-29 14:45:13,909 Line:5993 21:
 [DEBUG] 2017-12-29 14:45:13,909 Line:5993 22:0.0
 [DEBUG] 2017-12-29 14:45:13,910 Line:5993 23:0.0
 [DEBUG] 2017-12-29 14:45:13,910 Line:5993 24:0.0
 [DEBUG] 2017-12-29 14:45:13,910 Line:5993 25:100.0
 [DEBUG] 2017-12-29 14:45:13,910 Line:5993 26:0.0
 [DEBUG] 2017-12-29 14:45:13,910 Line:5993 27:0.0
 [DEBUG] 2017-12-29 14:45:13,910 Line:5993 28:
 [DEBUG] 2017-12-29 14:45:13,911 Line:5993 29:1.0
 [DEBUG] 2017-12-29 14:45:13,911 Line:5993 30:1.0
 [DEBUG] 2017-12-29 14:45:13,911 Line:5993 31:1.0
 [DEBUG] 2017-12-29 14:45:13,911 Line:5993 32:0.0
 [DEBUG] 2017-12-29 14:45:13,911 Line:5993 33:1.0
 [DEBUG] 2017-12-29 14:45:13,912 Line:5993 34:
 [DEBUG] 2017-12-29 14:45:13,912 Line:5993 35:0ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,912 Line:5993 36:1.0
 [DEBUG] 2017-12-29 14:45:13,912 Line:5993 37:1.0
 [DEBUG] 2017-12-29 14:45:13,912 Line:5993 38:1
 [DEBUG] 2017-12-29 14:45:13,912 Line:5993 39:2017-12-29 14:45:13
 [DEBUG] 2017-12-29 14:45:13,913 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:45:13,914 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:45:13,914 Line:5853 1:ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,915 Line:5853 2:2e644507_1712291445139140005
 [DEBUG] 2017-12-29 14:45:13,915 Line:5853 3:00001
 [DEBUG] 2017-12-29 14:45:13,915 Line:5853 4:
 [DEBUG] 2017-12-29 14:45:13,915 Line:5853 5:
 [DEBUG] 2017-12-29 14:45:13,915 Line:5853 6:
 [DEBUG] 2017-12-29 14:45:13,916 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:45:13,916 Line:5853 8:
 [DEBUG] 2017-12-29 14:45:13,916 Line:5853 9:
 [DEBUG] 2017-12-29 14:45:13,916 Line:5853 10:
 [DEBUG] 2017-12-29 14:45:13,916 Line:5853 11:
 [DEBUG] 2017-12-29 14:45:13,916 Line:5853 12:
 [DEBUG] 2017-12-29 14:45:13,917 Line:5853 13:
 [DEBUG] 2017-12-29 14:45:13,917 Line:5853 14:
 [DEBUG] 2017-12-29 14:45:13,917 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:45:13,917 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:45:13,917 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:45:13,918 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:45:13,918 Line:5853 19:0
 [DEBUG] 2017-12-29 14:45:13,918 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:45:13,918 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:45:13,918 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:45:13,918 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:45:13,919 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:45:13,920 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:45:13,920 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:45:13,920 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:45:13,920 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:45:13,920 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:45:13,921 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:45:13,921 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:45:13,921 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:45:13,921 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:45:13,921 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:45:13,921 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:45:13,922 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:45:13,922 Line:5853 37:
 [DEBUG] 2017-12-29 14:45:13,922 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:45:13,922 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:45:13,922 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:45:13,922 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:45:13,923 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:45:13,923 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:45:13,923 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:45:13,923 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:45:13,923 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:45:13,924 Line:5853 47:0
 [DEBUG] 2017-12-29 14:45:13,924 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:45:13,924 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:45:13,924 Line:5853 50:
 [DEBUG] 2017-12-29 14:45:13,924 Line:5853 51:0.0
 [DEBUG] 2017-12-29 14:45:13,924 Line:5853 52:1.0
 [DEBUG] 2017-12-29 14:45:13,925 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:45:13,925 Line:5853 54:0
 [DEBUG] 2017-12-29 14:45:13,925 Line:5853 55:0
 [DEBUG] 2017-12-29 14:45:13,925 Line:5853 56:
 [DEBUG] 2017-12-29 14:45:13,925 Line:5853 57:0.0
 [DEBUG] 2017-12-29 14:45:13,925 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:45:13,926 Line:5853 59:
 [DEBUG] 2017-12-29 14:45:13,926 Line:5853 60:0.0
 [DEBUG] 2017-12-29 14:45:13,926 Line:5853 61:00001
 [DEBUG] 2017-12-29 14:45:13,927 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 14:45:13,928 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:45:13,929 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,929 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:45:13,930 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,931 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:45:13,932 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,932 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:45:13,935 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,935 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:45:13,936 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,937 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:45:13,938 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,938 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:13,939 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,940 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:45:13,940 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,941 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,941 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:45:13,942 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,942 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,943 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,943 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:45:13,943 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,944 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,944 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:45:13,945 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,945 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,947 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,948 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:45:13,948 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,948 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,949 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:45:13,950 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,950 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,951 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,951 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:45:13,951 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,952 Line:988 1值：false
 [DEBUG] 2017-12-29 14:45:13,952 Line:988 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,953 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:45:13,953 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,953 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:45:13,954 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,955 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:45:13,955 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,955 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,956 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,956 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,957 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,957 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:45:13,957 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,958 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,958 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,959 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,960 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,960 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:45:13,960 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,961 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,962 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,962 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,963 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,963 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:45:13,964 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,964 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,965 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,965 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,967 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,967 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,969 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,969 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:45:13,969 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,970 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,970 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,971 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,972 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,972 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:45:13,973 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,973 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:45:13,973 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,973 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,974 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,974 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,975 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,976 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:45:13,976 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,976 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:13,976 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:13,977 Line:988 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,977 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:45:13,978 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:45:13,978 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,978 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:45:13,979 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,979 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:45:13,979 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,980 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,980 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,981 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,981 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,982 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:45:13,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,982 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,983 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,983 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:13,984 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,984 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:45:13,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,985 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,985 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:13,986 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:45:13,986 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,986 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:45:13,987 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,987 Line:988 1值：
 [DEBUG] 2017-12-29 14:45:13,987 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:45:13,988 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,988 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:45:13,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:13,988 Line:988 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,989 Line:988 2值：
 [DEBUG] 2017-12-29 14:45:13,989 Line:988 3值：
 [DEBUG] 2017-12-29 14:45:13,989 Line:988 4值：
 [DEBUG] 2017-12-29 14:45:13,990 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:13,990 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:45:13,991 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,991 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:13,992 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,992 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:45:13,993 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,993 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:45:13,994 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:13,994 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:13,995 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:13,995 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:45:13,996 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:45:13,996 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,997 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:13,997 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:13,997 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:45:13,998 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:45:13,998 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:13,999 Line:1157 3值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,000 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:14,000 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:45:14,000 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:45:14,001 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,001 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,001 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:14,001 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:14,002 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:45:14,002 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,002 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:14,002 Line:229 ************上述语句执行时间：0
 [DEBUG] 2017-12-29 14:45:14,003 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:45:14,003 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,003 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:14,004 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:14,004 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:45:14,005 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,005 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:45:14,005 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,005 Line:1157 2值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,006 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:14,006 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:14,006 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:45:14,007 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,007 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:45:14,008 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,008 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:14,009 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,009 Line:1270 add
 [DEBUG] 2017-12-29 14:45:14,010 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:14,010 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:45:14,011 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,011 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:45:14,012 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,013 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:45:14,013 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:14,014 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:45:14,014 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,014 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:45:14,015 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:14,015 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:45:14,016 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,016 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:45:14,017 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,017 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:45:14,018 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,020 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:45:14,021 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,021 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:14,022 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,022 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:14,023 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,024 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:14,024 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,025 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:45:14,026 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,026 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:14,027 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,027 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:45:14,027 Line:1157 1值：ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,028 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:45:14,029 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:14,029 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:14,030 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,031 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:14,031 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,031 Line:1270 add
 [DEBUG] 2017-12-29 14:45:14,033 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:14,033 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:45:14,034 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,034 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:45:14,035 Line:1270 12
 [DEBUG] 2017-12-29 14:45:14,035 Line:1270 2017
 [DEBUG] 2017-12-29 14:45:14,035 Line:1270 12
 [DEBUG] 2017-12-29 14:45:14,035 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:45:14,035 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:45:14,036 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,036 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:45:14,036 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:45:14,036 Line:1270 BI1712290019
 [DEBUG] 2017-12-29 14:45:14,036 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:14,036 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:14,037 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:45:14,037 Line:1270 1
 [DEBUG] 2017-12-29 14:45:14,037 Line:1270 1
 [DEBUG] 2017-12-29 14:45:14,037 Line:1270 2017-12-29 14:27:41
 [DEBUG] 2017-12-29 14:45:14,037 Line:1270 2017-12-29 14:45:13
 [DEBUG] 2017-12-29 14:45:14,037 Line:1270 00001
 [DEBUG] 2017-12-29 14:45:14,038 Line:1270 
 [DEBUG] 2017-12-29 14:45:14,038 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:45:14,038 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:45:14,038 Line:1270 00003
 [DEBUG] 2017-12-29 14:45:14,038 Line:1270 1
 [DEBUG] 2017-12-29 14:45:14,039 Line:1270 00101
 [DEBUG] 2017-12-29 14:45:14,039 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:45:14,039 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:45:14,039 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:14,039 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:45:14,039 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:45:14,040 Line:1270 0
 [DEBUG] 2017-12-29 14:45:14,040 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:45:14,040 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:45:14,040 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:45:14,040 Line:1270 f_ref='ebcc3c1b_1712291427414080031'
 [DEBUG] 2017-12-29 14:45:14,047 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ebcc3c1b_1712291427414080031','2017-12-29','BI1712290019','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:27:41','2017-12-29 14:45:13','00001' from tblBuyInStockDet where f_ref='ebcc3c1b_1712291427414080031' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:45:14,047 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:45:14,047 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:45:14,047 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:45:14,048 Line:425 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 14:45:14,048 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:45:14,049 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,049 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:14,050 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,051 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:45:14,051 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:14,052 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:14,053 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:45:14,054 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,055 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:45:14,056 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,056 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 14:45:14,057 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,057 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:14,058 Line:1270 zh_CN
 [DEBUG] 2017-12-29 14:45:14,058 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,058 Line:1270 00001
 [DEBUG] 2017-12-29 14:45:14,058 Line:1270 1
 [DEBUG] 2017-12-29 14:45:14,063 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ebcc3c1b_1712291427414080031') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ebcc3c1b_1712291427414080031') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 14:45:14,063 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:45:14,064 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:45:14,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:14,064 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:14,064 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:14,065 Line:988 3值：1
 [DEBUG] 2017-12-29 14:45:14,065 Line:988 4值：0
 [DEBUG] 2017-12-29 14:45:14,065 Line:988 5值：0
 [DEBUG] 2017-12-29 14:45:14,065 Line:988 6值：1
 [DEBUG] 2017-12-29 14:45:14,066 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:14,066 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:14,066 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:45:14,066 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:14,067 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:45:14,068 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,069 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:45:14,070 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:45:14,071 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,072 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,073 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,074 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,075 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,076 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,077 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:14,079 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:45:14,087 Line:434 ************上述语句执行时间：19
 [DEBUG] 2017-12-29 14:45:14,088 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:45:14,088 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,090 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:14,090 Line:1270 1ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,090 Line:1270 00003
 [DEBUG] 2017-12-29 14:45:14,090 Line:1270 1
 [DEBUG] 2017-12-29 14:45:14,090 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:45:14,090 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ebcc3c1b_1712291427414080031@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:27:41@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:45:13@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290019@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:45:14,092 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ebcc3c1b_1712291427414080031',15,'00003','2017-12-29','12','2017','12','0','1','ebcc3c1b_1712291427414080031','','1','0','1','1','2017-12-29 14:27:41','1','2017-12-29 14:45:13','00001','tblBuyInStock','BI1712290019','1','00101','0','')
 [DEBUG] 2017-12-29 14:45:14,093 Line:425 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:45:14,093 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:45:14,094 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,094 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:45:14,096 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,096 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:45:14,097 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,097 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:45:14,097 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,098 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:45:14,098 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,099 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:45:14,099 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,100 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:45:14,100 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:14,100 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:14,100 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:14,100 Line:988 3值：1
 [DEBUG] 2017-12-29 14:45:14,101 Line:988 4值：0
 [DEBUG] 2017-12-29 14:45:14,101 Line:988 5值：0
 [DEBUG] 2017-12-29 14:45:14,101 Line:988 6值：0
 [DEBUG] 2017-12-29 14:45:14,102 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:14,102 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:45:14,102 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:45:14,102 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:14,102 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:45:14,103 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,104 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:45:14,104 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,105 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:14,105 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,106 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:14,106 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:14,106 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:14,107 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:14,107 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:14,107 Line:1270 ebcc3c1b_1712291427414080031
 [DEBUG] 2017-12-29 14:45:14,108 Line:1270 add
 [DEBUG] 2017-12-29 14:45:14,109 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:14,109 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:45:14,110 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:14,110 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:45:14,110 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:45:14,111 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:45:14,111 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:45:14,111 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:45:14,111 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:45:14,111 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:14,112 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:14,112 Line:321 flag:true
 [ERROR] 2017-12-29 14:45:14,113 Line:1774 DefineSQLBean.execClass Error
 java.lang.NoSuchMethodException: tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
	at java.lang.Class.getMethod(Class.java:1786)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1746)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-29 14:45:14,114 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
 [DEBUG] 2017-12-29 14:45:16,291 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 14:45:16,293 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 14:45:16,323 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:45:16,594 Line:5227 GlobalsTool.js 生成js 时间77:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:45:16,645 Line:5227 GlobalsTool.js 生成js 时间50:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:45:16,827 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 14:45:16,827 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 14:45:16,828 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:45:16,828 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 14:45:16,829 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:45:16,844 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 14:45:16,844 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:45:16,845 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:45:16,853 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 14:45:16,853 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:45:16,854 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:45:16,865 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 14:45:16,865 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:45:16,866 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:45:18,653 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 14:45:18,653 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 14:45:18,654 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-29 14:45:18,925 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-29 14:45:18,936 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-29 14:45:18,963 Line:689 通过SQL读原始数据：27
 [DEBUG] 2017-12-29 14:45:18,971 Line:1391 整理数据：8
 [DEBUG] 2017-12-29 14:45:19,394 Line:5227 GlobalsTool.js 生成js 时间109:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:45:19,535 Line:5227 GlobalsTool.js 生成js 时间141:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 14:45:21,382 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:45:21,384 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:45:21,726 Line:5227 GlobalsTool.js 生成js 时间20:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:45:23,227 Line:5227 GlobalsTool.js 生成js 时间1500:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 14:45:25,364 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 14:45:26,030 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 14:45:26,031 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 14:45:26,134 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:45:26,134 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:45:26,135 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:45:26,135 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:45:26,136 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-29 14:45:26,189 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-29'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:45:26,418 Line:5227 GlobalsTool.js 生成js 时间27:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:45:26,468 Line:5227 GlobalsTool.js 生成js 时间48:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:45:28,448 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 14:45:28,448 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 14:45:28,471 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:45:28,471 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:45:28,472 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-29 14:45:28,472 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:45:28,472 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:45:28,478 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:45:31,036 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-29 14:45:31,037 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-29 14:45:31,066 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:45:31,066 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:45:31,067 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:45:31,067 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:45:31,068 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-29 14:45:31,084 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:45:34,924 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:45:34,927 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290020,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:45:34,931 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:45:34,940 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:45:34,940 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:45:34,941 Line:5853 2:
 [DEBUG] 2017-12-29 14:45:34,942 Line:5853 3:2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,942 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:45:34,943 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:45:34,944 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:45:34,944 Line:5853 7:0
 [DEBUG] 2017-12-29 14:45:34,944 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:45:34,944 Line:5853 9:BI1712290020
 [DEBUG] 2017-12-29 14:45:34,944 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:45:34,944 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:45:34,945 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:45:34,945 Line:5853 13:1
 [DEBUG] 2017-12-29 14:45:34,945 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:45:34,945 Line:5853 15:3
 [DEBUG] 2017-12-29 14:45:34,945 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:45:34,945 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 20:
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:45:34,946 Line:5853 24:
 [DEBUG] 2017-12-29 14:45:34,947 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:45:34,947 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:45:34,947 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:45:34,947 Line:5853 28:
 [DEBUG] 2017-12-29 14:45:34,947 Line:5853 29:12
 [DEBUG] 2017-12-29 14:45:34,947 Line:5853 30:12
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 32:
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 36:
 [DEBUG] 2017-12-29 14:45:34,948 Line:5853 37:
 [DEBUG] 2017-12-29 14:45:34,949 Line:5853 38:
 [DEBUG] 2017-12-29 14:45:34,949 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:45:34,949 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:45:34,949 Line:5853 41:
 [DEBUG] 2017-12-29 14:45:34,949 Line:5853 42:
 [DEBUG] 2017-12-29 14:45:34,949 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 46:
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:45:34,950 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:45:34,951 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:45:34,951 Line:5853 52:
 [DEBUG] 2017-12-29 14:45:34,951 Line:5853 53:
 [DEBUG] 2017-12-29 14:45:34,951 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:45:34,951 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:45:34,951 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 57:0
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 59:0
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 60:2017-12-29 14:45:34
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 61:1
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 62:2017-12-29 14:45:34
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 63:1
 [DEBUG] 2017-12-29 14:45:34,952 Line:5853 64:2017-12-29 14:45:34
 [DEBUG] 2017-12-29 14:45:34,961 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:45:34,962 Line:5853 1:2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,962 Line:5853 2:2e644507_1712291445349610009
 [DEBUG] 2017-12-29 14:45:34,962 Line:5853 3:
 [DEBUG] 2017-12-29 14:45:34,962 Line:5853 4:
 [DEBUG] 2017-12-29 14:45:34,962 Line:5853 5:
 [DEBUG] 2017-12-29 14:45:34,962 Line:5853 6:
 [DEBUG] 2017-12-29 14:45:34,963 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:45:34,963 Line:5853 8:
 [DEBUG] 2017-12-29 14:45:34,963 Line:5853 9:
 [DEBUG] 2017-12-29 14:45:34,963 Line:5853 10:
 [DEBUG] 2017-12-29 14:45:34,963 Line:5853 11:
 [DEBUG] 2017-12-29 14:45:34,963 Line:5853 12:
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 13:
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 14:
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:45:34,964 Line:5853 19:0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:45:34,965 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:45:34,966 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:45:34,967 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:45:34,967 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:45:34,967 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:45:34,967 Line:5853 37:
 [DEBUG] 2017-12-29 14:45:34,967 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:45:34,967 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:45:34,968 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 47:0
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 50:0
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 51:
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:45:34,969 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:45:34,970 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:45:34,970 Line:5853 55:0
 [DEBUG] 2017-12-29 14:45:34,970 Line:5853 56:0
 [DEBUG] 2017-12-29 14:45:34,970 Line:5853 57:
 [DEBUG] 2017-12-29 14:45:34,970 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:45:34,970 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:45:34,971 Line:5853 60:
 [DEBUG] 2017-12-29 14:45:34,971 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:45:34,971 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:45:34,975 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:45:34,976 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,976 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:45:34,977 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,977 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:45:34,978 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,978 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:45:34,978 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,978 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:45:34,979 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,979 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:45:34,980 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,980 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:34,981 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:34,982 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:45:34,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,982 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,982 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:45:34,983 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:34,983 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:34,984 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,984 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:45:34,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,985 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,985 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:45:34,986 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:34,986 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:34,988 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,988 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:45:34,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,988 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,988 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:45:34,989 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:34,990 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:34,991 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,992 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:45:34,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,992 Line:988 1值：false
 [DEBUG] 2017-12-29 14:45:34,992 Line:988 2值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,993 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:45:34,993 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:34,993 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:45:34,994 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,994 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:45:34,994 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,995 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,995 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:34,995 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:34,996 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,996 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:45:34,996 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,997 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:34,997 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:34,998 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:34,998 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:34,999 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:45:34,999 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:34,999 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,000 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,000 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,001 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,001 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:45:35,001 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,001 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,002 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,002 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,003 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,003 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,003 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,004 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:45:35,004 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,004 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,005 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,005 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,005 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,006 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:45:35,006 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,007 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:45:35,007 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,007 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,008 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,008 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,009 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:45:35,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,009 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:35,010 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:35,010 Line:988 3值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,011 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:45:35,011 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:45:35,011 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:35,011 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:45:35,012 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,012 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:45:35,012 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,012 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,013 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,013 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,014 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,014 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:45:35,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,015 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,015 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,016 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:45:35,016 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,016 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:45:35,017 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,017 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,017 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,018 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:45:35,018 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,018 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:45:35,019 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,019 Line:988 1值：
 [DEBUG] 2017-12-29 14:45:35,019 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:45:35,020 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:35,020 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:45:35,020 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,020 Line:988 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,020 Line:988 2值：
 [DEBUG] 2017-12-29 14:45:35,021 Line:988 3值：
 [DEBUG] 2017-12-29 14:45:35,021 Line:988 4值：
 [DEBUG] 2017-12-29 14:45:35,021 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:45:35,021 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:45:35,022 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,022 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:45:35,023 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,023 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:45:35,024 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,024 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:45:35,024 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,025 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:35,025 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,026 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:45:35,026 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:45:35,027 Line:1157 2值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,027 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,028 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:35,028 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:45:35,028 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:45:35,028 Line:1157 2值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,028 Line:1157 3值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,029 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,029 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,029 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:45:35,029 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,030 Line:1157 2值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,030 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,030 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,031 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:45:35,031 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,031 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,032 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,032 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:45:35,032 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,032 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,033 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,033 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:45:35,034 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,034 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:45:35,034 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,034 Line:1157 2值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,035 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,035 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,035 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:45:35,036 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,036 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:45:35,036 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,037 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:35,037 Line:1270 2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,037 Line:1270 add
 [DEBUG] 2017-12-29 14:45:35,038 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,038 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:45:35,039 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,039 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:45:35,039 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,040 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:45:35,040 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,040 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:45:35,040 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,041 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:45:35,041 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,041 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:45:35,042 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,042 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:45:35,043 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,043 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:45:35,044 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,046 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:45:35,048 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,048 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:35,049 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,049 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:45:35,050 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,050 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:35,051 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,051 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:45:35,051 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,051 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:35,052 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,052 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:45:35,052 Line:1157 1值：2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,053 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:45:35,053 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:45:35,053 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:35,054 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,054 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:35,054 Line:1270 2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,054 Line:1270 add
 [DEBUG] 2017-12-29 14:45:35,056 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:45:35,056 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:45:35,057 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,058 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:45:35,058 Line:1270 12
 [DEBUG] 2017-12-29 14:45:35,059 Line:1270 2017
 [DEBUG] 2017-12-29 14:45:35,059 Line:1270 12
 [DEBUG] 2017-12-29 14:45:35,059 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:45:35,059 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:45:35,059 Line:1270 2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,059 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:45:35,060 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:45:35,060 Line:1270 BI1712290020
 [DEBUG] 2017-12-29 14:45:35,060 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:35,060 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:35,060 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:45:35,061 Line:1270 1
 [DEBUG] 2017-12-29 14:45:35,061 Line:1270 1
 [DEBUG] 2017-12-29 14:45:35,061 Line:1270 2017-12-29 14:45:34
 [DEBUG] 2017-12-29 14:45:35,061 Line:1270 2017-12-29 14:45:34
 [DEBUG] 2017-12-29 14:45:35,061 Line:1270 00001
 [DEBUG] 2017-12-29 14:45:35,061 Line:1270 
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 00003
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 1
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 00101
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:45:35,062 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:45:35,063 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:45:35,063 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:45:35,063 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:45:35,063 Line:1270 0
 [DEBUG] 2017-12-29 14:45:35,063 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:45:35,064 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:45:35,064 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:45:35,064 Line:1270 f_ref='2e644507_1712291445349370008'
 [DEBUG] 2017-12-29 14:45:35,119 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'2e644507_1712291445349370008','2017-12-29','BI1712290020','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:45:34','2017-12-29 14:45:34','00001' from tblBuyInStockDet where f_ref='2e644507_1712291445349370008' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:45:35,120 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:45:35,120 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:45:35,120 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:45:35,120 Line:425 ************上述语句执行时间：62
 [DEBUG] 2017-12-29 14:45:35,120 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:45:35,121 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,121 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:35,122 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,123 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:45:35,123 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,125 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:35,125 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:45:35,126 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,126 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:45:35,126 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,127 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:45:35,127 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,127 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:45:35,128 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,128 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:35,128 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:35,128 Line:988 3值：1
 [DEBUG] 2017-12-29 14:45:35,128 Line:988 4值：0
 [DEBUG] 2017-12-29 14:45:35,128 Line:988 5值：0
 [DEBUG] 2017-12-29 14:45:35,129 Line:988 6值：1
 [DEBUG] 2017-12-29 14:45:35,129 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:35,129 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:35,130 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:45:35,130 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:45:35,130 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:45:35,131 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,132 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:45:35,132 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:45:35,133 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,134 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,135 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,136 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,136 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,137 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,137 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:45:35,139 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:45:35,147 Line:434 ************上述语句执行时间：16
 [DEBUG] 2017-12-29 14:45:35,148 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:45:35,149 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,149 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:35,149 Line:1270 12e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,150 Line:1270 00003
 [DEBUG] 2017-12-29 14:45:35,150 Line:1270 1
 [DEBUG] 2017-12-29 14:45:35,150 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:45:35,150 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=2e644507_1712291445349370008@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:45:34@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:45:34@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290020@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:45:35,153 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('12e644507_1712291445349370008',16,'00003','2017-12-29','12','2017','12','0','1','2e644507_1712291445349370008','','1','0','1','1','2017-12-29 14:45:34','1','2017-12-29 14:45:34','00001','tblBuyInStock','BI1712290020','1','00101','0','')
 [DEBUG] 2017-12-29 14:45:35,154 Line:425 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 14:45:35,154 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:45:35,155 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,155 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:45:35,155 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,156 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:45:35,156 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,156 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:45:35,157 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,157 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:45:35,158 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,158 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:45:35,159 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,159 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:45:35,159 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,159 Line:988 1值：1
 [DEBUG] 2017-12-29 14:45:35,159 Line:988 2值：0
 [DEBUG] 2017-12-29 14:45:35,160 Line:988 3值：1
 [DEBUG] 2017-12-29 14:45:35,160 Line:988 4值：0
 [DEBUG] 2017-12-29 14:45:35,160 Line:988 5值：0
 [DEBUG] 2017-12-29 14:45:35,160 Line:988 6值：0
 [DEBUG] 2017-12-29 14:45:35,161 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:45:35,161 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:45:35,161 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:45:35,161 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:35,161 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:45:35,163 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,163 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:45:35,164 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,164 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:35,164 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,164 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:45:35,164 Line:321 flag:false
 [DEBUG] 2017-12-29 14:45:35,165 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:45:35,165 Line:321 flag:true
 [DEBUG] 2017-12-29 14:45:35,166 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:45:35,168 Line:1270 2e644507_1712291445349370008
 [DEBUG] 2017-12-29 14:45:35,168 Line:1270 add
 [DEBUG] 2017-12-29 14:45:35,170 Line:425 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:45:35,170 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:45:35,171 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:45:35,171 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:45:35,171 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:45:35,171 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:45:35,172 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:45:35,172 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:45:35,172 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:45:35,172 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:45:35,172 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:45:35,173 Line:321 flag:true
 [ERROR] 2017-12-29 14:45:35,174 Line:1774 DefineSQLBean.execClass Error
 java.lang.NoSuchMethodException: tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
	at java.lang.Class.getMethod(Class.java:1786)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1746)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-29 14:45:35,175 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
 [DEBUG] 2017-12-29 14:47:00,967 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:47:00,968 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290020,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:47:00,970 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:47:00,974 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:47:00,974 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:47:00,975 Line:5853 2:
 [DEBUG] 2017-12-29 14:47:00,975 Line:5853 3:2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:00,975 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:47:00,976 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:47:00,976 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:47:00,976 Line:5853 7:0
 [DEBUG] 2017-12-29 14:47:00,976 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:47:00,976 Line:5853 9:BI1712290020
 [DEBUG] 2017-12-29 14:47:00,976 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 13:1
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 15:3
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:47:00,977 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:47:00,978 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:47:00,978 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:47:00,978 Line:5853 20:
 [DEBUG] 2017-12-29 14:47:00,978 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:47:00,978 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:47:00,979 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:47:00,979 Line:5853 24:
 [DEBUG] 2017-12-29 14:47:00,979 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:47:00,979 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:47:00,979 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:47:00,980 Line:5853 28:
 [DEBUG] 2017-12-29 14:47:00,980 Line:5853 29:12
 [DEBUG] 2017-12-29 14:47:00,980 Line:5853 30:12
 [DEBUG] 2017-12-29 14:47:00,980 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:47:00,980 Line:5853 32:
 [DEBUG] 2017-12-29 14:47:00,980 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:47:00,981 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:47:00,981 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:47:00,981 Line:5853 36:
 [DEBUG] 2017-12-29 14:47:00,981 Line:5853 37:
 [DEBUG] 2017-12-29 14:47:00,981 Line:5853 38:
 [DEBUG] 2017-12-29 14:47:00,981 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 41:
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 42:
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:47:00,982 Line:5853 46:
 [DEBUG] 2017-12-29 14:47:00,983 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:47:00,983 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:47:00,983 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:47:00,983 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:47:00,983 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:47:00,984 Line:5853 52:
 [DEBUG] 2017-12-29 14:47:00,984 Line:5853 53:
 [DEBUG] 2017-12-29 14:47:00,984 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:47:00,984 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:47:00,984 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:47:00,984 Line:5853 57:0
 [DEBUG] 2017-12-29 14:47:00,985 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:47:00,985 Line:5853 59:0
 [DEBUG] 2017-12-29 14:47:00,985 Line:5853 60:2017-12-29 14:47:00
 [DEBUG] 2017-12-29 14:47:00,986 Line:5853 61:1
 [DEBUG] 2017-12-29 14:47:00,986 Line:5853 62:2017-12-29 14:47:00
 [DEBUG] 2017-12-29 14:47:00,986 Line:5853 63:1
 [DEBUG] 2017-12-29 14:47:00,987 Line:5853 64:2017-12-29 14:47:00
 [DEBUG] 2017-12-29 14:47:00,989 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:47:00,990 Line:5853 1:2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:00,990 Line:5853 2:2e644507_1712291447009890013
 [DEBUG] 2017-12-29 14:47:00,990 Line:5853 3:
 [DEBUG] 2017-12-29 14:47:00,990 Line:5853 4:
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 5:
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 6:
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 8:
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 9:
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 10:
 [DEBUG] 2017-12-29 14:47:00,991 Line:5853 11:
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 12:
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 13:
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 14:
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:47:00,992 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 19:0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:47:00,993 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:47:00,994 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:47:00,995 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:47:00,995 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:47:00,995 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:47:00,995 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:47:00,995 Line:5853 37:
 [DEBUG] 2017-12-29 14:47:00,995 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:47:00,996 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 47:0
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 50:0
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 51:
 [DEBUG] 2017-12-29 14:47:00,997 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 55:0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 56:0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 57:
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:47:00,998 Line:5853 60:
 [DEBUG] 2017-12-29 14:47:00,999 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:47:00,999 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:47:01,000 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:47:01,001 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,001 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:47:01,002 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,002 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:47:01,004 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,004 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:47:01,005 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,006 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:47:01,006 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,006 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:47:01,007 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,007 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:47:01,008 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:47:01,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,009 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,009 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:47:01,010 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,010 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:47:01,011 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,011 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:47:01,011 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,012 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,012 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:47:01,012 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,013 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:47:01,013 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,013 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:47:01,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,014 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,014 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:47:01,015 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:47:01,015 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:47:01,015 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,016 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:47:01,016 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,016 Line:988 1值：false
 [DEBUG] 2017-12-29 14:47:01,016 Line:988 2值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,017 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:47:01,017 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,017 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:47:01,018 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,018 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:47:01,018 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,019 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,019 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,019 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,020 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,020 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:47:01,020 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,021 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,021 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,021 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,022 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,022 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:47:01,022 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,023 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,023 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,023 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,024 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,024 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:47:01,025 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,025 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,025 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,026 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,026 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,027 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,027 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,028 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:47:01,028 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,028 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,029 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,029 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,030 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,030 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:47:01,031 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,031 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:47:01,031 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,032 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,032 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,033 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,034 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,034 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:47:01,034 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,034 Line:988 1值：1
 [DEBUG] 2017-12-29 14:47:01,034 Line:988 2值：0
 [DEBUG] 2017-12-29 14:47:01,035 Line:988 3值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,036 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:47:01,036 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:47:01,036 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:47:01,036 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:47:01,038 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,039 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:47:01,040 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,040 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,041 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:47:01,042 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,042 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,043 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:47:01,043 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,044 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,044 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,045 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:47:01,046 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,046 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:47:01,046 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,047 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,047 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,048 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:47:01,049 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,049 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:47:01,049 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,049 Line:988 1值：
 [DEBUG] 2017-12-29 14:47:01,050 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:47:01,050 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:47:01,050 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:47:01,051 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,051 Line:988 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,051 Line:988 2值：
 [DEBUG] 2017-12-29 14:47:01,051 Line:988 3值：
 [DEBUG] 2017-12-29 14:47:01,051 Line:988 4值：
 [DEBUG] 2017-12-29 14:47:01,052 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:47:01,052 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:47:01,054 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,055 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:47:01,055 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,056 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:47:01,057 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,057 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:47:01,058 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,058 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:47:01,059 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,060 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:47:01,060 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:47:01,060 Line:1157 2值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,061 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,062 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:47:01,062 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:47:01,062 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:47:01,062 Line:1157 2值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,062 Line:1157 3值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,063 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,063 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:47:01,063 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:47:01,064 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,064 Line:1157 2值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,064 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,065 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:47:01,065 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:47:01,065 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,066 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,066 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:47:01,066 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:47:01,066 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,067 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,067 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:47:01,067 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:47:01,068 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,068 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:47:01,069 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,069 Line:1157 2值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,069 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,070 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:47:01,070 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:47:01,071 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,071 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:47:01,072 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,072 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:47:01,073 Line:1270 2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,073 Line:1270 add
 [DEBUG] 2017-12-29 14:47:01,074 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:47:01,074 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:47:01,075 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,075 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:47:01,076 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,076 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:47:01,077 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:47:01,077 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:47:01,077 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,078 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:47:01,078 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:47:01,078 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:47:01,079 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,080 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:47:01,080 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,081 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:47:01,081 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,083 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:47:01,084 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,084 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:47:01,085 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,085 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:47:01,086 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,087 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:47:01,088 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,088 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:47:01,089 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,089 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:47:01,090 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,090 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:47:01,090 Line:1157 1值：2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,091 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:47:01,091 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:47:01,091 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:47:01,092 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,093 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:47:01,093 Line:1270 2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,093 Line:1270 add
 [DEBUG] 2017-12-29 14:47:01,096 Line:425 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 14:47:01,097 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:47:01,098 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,098 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:47:01,098 Line:1270 12
 [DEBUG] 2017-12-29 14:47:01,099 Line:1270 2017
 [DEBUG] 2017-12-29 14:47:01,099 Line:1270 12
 [DEBUG] 2017-12-29 14:47:01,099 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:47:01,099 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:47:01,099 Line:1270 2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,099 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 BI1712290020
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 1
 [DEBUG] 2017-12-29 14:47:01,100 Line:1270 1
 [DEBUG] 2017-12-29 14:47:01,101 Line:1270 2017-12-29 14:47:00
 [DEBUG] 2017-12-29 14:47:01,101 Line:1270 2017-12-29 14:47:00
 [DEBUG] 2017-12-29 14:47:01,101 Line:1270 00001
 [DEBUG] 2017-12-29 14:47:01,101 Line:1270 
 [DEBUG] 2017-12-29 14:47:01,101 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:47:01,101 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:47:01,102 Line:1270 00003
 [DEBUG] 2017-12-29 14:47:01,102 Line:1270 1
 [DEBUG] 2017-12-29 14:47:01,102 Line:1270 00101
 [DEBUG] 2017-12-29 14:47:01,102 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:47:01,102 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:47:01,102 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:47:01,103 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:47:01,104 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:47:01,104 Line:1270 0
 [DEBUG] 2017-12-29 14:47:01,105 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:47:01,105 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:47:01,105 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:47:01,105 Line:1270 f_ref='2e644507_1712291447009730012'
 [DEBUG] 2017-12-29 14:47:01,113 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'2e644507_1712291447009730012','2017-12-29','BI1712290020','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:47:00','2017-12-29 14:47:00','00001' from tblBuyInStockDet where f_ref='2e644507_1712291447009730012' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:47:01,114 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:47:01,114 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:47:01,114 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:47:01,114 Line:425 ************上述语句执行时间：16
 [DEBUG] 2017-12-29 14:47:01,115 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:47:01,115 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,116 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:47:01,116 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,117 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:47:01,117 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,117 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-29 14:47:01,118 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:47:01,118 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,119 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:47:01,121 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,121 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:47:01,122 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,122 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:47:01,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,122 Line:988 1值：1
 [DEBUG] 2017-12-29 14:47:01,122 Line:988 2值：0
 [DEBUG] 2017-12-29 14:47:01,123 Line:988 3值：1
 [DEBUG] 2017-12-29 14:47:01,123 Line:988 4值：0
 [DEBUG] 2017-12-29 14:47:01,123 Line:988 5值：0
 [DEBUG] 2017-12-29 14:47:01,123 Line:988 6值：1
 [DEBUG] 2017-12-29 14:47:01,124 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:47:01,124 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:47:01,124 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:47:01,124 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:47:01,124 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:47:01,125 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,126 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:47:01,127 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:47:01,128 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,128 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,129 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,130 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,130 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,131 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,132 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:47:01,133 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:47:01,140 Line:434 ************上述语句执行时间：15
 [DEBUG] 2017-12-29 14:47:01,140 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:47:01,141 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,141 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:47:01,141 Line:1270 12e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,142 Line:1270 00003
 [DEBUG] 2017-12-29 14:47:01,142 Line:1270 1
 [DEBUG] 2017-12-29 14:47:01,142 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:47:01,142 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=2e644507_1712291447009730012@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:47:00@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:47:00@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290020@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:47:01,144 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('12e644507_1712291447009730012',16,'00003','2017-12-29','12','2017','12','0','1','2e644507_1712291447009730012','','1','0','1','1','2017-12-29 14:47:00','1','2017-12-29 14:47:00','00001','tblBuyInStock','BI1712290020','1','00101','0','')
 [DEBUG] 2017-12-29 14:47:01,144 Line:425 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 14:47:01,145 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:47:01,145 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,146 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:47:01,146 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,146 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:47:01,147 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,147 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:47:01,148 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,148 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:47:01,149 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,149 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:47:01,149 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,150 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:47:01,150 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,150 Line:988 1值：1
 [DEBUG] 2017-12-29 14:47:01,150 Line:988 2值：0
 [DEBUG] 2017-12-29 14:47:01,151 Line:988 3值：1
 [DEBUG] 2017-12-29 14:47:01,151 Line:988 4值：0
 [DEBUG] 2017-12-29 14:47:01,151 Line:988 5值：0
 [DEBUG] 2017-12-29 14:47:01,151 Line:988 6值：0
 [DEBUG] 2017-12-29 14:47:01,152 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:47:01,152 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:47:01,153 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:47:01,153 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:47:01,153 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:47:01,154 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,155 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:47:01,157 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,157 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:47:01,158 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,158 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:47:01,159 Line:321 flag:false
 [DEBUG] 2017-12-29 14:47:01,159 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:47:01,160 Line:321 flag:true
 [DEBUG] 2017-12-29 14:47:01,160 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:47:01,160 Line:1270 2e644507_1712291447009730012
 [DEBUG] 2017-12-29 14:47:01,161 Line:1270 add
 [DEBUG] 2017-12-29 14:47:01,162 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:47:01,162 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:47:01,162 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:47:01,163 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:47:01,163 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:47:01,163 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:47:01,163 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:47:01,164 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:47:01,164 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:47:01,164 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:47:01,164 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:47:01,165 Line:321 flag:true
 [ERROR] 2017-12-29 14:47:01,165 Line:1774 DefineSQLBean.execClass Error
 java.lang.NoSuchMethodException: tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
	at java.lang.Class.getMethod(Class.java:1786)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1746)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-29 14:47:01,165 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=tzhive.HiveServlet.optHive(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)
 [DEBUG] 2017-12-29 14:55:02,062 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-29 14:55:02,065 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-29 14:55:02,074 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-29 14:55:10,567 Line:206 系统开始启动，最大内存：1792;目前总内存：306;目前空闲内存：211
 [INFO ] 2017-12-29 14:55:10,723 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-29 14:55:16,210 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-29 14:55:16,485 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-29 14:55:16,489 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-29 14:55:16,491 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-29 14:55:16,494 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-29 14:55:16,507 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-29 14:55:16,511 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-29 14:55:17,491 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 14:55:17,514 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-29 14:55:17,543 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-29 14:55:17,552 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-29 14:55:18,328 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-29 14:55:18,328 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-29 14:55:18,711 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-29 14:55:18,783 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-29 14:55:19,560 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-29 14:55:19,580 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-29 14:55:19,582 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-29 14:55:19,588 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-29 14:55:19,601 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-29 14:55:19,603 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-29 14:55:19,623 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-29 14:55:22,479 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-29 14:55:22,759 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,762 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,764 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,766 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,768 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,771 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,774 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,776 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,778 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,780 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,814 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,836 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,862 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,932 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,935 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,937 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,938 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,975 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,977 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,980 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,983 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,986 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:22,988 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,016 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,053 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,055 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,057 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,059 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,061 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,064 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,110 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,111 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,112 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,133 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,148 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,170 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,172 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,173 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 14:55:23,186 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 14:55:23,193 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-29 14:55:23,218 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-29 14:55:23,574 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-29 14:55:23,574 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-29 14:55:24,681 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-30 00:00:00
 [INFO ] 2017-12-29 14:55:24,682 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-29 14:56:23,791 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 14:57:02,191 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 14:57:02,191 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-29 14:57:02,192 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-29 14:57:02,685 Line:5227 GlobalsTool.js 生成js 时间69:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:57:02,840 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 14:57:02,841 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 14:57:03,041 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514530623036
 [DEBUG] 2017-12-29 14:57:03,052 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514530623036,];
 [DEBUG] 2017-12-29 14:57:03,128 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 14:57:03,129 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 14:57:04,636 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514530624635
 [DEBUG] 2017-12-29 14:57:04,637 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514530624635,];
 [DEBUG] 2017-12-29 14:57:04,700 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514530624699
 [DEBUG] 2017-12-29 14:57:04,701 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514530624699,];
 [DEBUG] 2017-12-29 14:57:04,771 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-29 14:57:04,771 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 14:57:04,820 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 14:57:04,833 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 14:57:04,932 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 14:57:04,932 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 14:57:04,944 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:57:05,169 Line:5227 GlobalsTool.js 生成js 时间28:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:57:05,333 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 14:57:05,333 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 14:57:05,334 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 14:57:05,334 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:57:05,335 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:57:05,351 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 14:57:05,352 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:57:05,353 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:57:05,369 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 14:57:05,370 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:57:05,371 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:57:05,448 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 14:57:05,449 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 14:57:05,450 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 14:57:22,022 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 14:57:22,022 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 14:57:22,023 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-29 14:57:22,472 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-29 14:57:22,482 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-29 14:57:22,486 Line:689 通过SQL读原始数据：5
 [DEBUG] 2017-12-29 14:57:22,493 Line:1391 整理数据：6
 [DEBUG] 2017-12-29 14:57:22,874 Line:5227 GlobalsTool.js 生成js 时间110:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:57:22,990 Line:5227 GlobalsTool.js 生成js 时间115:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 14:57:24,533 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:57:24,535 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:57:24,842 Line:5227 GlobalsTool.js 生成js 时间19:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:57:26,053 Line:5227 GlobalsTool.js 生成js 时间1211:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 14:57:29,067 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 14:57:29,068 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 14:57:29,139 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:57:29,139 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:57:29,140 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:57:29,140 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:57:29,141 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-29 14:57:29,190 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-29'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:57:29,369 Line:5227 GlobalsTool.js 生成js 时间22:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:57:29,407 Line:5227 GlobalsTool.js 生成js 时间38:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 14:57:31,248 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 14:57:31,249 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 14:57:31,274 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:57:31,274 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:57:31,275 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:57:31,277 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:57:31,278 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-29 14:57:31,283 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:57:33,987 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-29 14:57:33,987 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-29 14:57:34,019 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 14:57:34,020 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-29 14:57:34,020 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 14:57:34,020 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 14:57:34,021 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-29 14:57:34,032 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 14:57:44,408 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 14:57:44,412 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290021,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 14:57:44,414 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 14:57:44,440 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:57:44,440 Line:5853 1:0.0
 [DEBUG] 2017-12-29 14:57:44,440 Line:5853 2:
 [DEBUG] 2017-12-29 14:57:44,441 Line:5853 3:0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:44,441 Line:5853 4:-1
 [DEBUG] 2017-12-29 14:57:44,441 Line:5853 5:finish
 [DEBUG] 2017-12-29 14:57:44,441 Line:5853 6:0.0
 [DEBUG] 2017-12-29 14:57:44,441 Line:5853 7:0
 [DEBUG] 2017-12-29 14:57:44,441 Line:5853 8:0.0
 [DEBUG] 2017-12-29 14:57:44,443 Line:5853 9:BI1712290021
 [DEBUG] 2017-12-29 14:57:44,443 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 14:57:44,443 Line:5853 11:00003
 [DEBUG] 2017-12-29 14:57:44,443 Line:5853 12:00101
 [DEBUG] 2017-12-29 14:57:44,443 Line:5853 13:1
 [DEBUG] 2017-12-29 14:57:44,443 Line:5853 14:00001
 [DEBUG] 2017-12-29 14:57:44,444 Line:5853 15:3
 [DEBUG] 2017-12-29 14:57:44,444 Line:5853 16:0.0
 [DEBUG] 2017-12-29 14:57:44,444 Line:5853 17:0.0
 [DEBUG] 2017-12-29 14:57:44,444 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:57:44,444 Line:5853 19:0.0
 [DEBUG] 2017-12-29 14:57:44,445 Line:5853 20:
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 23:0.0
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 24:
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 25:0.0
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:57:44,446 Line:5853 27:0.0
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 28:
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 29:12
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 30:12
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 31:2017
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 32:
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:57:44,448 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:57:44,449 Line:5853 36:
 [DEBUG] 2017-12-29 14:57:44,449 Line:5853 37:
 [DEBUG] 2017-12-29 14:57:44,449 Line:5853 38:
 [DEBUG] 2017-12-29 14:57:44,449 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:57:44,450 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:57:44,450 Line:5853 41:
 [DEBUG] 2017-12-29 14:57:44,450 Line:5853 42:
 [DEBUG] 2017-12-29 14:57:44,450 Line:5853 43:100.0
 [DEBUG] 2017-12-29 14:57:44,450 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:57:44,450 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:57:44,451 Line:5853 46:
 [DEBUG] 2017-12-29 14:57:44,451 Line:5853 47:1.0
 [DEBUG] 2017-12-29 14:57:44,451 Line:5853 48:1.0
 [DEBUG] 2017-12-29 14:57:44,451 Line:5853 49:1.0
 [DEBUG] 2017-12-29 14:57:44,451 Line:5853 50:0.0
 [DEBUG] 2017-12-29 14:57:44,451 Line:5853 51:1.0
 [DEBUG] 2017-12-29 14:57:44,453 Line:5853 52:
 [DEBUG] 2017-12-29 14:57:44,453 Line:5853 53:
 [DEBUG] 2017-12-29 14:57:44,453 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:57:44,453 Line:5853 55:0.0
 [DEBUG] 2017-12-29 14:57:44,453 Line:5853 56:0.0
 [DEBUG] 2017-12-29 14:57:44,453 Line:5853 57:0
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 58:00001
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 59:0
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 60:2017-12-29 14:57:44
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 61:1
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 62:2017-12-29 14:57:44
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 63:1
 [DEBUG] 2017-12-29 14:57:44,454 Line:5853 64:2017-12-29 14:57:44
 [DEBUG] 2017-12-29 14:57:44,533 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 14:57:44,533 Line:5853 1:0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:44,533 Line:5853 2:0e379723_1712291457445320003
 [DEBUG] 2017-12-29 14:57:44,533 Line:5853 3:
 [DEBUG] 2017-12-29 14:57:44,534 Line:5853 4:
 [DEBUG] 2017-12-29 14:57:44,534 Line:5853 5:
 [DEBUG] 2017-12-29 14:57:44,534 Line:5853 6:
 [DEBUG] 2017-12-29 14:57:44,534 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 14:57:44,534 Line:5853 8:
 [DEBUG] 2017-12-29 14:57:44,535 Line:5853 9:
 [DEBUG] 2017-12-29 14:57:44,535 Line:5853 10:
 [DEBUG] 2017-12-29 14:57:44,535 Line:5853 11:
 [DEBUG] 2017-12-29 14:57:44,535 Line:5853 12:
 [DEBUG] 2017-12-29 14:57:44,535 Line:5853 13:
 [DEBUG] 2017-12-29 14:57:44,535 Line:5853 14:
 [DEBUG] 2017-12-29 14:57:44,536 Line:5853 15:1.0
 [DEBUG] 2017-12-29 14:57:44,536 Line:5853 16:1.0
 [DEBUG] 2017-12-29 14:57:44,536 Line:5853 17:1.0
 [DEBUG] 2017-12-29 14:57:44,536 Line:5853 18:0.0
 [DEBUG] 2017-12-29 14:57:44,536 Line:5853 19:0
 [DEBUG] 2017-12-29 14:57:44,536 Line:5853 20:0.0
 [DEBUG] 2017-12-29 14:57:44,537 Line:5853 21:0.0
 [DEBUG] 2017-12-29 14:57:44,537 Line:5853 22:0.0
 [DEBUG] 2017-12-29 14:57:44,537 Line:5853 23:100.0
 [DEBUG] 2017-12-29 14:57:44,537 Line:5853 24:1.0
 [DEBUG] 2017-12-29 14:57:44,537 Line:5853 25:1.0
 [DEBUG] 2017-12-29 14:57:44,537 Line:5853 26:0.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 27:1.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 28:1.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 29:0.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 30:1.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 31:1.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 32:0.0
 [DEBUG] 2017-12-29 14:57:44,538 Line:5853 33:0.0
 [DEBUG] 2017-12-29 14:57:44,539 Line:5853 34:0.0
 [DEBUG] 2017-12-29 14:57:44,539 Line:5853 35:0.0
 [DEBUG] 2017-12-29 14:57:44,539 Line:5853 36:0.0
 [DEBUG] 2017-12-29 14:57:44,539 Line:5853 37:
 [DEBUG] 2017-12-29 14:57:44,539 Line:5853 38:0.0
 [DEBUG] 2017-12-29 14:57:44,539 Line:5853 39:0.0
 [DEBUG] 2017-12-29 14:57:44,540 Line:5853 40:0.0
 [DEBUG] 2017-12-29 14:57:44,540 Line:5853 41:0.0
 [DEBUG] 2017-12-29 14:57:44,540 Line:5853 42:0.0
 [DEBUG] 2017-12-29 14:57:44,540 Line:5853 43:0.0
 [DEBUG] 2017-12-29 14:57:44,540 Line:5853 44:0.0
 [DEBUG] 2017-12-29 14:57:44,540 Line:5853 45:0.0
 [DEBUG] 2017-12-29 14:57:44,541 Line:5853 46:0.0
 [DEBUG] 2017-12-29 14:57:44,541 Line:5853 47:0
 [DEBUG] 2017-12-29 14:57:44,541 Line:5853 48:0.0
 [DEBUG] 2017-12-29 14:57:44,541 Line:5853 49:0.0
 [DEBUG] 2017-12-29 14:57:44,541 Line:5853 50:0
 [DEBUG] 2017-12-29 14:57:44,541 Line:5853 51:
 [DEBUG] 2017-12-29 14:57:44,542 Line:5853 52:0.0
 [DEBUG] 2017-12-29 14:57:44,542 Line:5853 53:0.0
 [DEBUG] 2017-12-29 14:57:44,542 Line:5853 54:0.0
 [DEBUG] 2017-12-29 14:57:44,542 Line:5853 55:0
 [DEBUG] 2017-12-29 14:57:44,543 Line:5853 56:0
 [DEBUG] 2017-12-29 14:57:44,543 Line:5853 57:
 [DEBUG] 2017-12-29 14:57:44,543 Line:5853 58:0.0
 [DEBUG] 2017-12-29 14:57:44,544 Line:5853 59:0.0
 [DEBUG] 2017-12-29 14:57:44,544 Line:5853 60:
 [DEBUG] 2017-12-29 14:57:44,545 Line:5853 61:0.0
 [DEBUG] 2017-12-29 14:57:44,546 Line:5853 62:00001
 [DEBUG] 2017-12-29 14:57:44,744 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 14:57:45,019 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,019 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 14:57:45,021 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,021 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 14:57:45,022 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,023 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 14:57:45,023 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,024 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:57:45,025 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,025 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 14:57:45,026 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,026 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:57:45,029 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,030 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 14:57:45,030 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,030 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,030 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 14:57:45,031 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:57:45,031 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:57:45,032 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,032 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:57:45,033 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,033 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,033 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:57:45,034 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,034 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:57:45,035 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,035 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 14:57:45,035 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,036 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,036 Line:988 2值：00003
 [DEBUG] 2017-12-29 14:57:45,037 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,037 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:57:45,038 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,038 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 14:57:45,039 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,039 Line:988 1值：false
 [DEBUG] 2017-12-29 14:57:45,039 Line:988 2值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,040 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 14:57:45,040 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,040 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 14:57:45,041 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,042 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 14:57:45,042 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,042 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,043 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:57:45,044 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,045 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,046 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:57:45,046 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,047 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,048 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,049 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,050 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,051 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 14:57:45,051 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,052 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,053 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,054 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,055 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,056 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 14:57:45,056 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,056 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,057 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:57:45,058 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,059 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,060 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,062 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,062 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 14:57:45,063 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,063 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,064 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,064 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,065 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,066 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 14:57:45,067 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,067 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 14:57:45,068 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,068 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,069 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,070 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,072 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,073 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 14:57:45,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,073 Line:988 1值：1
 [DEBUG] 2017-12-29 14:57:45,074 Line:988 2值：0
 [DEBUG] 2017-12-29 14:57:45,074 Line:988 3值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,075 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 14:57:45,076 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 14:57:45,076 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:57:45,077 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 14:57:45,079 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,080 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 14:57:45,080 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,080 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,081 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:57:45,082 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,082 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,083 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 14:57:45,084 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,084 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,085 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,085 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 14:57:45,086 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,087 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 14:57:45,087 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,087 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,088 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 14:57:45,088 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 14:57:45,089 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,089 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 14:57:45,090 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,090 Line:988 1值：
 [DEBUG] 2017-12-29 14:57:45,090 Line:988 2值：00001
 [DEBUG] 2017-12-29 14:57:45,091 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,091 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 14:57:45,092 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,092 Line:988 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,092 Line:988 2值：
 [DEBUG] 2017-12-29 14:57:45,092 Line:988 3值：
 [DEBUG] 2017-12-29 14:57:45,092 Line:988 4值：
 [DEBUG] 2017-12-29 14:57:45,093 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 14:57:45,093 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 14:57:45,095 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,095 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 14:57:45,096 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,096 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 14:57:45,097 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,097 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 14:57:45,098 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,098 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:57:45,099 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,100 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 14:57:45,100 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:57:45,101 Line:1157 2值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,101 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,101 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,102 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:57:45,102 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 14:57:45,102 Line:1157 2值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,102 Line:1157 3值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,103 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,103 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,103 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 14:57:45,103 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,104 Line:1157 2值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,104 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,104 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,105 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 14:57:45,105 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,105 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,106 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,106 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 14:57:45,106 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,107 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,107 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,107 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 14:57:45,108 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,108 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 14:57:45,109 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,109 Line:1157 2值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,109 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,110 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:57:45,110 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 14:57:45,111 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,111 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 14:57:45,112 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,112 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 14:57:45,112 Line:1270 0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,113 Line:1270 add
 [DEBUG] 2017-12-29 14:57:45,114 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:57:45,114 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 14:57:45,115 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,115 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:57:45,116 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,116 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:57:45,116 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,117 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 14:57:45,117 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,117 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 14:57:45,118 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,118 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:57:45,119 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,119 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 14:57:45,120 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,120 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 14:57:45,121 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,136 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 14:57:45,137 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,137 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:57:45,138 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,138 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 14:57:45,139 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,139 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:57:45,140 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,140 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 14:57:45,141 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,141 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:57:45,142 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,143 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 14:57:45,143 Line:1157 1值：0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,145 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 14:57:45,145 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:57:45,145 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:57:45,146 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,147 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 14:57:45,147 Line:1270 0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,147 Line:1270 add
 [DEBUG] 2017-12-29 14:57:45,148 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 14:57:45,148 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 14:57:45,149 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,150 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 14:57:45,150 Line:1270 12
 [DEBUG] 2017-12-29 14:57:45,151 Line:1270 2017
 [DEBUG] 2017-12-29 14:57:45,151 Line:1270 12
 [DEBUG] 2017-12-29 14:57:45,151 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 14:57:45,152 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 14:57:45,152 Line:1270 0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,152 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 14:57:45,152 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:57:45,153 Line:1270 BI1712290021
 [DEBUG] 2017-12-29 14:57:45,153 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:57:45,153 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:57:45,153 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 14:57:45,154 Line:1270 1
 [DEBUG] 2017-12-29 14:57:45,154 Line:1270 1
 [DEBUG] 2017-12-29 14:57:45,154 Line:1270 2017-12-29 14:57:44
 [DEBUG] 2017-12-29 14:57:45,154 Line:1270 2017-12-29 14:57:44
 [DEBUG] 2017-12-29 14:57:45,155 Line:1270 00001
 [DEBUG] 2017-12-29 14:57:45,155 Line:1270 
 [DEBUG] 2017-12-29 14:57:45,155 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 14:57:45,155 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:57:45,156 Line:1270 00003
 [DEBUG] 2017-12-29 14:57:45,156 Line:1270 1
 [DEBUG] 2017-12-29 14:57:45,156 Line:1270 00101
 [DEBUG] 2017-12-29 14:57:45,156 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 14:57:45,157 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 14:57:45,157 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 14:57:45,157 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 14:57:45,157 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 14:57:45,157 Line:1270 0
 [DEBUG] 2017-12-29 14:57:45,158 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 14:57:45,158 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 14:57:45,158 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 14:57:45,158 Line:1270 f_ref='0e379723_1712291457444310002'
 [DEBUG] 2017-12-29 14:57:45,166 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'0e379723_1712291457444310002','2017-12-29','BI1712290021','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 14:57:44','2017-12-29 14:57:44','00001' from tblBuyInStockDet where f_ref='0e379723_1712291457444310002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 14:57:45,166 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 14:57:45,167 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:57:45,167 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 14:57:45,167 Line:425 ************上述语句执行时间：17
 [DEBUG] 2017-12-29 14:57:45,167 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 14:57:45,168 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,168 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:57:45,169 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,170 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 14:57:45,170 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,170 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-29 14:57:45,171 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 14:57:45,171 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,172 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 14:57:45,172 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,172 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 14:57:45,173 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,173 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 14:57:45,173 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,174 Line:988 1值：1
 [DEBUG] 2017-12-29 14:57:45,174 Line:988 2值：0
 [DEBUG] 2017-12-29 14:57:45,174 Line:988 3值：1
 [DEBUG] 2017-12-29 14:57:45,174 Line:988 4值：0
 [DEBUG] 2017-12-29 14:57:45,174 Line:988 5值：0
 [DEBUG] 2017-12-29 14:57:45,174 Line:988 6值：1
 [DEBUG] 2017-12-29 14:57:45,175 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:57:45,175 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:57:45,176 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 14:57:45,176 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:57:45,176 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 14:57:45,177 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,222 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 14:57:45,223 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 14:57:45,224 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,226 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,228 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,229 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,230 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,232 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,233 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 14:57:45,235 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 14:57:45,244 Line:434 ************上述语句执行时间：67
 [DEBUG] 2017-12-29 14:57:45,245 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 14:57:45,246 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,246 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 14:57:45,246 Line:1270 10e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,247 Line:1270 00003
 [DEBUG] 2017-12-29 14:57:45,247 Line:1270 1
 [DEBUG] 2017-12-29 14:57:45,247 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 14:57:45,247 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=0e379723_1712291457444310002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 14:57:44@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 14:57:44@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290021@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 14:57:45,252 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('10e379723_1712291457444310002',16,'00003','2017-12-29','12','2017','12','0','1','0e379723_1712291457444310002','','1','0','1','1','2017-12-29 14:57:44','1','2017-12-29 14:57:44','00001','tblBuyInStock','BI1712290021','1','00101','0','')
 [DEBUG] 2017-12-29 14:57:45,252 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 14:57:45,253 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:57:45,254 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,254 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 14:57:45,255 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,255 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 14:57:45,256 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,256 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 14:57:45,257 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,257 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 14:57:45,258 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,259 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 14:57:45,259 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,260 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 14:57:45,260 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,261 Line:988 1值：1
 [DEBUG] 2017-12-29 14:57:45,261 Line:988 2值：0
 [DEBUG] 2017-12-29 14:57:45,262 Line:988 3值：1
 [DEBUG] 2017-12-29 14:57:45,262 Line:988 4值：0
 [DEBUG] 2017-12-29 14:57:45,263 Line:988 5值：0
 [DEBUG] 2017-12-29 14:57:45,263 Line:988 6值：0
 [DEBUG] 2017-12-29 14:57:45,264 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 14:57:45,264 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 14:57:45,264 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 14:57:45,264 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 14:57:45,265 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:57:45,266 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,266 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 14:57:45,267 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,267 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:57:45,268 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,269 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 14:57:45,269 Line:321 flag:false
 [DEBUG] 2017-12-29 14:57:45,270 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 14:57:45,270 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,271 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 14:57:45,271 Line:1270 0e379723_1712291457444310002
 [DEBUG] 2017-12-29 14:57:45,271 Line:1270 add
 [DEBUG] 2017-12-29 14:57:45,273 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 14:57:45,273 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 14:57:45,274 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 14:57:45,274 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 14:57:45,275 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 14:57:45,275 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 14:57:45,275 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 14:57:45,275 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 14:57:45,276 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 14:57:45,276 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 14:57:45,276 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 14:57:45,277 Line:321 flag:true
 [DEBUG] 2017-12-29 14:57:45,287 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 14:58:04,828 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@57b542f
 [DEBUG] 2017-12-29 14:58:04,828 Line:443 ************上述语句执行时间：19551
 [DEBUG] 2017-12-29 14:58:06,338 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=0e379723_1712291457444310002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 14:58:06,340 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[0e379723_1712291457444310002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 14:58:06,342 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0e379723_1712291457444310002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 14:58:06,417 Line:1525  select * from  tblBuyInStockDet where f_ref = '0e379723_1712291457444310002' order by detOrderNo
 [DEBUG] 2017-12-29 14:58:06,421 Line:1525  select * from  tblBuyPayAccount where f_ref = '0e379723_1712291457444310002' order by detOrderNo
 [DEBUG] 2017-12-29 15:03:41,821 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-29 15:03:41,823 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-29 15:03:41,829 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-29 15:03:52,178 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：203
 [INFO ] 2017-12-29 15:03:52,362 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-29 15:03:57,665 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-29 15:03:57,940 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-29 15:03:57,943 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-29 15:03:57,945 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-29 15:03:57,948 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-29 15:03:57,961 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-29 15:03:57,965 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-29 15:03:58,855 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 15:03:58,875 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-29 15:03:58,898 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-29 15:03:58,907 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-29 15:03:59,656 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-29 15:03:59,656 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-29 15:04:00,189 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-29 15:04:00,257 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-29 15:04:01,072 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-29 15:04:01,094 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-29 15:04:01,099 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-29 15:04:01,108 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-29 15:04:01,121 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-29 15:04:01,125 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-29 15:04:01,151 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-29 15:04:04,396 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-29 15:04:04,616 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,618 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,620 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,623 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,625 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,627 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,629 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,631 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,633 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,635 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,676 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,696 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,722 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,789 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,791 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,793 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,830 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,832 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,834 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,837 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,839 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,841 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,864 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,898 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,901 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,903 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,906 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,908 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,910 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,960 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,962 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:04,964 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:05,019 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:05,051 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:05,095 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:05,098 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:05,100 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 15:04:05,127 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 15:04:05,145 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-29 15:04:05,202 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-29 15:04:05,884 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-29 15:04:05,885 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-29 15:04:07,959 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-30 00:00:00
 [INFO ] 2017-12-29 15:04:07,959 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-29 15:05:06,123 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 15:05:54,958 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 15:05:54,958 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-29 15:05:54,958 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-29 15:05:55,416 Line:5227 GlobalsTool.js 生成js 时间76:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-29 15:05:55,464 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 15:05:55,465 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 15:05:55,669 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514531155663
 [DEBUG] 2017-12-29 15:05:55,674 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514531155663,];
 [DEBUG] 2017-12-29 15:05:55,746 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 15:05:55,747 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 15:05:57,119 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514531157118
 [DEBUG] 2017-12-29 15:05:57,119 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514531157118,];
 [DEBUG] 2017-12-29 15:05:57,178 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514531157177
 [DEBUG] 2017-12-29 15:05:57,178 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514531157177,];
 [DEBUG] 2017-12-29 15:05:57,248 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-29 15:05:57,248 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 15:05:57,296 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 15:05:57,310 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 15:05:57,407 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 15:05:57,407 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 15:05:57,415 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 15:05:57,653 Line:5227 GlobalsTool.js 生成js 时间27:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-29 15:05:57,806 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 15:05:57,806 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 15:05:57,806 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 15:05:57,807 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 15:05:57,808 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 15:05:57,825 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 15:05:57,826 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 15:05:57,827 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 15:05:57,837 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 15:05:57,838 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 15:05:57,839 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 15:05:57,850 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 15:05:57,851 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 15:05:57,852 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 15:06:19,782 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 15:06:19,782 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 15:06:19,782 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-29 15:06:20,236 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-29 15:06:20,245 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-29 15:06:20,268 Line:689 通过SQL读原始数据：23
 [DEBUG] 2017-12-29 15:06:20,275 Line:1391 整理数据：6
 [DEBUG] 2017-12-29 15:06:20,638 Line:5227 GlobalsTool.js 生成js 时间101:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-29 15:06:20,747 Line:5227 GlobalsTool.js 生成js 时间108:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 15:06:33,564 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 15:06:33,565 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 15:06:33,843 Line:5227 GlobalsTool.js 生成js 时间14:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 15:06:34,618 Line:5227 GlobalsTool.js 生成js 时间774:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-29 15:06:37,535 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 15:06:37,536 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 15:06:37,608 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-29&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 15:06:37,608 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 15:06:37,608 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-29,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 15:06:37,608 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 15:06:37,609 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-29 15:06:37,648 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-29'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 15:06:37,810 Line:5227 GlobalsTool.js 生成js 时间24:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-29 15:06:37,842 Line:5227 GlobalsTool.js 生成js 时间31:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 15:06:39,885 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 15:06:39,886 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-29 15:06:39,911 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 15:06:39,911 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-29 15:06:39,912 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 15:06:39,912 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 15:06:39,912 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-29 15:06:39,916 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 15:07:15,304 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-29 15:07:15,305 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-29 15:07:15,342 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-29 15:07:15,343 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 15:07:15,344 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-29 15:07:15,344 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-29 15:07:15,345 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-29 15:07:15,360 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 15:07:21,767 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 15:07:21,769 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712290022,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 15:07:21,771 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-29 15:07:21,795 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:07:21,796 Line:5853 1:0.0
 [DEBUG] 2017-12-29 15:07:21,796 Line:5853 2:
 [DEBUG] 2017-12-29 15:07:21,796 Line:5853 3:2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:21,796 Line:5853 4:-1
 [DEBUG] 2017-12-29 15:07:21,797 Line:5853 5:finish
 [DEBUG] 2017-12-29 15:07:21,797 Line:5853 6:0.0
 [DEBUG] 2017-12-29 15:07:21,797 Line:5853 7:0
 [DEBUG] 2017-12-29 15:07:21,797 Line:5853 8:0.0
 [DEBUG] 2017-12-29 15:07:21,797 Line:5853 9:BI1712290022
 [DEBUG] 2017-12-29 15:07:21,797 Line:5853 10:2017-12-29
 [DEBUG] 2017-12-29 15:07:21,798 Line:5853 11:00003
 [DEBUG] 2017-12-29 15:07:21,798 Line:5853 12:00101
 [DEBUG] 2017-12-29 15:07:21,798 Line:5853 13:1
 [DEBUG] 2017-12-29 15:07:21,798 Line:5853 14:00001
 [DEBUG] 2017-12-29 15:07:21,798 Line:5853 15:3
 [DEBUG] 2017-12-29 15:07:21,798 Line:5853 16:0.0
 [DEBUG] 2017-12-29 15:07:21,799 Line:5853 17:0.0
 [DEBUG] 2017-12-29 15:07:21,799 Line:5853 18:0.0
 [DEBUG] 2017-12-29 15:07:21,799 Line:5853 19:0.0
 [DEBUG] 2017-12-29 15:07:21,799 Line:5853 20:
 [DEBUG] 2017-12-29 15:07:21,799 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:07:21,800 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:07:21,800 Line:5853 23:0.0
 [DEBUG] 2017-12-29 15:07:21,800 Line:5853 24:
 [DEBUG] 2017-12-29 15:07:21,800 Line:5853 25:0.0
 [DEBUG] 2017-12-29 15:07:21,800 Line:5853 26:0.0
 [DEBUG] 2017-12-29 15:07:21,800 Line:5853 27:0.0
 [DEBUG] 2017-12-29 15:07:21,801 Line:5853 28:
 [DEBUG] 2017-12-29 15:07:21,801 Line:5853 29:12
 [DEBUG] 2017-12-29 15:07:21,801 Line:5853 30:12
 [DEBUG] 2017-12-29 15:07:21,801 Line:5853 31:2017
 [DEBUG] 2017-12-29 15:07:21,801 Line:5853 32:
 [DEBUG] 2017-12-29 15:07:21,801 Line:5853 33:0.0
 [DEBUG] 2017-12-29 15:07:21,802 Line:5853 34:0.0
 [DEBUG] 2017-12-29 15:07:21,802 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:07:21,803 Line:5853 36:
 [DEBUG] 2017-12-29 15:07:21,803 Line:5853 37:
 [DEBUG] 2017-12-29 15:07:21,803 Line:5853 38:
 [DEBUG] 2017-12-29 15:07:21,804 Line:5853 39:0.0
 [DEBUG] 2017-12-29 15:07:21,804 Line:5853 40:0.0
 [DEBUG] 2017-12-29 15:07:21,804 Line:5853 41:
 [DEBUG] 2017-12-29 15:07:21,804 Line:5853 42:
 [DEBUG] 2017-12-29 15:07:21,804 Line:5853 43:100.0
 [DEBUG] 2017-12-29 15:07:21,804 Line:5853 44:0.0
 [DEBUG] 2017-12-29 15:07:21,805 Line:5853 45:0.0
 [DEBUG] 2017-12-29 15:07:21,805 Line:5853 46:
 [DEBUG] 2017-12-29 15:07:21,805 Line:5853 47:1.0
 [DEBUG] 2017-12-29 15:07:21,805 Line:5853 48:1.0
 [DEBUG] 2017-12-29 15:07:21,805 Line:5853 49:1.0
 [DEBUG] 2017-12-29 15:07:21,806 Line:5853 50:0.0
 [DEBUG] 2017-12-29 15:07:21,806 Line:5853 51:1.0
 [DEBUG] 2017-12-29 15:07:21,806 Line:5853 52:
 [DEBUG] 2017-12-29 15:07:21,806 Line:5853 53:
 [DEBUG] 2017-12-29 15:07:21,806 Line:5853 54:0.0
 [DEBUG] 2017-12-29 15:07:21,806 Line:5853 55:0.0
 [DEBUG] 2017-12-29 15:07:21,807 Line:5853 56:0.0
 [DEBUG] 2017-12-29 15:07:21,807 Line:5853 57:0
 [DEBUG] 2017-12-29 15:07:21,807 Line:5853 58:00001
 [DEBUG] 2017-12-29 15:07:21,807 Line:5853 59:0
 [DEBUG] 2017-12-29 15:07:21,807 Line:5853 60:2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:07:21,807 Line:5853 61:1
 [DEBUG] 2017-12-29 15:07:21,808 Line:5853 62:2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:07:21,808 Line:5853 63:1
 [DEBUG] 2017-12-29 15:07:21,808 Line:5853 64:2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:07:21,880 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:07:21,880 Line:5853 1:2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:21,880 Line:5853 2:2cf86be0_1712291507218800003
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 3:
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 4:
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 5:
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 6:
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 8:
 [DEBUG] 2017-12-29 15:07:21,881 Line:5853 9:
 [DEBUG] 2017-12-29 15:07:21,882 Line:5853 10:
 [DEBUG] 2017-12-29 15:07:21,882 Line:5853 11:
 [DEBUG] 2017-12-29 15:07:21,882 Line:5853 12:
 [DEBUG] 2017-12-29 15:07:21,882 Line:5853 13:
 [DEBUG] 2017-12-29 15:07:21,882 Line:5853 14:
 [DEBUG] 2017-12-29 15:07:21,882 Line:5853 15:1.0
 [DEBUG] 2017-12-29 15:07:21,883 Line:5853 16:1.0
 [DEBUG] 2017-12-29 15:07:21,883 Line:5853 17:1.0
 [DEBUG] 2017-12-29 15:07:21,883 Line:5853 18:0.0
 [DEBUG] 2017-12-29 15:07:21,883 Line:5853 19:0
 [DEBUG] 2017-12-29 15:07:21,883 Line:5853 20:0.0
 [DEBUG] 2017-12-29 15:07:21,883 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:07:21,884 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:07:21,884 Line:5853 23:100.0
 [DEBUG] 2017-12-29 15:07:21,884 Line:5853 24:1.0
 [DEBUG] 2017-12-29 15:07:21,884 Line:5853 25:1.0
 [DEBUG] 2017-12-29 15:07:21,884 Line:5853 26:0.0
 [DEBUG] 2017-12-29 15:07:21,885 Line:5853 27:1.0
 [DEBUG] 2017-12-29 15:07:21,885 Line:5853 28:1.0
 [DEBUG] 2017-12-29 15:07:21,885 Line:5853 29:0.0
 [DEBUG] 2017-12-29 15:07:21,885 Line:5853 30:1.0
 [DEBUG] 2017-12-29 15:07:21,886 Line:5853 31:1.0
 [DEBUG] 2017-12-29 15:07:21,886 Line:5853 32:0.0
 [DEBUG] 2017-12-29 15:07:21,886 Line:5853 33:0.0
 [DEBUG] 2017-12-29 15:07:21,886 Line:5853 34:0.0
 [DEBUG] 2017-12-29 15:07:21,886 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:07:21,887 Line:5853 36:0.0
 [DEBUG] 2017-12-29 15:07:21,887 Line:5853 37:
 [DEBUG] 2017-12-29 15:07:21,887 Line:5853 38:0.0
 [DEBUG] 2017-12-29 15:07:21,887 Line:5853 39:0.0
 [DEBUG] 2017-12-29 15:07:21,887 Line:5853 40:0.0
 [DEBUG] 2017-12-29 15:07:21,888 Line:5853 41:0.0
 [DEBUG] 2017-12-29 15:07:21,888 Line:5853 42:0.0
 [DEBUG] 2017-12-29 15:07:21,888 Line:5853 43:0.0
 [DEBUG] 2017-12-29 15:07:21,888 Line:5853 44:0.0
 [DEBUG] 2017-12-29 15:07:21,889 Line:5853 45:0.0
 [DEBUG] 2017-12-29 15:07:21,890 Line:5853 46:0.0
 [DEBUG] 2017-12-29 15:07:21,890 Line:5853 47:0
 [DEBUG] 2017-12-29 15:07:21,890 Line:5853 48:0.0
 [DEBUG] 2017-12-29 15:07:21,891 Line:5853 49:0.0
 [DEBUG] 2017-12-29 15:07:21,891 Line:5853 50:0
 [DEBUG] 2017-12-29 15:07:21,891 Line:5853 51:
 [DEBUG] 2017-12-29 15:07:21,892 Line:5853 52:0.0
 [DEBUG] 2017-12-29 15:07:21,892 Line:5853 53:0.0
 [DEBUG] 2017-12-29 15:07:21,892 Line:5853 54:0.0
 [DEBUG] 2017-12-29 15:07:21,892 Line:5853 55:0
 [DEBUG] 2017-12-29 15:07:21,893 Line:5853 56:0
 [DEBUG] 2017-12-29 15:07:21,893 Line:5853 57:
 [DEBUG] 2017-12-29 15:07:21,894 Line:5853 58:0.0
 [DEBUG] 2017-12-29 15:07:21,894 Line:5853 59:0.0
 [DEBUG] 2017-12-29 15:07:21,895 Line:5853 60:
 [DEBUG] 2017-12-29 15:07:21,895 Line:5853 61:0.0
 [DEBUG] 2017-12-29 15:07:21,895 Line:5853 62:00001
 [DEBUG] 2017-12-29 15:07:22,093 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 15:07:22,344 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,344 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 15:07:22,346 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,346 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 15:07:22,347 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,348 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 15:07:22,349 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,349 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 15:07:22,350 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,350 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 15:07:22,351 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,351 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:07:22,352 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,353 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 15:07:22,353 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,353 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,354 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 15:07:22,356 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:07:22,356 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:07:22,357 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,357 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 15:07:22,358 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,358 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,358 Line:988 2值：00003
 [DEBUG] 2017-12-29 15:07:22,362 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:07:22,362 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:07:22,363 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,363 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 15:07:22,363 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,364 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,364 Line:988 2值：00003
 [DEBUG] 2017-12-29 15:07:22,368 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:07:22,368 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:07:22,369 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,370 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 15:07:22,370 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,370 Line:988 1值：false
 [DEBUG] 2017-12-29 15:07:22,371 Line:988 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,379 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 15:07:22,380 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 15:07:22,380 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 15:07:22,381 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,382 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 15:07:22,382 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,382 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,390 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 15:07:22,391 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,392 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,392 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 15:07:22,392 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,393 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,397 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:07:22,397 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,398 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,399 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 15:07:22,399 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,399 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,403 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:07:22,404 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,405 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,406 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 15:07:22,406 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,406 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,410 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:07:22,411 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,412 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,413 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,414 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,414 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 15:07:22,415 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,415 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,419 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:07:22,419 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,420 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,421 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 15:07:22,422 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,422 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 15:07:22,422 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,423 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,426 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:07:22,426 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,427 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,427 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 15:07:22,428 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,428 Line:988 1值：1
 [DEBUG] 2017-12-29 15:07:22,428 Line:988 2值：0
 [DEBUG] 2017-12-29 15:07:22,428 Line:988 3值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,436 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 15:07:22,437 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 15:07:22,437 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-29 15:07:22,437 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 15:07:22,440 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,440 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 15:07:22,440 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,441 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,449 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 15:07:22,449 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,450 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,451 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 15:07:22,451 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,451 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,454 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:07:22,454 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:07:22,455 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,455 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 15:07:22,456 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,456 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,458 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:07:22,459 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 15:07:22,459 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,460 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 15:07:22,460 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,460 Line:988 1值：
 [DEBUG] 2017-12-29 15:07:22,461 Line:988 2值：00001
 [DEBUG] 2017-12-29 15:07:22,463 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:07:22,463 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 15:07:22,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,464 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,464 Line:988 2值：
 [DEBUG] 2017-12-29 15:07:22,464 Line:988 3值：
 [DEBUG] 2017-12-29 15:07:22,464 Line:988 4值：
 [DEBUG] 2017-12-29 15:07:22,467 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:07:22,468 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 15:07:22,469 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,469 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:07:22,470 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,470 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 15:07:22,471 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,471 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 15:07:22,472 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,472 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:07:22,473 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,474 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 15:07:22,474 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 15:07:22,474 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,477 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,478 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 15:07:22,478 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 15:07:22,478 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 15:07:22,478 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,478 Line:1157 3值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,483 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,483 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 15:07:22,484 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 15:07:22,484 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,484 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,490 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,490 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 15:07:22,490 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 15:07:22,491 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,494 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,495 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 15:07:22,495 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 15:07:22,495 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,500 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,500 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 15:07:22,501 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 15:07:22,502 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,503 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 15:07:22,504 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,504 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,507 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,508 Line:408 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 15:07:22,508 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 15:07:22,509 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,509 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 15:07:22,510 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,510 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 15:07:22,510 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,510 Line:1270 add
 [DEBUG] 2017-12-29 15:07:22,574 Line:425 ************上述语句执行时间：64
 [DEBUG] 2017-12-29 15:07:22,575 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 15:07:22,576 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,576 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 15:07:22,576 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,585 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 15:07:22,585 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 15:07:22,585 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 15:07:22,586 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,594 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 15:07:22,594 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-29 15:07:22,595 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 15:07:22,595 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,596 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 15:07:22,596 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,597 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 15:07:22,598 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,615 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 15:07:22,616 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,616 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 15:07:22,617 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,617 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 15:07:22,618 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,619 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:07:22,620 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,621 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 15:07:22,622 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,622 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:07:22,623 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,623 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 15:07:22,624 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,626 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 15:07:22,627 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 15:07:22,627 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:07:22,628 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,628 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 15:07:22,628 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,629 Line:1270 add
 [DEBUG] 2017-12-29 15:07:22,671 Line:425 ************上述语句执行时间：43
 [DEBUG] 2017-12-29 15:07:22,672 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 15:07:22,672 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,673 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 15:07:22,674 Line:1270 12
 [DEBUG] 2017-12-29 15:07:22,674 Line:1270 2017
 [DEBUG] 2017-12-29 15:07:22,675 Line:1270 12
 [DEBUG] 2017-12-29 15:07:22,675 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 15:07:22,675 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 15:07:22,675 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 BI1712290022
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 15:07:22,676 Line:1270 1
 [DEBUG] 2017-12-29 15:07:22,677 Line:1270 1
 [DEBUG] 2017-12-29 15:07:22,677 Line:1270 2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:07:22,677 Line:1270 2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:07:22,677 Line:1270 00001
 [DEBUG] 2017-12-29 15:07:22,677 Line:1270 
 [DEBUG] 2017-12-29 15:07:22,677 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 15:07:22,678 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 15:07:22,678 Line:1270 00003
 [DEBUG] 2017-12-29 15:07:22,678 Line:1270 1
 [DEBUG] 2017-12-29 15:07:22,678 Line:1270 00101
 [DEBUG] 2017-12-29 15:07:22,678 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 15:07:22,678 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 15:07:22,679 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:07:22,679 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 15:07:22,679 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 15:07:22,679 Line:1270 0
 [DEBUG] 2017-12-29 15:07:22,679 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 15:07:22,679 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 15:07:22,680 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 15:07:22,680 Line:1270 f_ref='2cf86be0_1712291507217880002'
 [DEBUG] 2017-12-29 15:07:22,822 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'2cf86be0_1712291507217880002','2017-12-29','BI1712290022','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 15:07:21','2017-12-29 15:07:21','00001' from tblBuyInStockDet where f_ref='2cf86be0_1712291507217880002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 15:07:22,822 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 15:07:22,823 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 15:07:22,823 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 15:07:22,823 Line:425 ************上述语句执行时间：150
 [DEBUG] 2017-12-29 15:07:22,823 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 15:07:22,824 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,824 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:07:22,825 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,825 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 15:07:22,826 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,827 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:07:22,827 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 15:07:22,828 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,828 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 15:07:22,829 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,829 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-29 15:07:22,830 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:22,830 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 15:07:22,831 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:22,831 Line:988 1值：1
 [DEBUG] 2017-12-29 15:07:22,831 Line:988 2值：0
 [DEBUG] 2017-12-29 15:07:22,831 Line:988 3值：1
 [DEBUG] 2017-12-29 15:07:22,831 Line:988 4值：0
 [DEBUG] 2017-12-29 15:07:22,831 Line:988 5值：0
 [DEBUG] 2017-12-29 15:07:22,832 Line:988 6值：1
 [DEBUG] 2017-12-29 15:07:22,833 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:07:22,833 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:07:22,833 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 15:07:22,833 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:07:22,834 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 15:07:22,834 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:22,876 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 15:07:22,879 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 15:07:22,886 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,892 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,898 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,904 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,912 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,920 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,930 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:07:22,939 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 15:07:23,041 Line:434 ************上述语句执行时间：206
 [DEBUG] 2017-12-29 15:07:23,041 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 15:07:23,042 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:23,043 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:07:23,043 Line:1270 12cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:23,043 Line:1270 00003
 [DEBUG] 2017-12-29 15:07:23,043 Line:1270 1
 [DEBUG] 2017-12-29 15:07:23,043 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 15:07:23,044 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=2cf86be0_1712291507217880002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 15:07:21@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 15:07:21@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290022@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 15:07:23,100 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('12cf86be0_1712291507217880002',17,'00003','2017-12-29','12','2017','12','0','1','2cf86be0_1712291507217880002','','1','0','1','1','2017-12-29 15:07:21','1','2017-12-29 15:07:21','00001','tblBuyInStock','BI1712290022','1','00101','0','')
 [DEBUG] 2017-12-29 15:07:23,101 Line:425 ************上述语句执行时间：59
 [DEBUG] 2017-12-29 15:07:23,102 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 15:07:23,103 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,104 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 15:07:23,105 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,105 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 15:07:23,106 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,106 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 15:07:23,107 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,107 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 15:07:23,108 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,108 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 15:07:23,109 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,109 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 15:07:23,109 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:23,109 Line:988 1值：1
 [DEBUG] 2017-12-29 15:07:23,110 Line:988 2值：0
 [DEBUG] 2017-12-29 15:07:23,110 Line:988 3值：1
 [DEBUG] 2017-12-29 15:07:23,110 Line:988 4值：0
 [DEBUG] 2017-12-29 15:07:23,110 Line:988 5值：0
 [DEBUG] 2017-12-29 15:07:23,110 Line:988 6值：0
 [DEBUG] 2017-12-29 15:07:23,111 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:07:23,112 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 15:07:23,112 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 15:07:23,112 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:07:23,112 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 15:07:23,113 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,113 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 15:07:23,114 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,114 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:07:23,114 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,114 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:07:23,115 Line:321 flag:false
 [DEBUG] 2017-12-29 15:07:23,115 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:07:23,116 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:23,116 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 15:07:23,116 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:07:23,116 Line:1270 add
 [DEBUG] 2017-12-29 15:07:23,122 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 15:07:23,123 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 15:07:23,123 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:07:23,124 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 15:07:23,124 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 15:07:23,124 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 15:07:23,124 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 15:07:23,124 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 15:07:23,124 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 15:07:23,125 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:07:23,125 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:07:23,125 Line:321 flag:true
 [DEBUG] 2017-12-29 15:07:23,135 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 15:07:54,363 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@3db42294
 [DEBUG] 2017-12-29 15:07:54,363 Line:443 ************上述语句执行时间：31237
 [DEBUG] 2017-12-29 15:07:55,880 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=2cf86be0_1712291507217880002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 15:07:55,881 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[2cf86be0_1712291507217880002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 15:07:55,883 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291507217880002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 15:07:55,955 Line:1525  select * from  tblBuyInStockDet where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:07:55,963 Line:1525  select * from  tblBuyPayAccount where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:03,882 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 15:08:03,885 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[2cf86be0_1712291507217880002,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[2cf86be0_1712291507217880002,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290022,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[02cf86be0_1712291507217880002,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 15:07:21,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 15:07:21,];createBy=[1,];createTime=[2017-12-29 15:07:21,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[2cf86be0_1712291507218800003,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 15:08:03,900 Line:1525  select * from  tblBuyInStockDet where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:03,902 Line:1525  select * from  tblBuyPayAccount where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:03,929 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,932 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 15:08:03,933 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:03,934 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:03,934 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,935 Line:1270 delete
 [DEBUG] 2017-12-29 15:08:03,936 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:03,937 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 15:08:03,939 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,939 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 15:08:03,940 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:03,940 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 15:08:03,940 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,943 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 15:08:03,943 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 15:08:03,943 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 15:08:03,944 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:03,945 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 15:08:03,946 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,946 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,946 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,946 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,949 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:03,950 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,951 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,951 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 15:08:03,951 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,952 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,954 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:03,954 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,955 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,955 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,956 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,956 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,959 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:08:03,960 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,961 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,961 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,961 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,961 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,967 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 15:08:03,968 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,968 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,969 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 15:08:03,969 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,969 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,970 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:03,970 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,971 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,971 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,972 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,972 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,974 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:03,974 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,975 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,975 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,976 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,976 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,979 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:08:03,979 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,980 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,980 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,980 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,981 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,983 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:03,983 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,984 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,984 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,984 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,989 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:08:03,990 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,990 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,991 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:03,991 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,991 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,993 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:03,993 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:03,994 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:03,995 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 15:08:03,995 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:03,995 Line:988 1值：0
 [DEBUG] 2017-12-29 15:08:03,996 Line:988 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:03,998 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:03,999 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:04,000 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,001 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 15:08:04,001 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,001 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,002 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 15:08:04,003 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 15:08:04,003 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:04,003 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 15:08:04,003 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 15:08:04,003 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,004 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 15:08:04,004 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,005 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:04,005 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,006 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,006 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,006 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 15:08:04,006 Line:1270 1
 [DEBUG] 2017-12-29 15:08:04,036 Line:425 ************上述语句执行时间：30
 [DEBUG] 2017-12-29 15:08:04,036 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 15:08:04,037 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,037 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:04,038 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,038 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,038 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,039 Line:1270 delete
 [DEBUG] 2017-12-29 15:08:04,039 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,040 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:04,040 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,041 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,041 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='2cf86be0_1712291507217880002'
 [DEBUG] 2017-12-29 15:08:04,041 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 15:08:04,041 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 15:08:04,055 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='2cf86be0_1712291507217880002'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 15:08:04,055 Line:425 ************上述语句执行时间：14
 [DEBUG] 2017-12-29 15:08:04,056 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 15:08:04,056 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,057 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,057 Line:1270 0
 [DEBUG] 2017-12-29 15:08:04,057 Line:1270 update
 [DEBUG] 2017-12-29 15:08:04,057 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,078 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 15:08:04,078 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 15:08:04,078 Line:425 ************上述语句执行时间：21
 [DEBUG] 2017-12-29 15:08:04,078 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 15:08:04,079 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,079 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 15:08:04,080 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,082 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,082 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 15:08:04,082 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 15:08:04,083 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,083 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:04,084 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,084 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,084 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,084 Line:1270 delete
 [DEBUG] 2017-12-29 15:08:04,085 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,088 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 15:08:04,088 Line:5993 1:1.0
 [DEBUG] 2017-12-29 15:08:04,088 Line:5993 2:BI1712290022
 [DEBUG] 2017-12-29 15:08:04,088 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 15:08:04,089 Line:5993 4:00003
 [DEBUG] 2017-12-29 15:08:04,089 Line:5993 5:00101
 [DEBUG] 2017-12-29 15:08:04,089 Line:5993 6:1
 [DEBUG] 2017-12-29 15:08:04,089 Line:5993 7:00001
 [DEBUG] 2017-12-29 15:08:04,089 Line:5993 8:3
 [DEBUG] 2017-12-29 15:08:04,089 Line:5993 9:0.0
 [DEBUG] 2017-12-29 15:08:04,090 Line:5993 10:0.0
 [DEBUG] 2017-12-29 15:08:04,090 Line:5993 11:0.0
 [DEBUG] 2017-12-29 15:08:04,090 Line:5993 12:0.0
 [DEBUG] 2017-12-29 15:08:04,090 Line:5993 13:0.0
 [DEBUG] 2017-12-29 15:08:04,090 Line:5993 14:
 [DEBUG] 2017-12-29 15:08:04,090 Line:5993 15:0.0
 [DEBUG] 2017-12-29 15:08:04,091 Line:5993 16:0.0
 [DEBUG] 2017-12-29 15:08:04,091 Line:5993 17:0.0
 [DEBUG] 2017-12-29 15:08:04,091 Line:5993 18:12
 [DEBUG] 2017-12-29 15:08:04,091 Line:5993 19:12
 [DEBUG] 2017-12-29 15:08:04,091 Line:5993 20:2017
 [DEBUG] 2017-12-29 15:08:04,091 Line:5993 21:
 [DEBUG] 2017-12-29 15:08:04,092 Line:5993 22:0.0
 [DEBUG] 2017-12-29 15:08:04,092 Line:5993 23:0.0
 [DEBUG] 2017-12-29 15:08:04,092 Line:5993 24:0.0
 [DEBUG] 2017-12-29 15:08:04,092 Line:5993 25:100.0
 [DEBUG] 2017-12-29 15:08:04,092 Line:5993 26:0.0
 [DEBUG] 2017-12-29 15:08:04,092 Line:5993 27:0.0
 [DEBUG] 2017-12-29 15:08:04,093 Line:5993 28:
 [DEBUG] 2017-12-29 15:08:04,093 Line:5993 29:1.0
 [DEBUG] 2017-12-29 15:08:04,093 Line:5993 30:1.0
 [DEBUG] 2017-12-29 15:08:04,093 Line:5993 31:1.0
 [DEBUG] 2017-12-29 15:08:04,093 Line:5993 32:0.0
 [DEBUG] 2017-12-29 15:08:04,093 Line:5993 33:1.0
 [DEBUG] 2017-12-29 15:08:04,094 Line:5993 34:
 [DEBUG] 2017-12-29 15:08:04,094 Line:5993 35:02cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,094 Line:5993 36:1.0
 [DEBUG] 2017-12-29 15:08:04,094 Line:5993 37:1.0
 [DEBUG] 2017-12-29 15:08:04,094 Line:5993 38:1
 [DEBUG] 2017-12-29 15:08:04,094 Line:5993 39:2017-12-29 15:08:03
 [DEBUG] 2017-12-29 15:08:04,101 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 15:08:04,103 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:08:04,103 Line:5853 1:2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,104 Line:5853 2:2cf86be0_1712291508041030007
 [DEBUG] 2017-12-29 15:08:04,104 Line:5853 3:00001
 [DEBUG] 2017-12-29 15:08:04,104 Line:5853 4:
 [DEBUG] 2017-12-29 15:08:04,104 Line:5853 5:
 [DEBUG] 2017-12-29 15:08:04,104 Line:5853 6:
 [DEBUG] 2017-12-29 15:08:04,105 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 15:08:04,105 Line:5853 8:
 [DEBUG] 2017-12-29 15:08:04,105 Line:5853 9:
 [DEBUG] 2017-12-29 15:08:04,105 Line:5853 10:
 [DEBUG] 2017-12-29 15:08:04,105 Line:5853 11:
 [DEBUG] 2017-12-29 15:08:04,105 Line:5853 12:
 [DEBUG] 2017-12-29 15:08:04,106 Line:5853 13:
 [DEBUG] 2017-12-29 15:08:04,106 Line:5853 14:
 [DEBUG] 2017-12-29 15:08:04,106 Line:5853 15:1.0
 [DEBUG] 2017-12-29 15:08:04,106 Line:5853 16:1.0
 [DEBUG] 2017-12-29 15:08:04,106 Line:5853 17:1.0
 [DEBUG] 2017-12-29 15:08:04,106 Line:5853 18:0.0
 [DEBUG] 2017-12-29 15:08:04,107 Line:5853 19:0
 [DEBUG] 2017-12-29 15:08:04,107 Line:5853 20:0.0
 [DEBUG] 2017-12-29 15:08:04,107 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:08:04,107 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:08:04,108 Line:5853 23:100.0
 [DEBUG] 2017-12-29 15:08:04,108 Line:5853 24:1.0
 [DEBUG] 2017-12-29 15:08:04,108 Line:5853 25:1.0
 [DEBUG] 2017-12-29 15:08:04,109 Line:5853 26:0.0
 [DEBUG] 2017-12-29 15:08:04,109 Line:5853 27:1.0
 [DEBUG] 2017-12-29 15:08:04,109 Line:5853 28:1.0
 [DEBUG] 2017-12-29 15:08:04,109 Line:5853 29:0.0
 [DEBUG] 2017-12-29 15:08:04,109 Line:5853 30:1.0
 [DEBUG] 2017-12-29 15:08:04,109 Line:5853 31:1.0
 [DEBUG] 2017-12-29 15:08:04,110 Line:5853 32:0.0
 [DEBUG] 2017-12-29 15:08:04,110 Line:5853 33:0.0
 [DEBUG] 2017-12-29 15:08:04,110 Line:5853 34:0.0
 [DEBUG] 2017-12-29 15:08:04,110 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:08:04,110 Line:5853 36:0.0
 [DEBUG] 2017-12-29 15:08:04,110 Line:5853 37:
 [DEBUG] 2017-12-29 15:08:04,111 Line:5853 38:0.0
 [DEBUG] 2017-12-29 15:08:04,111 Line:5853 39:0.0
 [DEBUG] 2017-12-29 15:08:04,111 Line:5853 40:0.0
 [DEBUG] 2017-12-29 15:08:04,111 Line:5853 41:0.0
 [DEBUG] 2017-12-29 15:08:04,111 Line:5853 42:0.0
 [DEBUG] 2017-12-29 15:08:04,111 Line:5853 43:0.0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 44:0.0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 45:0.0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 46:0.0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 47:0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 48:0.0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 49:0.0
 [DEBUG] 2017-12-29 15:08:04,112 Line:5853 50:
 [DEBUG] 2017-12-29 15:08:04,113 Line:5853 51:0.0
 [DEBUG] 2017-12-29 15:08:04,113 Line:5853 52:1.0
 [DEBUG] 2017-12-29 15:08:04,113 Line:5853 53:0.0
 [DEBUG] 2017-12-29 15:08:04,113 Line:5853 54:0
 [DEBUG] 2017-12-29 15:08:04,113 Line:5853 55:0
 [DEBUG] 2017-12-29 15:08:04,113 Line:5853 56:
 [DEBUG] 2017-12-29 15:08:04,114 Line:5853 57:0.0
 [DEBUG] 2017-12-29 15:08:04,114 Line:5853 58:0.0
 [DEBUG] 2017-12-29 15:08:04,114 Line:5853 59:
 [DEBUG] 2017-12-29 15:08:04,114 Line:5853 60:0.0
 [DEBUG] 2017-12-29 15:08:04,114 Line:5853 61:00001
 [DEBUG] 2017-12-29 15:08:04,119 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 15:08:04,121 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 15:08:04,122 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,122 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 15:08:04,123 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,123 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 15:08:04,123 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,124 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 15:08:04,125 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,126 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 15:08:04,126 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,127 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 15:08:04,127 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,127 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:08:04,128 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,129 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 15:08:04,129 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,129 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,129 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 15:08:04,131 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,131 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:04,131 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,131 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 15:08:04,131 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,131 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,132 Line:988 2值：00003
 [DEBUG] 2017-12-29 15:08:04,132 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,133 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:04,134 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,135 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 15:08:04,135 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,136 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,136 Line:988 2值：00003
 [DEBUG] 2017-12-29 15:08:04,144 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 15:08:04,144 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:04,146 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,146 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 15:08:04,147 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,147 Line:988 1值：false
 [DEBUG] 2017-12-29 15:08:04,147 Line:988 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,148 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 15:08:04,148 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,149 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 15:08:04,150 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,150 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 15:08:04,150 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,150 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,151 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,151 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,152 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,152 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 15:08:04,152 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,153 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,153 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,154 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,154 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,155 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 15:08:04,155 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,155 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,156 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,156 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,157 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,157 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 15:08:04,157 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,157 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,158 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,158 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,159 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,159 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,160 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,160 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 15:08:04,161 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,161 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,162 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,162 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,163 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,163 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 15:08:04,163 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,164 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 15:08:04,164 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,164 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,165 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,165 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,166 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,167 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 15:08:04,167 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,167 Line:988 1值：1
 [DEBUG] 2017-12-29 15:08:04,167 Line:988 2值：0
 [DEBUG] 2017-12-29 15:08:04,168 Line:988 3值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,169 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 15:08:04,169 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 15:08:04,169 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,169 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 15:08:04,170 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,170 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 15:08:04,170 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,171 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,171 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,171 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,172 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,173 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 15:08:04,173 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,174 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,174 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:04,175 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:04,176 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,176 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 15:08:04,177 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,178 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,179 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:04,179 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 15:08:04,180 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,180 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 15:08:04,180 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,181 Line:988 1值：
 [DEBUG] 2017-12-29 15:08:04,181 Line:988 2值：00001
 [DEBUG] 2017-12-29 15:08:04,182 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,182 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 15:08:04,182 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,183 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,183 Line:988 2值：
 [DEBUG] 2017-12-29 15:08:04,183 Line:988 3值：
 [DEBUG] 2017-12-29 15:08:04,183 Line:988 4值：
 [DEBUG] 2017-12-29 15:08:04,184 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,185 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 15:08:04,186 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,186 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:04,187 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,187 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 15:08:04,188 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,188 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 15:08:04,189 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,189 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:08:04,189 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,190 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 15:08:04,191 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 15:08:04,191 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,192 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,193 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 15:08:04,193 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 15:08:04,193 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 15:08:04,193 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,194 Line:1157 3值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,194 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,194 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,195 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 15:08:04,195 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,195 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,195 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,196 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,196 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 15:08:04,196 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,197 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,197 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,197 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 15:08:04,197 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,198 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,198 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,198 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 15:08:04,199 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,199 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 15:08:04,199 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,200 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,200 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,200 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,201 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 15:08:04,202 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,202 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 15:08:04,202 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,203 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,203 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,203 Line:1270 add
 [DEBUG] 2017-12-29 15:08:04,204 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,204 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 15:08:04,205 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,205 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 15:08:04,206 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,206 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 15:08:04,206 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,206 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 15:08:04,207 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,207 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 15:08:04,207 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,208 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 15:08:04,208 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,209 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 15:08:04,209 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,209 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 15:08:04,210 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,212 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 15:08:04,213 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,213 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 15:08:04,214 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,214 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 15:08:04,215 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,216 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:08:04,216 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,217 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 15:08:04,217 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,217 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:04,218 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,219 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 15:08:04,219 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,220 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 15:08:04,220 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:04,220 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:04,221 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,221 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,221 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,222 Line:1270 add
 [DEBUG] 2017-12-29 15:08:04,223 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:04,223 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 15:08:04,224 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,224 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 15:08:04,225 Line:1270 12
 [DEBUG] 2017-12-29 15:08:04,225 Line:1270 2017
 [DEBUG] 2017-12-29 15:08:04,225 Line:1270 12
 [DEBUG] 2017-12-29 15:08:04,225 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 15:08:04,225 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 15:08:04,225 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,226 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 15:08:04,226 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 15:08:04,226 Line:1270 BI1712290022
 [DEBUG] 2017-12-29 15:08:04,226 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:08:04,226 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:08:04,227 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 15:08:04,227 Line:1270 1
 [DEBUG] 2017-12-29 15:08:04,227 Line:1270 1
 [DEBUG] 2017-12-29 15:08:04,227 Line:1270 2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:08:04,227 Line:1270 2017-12-29 15:08:03
 [DEBUG] 2017-12-29 15:08:04,228 Line:1270 00001
 [DEBUG] 2017-12-29 15:08:04,228 Line:1270 
 [DEBUG] 2017-12-29 15:08:04,228 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 15:08:04,228 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 15:08:04,228 Line:1270 00003
 [DEBUG] 2017-12-29 15:08:04,228 Line:1270 1
 [DEBUG] 2017-12-29 15:08:04,229 Line:1270 00101
 [DEBUG] 2017-12-29 15:08:04,229 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 15:08:04,229 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 15:08:04,229 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:08:04,229 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 15:08:04,229 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 15:08:04,230 Line:1270 0
 [DEBUG] 2017-12-29 15:08:04,230 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 15:08:04,230 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 15:08:04,230 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 15:08:04,230 Line:1270 f_ref='2cf86be0_1712291507217880002'
 [DEBUG] 2017-12-29 15:08:04,248 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'2cf86be0_1712291507217880002','2017-12-29','BI1712290022','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 15:07:21','2017-12-29 15:08:03','00001' from tblBuyInStockDet where f_ref='2cf86be0_1712291507217880002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 15:08:04,249 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 15:08:04,249 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 15:08:04,249 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 15:08:04,249 Line:425 ************上述语句执行时间：25
 [DEBUG] 2017-12-29 15:08:04,250 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 15:08:04,250 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,251 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:04,251 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,252 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 15:08:04,252 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,252 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-29 15:08:04,253 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 15:08:04,253 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,254 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 15:08:04,254 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,255 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 15:08:04,255 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,256 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,256 Line:1270 zh_CN
 [DEBUG] 2017-12-29 15:08:04,256 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,256 Line:1270 00001
 [DEBUG] 2017-12-29 15:08:04,256 Line:1270 1
 [DEBUG] 2017-12-29 15:08:04,346 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='2cf86be0_1712291507217880002') or goodPropHash in (select goodPropHash from tblStockDet where BillId='2cf86be0_1712291507217880002') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 15:08:04,346 Line:425 ************上述语句执行时间：91
 [DEBUG] 2017-12-29 15:08:04,347 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 15:08:04,347 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,347 Line:988 1值：1
 [DEBUG] 2017-12-29 15:08:04,347 Line:988 2值：0
 [DEBUG] 2017-12-29 15:08:04,347 Line:988 3值：1
 [DEBUG] 2017-12-29 15:08:04,347 Line:988 4值：0
 [DEBUG] 2017-12-29 15:08:04,348 Line:988 5值：0
 [DEBUG] 2017-12-29 15:08:04,348 Line:988 6值：1
 [DEBUG] 2017-12-29 15:08:04,348 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:04,348 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:04,349 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 15:08:04,349 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:04,349 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 15:08:04,350 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,351 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 15:08:04,352 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 15:08:04,353 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,354 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,355 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,356 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,356 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,357 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,358 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:04,360 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 15:08:04,367 Line:434 ************上述语句执行时间：17
 [DEBUG] 2017-12-29 15:08:04,368 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 15:08:04,368 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,369 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,369 Line:1270 12cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,369 Line:1270 00003
 [DEBUG] 2017-12-29 15:08:04,369 Line:1270 1
 [DEBUG] 2017-12-29 15:08:04,369 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 15:08:04,370 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=2cf86be0_1712291507217880002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 15:07:21@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 15:08:03@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290022@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 15:08:04,372 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('12cf86be0_1712291507217880002',17,'00003','2017-12-29','12','2017','12','0','1','2cf86be0_1712291507217880002','','1','0','1','1','2017-12-29 15:07:21','1','2017-12-29 15:08:03','00001','tblBuyInStock','BI1712290022','1','00101','0','')
 [DEBUG] 2017-12-29 15:08:04,372 Line:425 ************上述语句执行时间：3
 [DEBUG] 2017-12-29 15:08:04,372 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 15:08:04,373 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,374 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 15:08:04,375 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,376 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 15:08:04,377 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,377 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 15:08:04,377 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,378 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 15:08:04,378 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,379 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 15:08:04,379 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,379 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 15:08:04,380 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,380 Line:988 1值：1
 [DEBUG] 2017-12-29 15:08:04,380 Line:988 2值：0
 [DEBUG] 2017-12-29 15:08:04,380 Line:988 3值：1
 [DEBUG] 2017-12-29 15:08:04,380 Line:988 4值：0
 [DEBUG] 2017-12-29 15:08:04,380 Line:988 5值：0
 [DEBUG] 2017-12-29 15:08:04,381 Line:988 6值：0
 [DEBUG] 2017-12-29 15:08:04,381 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:04,381 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 15:08:04,382 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 15:08:04,382 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:04,382 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 15:08:04,383 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,383 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 15:08:04,383 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,384 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:08:04,384 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,384 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:08:04,385 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:04,385 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:04,386 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,386 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:04,386 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:04,386 Line:1270 add
 [DEBUG] 2017-12-29 15:08:04,388 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:04,388 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 15:08:04,389 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:04,389 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 15:08:04,389 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 15:08:04,389 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 15:08:04,389 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 15:08:04,390 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 15:08:04,390 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 15:08:04,390 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:04,390 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:08:04,391 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:04,391 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 15:08:16,618 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@2e935042
 [DEBUG] 2017-12-29 15:08:16,619 Line:443 ************上述语句执行时间：12228
 [DEBUG] 2017-12-29 15:08:18,086 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=2cf86be0_1712291507217880002&parentCode=null&f_brother=&draftQuery=&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 15:08:18,087 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[2cf86be0_1712291507217880002,];parentCode=[null,];f_brother=[,];draftQuery=[,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 15:08:18,089 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291507217880002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 15:08:18,099 Line:1525  select * from  tblBuyInStockDet where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:18,105 Line:1525  select * from  tblBuyPayAccount where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:45,829 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-29 15:08:45,833 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[2cf86be0_1712291507217880002,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[2cf86be0_1712291507217880002,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712290022,];BillDate=[2017-12-29,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[02cf86be0_1712291507217880002,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-29 15:07:21,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-29 15:08:03,];createBy=[1,];createTime=[2017-12-29 15:07:21,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[2cf86be0_1712291508041030007,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-29 15:08:45,840 Line:1525  select * from  tblBuyInStockDet where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:45,843 Line:1525  select * from  tblBuyPayAccount where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:08:45,849 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,851 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-29 15:08:45,853 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,854 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:45,854 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,855 Line:1270 delete
 [DEBUG] 2017-12-29 15:08:45,856 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:45,856 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-29 15:08:45,857 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,857 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-29 15:08:45,858 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,858 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-29 15:08:45,859 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,859 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-29 15:08:45,859 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:45,860 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-29 15:08:45,860 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,861 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-29 15:08:45,862 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,863 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,863 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,863 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,864 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,865 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,866 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,866 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-29 15:08:45,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,867 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,867 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,868 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,869 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,869 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,869 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,869 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,870 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,870 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,871 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,871 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,872 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,873 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,873 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,874 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,874 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-29 15:08:45,874 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,874 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,875 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,875 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,876 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,876 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,877 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,877 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,878 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,878 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,879 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,879 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,879 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,880 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,880 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,881 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,882 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,882 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,883 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,885 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:45,885 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,886 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,886 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,886 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,887 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,887 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,888 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,889 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,889 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-29 15:08:45,890 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,890 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,891 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,891 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,892 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,892 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-29 15:08:45,893 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,893 Line:988 1值：0
 [DEBUG] 2017-12-29 15:08:45,893 Line:988 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,894 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,894 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,895 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,896 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-29 15:08:45,896 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,896 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,897 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-29 15:08:45,898 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-29 15:08:45,899 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:45,899 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-29 15:08:45,899 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-29 15:08:45,899 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:08:45,899 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-29 15:08:45,901 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,901 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:45,902 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,902 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:45,902 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,902 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 15:08:45,903 Line:1270 1
 [DEBUG] 2017-12-29 15:08:45,904 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:45,905 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-29 15:08:45,906 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,906 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:45,906 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,907 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:45,907 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,907 Line:1270 delete
 [DEBUG] 2017-12-29 15:08:45,908 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:45,909 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:45,909 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,910 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:45,910 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='2cf86be0_1712291507217880002'
 [DEBUG] 2017-12-29 15:08:45,910 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-29 15:08:45,910 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-29 15:08:45,912 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='2cf86be0_1712291507217880002'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-29 15:08:45,912 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:45,912 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-29 15:08:45,913 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,913 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:45,913 Line:1270 0
 [DEBUG] 2017-12-29 15:08:45,914 Line:1270 update
 [DEBUG] 2017-12-29 15:08:45,914 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,918 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 15:08:45,918 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-29 15:08:45,919 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 15:08:45,919 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-29 15:08:45,920 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,920 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-29 15:08:45,920 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,921 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-29 15:08:45,921 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:45,921 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-29 15:08:45,922 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,922 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-29 15:08:45,923 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,923 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:45,923 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,923 Line:1270 delete
 [DEBUG] 2017-12-29 15:08:45,924 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:45,925 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-29 15:08:45,926 Line:5993 1:1.0
 [DEBUG] 2017-12-29 15:08:45,926 Line:5993 2:BI1712290022
 [DEBUG] 2017-12-29 15:08:45,926 Line:5993 3:2017-12-29
 [DEBUG] 2017-12-29 15:08:45,926 Line:5993 4:00003
 [DEBUG] 2017-12-29 15:08:45,926 Line:5993 5:00101
 [DEBUG] 2017-12-29 15:08:45,926 Line:5993 6:1
 [DEBUG] 2017-12-29 15:08:45,927 Line:5993 7:00001
 [DEBUG] 2017-12-29 15:08:45,927 Line:5993 8:3
 [DEBUG] 2017-12-29 15:08:45,927 Line:5993 9:0.0
 [DEBUG] 2017-12-29 15:08:45,927 Line:5993 10:0.0
 [DEBUG] 2017-12-29 15:08:45,927 Line:5993 11:0.0
 [DEBUG] 2017-12-29 15:08:45,927 Line:5993 12:0.0
 [DEBUG] 2017-12-29 15:08:45,928 Line:5993 13:0.0
 [DEBUG] 2017-12-29 15:08:45,928 Line:5993 14:
 [DEBUG] 2017-12-29 15:08:45,928 Line:5993 15:0.0
 [DEBUG] 2017-12-29 15:08:45,928 Line:5993 16:0.0
 [DEBUG] 2017-12-29 15:08:45,928 Line:5993 17:0.0
 [DEBUG] 2017-12-29 15:08:45,928 Line:5993 18:12
 [DEBUG] 2017-12-29 15:08:45,929 Line:5993 19:12
 [DEBUG] 2017-12-29 15:08:45,929 Line:5993 20:2017
 [DEBUG] 2017-12-29 15:08:45,929 Line:5993 21:
 [DEBUG] 2017-12-29 15:08:45,929 Line:5993 22:0.0
 [DEBUG] 2017-12-29 15:08:45,929 Line:5993 23:0.0
 [DEBUG] 2017-12-29 15:08:45,929 Line:5993 24:0.0
 [DEBUG] 2017-12-29 15:08:45,930 Line:5993 25:100.0
 [DEBUG] 2017-12-29 15:08:45,930 Line:5993 26:0.0
 [DEBUG] 2017-12-29 15:08:45,930 Line:5993 27:0.0
 [DEBUG] 2017-12-29 15:08:45,930 Line:5993 28:
 [DEBUG] 2017-12-29 15:08:45,930 Line:5993 29:1.0
 [DEBUG] 2017-12-29 15:08:45,930 Line:5993 30:1.0
 [DEBUG] 2017-12-29 15:08:45,931 Line:5993 31:1.0
 [DEBUG] 2017-12-29 15:08:45,931 Line:5993 32:0.0
 [DEBUG] 2017-12-29 15:08:45,931 Line:5993 33:1.0
 [DEBUG] 2017-12-29 15:08:45,931 Line:5993 34:
 [DEBUG] 2017-12-29 15:08:45,931 Line:5993 35:02cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,931 Line:5993 36:1.0
 [DEBUG] 2017-12-29 15:08:45,932 Line:5993 37:1.0
 [DEBUG] 2017-12-29 15:08:45,932 Line:5993 38:1
 [DEBUG] 2017-12-29 15:08:45,932 Line:5993 39:2017-12-29 15:08:45
 [DEBUG] 2017-12-29 15:08:45,933 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 15:08:45,934 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:08:45,934 Line:5853 1:2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,934 Line:5853 2:2cf86be0_1712291508459340011
 [DEBUG] 2017-12-29 15:08:45,935 Line:5853 3:00001
 [DEBUG] 2017-12-29 15:08:45,935 Line:5853 4:
 [DEBUG] 2017-12-29 15:08:45,935 Line:5853 5:
 [DEBUG] 2017-12-29 15:08:45,935 Line:5853 6:
 [DEBUG] 2017-12-29 15:08:45,935 Line:5853 7:0000300001
 [DEBUG] 2017-12-29 15:08:45,935 Line:5853 8:
 [DEBUG] 2017-12-29 15:08:45,936 Line:5853 9:
 [DEBUG] 2017-12-29 15:08:45,936 Line:5853 10:
 [DEBUG] 2017-12-29 15:08:45,936 Line:5853 11:
 [DEBUG] 2017-12-29 15:08:45,936 Line:5853 12:
 [DEBUG] 2017-12-29 15:08:45,936 Line:5853 13:
 [DEBUG] 2017-12-29 15:08:45,936 Line:5853 14:
 [DEBUG] 2017-12-29 15:08:45,937 Line:5853 15:1.0
 [DEBUG] 2017-12-29 15:08:45,937 Line:5853 16:1.0
 [DEBUG] 2017-12-29 15:08:45,937 Line:5853 17:1.0
 [DEBUG] 2017-12-29 15:08:45,937 Line:5853 18:0.0
 [DEBUG] 2017-12-29 15:08:45,937 Line:5853 19:0
 [DEBUG] 2017-12-29 15:08:45,937 Line:5853 20:0.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 23:100.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 24:1.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 25:1.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 26:0.0
 [DEBUG] 2017-12-29 15:08:45,938 Line:5853 27:1.0
 [DEBUG] 2017-12-29 15:08:45,939 Line:5853 28:1.0
 [DEBUG] 2017-12-29 15:08:45,939 Line:5853 29:0.0
 [DEBUG] 2017-12-29 15:08:45,939 Line:5853 30:1.0
 [DEBUG] 2017-12-29 15:08:45,939 Line:5853 31:1.0
 [DEBUG] 2017-12-29 15:08:45,939 Line:5853 32:0.0
 [DEBUG] 2017-12-29 15:08:45,940 Line:5853 33:0.0
 [DEBUG] 2017-12-29 15:08:45,940 Line:5853 34:0.0
 [DEBUG] 2017-12-29 15:08:45,940 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:08:45,940 Line:5853 36:0.0
 [DEBUG] 2017-12-29 15:08:45,940 Line:5853 37:
 [DEBUG] 2017-12-29 15:08:45,941 Line:5853 38:0.0
 [DEBUG] 2017-12-29 15:08:45,941 Line:5853 39:0.0
 [DEBUG] 2017-12-29 15:08:45,941 Line:5853 40:0.0
 [DEBUG] 2017-12-29 15:08:45,941 Line:5853 41:0.0
 [DEBUG] 2017-12-29 15:08:45,941 Line:5853 42:0.0
 [DEBUG] 2017-12-29 15:08:45,942 Line:5853 43:0.0
 [DEBUG] 2017-12-29 15:08:45,942 Line:5853 44:0.0
 [DEBUG] 2017-12-29 15:08:45,942 Line:5853 45:0.0
 [DEBUG] 2017-12-29 15:08:45,942 Line:5853 46:0.0
 [DEBUG] 2017-12-29 15:08:45,943 Line:5853 47:0
 [DEBUG] 2017-12-29 15:08:45,944 Line:5853 48:0.0
 [DEBUG] 2017-12-29 15:08:45,944 Line:5853 49:0.0
 [DEBUG] 2017-12-29 15:08:45,944 Line:5853 50:
 [DEBUG] 2017-12-29 15:08:45,944 Line:5853 51:0.0
 [DEBUG] 2017-12-29 15:08:45,945 Line:5853 52:1.0
 [DEBUG] 2017-12-29 15:08:45,945 Line:5853 53:0.0
 [DEBUG] 2017-12-29 15:08:45,945 Line:5853 54:0
 [DEBUG] 2017-12-29 15:08:45,945 Line:5853 55:0
 [DEBUG] 2017-12-29 15:08:45,945 Line:5853 56:
 [DEBUG] 2017-12-29 15:08:45,945 Line:5853 57:0.0
 [DEBUG] 2017-12-29 15:08:45,946 Line:5853 58:0.0
 [DEBUG] 2017-12-29 15:08:45,946 Line:5853 59:
 [DEBUG] 2017-12-29 15:08:45,946 Line:5853 60:0.0
 [DEBUG] 2017-12-29 15:08:45,946 Line:5853 61:00001
 [DEBUG] 2017-12-29 15:08:45,948 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-29 15:08:45,950 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-29 15:08:45,951 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,951 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 15:08:45,952 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,953 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-29 15:08:45,953 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,953 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-29 15:08:45,954 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,954 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 15:08:45,955 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,955 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-29 15:08:45,956 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,956 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:08:45,957 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:45,958 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-29 15:08:45,958 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,958 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,958 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 15:08:45,959 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,959 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,960 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,960 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 15:08:45,960 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,961 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,961 Line:988 2值：00003
 [DEBUG] 2017-12-29 15:08:45,962 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,962 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,962 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,963 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-29 15:08:45,963 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,963 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,963 Line:988 2值：00003
 [DEBUG] 2017-12-29 15:08:45,965 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,965 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:45,966 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,966 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-29 15:08:45,966 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,967 Line:988 1值：false
 [DEBUG] 2017-12-29 15:08:45,967 Line:988 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,967 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-29 15:08:45,968 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,968 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-29 15:08:45,969 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,969 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-29 15:08:45,969 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,969 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,970 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,970 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,971 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,971 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 15:08:45,971 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,971 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,972 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,972 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,974 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,975 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-29 15:08:45,975 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,975 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,976 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,976 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,977 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,978 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-29 15:08:45,978 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,978 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,979 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,979 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,980 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,980 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,981 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,982 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-29 15:08:45,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,982 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,983 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:45,983 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,984 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,984 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-29 15:08:45,985 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,985 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 15:08:45,986 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,986 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,987 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,987 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:45,987 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:45,988 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-29 15:08:45,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:45,988 Line:988 1值：1
 [DEBUG] 2017-12-29 15:08:45,988 Line:988 2值：0
 [DEBUG] 2017-12-29 15:08:45,988 Line:988 3值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:45,989 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-29 15:08:45,990 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-29 15:08:45,990 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:45,990 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-29 15:08:45,991 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-29 15:08:46,010 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,013 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,014 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:08:46,014 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:46,016 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,017 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-29 15:08:46,017 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,017 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,018 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:46,018 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-29 15:08:46,019 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,019 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-29 15:08:46,019 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,019 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,020 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:46,020 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-29 15:08:46,020 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,021 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 15:08:46,021 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,021 Line:988 1值：
 [DEBUG] 2017-12-29 15:08:46,021 Line:988 2值：00001
 [DEBUG] 2017-12-29 15:08:46,022 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:46,022 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-29 15:08:46,022 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,023 Line:988 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,023 Line:988 2值：
 [DEBUG] 2017-12-29 15:08:46,023 Line:988 3值：
 [DEBUG] 2017-12-29 15:08:46,023 Line:988 4值：
 [DEBUG] 2017-12-29 15:08:46,024 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:46,024 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-29 15:08:46,025 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,025 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-29 15:08:46,025 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,026 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 15:08:46,026 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,026 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-29 15:08:46,027 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,027 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:08:46,027 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,028 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-29 15:08:46,029 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 15:08:46,029 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,030 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,030 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:46,030 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 15:08:46,030 Line:1154 1整数 值：2
 [DEBUG] 2017-12-29 15:08:46,030 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,031 Line:1157 3值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,031 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,031 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,031 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-29 15:08:46,032 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,032 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,032 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,033 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:46,033 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-29 15:08:46,033 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,034 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,034 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,034 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-29 15:08:46,034 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,035 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,035 Line:229 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,035 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-29 15:08:46,036 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,036 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-29 15:08:46,037 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,037 Line:1157 2值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,037 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,038 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:46,038 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-29 15:08:46,038 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,039 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-29 15:08:46,039 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,039 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:46,040 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,040 Line:1270 add
 [DEBUG] 2017-12-29 15:08:46,041 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-29 15:08:46,041 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-29 15:08:46,041 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,042 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 15:08:46,042 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,042 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 15:08:46,043 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,043 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-29 15:08:46,043 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,043 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-29 15:08:46,043 Line:408 ************上述语句执行时间：0
 [DEBUG] 2017-12-29 15:08:46,044 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 15:08:46,044 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,045 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-29 15:08:46,045 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,045 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-29 15:08:46,046 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,048 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-29 15:08:46,049 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,050 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 15:08:46,050 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,050 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-29 15:08:46,051 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,051 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:08:46,052 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,052 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-29 15:08:46,053 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,053 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:46,053 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,054 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-29 15:08:46,054 Line:1157 1值：2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,055 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-29 15:08:46,055 Line:408 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,055 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:46,055 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,056 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:46,056 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,056 Line:1270 add
 [DEBUG] 2017-12-29 15:08:46,057 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,057 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-29 15:08:46,058 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,058 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-29 15:08:46,058 Line:1270 12
 [DEBUG] 2017-12-29 15:08:46,059 Line:1270 2017
 [DEBUG] 2017-12-29 15:08:46,059 Line:1270 12
 [DEBUG] 2017-12-29 15:08:46,059 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-29 15:08:46,059 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-29 15:08:46,059 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,059 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-29 15:08:46,060 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 15:08:46,060 Line:1270 BI1712290022
 [DEBUG] 2017-12-29 15:08:46,060 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:08:46,060 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:08:46,060 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-29 15:08:46,060 Line:1270 1
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 1
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 2017-12-29 15:07:21
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 2017-12-29 15:08:45
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 00001
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-29 15:08:46,061 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 00003
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 1
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 00101
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-29 15:08:46,062 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-29 15:08:46,063 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-29 15:08:46,063 Line:1270 0
 [DEBUG] 2017-12-29 15:08:46,063 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-29 15:08:46,063 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-29 15:08:46,063 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-29 15:08:46,063 Line:1270 f_ref='2cf86be0_1712291507217880002'
 [DEBUG] 2017-12-29 15:08:46,070 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'2cf86be0_1712291507217880002','2017-12-29','BI1712290022','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-29 15:07:21','2017-12-29 15:08:45','00001' from tblBuyInStockDet where f_ref='2cf86be0_1712291507217880002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-29 15:08:46,070 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-29 15:08:46,071 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 15:08:46,071 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-29 15:08:46,071 Line:425 ************上述语句执行时间：13
 [DEBUG] 2017-12-29 15:08:46,071 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-29 15:08:46,072 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,072 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:46,072 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,073 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-29 15:08:46,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,074 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-29 15:08:46,074 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-29 15:08:46,075 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,075 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-29 15:08:46,075 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,076 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-29 15:08:46,076 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,076 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:46,077 Line:1270 zh_CN
 [DEBUG] 2017-12-29 15:08:46,077 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,077 Line:1270 00001
 [DEBUG] 2017-12-29 15:08:46,077 Line:1270 1
 [DEBUG] 2017-12-29 15:08:46,081 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='2cf86be0_1712291507217880002') or goodPropHash in (select goodPropHash from tblStockDet where BillId='2cf86be0_1712291507217880002') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-29 15:08:46,082 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-29 15:08:46,082 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-29 15:08:46,083 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,083 Line:988 1值：1
 [DEBUG] 2017-12-29 15:08:46,083 Line:988 2值：0
 [DEBUG] 2017-12-29 15:08:46,083 Line:988 3值：1
 [DEBUG] 2017-12-29 15:08:46,083 Line:988 4值：0
 [DEBUG] 2017-12-29 15:08:46,083 Line:988 5值：0
 [DEBUG] 2017-12-29 15:08:46,084 Line:988 6值：1
 [DEBUG] 2017-12-29 15:08:46,084 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:46,084 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:46,084 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-29 15:08:46,085 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:46,085 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-29 15:08:46,085 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,087 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-29 15:08:46,087 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-29 15:08:46,088 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,089 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,089 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,090 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,091 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,091 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,092 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-29 15:08:46,093 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-29 15:08:46,099 Line:434 ************上述语句执行时间：13
 [DEBUG] 2017-12-29 15:08:46,100 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-29 15:08:46,101 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,101 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:46,101 Line:1270 12cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,101 Line:1270 00003
 [DEBUG] 2017-12-29 15:08:46,102 Line:1270 1
 [DEBUG] 2017-12-29 15:08:46,102 Line:1270 2017-12-29
 [DEBUG] 2017-12-29 15:08:46,102 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=2cf86be0_1712291507217880002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-29 15:07:21@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-29 15:08:45@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712290022@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-29 15:08:46,104 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('12cf86be0_1712291507217880002',17,'00003','2017-12-29','12','2017','12','0','1','2cf86be0_1712291507217880002','','1','0','1','1','2017-12-29 15:07:21','1','2017-12-29 15:08:45','00001','tblBuyInStock','BI1712290022','1','00101','0','')
 [DEBUG] 2017-12-29 15:08:46,105 Line:425 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 15:08:46,105 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-29 15:08:46,106 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,106 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-29 15:08:46,107 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,107 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-29 15:08:46,108 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,108 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-29 15:08:46,109 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,109 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-29 15:08:46,109 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,110 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-29 15:08:46,110 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,110 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-29 15:08:46,111 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,111 Line:988 1值：1
 [DEBUG] 2017-12-29 15:08:46,111 Line:988 2值：0
 [DEBUG] 2017-12-29 15:08:46,111 Line:988 3值：1
 [DEBUG] 2017-12-29 15:08:46,111 Line:988 4值：0
 [DEBUG] 2017-12-29 15:08:46,111 Line:988 5值：0
 [DEBUG] 2017-12-29 15:08:46,112 Line:988 6值：0
 [DEBUG] 2017-12-29 15:08:46,112 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-29 15:08:46,112 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-29 15:08:46,112 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-29 15:08:46,113 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 15:08:46,113 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 15:08:46,114 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,114 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-29 15:08:46,114 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,115 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:08:46,115 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,115 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-29 15:08:46,116 Line:321 flag:false
 [DEBUG] 2017-12-29 15:08:46,116 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-29 15:08:46,116 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,117 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-29 15:08:46,117 Line:1270 2cf86be0_1712291507217880002
 [DEBUG] 2017-12-29 15:08:46,117 Line:1270 add
 [DEBUG] 2017-12-29 15:08:46,118 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-29 15:08:46,118 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-29 15:08:46,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:08:46,119 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-29 15:08:46,119 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-29 15:08:46,119 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-29 15:08:46,119 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-29 15:08:46,120 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-29 15:08:46,120 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-29 15:08:46,120 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 15:08:46,120 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-29 15:08:46,121 Line:321 flag:true
 [DEBUG] 2017-12-29 15:08:46,122 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-29 15:09:05,754 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@57ee2fbc
 [DEBUG] 2017-12-29 15:09:05,754 Line:443 ************上述语句执行时间：19633
 [DEBUG] 2017-12-29 15:09:07,229 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=2cf86be0_1712291507217880002&parentCode=null&f_brother=&draftQuery=&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 15:09:07,230 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[2cf86be0_1712291507217880002,];parentCode=[null,];f_brother=[,];draftQuery=[,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 15:09:07,231 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291507217880002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-29 15:09:07,247 Line:1525  select * from  tblBuyInStockDet where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:09:07,257 Line:1525  select * from  tblBuyPayAccount where f_ref = '2cf86be0_1712291507217880002' order by detOrderNo
 [DEBUG] 2017-12-29 15:35:28,622 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 15:41:52,870 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblcardscan
 [DEBUG] 2017-12-29 15:41:52,871 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblcardscan,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:41:52,872 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:41:52,950 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,ComContactor,ComTel,ComEmail,ComName,ComContactorMobile,ComAddress,QQ,Status,createTime from ( select tblcardscan.id as keyId,tblcardscan.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblcardscan.createBy) as deptCodeR,'' as employeeId,null as deptCodeRE,      tblcardscan.ComContactor as ComContactor,     tblcardscan.ComTel as ComTel,     tblcardscan.ComEmail as ComEmail,     tblcardscan.ComName as ComName,     tblcardscan.ComContactorMobile as ComContactorMobile,     tblcardscan.ComAddress as ComAddress,     tblcardscan.QQ as QQ,     isnull(tblcardscan.Status,1) as Status,     tblcardscan.createTime as createTime   ,ROW_NUMBER() over(order by     tblcardscan.createTime desc) as row_id  from tblcardscan where 1=1               and ('admin' = 'admin' or tblcardscan.createBy = '1')  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:41:52,979 Line:689 通过SQL读原始数据：29
 [DEBUG] 2017-12-29 15:41:52,981 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:41:53,003 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ComContactor",""]],"cols":[["姓名","50","string","","ComContactor"],["公司电话","100","string","","ComTel"],["公司邮箱","250","string","","ComEmail"],["公司","200","string","","ComName"],["手机","150","string","","ComContactorMobile"],["公司地址","250","string","","ComAddress"],["QQ号码","200","string","","QQ"],["状态","200","int","","Status"],["建立时间","200","date","","createTime"]],"rows":[{"QQ":"","Status":"1","classCode":"","ComAddress":"深圳市罗湖区国成路互联网产业园3栋5楼","keyId":"ebc等等！
 [DEBUG] 2017-12-29 15:42:56,501 Line:2993 MobileAjax 请求地址：/MobileAjax?op=cardscan
 [DEBUG] 2017-12-29 15:42:56,503 Line:3004 MobileAjax 操作人:admin;请求数据：op=[cardscan,];
 [DEBUG] 2017-12-29 15:42:56,503 Line:243 AIOApi op=cardscan&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:42:56,836 Line:1750 AIOConnect发送远程请求返回：2da381dff55b0b7be544417f0b5e08e0a4256b158d24f4987ecaf61b2ae18590173f0ab9ab0c6865506a85edf0b0a4221b3f5e5b55d6229f439e6153160765b6499fe5bbd5d48f757611175e2f15e2bc1b3de318b302073b326019d176b63628abcd4fe33d5676e7a3b17d4d45309a9b9485db1ecf6f205dd1fa01b42c82aeb3e1c98cb8a499d93dd79bbf1079213b5d
 [DEBUG] 2017-12-29 15:42:59,953 Line:1750 AIOConnect发送远程请求返回：c01fb9f7d34032ae72181f54e625d50919972443cec8a0b97ce889484d6327e5
 [DEBUG] 2017-12-29 15:43:00,479 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:43:00,480 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblcardscan,];keyId=[2cf86be0_1712291542598330015,];
 [DEBUG] 2017-12-29 15:43:00,481 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:00,538 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291542598330015' and  a.tableName='tblcardscan'
 [DEBUG] 2017-12-29 15:43:00,619 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"ComAddress":"深圳市罗湖区国成路互联网产业园3栋5楼","ComContactorMobile":"15986780403","printCount":0,"ComTel":"0755-22384000","id":"2cf86be0_1712291542598330015","ComName":"深圳市科荣软件股份有限公司","isCatalog":0,"Status":0,"createByName":"admin","createBy":"1","statusId":0,"createTime":"2017-12-29 15:42:59","LANGUAGEQUERY":{},"ComContactor":"等等！
 [DEBUG] 2017-12-29 15:43:31,072 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=CRMClientInfo
 [DEBUG] 2017-12-29 15:43:31,074 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[CRMClientInfo,];pageNo=[1,];pageSize=[10,];src=[menu,];ClientName=[,];Status=[,];ClientType=[,];Emergency=[,];SourceInfo=[,];ModuleId=[1,];
 [DEBUG] 2017-12-29 15:43:31,076 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:31,093 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=CRMClientModule
 [DEBUG] 2017-12-29 15:43:31,095 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[CRMClientModule,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:43:31,096 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:31,098 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=ClientStyle
 [DEBUG] 2017-12-29 15:43:31,098 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=ClientStatus
 [DEBUG] 2017-12-29 15:43:31,099 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[ClientStyle,];
 [DEBUG] 2017-12-29 15:43:31,100 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[ClientStatus,];
 [DEBUG] 2017-12-29 15:43:31,100 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=ClientSource
 [DEBUG] 2017-12-29 15:43:31,102 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:31,101 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:31,104 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=ClientEmergency
 [DEBUG] 2017-12-29 15:43:31,103 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[ClientSource,];
 [DEBUG] 2017-12-29 15:43:31,106 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"目标客户","value":"2"},{"name":"意向客户","value":"3"},{"name":"成交客户","value":"4"},{"name":"公共池客户","value":"1"}]}
 [DEBUG] 2017-12-29 15:43:31,106 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[ClientEmergency,];
 [DEBUG] 2017-12-29 15:43:31,106 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"直接客户","value":"1"},{"name":"合作伙伴","value":"2"},{"name":"代理商","value":"3"},{"name":"渠道","value":"4"},{"name":"其他","value":"5"}]}
 [DEBUG] 2017-12-29 15:43:31,106 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:31,109 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:43:31,113 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"电话咨询","value":"1"},{"name":"官网访问","value":"2"},{"name":"电商平台","value":"3"},{"name":"客户介绍","value":"4"},{"name":"会议营销","value":"5"},{"name":"二次销售","value":"6"},{"name":"陌生拜访","value":"7"}]}
 [DEBUG] 2017-12-29 15:43:31,116 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"★","value":"1"},{"name":"★★","value":"2"},{"name":"★★★","value":"3"},{"name":"★★★★","value":"4"}]}
 [DEBUG] 2017-12-29 15:43:31,156 Line:549 ReportDataMgt.getReportData SQL={call proc_CRMModule (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@moduleName=?)}
 [DEBUG] 2017-12-29 15:43:31,157 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,ClientNo,ClientName,ClientLabel,ClientType,BusinessDistrict,Scale,Property,Trade,BriefContent from ( select CRMClientInfo.id as keyId,'1' as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id='1') as deptCodeR,'1' as employeeId,(select isnull(DepartmentCode,'') from tblEmployee as e where e.id='1') as deptCodeRE,      CRMClientInfo.ClientNo as ClientNo,     CRMClientInfo.ClientName as ClientName,     CRMClientInfo.ClientLabel as ClientLabel,     CRMClientInfo.ClientType as ClientType,     CRMBusinessDistrict.BusinessDistrict as BusinessDistrict,     CRMClientInfo.Scale as Scale,     CRMClientInfo.Property as Property,     CRMClientInfo.Trade as Trade,     CRMClientInfo.BriefContent as BriefContent   ,ROW_NUMBER() over(order by CRMClientInfo.ClientNo) as row_id  from CRMClientInfo left join CRMBusinessDistrict on CRMBusinessDistrict.id=CRMClientInfo.BusinessDistrict where 1=1                                                                        )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:43:31,158 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:43:31,160 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:43:31,161 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:43:31,161 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:43:31,162 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:43:31,162 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:43:31,188 Line:689 通过SQL读原始数据：29
 [DEBUG] 2017-12-29 15:43:31,190 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:43:31,196 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientNo",""],["ClientName",""],["ClientLabel",""],["Status",""],["ClientType",""],["BusinessDistrict",""],["Scale",""],["Property",""],["Trade",""],["BriefContent",""]],"cols":[["客户编号","90","string","","ClientNo"],["客户名称","200","string","","ClientName"],["重要程度","80","other","","ClientLabel"],["客户类型","80","other","","ClientType"],["业务区域","100","string","","BusinessDistrict"],["客户规模","80","other","","Scale"],["企业性质","80","other","","Property"],["客户行业",等等！
 [DEBUG] 2017-12-29 15:43:32,282 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:43:32,283 Line:689 通过SQL读原始数据：1126
 [DEBUG] 2017-12-29 15:43:32,285 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:43:32,291 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["moduleName",""]],"cols":[["名称","200","string","","moduleName"],["描述","200","string","","moduleDesc"],["模板id","100","string","","id"],["关键字段","100","string","","keyFields"],["查询字段","100","string","","searchFields"],["列表字段","200","string","","listFields"],["详情字段","200","string","","detailFields"],["页面编辑字段","200","string","","pageFields"],["表名","200","string","","tableInfo"],["分组","200","string","","groups"]],"rows":[{"pageFields":"ClientNo,ClientName,Ke等等！
 [DEBUG] 2017-12-29 15:44:15,346 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:44:15,348 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:44:15,350 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:15,371 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:44:15,375 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:44:15,377 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:15,506 Line:2395 取总页数时间42
 [DEBUG] 2017-12-29 15:44:15,506 Line:2395 取总页数时间42
 [DEBUG] 2017-12-29 15:44:15,508 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:44:15,508 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:44:15,536 Line:689 通过SQL读原始数据：27
 [DEBUG] 2017-12-29 15:44:15,537 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:44:15,537 Line:689 通过SQL读原始数据：28
 [DEBUG] 2017-12-29 15:44:15,538 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:44:15,541 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:44:15,543 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:44:18,181 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:44:18,183 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[1,];src=[menu,];
 [DEBUG] 2017-12-29 15:44:18,184 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:18,213 Line:2395 取总页数时间2
 [DEBUG] 2017-12-29 15:44:18,214 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 2 order by row_id
 [DEBUG] 2017-12-29 15:44:18,246 Line:689 通过SQL读原始数据：30
 [DEBUG] 2017-12-29 15:44:18,247 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:44:18,253 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:44:18,832 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 15:44:18,836 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblOutAttendance,];
 [DEBUG] 2017-12-29 15:44:18,836 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=tblOutAttendanceType
 [DEBUG] 2017-12-29 15:44:18,837 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:18,839 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[tblOutAttendanceType,];
 [DEBUG] 2017-12-29 15:44:18,843 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:18,851 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"约谈需求","value":"1"},{"name":"回访","value":"2"},{"name":"协助上线","value":"3"},{"name":"收款","value":"4"},{"name":"续签合同","value":"5"},{"name":"外派","value":"6"},{"name":"测试","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2017-12-29 15:44:18,955 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"f_brother":"","tableName":"tblOutAttendance"},"childTableList":[],"fieldList":[{"id":"52567310_1701181445427860125","tableName":"tblOutAttendance","fieldName":"checkPersons","isNull":0,"fieldType":2,"maxLength":8000,"width":0,"inputType":100,"inputTypeOld":0,"digits":0,"udType":0,"display":"checkPersons"},{"id":"5256等等！
 [DEBUG] 2017-12-29 15:44:35,155 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:44:35,157 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:44:35,157 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:35,186 Line:2395 取总页数时间3
 [DEBUG] 2017-12-29 15:44:35,187 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:44:35,190 Line:689 通过SQL读原始数据：2
 [DEBUG] 2017-12-29 15:44:35,191 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:44:35,196 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:44:46,913 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:44:46,915 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2017-12-29 15:44:46,917 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:46,947 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:44:46,978 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"主管审核","value":"1513322741341"},{"label":"财务审核","value":"1513322743692"}]}}
 [DEBUG] 2017-12-29 15:44:48,428 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:44:48,431 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:44:48,432 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:48,490 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:44:48,493 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:44:48,494 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:44:48,803 Line:689 通过SQL读原始数据：310
 [DEBUG] 2017-12-29 15:44:48,808 Line:1391 整理数据：3
 [DEBUG] 2017-12-29 15:44:48,826 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:44:50,384 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:44:50,386 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[2,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:44:50,387 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:50,433 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 11 and 21 order by row_id
 [DEBUG] 2017-12-29 15:44:50,435 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:44:50,437 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:44:50,570 Line:689 通过SQL读原始数据：135
 [DEBUG] 2017-12-29 15:44:50,655 Line:1391 整理数据：84
 [DEBUG] 2017-12-29 15:44:50,663 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:44:53,171 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:44:53,174 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-29 15:44:53,175 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:53,312 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-29 15:44:53,329 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:44:53,911 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"dc4b4f2e_171218141822871等等！
 [DEBUG] 2017-12-29 15:44:53,941 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:44:53,942 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_getClientInfo,];pageNo=[1,];pageSize=[10,];CompanyCode=[00002,];
 [DEBUG] 2017-12-29 15:44:53,943 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:44:53,945 Line:3434 DynDBManager.popSelect selectName=model_getClientInfo; sql=select *  from (select tblCompany.classCode f1 ,tblCompany.ComFullName f2 
,ROW_NUMBER() over( order by tblCompany.classCode) as row_id from  tblCompany as  tblCompany 
where  tblCompany.classCode= '00002') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:44:53,955 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"ComFullName":"顺誉","CompanyCode":"00002"}]}}
 [DEBUG] 2017-12-29 15:45:00,902 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:45:00,905 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 15:45:00,907 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:00,916 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:45:00,919 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:45:00,920 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:00,963 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:45:00,964 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:45:00,964 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:45:00,966 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:45:00,966 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:45:00,967 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:45:00,967 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:45:00,968 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:45:00,969 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:45:00,969 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:45:00,970 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:45:00,970 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:45:00,971 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:45:00,971 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:45:00,971 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:45:00,972 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:45:00,972 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:45:00,972 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:45:00,973 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:45:00,973 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:45:00,974 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:45:00,974 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:45:00,978 Line:689 通过SQL读原始数据：5
 [DEBUG] 2017-12-29 15:45:00,980 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 15:45:00,995 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:45:01,123 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:45:01,123 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:45:01,124 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:45:01,124 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:45:01,124 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:45:01,125 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:45:01,125 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:45:01,125 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:45:01,126 Line:689 通过SQL读原始数据：162
 [DEBUG] 2017-12-29 15:45:01,127 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:45:01,160 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:45:04,393 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 15:45:04,397 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblSalesOrder,];
 [DEBUG] 2017-12-29 15:45:04,399 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:04,723 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","Account":"","tblEmployee.EmpFullName":"admin","tblSalesOrderDet_EmployeeID":"Sess_UserId","f_brother":"","tblSalesOrderDet_DepartmentCode":"Sess_DepartmentCode","EmployeeID":"1","StockCode":"","tblAccTypeInfo.AccName":"","tblStock.StockFullName":"","tblSalesOrderDet_StockCode":"","tableName":"tblS等等！
 [DEBUG] 2017-12-29 15:45:07,802 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:07,805 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_clientList,];pageNo=[1,];pageSize=[1000,];
 [DEBUG] 2017-12-29 15:45:07,806 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:07,812 Line:3434 DynDBManager.popSelect selectName=model_clientList; sql=select *  from (select tblCompany.classCode f1 ,tblCompany.ComNumber f2 ,tblCompany.ComFullName f3 ,tblCompany.ComFullNamePYM f4 
,ROW_NUMBER() over( order by tblCompany.classCode) as row_id from tblCompany
where isCatalog = 0 and ClientFlag = 2) a where  row_id between 1 and 1000 order by row_id 
 [DEBUG] 2017-12-29 15:45:07,845 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"ComFullName":"包盛","ComFullNamePYM":"bs","ComNumber":"0001","CompanyCode":"00001"},{"ComFullName":"顺誉","ComFullNamePYM":"sy","ComNumber":"0002","CompanyCode":"00002"}]}}
 [DEBUG] 2017-12-29 15:45:24,589 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:24,593 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_saleGoodList,];pageNo=[1,];pageSize=[15,];GoodsFullName=[,];
 [DEBUG] 2017-12-29 15:45:24,594 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:24,596 Line:3434 DynDBManager.popSelect selectName=model_saleGoodList; sql=select *  from (select tblGoods.GoodsFullName f1 ,tblGoods.GoodsNumber f2 ,tblGoods.GoodsSpec f3 ,tblGoods.classCode f4 
,ROW_NUMBER() over( order by tblGoods.GoodsNumber) as row_id from tblGoods 
where tblGoods.isCatalog = 0 and tblGoods.statusId = 0) a where  row_id between 1 and 15 order by row_id 
 [DEBUG] 2017-12-29 15:45:24,632 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"GoodsSpec":"","GoodsFullName":"叉烧包","GoodsCode":"0000300001","GoodsNumber":"bl0001"},{"GoodsSpec":"","GoodsFullName":"流沙包","GoodsCode":"0000300002","GoodsNumber":"bl0002"},{"GoodsSpec":"","GoodsFullName":"干蒸馅","GoodsCode":"00001","GoodsNumber":"bs0001"},{"GoodsSpec":"","GoodsFullName":"玉米馅","GoodsCode":"00002","GoodsNumber":"bs0002"},{"GoodsSpec":"","GoodsFullName":"芝麻糕","GoodsCode":"0000400001","GoodsNumber":"gl0001"},{"GoodsSpec":"","GoodsFullName":"五豆糕等等！
 [DEBUG] 2017-12-29 15:45:31,186 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:31,188 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_queryGoodByCode,];pageNo=[1,];pageSize=[10,];GoodCode=[0000400001,];
 [DEBUG] 2017-12-29 15:45:31,190 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:31,192 Line:3434 DynDBManager.popSelect selectName=model_queryGoodByCode; sql=select *  from (select tblGoods.GoodsNumber f1 ,tblGoods.GoodsFullName f2 ,tblGoods.GoodsSpec f3 
,ROW_NUMBER() over( order by tblGoods.GoodsNumber) as row_id from tblGoods as tblGoods
where tblGoods.isCatalog = 0 and tblGoods.statusId = 0 and tblGoods.classCode ='0000400001') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:45:31,200 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:31,201 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:31,202 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_queryGoodByCode,];pageNo=[1,];pageSize=[10,];GoodCode=[0000400002,];
 [DEBUG] 2017-12-29 15:45:31,201 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:31,202 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:31,202 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_queryGoodByCode,];pageNo=[1,];pageSize=[10,];GoodCode=[0000400002,];
 [DEBUG] 2017-12-29 15:45:31,203 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_queryGoodByCode,];pageNo=[1,];pageSize=[10,];GoodCode=[0000400001,];
 [DEBUG] 2017-12-29 15:45:31,204 Line:3434 DynDBManager.popSelect selectName=model_queryGoodByCode; sql=select *  from (select tblGoods.GoodsNumber f1 ,tblGoods.GoodsFullName f2 ,tblGoods.GoodsSpec f3 
,ROW_NUMBER() over( order by tblGoods.GoodsNumber) as row_id from tblGoods as tblGoods
where tblGoods.isCatalog = 0 and tblGoods.statusId = 0 and tblGoods.classCode ='0000400002') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:45:31,204 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:31,205 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"GoodsSpec":"","GoodsFullName":"芝麻糕","GoodsNumber":"gl0001"}]}}
 [DEBUG] 2017-12-29 15:45:31,204 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:31,207 Line:3434 DynDBManager.popSelect selectName=model_queryGoodByCode; sql=select *  from (select tblGoods.GoodsNumber f1 ,tblGoods.GoodsFullName f2 ,tblGoods.GoodsSpec f3 
,ROW_NUMBER() over( order by tblGoods.GoodsNumber) as row_id from tblGoods as tblGoods
where tblGoods.isCatalog = 0 and tblGoods.statusId = 0 and tblGoods.classCode ='0000400002') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:45:31,207 Line:3434 DynDBManager.popSelect selectName=model_queryGoodByCode; sql=select *  from (select tblGoods.GoodsNumber f1 ,tblGoods.GoodsFullName f2 ,tblGoods.GoodsSpec f3 
,ROW_NUMBER() over( order by tblGoods.GoodsNumber) as row_id from tblGoods as tblGoods
where tblGoods.isCatalog = 0 and tblGoods.statusId = 0 and tblGoods.classCode ='0000400001') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:45:31,215 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"GoodsSpec":"","GoodsFullName":"芝麻糕","GoodsNumber":"gl0001"}]}}
 [DEBUG] 2017-12-29 15:45:31,217 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"GoodsSpec":"","GoodsFullName":"五豆糕","GoodsNumber":"gl0002"}]}}
 [DEBUG] 2017-12-29 15:45:31,217 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"GoodsSpec":"","GoodsFullName":"五豆糕","GoodsNumber":"gl0002"}]}}
 [DEBUG] 2017-12-29 15:45:44,019 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2017-12-29 15:45:44,021 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[tblSalesOrder,];saveType=[,];values=[{"selected":"2","username":"","email":"","DetGoodsCodeStr":"0000400001,0000400002,","BillNo":"SO1712290021","BillDate":"2017-12-29","CompanyCode":"00001","ComFullName":"包盛","EmployeeID":"1","subAccount":"01234","DepartmentCode":"","createBy":"","TotalAmount":24,"TotalTaxAmount":24,"Remark":"","TABLENAME_tblSalesOrderDet":[{"GoodsNumber":"gl0001","GoodsFullName":"芝麻糕","GoodsSpec":"","GoodsCode":"0000400001","Qty":1,"Price":"12","TaxPrice":0,"Amount":12,"TaxAmount":12},{"GoodsNumber":"gl0002","GoodsFullName":"五豆糕","GoodsSpec":"","GoodsCode":"0000400002","Qty":1,"Price":"12","TaxPrice":0,"Amount":12,"TaxAmount":12}],"opType":"add"},];defineInfo=[,];
 [DEBUG] 2017-12-29 15:45:44,022 Line:243 AIOApi op=add&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:44,057 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,AccountAmount,CurAccountAmount,InVoiceType,InvoiceAmount,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,NeedReturnAmt,Remark,AlrAccAmt,AutoBillMarker,BackAmount,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:45:44,059 Line:5853 1:;1;
 [DEBUG] 2017-12-29 15:45:44,061 Line:5853 2:2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,062 Line:5853 3:00001
 [DEBUG] 2017-12-29 15:45:44,063 Line:5853 4:SO1712290021
 [DEBUG] 2017-12-29 15:45:44,064 Line:5853 5:2017-12-29
 [DEBUG] 2017-12-29 15:45:44,066 Line:5853 6:00001
 [DEBUG] 2017-12-29 15:45:44,067 Line:5853 7:
 [DEBUG] 2017-12-29 15:45:44,068 Line:5853 8:1
 [DEBUG] 2017-12-29 15:45:44,070 Line:5853 9:0.0
 [DEBUG] 2017-12-29 15:45:44,070 Line:5853 10:0.0
 [DEBUG] 2017-12-29 15:45:44,071 Line:5853 11:3
 [DEBUG] 2017-12-29 15:45:44,071 Line:5853 12:0.0
 [DEBUG] 2017-12-29 15:45:44,072 Line:5853 13:0.0
 [DEBUG] 2017-12-29 15:45:44,072 Line:5853 14:12
 [DEBUG] 2017-12-29 15:45:44,073 Line:5853 15:12
 [DEBUG] 2017-12-29 15:45:44,073 Line:5853 16:2017
 [DEBUG] 2017-12-29 15:45:44,074 Line:5853 17:0.0
 [DEBUG] 2017-12-29 15:45:44,075 Line:5853 18:
 [DEBUG] 2017-12-29 15:45:44,076 Line:5853 19:0.0
 [DEBUG] 2017-12-29 15:45:44,076 Line:5853 20:0
 [DEBUG] 2017-12-29 15:45:44,077 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:45:44,079 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:45:44,079 Line:5853 23:0.0
 [DEBUG] 2017-12-29 15:45:44,080 Line:5853 24:0.0
 [DEBUG] 2017-12-29 15:45:44,080 Line:5853 25:0.0
 [DEBUG] 2017-12-29 15:45:44,081 Line:5853 26:100.0
 [DEBUG] 2017-12-29 15:45:44,082 Line:5853 27:0.0
 [DEBUG] 2017-12-29 15:45:44,083 Line:5853 28:0.0
 [DEBUG] 2017-12-29 15:45:44,083 Line:5853 29:0.0
 [DEBUG] 2017-12-29 15:45:44,084 Line:5853 30:1.0
 [DEBUG] 2017-12-29 15:45:44,085 Line:5853 31:24.0
 [DEBUG] 2017-12-29 15:45:44,087 Line:5853 32:24.0
 [DEBUG] 2017-12-29 15:45:44,087 Line:5853 33:0.0
 [DEBUG] 2017-12-29 15:45:44,088 Line:5853 34:0.0
 [DEBUG] 2017-12-29 15:45:44,088 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:45:44,089 Line:5853 36:0.0
 [DEBUG] 2017-12-29 15:45:44,090 Line:5853 37:0.0
 [DEBUG] 2017-12-29 15:45:44,090 Line:5853 38:0.0
 [DEBUG] 2017-12-29 15:45:44,091 Line:5853 39:1
 [DEBUG] 2017-12-29 15:45:44,092 Line:5853 40:2017-12-29 15:45:44
 [DEBUG] 2017-12-29 15:45:44,092 Line:5853 41:0
 [DEBUG] 2017-12-29 15:45:44,093 Line:5853 42:0
 [DEBUG] 2017-12-29 15:45:44,094 Line:5853 43:0
 [DEBUG] 2017-12-29 15:45:44,094 Line:5853 44:notApprove
 [DEBUG] 2017-12-29 15:45:44,094 Line:5853 45:
 [DEBUG] 2017-12-29 15:45:44,095 Line:5853 46:1
 [DEBUG] 2017-12-29 15:45:44,096 Line:5853 47:2017-12-29 15:45:44
 [DEBUG] 2017-12-29 15:45:44,114 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,PlanQty) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:45:44,116 Line:5853 1:2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,116 Line:5853 2:2cf86be0_1712291545441130017
 [DEBUG] 2017-12-29 15:45:44,117 Line:5853 3:
 [DEBUG] 2017-12-29 15:45:44,117 Line:5853 4:0000400001
 [DEBUG] 2017-12-29 15:45:44,119 Line:5853 5:1.0
 [DEBUG] 2017-12-29 15:45:44,120 Line:5853 6:12.0
 [DEBUG] 2017-12-29 15:45:44,120 Line:5853 7:12.0
 [DEBUG] 2017-12-29 15:45:44,121 Line:5853 8:0.0
 [DEBUG] 2017-12-29 15:45:44,121 Line:5853 9:0
 [DEBUG] 2017-12-29 15:45:44,122 Line:5853 10:0.0
 [DEBUG] 2017-12-29 15:45:44,122 Line:5853 11:0
 [DEBUG] 2017-12-29 15:45:44,123 Line:5853 12:0.0
 [DEBUG] 2017-12-29 15:45:44,124 Line:5853 13:0.0
 [DEBUG] 2017-12-29 15:45:44,124 Line:5853 14:0.0
 [DEBUG] 2017-12-29 15:45:44,125 Line:5853 15:100.0
 [DEBUG] 2017-12-29 15:45:44,125 Line:5853 16:0.0
 [DEBUG] 2017-12-29 15:45:44,125 Line:5853 17:0.0
 [DEBUG] 2017-12-29 15:45:44,126 Line:5853 18:0.0
 [DEBUG] 2017-12-29 15:45:44,126 Line:5853 19:0.0
 [DEBUG] 2017-12-29 15:45:44,127 Line:5853 20:12.0
 [DEBUG] 2017-12-29 15:45:44,127 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:45:44,128 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:45:44,128 Line:5853 23:0.0
 [DEBUG] 2017-12-29 15:45:44,129 Line:5853 24:0.0
 [DEBUG] 2017-12-29 15:45:44,130 Line:5853 25:0.0
 [DEBUG] 2017-12-29 15:45:44,130 Line:5853 26:0.0
 [DEBUG] 2017-12-29 15:45:44,131 Line:5853 27:0
 [DEBUG] 2017-12-29 15:45:44,132 Line:5853 28:0
 [DEBUG] 2017-12-29 15:45:44,132 Line:5853 29:0.0
 [DEBUG] 2017-12-29 15:45:44,132 Line:5853 30:0.0
 [DEBUG] 2017-12-29 15:45:44,133 Line:5853 31:0.0
 [DEBUG] 2017-12-29 15:45:44,133 Line:5853 32:0.0
 [DEBUG] 2017-12-29 15:45:44,133 Line:5853 33:1
 [DEBUG] 2017-12-29 15:45:44,134 Line:5853 34:0
 [DEBUG] 2017-12-29 15:45:44,136 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:45:44,136 Line:5853 36:0.0
 [DEBUG] 2017-12-29 15:45:44,137 Line:5853 37:0.0
 [DEBUG] 2017-12-29 15:45:44,137 Line:5853 38:00101
 [DEBUG] 2017-12-29 15:45:44,138 Line:5853 39:0.0
 [DEBUG] 2017-12-29 15:45:44,138 Line:5853 40:0.0
 [DEBUG] 2017-12-29 15:45:44,140 Line:5853 41:0.0
 [DEBUG] 2017-12-29 15:45:44,141 Line:5853 42:0.0
 [DEBUG] 2017-12-29 15:45:44,141 Line:5853 43:0.0
 [DEBUG] 2017-12-29 15:45:44,141 Line:5853 44:0.0
 [DEBUG] 2017-12-29 15:45:44,141 Line:5853 45:0.0
 [DEBUG] 2017-12-29 15:45:44,149 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,PlanQty) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 15:45:44,151 Line:5853 1:2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,151 Line:5853 2:2cf86be0_1712291545441490018
 [DEBUG] 2017-12-29 15:45:44,152 Line:5853 3:
 [DEBUG] 2017-12-29 15:45:44,153 Line:5853 4:0000400002
 [DEBUG] 2017-12-29 15:45:44,153 Line:5853 5:1.0
 [DEBUG] 2017-12-29 15:45:44,154 Line:5853 6:12.0
 [DEBUG] 2017-12-29 15:45:44,154 Line:5853 7:12.0
 [DEBUG] 2017-12-29 15:45:44,155 Line:5853 8:0.0
 [DEBUG] 2017-12-29 15:45:44,156 Line:5853 9:0
 [DEBUG] 2017-12-29 15:45:44,156 Line:5853 10:0.0
 [DEBUG] 2017-12-29 15:45:44,156 Line:5853 11:0
 [DEBUG] 2017-12-29 15:45:44,156 Line:5853 12:0.0
 [DEBUG] 2017-12-29 15:45:44,157 Line:5853 13:0.0
 [DEBUG] 2017-12-29 15:45:44,157 Line:5853 14:0.0
 [DEBUG] 2017-12-29 15:45:44,157 Line:5853 15:100.0
 [DEBUG] 2017-12-29 15:45:44,157 Line:5853 16:0.0
 [DEBUG] 2017-12-29 15:45:44,158 Line:5853 17:0.0
 [DEBUG] 2017-12-29 15:45:44,158 Line:5853 18:0.0
 [DEBUG] 2017-12-29 15:45:44,158 Line:5853 19:0.0
 [DEBUG] 2017-12-29 15:45:44,158 Line:5853 20:12.0
 [DEBUG] 2017-12-29 15:45:44,159 Line:5853 21:0.0
 [DEBUG] 2017-12-29 15:45:44,159 Line:5853 22:0.0
 [DEBUG] 2017-12-29 15:45:44,159 Line:5853 23:0.0
 [DEBUG] 2017-12-29 15:45:44,159 Line:5853 24:0.0
 [DEBUG] 2017-12-29 15:45:44,159 Line:5853 25:0.0
 [DEBUG] 2017-12-29 15:45:44,160 Line:5853 26:0.0
 [DEBUG] 2017-12-29 15:45:44,160 Line:5853 27:0
 [DEBUG] 2017-12-29 15:45:44,160 Line:5853 28:0
 [DEBUG] 2017-12-29 15:45:44,160 Line:5853 29:0.0
 [DEBUG] 2017-12-29 15:45:44,160 Line:5853 30:0.0
 [DEBUG] 2017-12-29 15:45:44,161 Line:5853 31:0.0
 [DEBUG] 2017-12-29 15:45:44,161 Line:5853 32:0.0
 [DEBUG] 2017-12-29 15:45:44,161 Line:5853 33:1
 [DEBUG] 2017-12-29 15:45:44,161 Line:5853 34:0
 [DEBUG] 2017-12-29 15:45:44,161 Line:5853 35:0.0
 [DEBUG] 2017-12-29 15:45:44,162 Line:5853 36:0.0
 [DEBUG] 2017-12-29 15:45:44,162 Line:5853 37:0.0
 [DEBUG] 2017-12-29 15:45:44,162 Line:5853 38:00101
 [DEBUG] 2017-12-29 15:45:44,163 Line:5853 39:0.0
 [DEBUG] 2017-12-29 15:45:44,163 Line:5853 40:0.0
 [DEBUG] 2017-12-29 15:45:44,163 Line:5853 41:0.0
 [DEBUG] 2017-12-29 15:45:44,163 Line:5853 42:0.0
 [DEBUG] 2017-12-29 15:45:44,163 Line:5853 43:0.0
 [DEBUG] 2017-12-29 15:45:44,164 Line:5853 44:0.0
 [DEBUG] 2017-12-29 15:45:44,164 Line:5853 45:0.0
 [DEBUG] 2017-12-29 15:45:44,172 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2017-12-29 15:45:44,172 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,172 Line:988 1值：
 [DEBUG] 2017-12-29 15:45:44,175 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:45:44,175 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2017-12-29' < 'null'
 [DEBUG] 2017-12-29 15:45:44,179 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,179 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from CRMsalesQuot where id=?
 [DEBUG] 2017-12-29 15:45:44,179 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,180 Line:988 1值：
 [DEBUG] 2017-12-29 15:45:44,184 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:45:44,185 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2017-12-29' < 'null'
 [DEBUG] 2017-12-29 15:45:44,187 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,187 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from CRMSaleContract where id=?
 [DEBUG] 2017-12-29 15:45:44,188 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,188 Line:988 1值：
 [DEBUG] 2017-12-29 15:45:44,192 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:45:44,193 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2017-12-29' < 'null'
 [DEBUG] 2017-12-29 15:45:44,194 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,195 Line:313 exeCondition:tblSalesOrder_add :0!=0 && ''.length==0 
 [DEBUG] 2017-12-29 15:45:44,196 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,196 Line:313 exeCondition:tblSalesOrder_add :0<=0 && ''.length > 0 
 [DEBUG] 2017-12-29 15:45:44,197 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,197 Line:313 exeCondition:tblSalesOrder_add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-29 15:45:44,198 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,199 Line:921 自定义执行的语句显示： tblSalesOrder_add :select SendDate as SendDate from tblSalesOrderDet a where a.f_ref=? and len(a.SendDate)!=0 and a.SendDate < ? 
 [DEBUG] 2017-12-29 15:45:44,199 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,199 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,200 Line:988 2值：2017-12-29
 [DEBUG] 2017-12-29 15:45:44,205 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 15:45:44,207 Line:313 exeCondition:tblSalesOrder_add :'null'!='null'
 [DEBUG] 2017-12-29 15:45:44,207 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,208 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsQ from tblSalesOrderDet a,tblGoods b where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and b.classCode=a.GoodsCode and a.f_ref=?
 [DEBUG] 2017-12-29 15:45:44,208 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,208 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,213 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 15:45:44,213 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-29 15:45:44,215 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,215 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsQ,Qty from tblSalesOrderDet a,tblGoods b where a.f_ref=? and b.classCode=a.GoodsCode and isnull(a.Qty,0)<=0
 [DEBUG] 2017-12-29 15:45:44,215 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,216 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,224 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-29 15:45:44,225 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-29 15:45:44,225 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,226 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsP,b.garniture from tblSalesOrderDet a,tblGoods b where a.f_ref=? and a.PresentSampleType not in ('1','2') and b.classCode=a.GoodsCode and (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0))
 [DEBUG] 2017-12-29 15:45:44,226 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,226 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,233 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-29 15:45:44,234 Line:313 exeCondition:tblSalesOrder_add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:45:44,236 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,236 Line:313 exeCondition:tblSalesOrder_add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-29 15:45:44,238 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,239 Line:921 自定义执行的语句显示： tblSalesOrder_add :select 'disCountError' as disCountError from tblSalesOrderDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-29 15:45:44,240 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,240 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,243 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-29 15:45:44,243 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-29 15:45:44,244 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,244 Line:313 exeCondition:tblSalesOrder_add :false==true
 [DEBUG] 2017-12-29 15:45:44,246 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,246 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsSample from tblSalesOrderDet a,tblGoods b where a.f_ref=? and b.classCode=a.GoodsCode and a.PresentSampleType in ('1','2') and isnull(a.Price,0)!=0
 [DEBUG] 2017-12-29 15:45:44,247 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,247 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,253 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 15:45:44,253 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-29 15:45:44,254 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,254 Line:921 自定义执行的语句显示： tblSalesOrder_add :select dbo.getDigits('tblSalesOrderDet','TaxAmount',sum(tblSalesOrderDet.TaxAmount)) as SumDetAmt from tblSalesOrderDet where  f_ref=?
 [DEBUG] 2017-12-29 15:45:44,255 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,255 Line:988 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,288 Line:1025 query condition columnName:SumDetAmt----value:24.0
 [DEBUG] 2017-12-29 15:45:44,288 Line:1043 ---上述语句时间---34
 [DEBUG] 2017-12-29 15:45:44,289 Line:313 exeCondition:tblSalesOrder_add : 24.0 != 24.0
 [DEBUG] 2017-12-29 15:45:44,291 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,292 Line:921 自定义执行的语句显示： tblSalesOrder_add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 15:45:44,292 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 15:45:44,292 Line:988 1值：
 [DEBUG] 2017-12-29 15:45:44,293 Line:988 2值：00001
 [DEBUG] 2017-12-29 15:45:44,297 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-29 15:45:44,297 Line:313 exeCondition:tblSalesOrder_add :''.length != 0 && ''.length != 0 && !( '' == 'null' || ('null' =='' && 'null'=='1'  )  ) 
 [DEBUG] 2017-12-29 15:45:44,299 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,299 Line:313 exeCondition:tblSalesOrder_add :''.length == 0 && ''.length != 0 && ( 'null'.length != 0 && 'null' !=' '  && 'null' != 'null' && 'null' != 'NULL')
 [DEBUG] 2017-12-29 15:45:44,301 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,301 Line:313 exeCondition:tblSalesOrder_add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-29 15:45:44,304 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,304 Line:313 exeCondition:tblSalesOrder_add :false==true
 [DEBUG] 2017-12-29 15:45:44,306 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,307 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2017-12-29 15:45:44,309 Line:321 flag:true
 [DEBUG] 2017-12-29 15:45:44,310 Line:313 exeCondition:tblSalesOrder_Add_One1 :'false'=='false'
 [DEBUG] 2017-12-29 15:45:44,311 Line:321 flag:true
 [DEBUG] 2017-12-29 15:45:44,312 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrderDet set StockCode=? where f_ref=?
 [DEBUG] 2017-12-29 15:45:44,312 Line:1157 1值：
 [DEBUG] 2017-12-29 15:45:44,312 Line:1157 2值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,315 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=2
 [DEBUG] 2017-12-29 15:45:44,316 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-29 15:45:44,316 Line:313 exeCondition:tblSalesOrder_Add_One1 :true
 [DEBUG] 2017-12-29 15:45:44,317 Line:321 flag:true
 [DEBUG] 2017-12-29 15:45:44,318 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrderDet set OutQty=0,NotOutQty=Qty,FinishStatus=0,NeedReceiveAmt=TaxAmount,CurNeedReceiveAmt=CurAmount,NotPayQty=Qty,NoInvoiceAmount=TaxAmount,InvoiceAmount=0,InvoiceStatus=0 where f_ref=?
 [DEBUG] 2017-12-29 15:45:44,319 Line:1157 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,325 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=2
 [DEBUG] 2017-12-29 15:45:44,326 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-29 15:45:44,326 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrder set statusId=0,NeedReturnAmt=TotalTaxAmount-AccountAmount,CurNeedReturnAmt=CurTotalAmount-CurAccountAmount,AlrAccAmt=AccountAmount,NotAmortDeposit=AccountAmount,CurAlrAccAmt=CurAccountAmount,CurNotAmortDeposit=CurAccountAmount,PayAmt=0,CurPayAmt=0,CertificateNo='',NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0 where id=?
 [DEBUG] 2017-12-29 15:45:44,326 Line:1157 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,331 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2017-12-29 15:45:44,331 Line:408 ************上述语句执行时间：5
 [DEBUG] 2017-12-29 15:45:44,331 Line:313 exeCondition:tblSalesOrder_Add_One1 :'true'=='true'
 [DEBUG] 2017-12-29 15:45:44,332 Line:321 flag:true
 [DEBUG] 2017-12-29 15:45:44,333 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:
			update tblSalesOrderDet set tblSalesOrderDet.Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblSalesOrder  a join tblSalesOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblSalesOrderDet.id=a.id
			
 [DEBUG] 2017-12-29 15:45:44,333 Line:1157 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,353 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=0
 [DEBUG] 2017-12-29 15:45:44,354 Line:408 ************上述语句执行时间：21
 [DEBUG] 2017-12-29 15:45:44,354 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:
			update tblSalesOrderDet set tblSalesOrderDet.ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblSalesOrder a join tblSalesOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblSalesOrderDet.id=a.id
			 
 [DEBUG] 2017-12-29 15:45:44,355 Line:1157 1值：2cf86be0_1712291545440450016
 [DEBUG] 2017-12-29 15:45:44,377 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=0
 [DEBUG] 2017-12-29 15:45:44,378 Line:408 ************上述语句执行时间：24
 [DEBUG] 2017-12-29 15:45:44,378 Line:313 exeCondition:tblSalesOrder_Add_One1 :'1' == '0'&& false==false
 [DEBUG] 2017-12-29 15:45:44,380 Line:321 flag:false
 [DEBUG] 2017-12-29 15:45:44,434 Line:1064  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:45:44,445 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=2cf86be0_1712291545440450016;loginBean=1;locale=zh_CN
 [DEBUG] 2017-12-29 15:45:44,476 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"添加成功","obj":{"msg":"添加成功","keyId":"2cf86be0_1712291545440450016"}}
 [DEBUG] 2017-12-29 15:45:46,532 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:45:46,537 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:45:46,539 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:46,577 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:45:46,591 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:45:46,852 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:45:46,882 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:45:46,883 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_getClientInfo,];pageNo=[1,];pageSize=[10,];CompanyCode=[00001,];
 [DEBUG] 2017-12-29 15:45:46,883 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:46,885 Line:3434 DynDBManager.popSelect selectName=model_getClientInfo; sql=select *  from (select tblCompany.classCode f1 ,tblCompany.ComFullName f2 
,ROW_NUMBER() over( order by tblCompany.classCode) as row_id from  tblCompany as  tblCompany 
where  tblCompany.classCode= '00001') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:45:46,890 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"ComFullName":"包盛","CompanyCode":"00001"}]}}
 [DEBUG] 2017-12-29 15:45:49,165 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:45:49,169 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 15:45:49,170 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:49,170 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:45:49,172 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:45:49,173 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:45:49,239 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:45:49,239 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:45:49,240 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:45:49,240 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:45:49,241 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:45:49,240 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:45:49,241 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:45:49,242 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:45:49,243 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:45:49,245 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:45:49,246 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:45:49,247 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:45:49,247 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:45:49,247 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:45:49,248 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:45:49,248 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:45:49,248 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:45:49,249 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:45:49,249 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:45:49,249 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:45:49,250 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:45:49,252 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:45:49,315 Line:689 通过SQL读原始数据：75
 [DEBUG] 2017-12-29 15:45:49,315 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:45:49,316 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:45:49,316 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:45:49,316 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:45:49,319 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:45:49,319 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:45:49,319 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:45:49,320 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:45:49,321 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:45:49,322 Line:689 通过SQL读原始数据：82
 [DEBUG] 2017-12-29 15:45:49,324 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:45:49,324 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:45:49,336 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:46:19,080 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:46:19,083 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 15:46:19,084 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:46:19,228 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:46:19,229 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:46:19,230 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:46:19,231 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:46:19,233 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:46:19,234 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:46:19,235 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:46:19,236 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:46:19,237 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:46:19,238 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:46:19,240 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:46:19,241 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:46:19,242 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:46:19,244 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:46:19,245 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:46:19,246 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:46:19,247 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:46:19,248 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:46:19,248 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:46:19,476 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:46:19,478 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:46:19,479 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:19,480 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:19,481 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:46:19,482 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:19,483 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:46:19,484 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:46:19,487 Line:689 通过SQL读原始数据：258
 [DEBUG] 2017-12-29 15:46:19,490 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 15:46:19,536 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:46:28,248 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:46:28,249 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-29 15:46:28,250 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:46:28,314 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:46:28,315 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:46:28,315 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:46:28,315 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:46:28,316 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:46:28,316 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:46:28,317 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-29 15:46:28,317 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:46:28,318 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:46:28,318 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:46:28,319 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:46:28,319 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:46:28,320 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:46:28,321 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:46:28,322 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:46:28,322 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:46:28,323 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:46:28,323 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:46:28,324 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:46:28,414 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:46:28,414 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:46:28,414 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:28,415 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:28,415 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:46:28,415 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:28,415 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:46:28,415 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:46:28,416 Line:689 通过SQL读原始数据：101
 [DEBUG] 2017-12-29 15:46:28,416 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:46:28,420 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:46:34,537 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:46:34,545 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 15:46:34,546 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:46:34,583 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:46:34,585 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:46:34,585 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:46:34,586 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:46:34,586 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:46:34,589 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:46:34,589 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:46:34,590 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:46:34,591 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:46:34,591 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:46:34,592 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:46:34,592 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:46:34,592 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:46:34,594 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:46:34,594 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:46:34,594 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:46:34,594 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:46:34,596 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:46:34,596 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:46:34,637 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:46:34,638 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:46:34,638 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:34,639 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:34,640 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:46:34,641 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:46:34,641 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:46:34,641 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:46:34,642 Line:689 通过SQL读原始数据：57
 [DEBUG] 2017-12-29 15:46:34,642 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:46:34,651 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:47:56,949 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:47:56,950 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2017-12-29 15:47:56,952 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:47:57,056 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:47:57,059 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:47:57,060 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:47:57,061 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:47:57,062 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:47:57,063 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:47:57,064 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2017-12-29 15:47:57,064 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:47:57,065 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:47:57,066 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:47:57,066 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:47:57,067 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:47:57,068 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:47:57,069 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:47:57,070 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:47:57,071 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:47:57,072 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:47:57,073 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:47:57,074 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:47:57,282 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:47:57,283 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:47:57,284 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:47:57,285 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:47:57,287 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:47:57,287 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:47:57,288 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:47:57,289 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:47:57,294 Line:689 通过SQL读原始数据：235
 [DEBUG] 2017-12-29 15:47:57,297 Line:1391 整理数据：2
 [DEBUG] 2017-12-29 15:47:57,361 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:48:11,564 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:48:11,567 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[00001,];
 [DEBUG] 2017-12-29 15:48:11,569 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:48:11,611 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:48:11,612 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:48:11,613 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:48:11,613 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:48:11,614 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:48:11,615 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:48:11,616 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:48:11,617 Line:582 ReportDataMgt.getReportData 参数7:00001
 [DEBUG] 2017-12-29 15:48:11,618 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:48:11,619 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:48:11,620 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:48:11,621 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:48:11,622 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:48:11,622 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:48:11,623 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:48:11,624 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:48:11,625 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:48:11,626 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:48:11,627 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:48:11,754 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:48:11,755 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:48:11,756 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:48:11,757 Line:587 ReportDataMgt.getReportData warn  and ( b.StockCode like '00001'+'%' )
 [DEBUG] 2017-12-29 15:48:11,757 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:48:11,758 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:48:11,759 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:48:11,759 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and ( b.StockCode like '00001'+'%' ) union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and ( b.StockCode like '00001'+'%' ) union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and ( b.StockCode like '00001'+'%' )) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:48:11,761 Line:689 通过SQL读原始数据：149
 [DEBUG] 2017-12-29 15:48:11,762 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:48:11,779 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode","00001"],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","f等等！
 [DEBUG] 2017-12-29 15:48:19,820 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-29 15:48:19,824 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-29 15:48:19,825 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:48:19,874 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-29 15:48:19,874 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-29 15:48:19,874 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-29 15:48:19,875 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-29 15:48:19,875 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-29 15:48:19,875 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-29 15:48:19,876 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-29 15:48:19,877 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-29 15:48:19,877 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-29 15:48:19,877 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-29 15:48:19,877 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-29 15:48:19,877 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-29 15:48:19,878 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-29 15:48:19,878 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-29 15:48:19,879 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-29 15:48:19,879 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-29 15:48:19,881 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-29 15:48:19,881 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-29 15:48:19,881 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-29 15:48:19,924 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-29 15:48:19,925 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-29 15:48:19,925 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:48:19,925 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:48:19,926 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-29 15:48:19,926 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-29 15:48:19,926 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-29 15:48:19,926 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-29 15:48:19,927 Line:689 通过SQL读原始数据：53
 [DEBUG] 2017-12-29 15:48:19,928 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:48:19,941 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-29 15:48:30,892 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=LeavebillType
 [DEBUG] 2017-12-29 15:48:30,892 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 15:48:30,892 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[LeavebillType,];
 [DEBUG] 2017-12-29 15:48:30,893 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 15:48:30,894 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:48:30,895 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:48:30,896 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"调休","value":"3"},{"name":"休假","value":"4"},{"name":"婚假","value":"5"},{"name":"产假","value":"6"},{"name":"年假","value":"7"},{"name":"其他","value":"8"}]}
 [ERROR] 2017-12-29 15:48:30,898 Line:2116 MobileAjax.addPrepare Error:
 java.lang.Exception: 工作流设计为空，可能原因，启用工作流，但未正确设计流程
	at com.menyi.aio.dyndb.DynDBManager.getMainFieldList(DynDBManager.java:368)
	at com.menyi.aio.web.mobile.AIOApi.addPrepare(AIOApi.java:2083)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:271)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2017-12-29 15:48:30,900 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"ERROR","msg":"执行错误：工作流设计为空，可能原因，启用工作流，但未正确设计流程"}
 [DEBUG] 2017-12-29 15:49:50,765 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:49:50,767 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:49:50,768 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:49:50,882 Line:2395 取总页数时间34
 [DEBUG] 2017-12-29 15:49:50,883 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:49:50,905 Line:689 通过SQL读原始数据：22
 [DEBUG] 2017-12-29 15:49:50,906 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:49:50,909 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:49:54,191 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:49:54,193 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[1,];src=[menu,];
 [DEBUG] 2017-12-29 15:49:54,194 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:49:54,221 Line:2395 取总页数时间2
 [DEBUG] 2017-12-29 15:49:54,222 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 2 order by row_id
 [DEBUG] 2017-12-29 15:49:54,253 Line:689 通过SQL读原始数据：29
 [DEBUG] 2017-12-29 15:49:54,254 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:49:54,257 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:49:54,309 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 15:49:54,313 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblOutAttendance,];
 [DEBUG] 2017-12-29 15:49:54,314 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:49:54,342 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"f_brother":"","tableName":"tblOutAttendance"},"childTableList":[],"fieldList":[{"id":"52567310_1701181445427860125","tableName":"tblOutAttendance","fieldName":"checkPersons","isNull":0,"fieldType":2,"maxLength":8000,"width":0,"inputType":100,"inputTypeOld":0,"digits":0,"udType":0,"display":"checkPersons"},{"id":"5256等等！
 [DEBUG] 2017-12-29 15:50:27,998 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:50:28,001 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:50:28,001 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:50:28,032 Line:2395 取总页数时间2
 [DEBUG] 2017-12-29 15:50:28,033 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:50:28,037 Line:689 通过SQL读原始数据：3
 [DEBUG] 2017-12-29 15:50:28,038 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:50:28,042 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:50:49,615 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 15:50:49,618 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 15:50:49,619 Line:243 AIOApi op=myworkflow&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:50:49,715 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 15:50:49,717 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"2cf86be0_1712291545440450016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"15:45","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2017-12-29 15:50:52,307 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:50:52,308 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:50:52,310 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:50:52,491 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:50:52,515 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:50:52,960 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:51:00,331 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:51:00,332 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:51:00,334 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:51:00,355 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:51:00,366 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:51:00,587 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:53:08,284 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=2
 [DEBUG] 2017-12-29 15:53:08,285 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-29 15:53:08,286 Line:215 ---------->SET Page 2 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:53:08,328 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-29 15:53:08,330 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-29 15:53:08,330 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2017-12-29 15:53:08,464 Line:689 通过SQL读原始数据：135
 [DEBUG] 2017-12-29 15:53:08,465 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:53:08,710 Line:5227 GlobalsTool.js 生成js 时间155:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2017-12-29 15:53:10,869 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=2cf86be0_1712291545440450016&moduleType=&f_brother=&operation=5&winCurIndex=2&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 15:53:10,870 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[2,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 15:53:10,871 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:53:10,939 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:53:13,504 Line:5227 GlobalsTool.js 生成js 时间2393:/js/gen/define.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2017-12-29 15:53:19,316 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileUpload
 [DEBUG] 2017-12-29 15:53:19,318 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileUpload,];
 [DEBUG] 2017-12-29 15:53:23,866 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=2cf86be0_1712291545440450016&moduleType=&f_brother=&operation=5&winCurIndex=2&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 15:53:23,867 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[2,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 15:53:23,868 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:53:23,877 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:53:34,111 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 15:53:34,112 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 15:53:34,112 Line:243 AIOApi op=myworkflow&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:34,153 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 15:53:34,155 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"2cf86be0_1712291545440450016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"15:45","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2017-12-29 15:53:35,848 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 15:53:35,851 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 15:53:35,853 Line:243 AIOApi op=getSessEmp&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:35,855 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 15:53:35,892 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 15:53:35,893 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 15:53:35,894 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:35,896 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 15:53:43,843 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:53:43,844 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2017-12-29 15:53:43,845 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:43,845 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:53:43,861 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"主管审核","value":"1513322741341"},{"label":"财务审核","value":"1513322743692"}]}}
 [DEBUG] 2017-12-29 15:53:45,358 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:53:45,360 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:53:45,361 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:45,403 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:53:45,405 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:53:45,406 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:53:45,567 Line:689 通过SQL读原始数据：162
 [DEBUG] 2017-12-29 15:53:45,571 Line:1391 整理数据：3
 [DEBUG] 2017-12-29 15:53:45,581 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:53:47,157 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:53:47,158 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[2,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:53:47,159 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:47,180 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 11 and 21 order by row_id
 [DEBUG] 2017-12-29 15:53:47,181 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:53:47,181 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:53:47,243 Line:689 通过SQL读原始数据：62
 [DEBUG] 2017-12-29 15:53:47,279 Line:1391 整理数据：35
 [DEBUG] 2017-12-29 15:53:47,283 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:53:47,377 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:53:47,378 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:53:47,378 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:47,385 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:53:47,393 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:53:47,656 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:53:47,689 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:53:47,690 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_getClientInfo,];pageNo=[1,];pageSize=[10,];CompanyCode=[00001,];
 [DEBUG] 2017-12-29 15:53:47,691 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:47,692 Line:3434 DynDBManager.popSelect selectName=model_getClientInfo; sql=select *  from (select tblCompany.classCode f1 ,tblCompany.ComFullName f2 
,ROW_NUMBER() over( order by tblCompany.classCode) as row_id from  tblCompany as  tblCompany 
where  tblCompany.classCode= '00001') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-29 15:53:47,699 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"ComFullName":"包盛","CompanyCode":"00001"}]}}
 [DEBUG] 2017-12-29 15:53:49,702 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-29 15:53:49,703 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-29T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-29 15:53:49,704 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:49,728 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:53:49,728 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-29 15:53:49,729 Line:582 ReportDataMgt.getReportData 参数2:2017-12-29T16:00:00.000Z
 [DEBUG] 2017-12-29 15:53:49,731 Line:689 通过SQL读原始数据：3
 [DEBUG] 2017-12-29 15:53:49,734 Line:1391 整理数据：1
 [DEBUG] 2017-12-29 15:53:49,740 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-29T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-29 15:53:56,449 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:53:56,450 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:53:56,452 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:53:56,459 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:53:56,466 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:53:56,724 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:54:35,234 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:54:35,235 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:54:35,235 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:54:35,326 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:54:35,336 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:54:35,516 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:56:19,276 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:56:19,277 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:56:19,281 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:56:19,282 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:56:19,284 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:56:19,285 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:56:19,376 Line:2395 取总页数时间21
 [DEBUG] 2017-12-29 15:56:19,376 Line:2395 取总页数时间20
 [DEBUG] 2017-12-29 15:56:19,376 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:56:19,377 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:56:19,400 Line:689 通过SQL读原始数据：22
 [DEBUG] 2017-12-29 15:56:19,401 Line:689 通过SQL读原始数据：23
 [DEBUG] 2017-12-29 15:56:19,402 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:56:19,403 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:56:19,405 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:56:19,406 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:56:21,700 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:56:21,701 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[1,];src=[menu,];
 [DEBUG] 2017-12-29 15:56:21,701 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:56:21,715 Line:2395 取总页数时间1
 [DEBUG] 2017-12-29 15:56:21,716 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 2 order by row_id
 [DEBUG] 2017-12-29 15:56:21,727 Line:689 通过SQL读原始数据：11
 [DEBUG] 2017-12-29 15:56:21,727 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:56:21,728 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:56:22,200 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 15:56:22,202 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblOutAttendance,];
 [DEBUG] 2017-12-29 15:56:22,203 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:56:22,218 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=tblOutAttendanceType
 [DEBUG] 2017-12-29 15:56:22,221 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[tblOutAttendanceType,];
 [DEBUG] 2017-12-29 15:56:22,222 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:56:22,242 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"约谈需求","value":"1"},{"name":"回访","value":"2"},{"name":"协助上线","value":"3"},{"name":"收款","value":"4"},{"name":"续签合同","value":"5"},{"name":"外派","value":"6"},{"name":"测试","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2017-12-29 15:56:22,262 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"f_brother":"","tableName":"tblOutAttendance"},"childTableList":[],"fieldList":[{"id":"52567310_1701181445427860125","tableName":"tblOutAttendance","fieldName":"checkPersons","isNull":0,"fieldType":2,"maxLength":8000,"width":0,"inputType":100,"inputTypeOld":0,"digits":0,"udType":0,"display":"checkPersons"},{"id":"5256等等！
 [DEBUG] 2017-12-29 15:58:02,844 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2017-12-29 15:58:02,846 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2017-12-29 15:58:02,847 Line:243 AIOApi op=report&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:58:02,949 Line:2395 取总页数时间12
 [DEBUG] 2017-12-29 15:58:02,950 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-29 15:58:02,973 Line:689 通过SQL读原始数据：21
 [DEBUG] 2017-12-29 15:58:02,974 Line:1391 整理数据：0
 [DEBUG] 2017-12-29 15:58:02,976 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2017-12-29 15:59:03,186 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=LeavebillType
 [DEBUG] 2017-12-29 15:59:03,189 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[LeavebillType,];
 [DEBUG] 2017-12-29 15:59:03,190 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:59:03,192 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 15:59:03,194 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"调休","value":"3"},{"name":"休假","value":"4"},{"name":"婚假","value":"5"},{"name":"产假","value":"6"},{"name":"年假","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2017-12-29 15:59:03,195 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 15:59:03,196 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [ERROR] 2017-12-29 15:59:03,201 Line:2116 MobileAjax.addPrepare Error:
 java.lang.Exception: 工作流设计为空，可能原因，启用工作流，但未正确设计流程
	at com.menyi.aio.dyndb.DynDBManager.getMainFieldList(DynDBManager.java:368)
	at com.menyi.aio.web.mobile.AIOApi.addPrepare(AIOApi.java:2083)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:271)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2017-12-29 15:59:03,204 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"ERROR","msg":"执行错误：工作流设计为空，可能原因，启用工作流，但未正确设计流程"}
 [DEBUG] 2017-12-29 15:59:48,107 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 15:59:48,108 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-29 15:59:48,109 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:59:48,184 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-29 15:59:48,191 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-29 15:59:48,334 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-29 15:59:59,605 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 15:59:59,606 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2017-12-29 15:59:59,607 Line:243 AIOApi op=popup&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 15:59:59,609 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2017-12-29 15:59:59,636 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"admin","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"","tblEmployee_TitleID":"","EmployeeID":"1","tblEmployee_EmpFullName":"admin","tblEmployee_Mobile":""}]}}
 [DEBUG] 2017-12-29 16:00:05,599 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=LeavebillType
 [DEBUG] 2017-12-29 16:00:05,600 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[LeavebillType,];
 [DEBUG] 2017-12-29 16:00:05,600 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:00:05,601 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"调休","value":"3"},{"name":"休假","value":"4"},{"name":"婚假","value":"5"},{"name":"产假","value":"6"},{"name":"年假","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2017-12-29 16:00:05,609 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:00:05,610 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 16:00:05,611 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [ERROR] 2017-12-29 16:00:05,612 Line:2116 MobileAjax.addPrepare Error:
 java.lang.Exception: 工作流设计为空，可能原因，启用工作流，但未正确设计流程
	at com.menyi.aio.dyndb.DynDBManager.getMainFieldList(DynDBManager.java:368)
	at com.menyi.aio.web.mobile.AIOApi.addPrepare(AIOApi.java:2083)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:271)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2017-12-29 16:00:05,613 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"ERROR","msg":"执行错误：工作流设计为空，可能原因，启用工作流，但未正确设计流程"}
 [DEBUG] 2017-12-29 16:00:34,042 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 16:00:34,042 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 16:00:34,043 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:00:34,178 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 16:00:34,179 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 16:00:34,191 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 16:00:34,191 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:00:34,191 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:00:34,207 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 16:00:34,208 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:00:34,208 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:00:34,218 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 16:00:34,219 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:00:34,219 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:00:34,226 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 16:00:34,227 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:00:34,227 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:00:36,409 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 16:00:36,410 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 16:00:36,410 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-12-29 16:00:37,445 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-12-29 16:00:37,445 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-12-29 16:01:09,579 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=2
 [DEBUG] 2017-12-29 16:01:09,579 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-29 16:01:09,580 Line:215 ---------->SET Page 2 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2017-12-29 16:01:09,610 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2017-12-29 16:01:09,612 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:01:09,614 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:01:09,615 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:01:09,624 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:01:32,029 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=5b4834c4_1502051046244373380&winCurIndex=&selectType=status&val=1&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:01:32,030 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[5b4834c4_1502051046244373380,];winCurIndex=[,];selectType=[status,status,];val=[1,1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:01:37,463 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:01:37,465 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,,,,,,,,,,,,];popedomDeptIds=[,,,];EmpGroupId=[,,,,,,,,,,,,];monitorDeptIds=[,];monitorUserIds=[87bae87d_1701051622476112354,,];empTitleIds=[,,,,,,,,,,,,,,,,,,,,,,,];tableName=[OALeaveBill,];tableCHName=[请假单V1.0,];moduleType=[sys,];flag=[true,];designType=[,];templateFile=[OALeaveBill,];workFlowFile=[5b4834c4_1502051046244373380.xml,];id=[5b4834c4_1502051046244373380,];fromPage=[,];templateName=[请假单V1.0,];templateClass=[0000200001,];templateStatus=[0,];flowOrder=[3,];titleTemp=[[姓名]由于[请假事由]需从[开始时间]至[结束时间]请假,];filetitleTemp=[[姓名]由于[请假事由]需从[开始时间]至[结束时间]请假,];fileContent=[duty,];fileContentDisplay=[职务,];userType=[1,];nextWake=[4,];setWake=[4,];setWakeDept=[,];setWakePer=[,];stopStartWake=[4,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];detail=[,];
 [ERROR] 2017-12-29 16:01:37,512 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,513 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,514 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,515 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,516 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,518 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,519 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,521 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,522 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,523 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,557 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,597 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,639 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,682 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,683 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,685 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,686 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,701 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,702 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,703 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,704 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,705 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,706 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,721 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,738 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,739 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,740 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,741 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,743 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,744 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,865 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,867 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,869 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,924 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,937 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,961 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,962 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,964 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:01:37,975 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:01:39,439 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=5b4834c4_1502051046244373380&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=
 [DEBUG] 2017-12-29 16:01:39,440 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[5b4834c4_1502051046244373380,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[,];
 [DEBUG] 2017-12-29 16:01:49,553 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=3
 [DEBUG] 2017-12-29 16:01:49,554 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-12-29 16:01:49,554 Line:215 ---------->SET Page 3 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2017-12-29 16:01:49,573 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2017-12-29 16:01:49,574 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:01:49,575 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:01:49,575 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:01:49,576 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:01:57,777 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071533507960004&winCurIndex=&selectType=status&val=1&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:01:57,777 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071533507960004,];winCurIndex=[,];selectType=[status,status,];val=[1,1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:01,983 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:02:01,983 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[FlowNqingjiashenqing,];tableCHName=[请假申请,];moduleType=[sys,];flag=[true,];designType=[2,];templateFile=[FlowNqingjiashenqing,];workFlowFile=[,];id=[60fac1d3_1604071533507960004,];fromPage=[,];templateName=[请假申请,];templateClass=[0000200001,];templateStatus=[0,];flowOrder=[0,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];userType=[0,];nextWake=[4,];setWakeDept=[,];setWakePer=[,];overTimeWake=[4,];stopStartWake=[4,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];detail=[,];
 [ERROR] 2017-12-29 16:02:02,015 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,016 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,017 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,018 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,018 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,019 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,020 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,020 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,021 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,022 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,036 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,045 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,054 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,079 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,081 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,100 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,101 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,101 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,102 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,103 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,104 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,114 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,127 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,128 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,129 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,131 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,132 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,133 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,162 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,188 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,201 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,225 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,227 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:02,240 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:02:03,703 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071533507960004&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=
 [DEBUG] 2017-12-29 16:02:03,704 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071533507960004,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[,];
 [DEBUG] 2017-12-29 16:02:13,207 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:02:13,207 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistTable=[true,];tableName=[FlowNqingjiashenqing,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:13,211 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=BillNotFinish&keyId=60fac1d3_1604071533507960004&time=1514534533209
 [DEBUG] 2017-12-29 16:02:13,211 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[BillNotFinish,];keyId=[60fac1d3_1604071533507960004,];time=[1514534533209,];
 [DEBUG] 2017-12-29 16:02:13,268 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?queryType=design&keyId=60fac1d3_1604071533507960004&ip=localhost:8888&workFileName=60fac1d3_1604071533507960004.xml&tableName=FlowNqingjiashenqing&newCreate=false&moduleType=sys
 [DEBUG] 2017-12-29 16:02:13,269 Line:146 BaseAction.execute 操作人:admin;请求数据：queryType=[design,];keyId=[60fac1d3_1604071533507960004,];ip=[localhost:8888,];workFileName=[60fac1d3_1604071533507960004.xml,];tableName=[FlowNqingjiashenqing,];newCreate=[false,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:13,928 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileFlow
 [DEBUG] 2017-12-29 16:02:13,929 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileFlow,];
 [DEBUG] 2017-12-29 16:02:14,039 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getWorkFlowFile&fileName=60fac1d3_1604071533507960004.xml&importFile=
 [DEBUG] 2017-12-29 16:02:14,039 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getWorkFlowFile,];fileName=[60fac1d3_1604071533507960004.xml,];importFile=[,];
 [DEBUG] 2017-12-29 16:02:19,072 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:02:19,072 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistFile=[true,];fileName=[60fac1d3_1604071533507960004,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:20,988 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTML&designId=60fac1d3_1604071533507960004&tableName=FlowNqingjiashenqing&tableCHName=%E8%AF%B7%E5%81%87%E7%94%B3%E8%AF%B7&type=simple
 [DEBUG] 2017-12-29 16:02:20,989 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTML,];designId=[60fac1d3_1604071533507960004,];tableName=[FlowNqingjiashenqing,];tableCHName=[è?・??????è?・,];type=[simple,];
 [DEBUG] 2017-12-29 16:02:21,496 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTMLData&tableName=FlowNqingjiashenqing
 [DEBUG] 2017-12-29 16:02:21,496 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTMLData,];tableName=[FlowNqingjiashenqing,];
 [DEBUG] 2017-12-29 16:02:39,872 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:02:39,872 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[FlowNqingjiashenqing,];tableCHName=[请假申请,];moduleType=[sys,];flag=[true,];designType=[2,];templateFile=[FlowNqingjiashenqing,];workFlowFile=[60fac1d3_1604071533507960004,];id=[60fac1d3_1604071533507960004,];fromPage=[,];templateName=[请假申请,];templateClass=[0000200001,];templateStatus=[0,];flowOrder=[0,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];userType=[0,];nextWake=[4,];setWakeDept=[,];setWakePer=[,];overTimeWake=[4,];stopStartWake=[4,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];detail=[,];
 [ERROR] 2017-12-29 16:02:39,889 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,890 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,891 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,893 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,895 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,896 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,897 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,899 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,900 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,903 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,911 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,920 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,928 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,952 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,954 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,955 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,956 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,972 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,973 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,974 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,975 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,976 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,977 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,985 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,995 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,996 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,998 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:39,999 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,016 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,016 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,017 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,038 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,053 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,070 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,071 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,072 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:40,084 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:02:41,556 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071533507960004&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=
 [DEBUG] 2017-12-29 16:02:41,557 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071533507960004,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[,];
 [DEBUG] 2017-12-29 16:02:44,602 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=4
 [DEBUG] 2017-12-29 16:02:44,602 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[4,];
 [DEBUG] 2017-12-29 16:02:44,602 Line:215 ---------->SET Page 4 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2017-12-29 16:02:44,620 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2017-12-29 16:02:44,621 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:44,622 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:02:44,623 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:44,623 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:02:47,214 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:02:47,214 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:47,215 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:02:54,018 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071630458950219&winCurIndex=&selectType=status&val=1&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:02:54,018 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071630458950219,];winCurIndex=[,];selectType=[status,status,];val=[1,1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:02:57,161 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:02:57,162 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[FlowNwaichushenqing,];tableCHName=[外出申请,];moduleType=[sys,];flag=[true,];designType=[2,];templateFile=[FlowNwaichushenqing,];workFlowFile=[,];id=[60fac1d3_1604071630458950219,];fromPage=[,];templateName=[外出申请,];templateClass=[0000200001,];templateStatus=[0,];flowOrder=[0,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];userType=[0,];nextWake=[4,];setWakeDept=[,];setWakePer=[,];overTimeWake=[4,];stopStartWake=[4,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];detail=[,];
 [ERROR] 2017-12-29 16:02:57,201 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,202 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,203 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,204 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,204 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,205 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,206 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,206 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,207 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,208 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,221 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,227 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,237 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,263 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,264 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,265 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,265 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,281 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,282 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,283 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,284 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,285 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,285 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,293 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,309 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,311 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,311 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,312 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,314 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,316 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,350 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,351 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,352 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,374 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,384 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,400 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,401 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,401 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:02:57,410 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:02:58,873 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071630458950219&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=
 [DEBUG] 2017-12-29 16:02:58,875 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071630458950219,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[,];
 [DEBUG] 2017-12-29 16:03:02,495 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&winCurIndex=&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:03:02,496 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];winCurIndex=[,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:03:02,496 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:03:04,080 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&winCurIndex=&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:03:04,080 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];winCurIndex=[,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:03:04,080 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:03:14,239 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071553432720088&winCurIndex=&selectType=status&val=1&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:03:14,240 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071553432720088,];winCurIndex=[,];selectType=[status,status,];val=[1,1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:03:18,193 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:03:18,194 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[FlowNfeiyongbaoxiao,];tableCHName=[费用报销,];moduleType=[sys,];flag=[true,];designType=[2,];templateFile=[FlowNfeiyongbaoxiao,];workFlowFile=[,];id=[60fac1d3_1604071553432720088,];fromPage=[,];templateName=[费用报销,];templateClass=[0000200002,];templateStatus=[0,];flowOrder=[0,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];userType=[0,];nextWake=[4,];setWakeDept=[,];setWakePer=[,];overTimeWake=[4,];stopStartWake=[4,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];detail=[,];
 [ERROR] 2017-12-29 16:03:18,218 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,219 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,220 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,221 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,221 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,223 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,226 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,227 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,227 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,239 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,249 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,257 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,281 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,282 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,283 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,284 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,301 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,302 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,303 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,304 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,305 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,305 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,316 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,330 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,331 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,332 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,332 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,333 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,334 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,357 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,359 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,361 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,382 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,394 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,412 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,414 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,417 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:03:18,431 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:03:19,893 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=60fac1d3_1604071553432720088&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=
 [DEBUG] 2017-12-29 16:03:19,895 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[60fac1d3_1604071553432720088,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[,];
 [DEBUG] 2017-12-29 16:03:22,647 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&winCurIndex=&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:03:22,648 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];winCurIndex=[,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:03:22,648 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:03:24,159 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&winCurIndex=&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:03:24,159 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];winCurIndex=[,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:03:24,159 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:03:36,369 Line:135 BaseAction.execute 请求地址：/OAWorkFlowCreateAction.do?operation=4&src=menu&winCurIndex=5
 [DEBUG] 2017-12-29 16:03:36,370 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];src=[menu,];winCurIndex=[5,];
 [DEBUG] 2017-12-29 16:03:36,370 Line:215 ---------->SET Page 5 DEFAULT URL = /OAWorkFlowCreateAction.do?operation=4
 [DEBUG] 2017-12-29 16:03:36,370 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:03:40,987 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=FlowNwaichushenqingdan2&src=menu&operation=6&designId=d7068534_1712271733359840128&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:03:40,988 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNwaichushenqingdan2,];src=[menu,];operation=[6,];designId=[d7068534_1712271733359840128,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:03:40,989 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=FlowNwaichushenqingdan2
 [DEBUG] 2017-12-29 16:03:41,649 Line:5227 GlobalsTool.js 生成js 时间623:/js/gen/define.vjsFlowNwaichushenqingdan2_zh_CN.js
 [DEBUG] 2017-12-29 16:03:44,682 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=FlowNwaichushenqingdan2&src=menu&operation=6&designId=d7068534_1712271733359840128&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:03:44,684 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNwaichushenqingdan2,];src=[menu,];operation=[6,];designId=[d7068534_1712271733359840128,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:03:44,685 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=FlowNwaichushenqingdan2
 [DEBUG] 2017-12-29 16:03:50,203 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblexpenseaccount&src=menu&operation=6&designId=991f3893_1601041454545821750&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:03:50,203 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblexpenseaccount,];src=[menu,];operation=[6,];designId=[991f3893_1601041454545821750,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:03:50,204 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblexpenseaccount
 [DEBUG] 2017-12-29 16:03:50,905 Line:5227 GlobalsTool.js 生成js 时间652:/js/gen/define.vjstblexpenseaccount_zh_CN.js
 [DEBUG] 2017-12-29 16:03:59,275 Line:135 BaseAction.execute 请求地址：/WorkFlowTableAction.do?operation=7&designId=d7068534_1712271714503740050&keyId=FlowNqingjiadan2&type=simple
 [DEBUG] 2017-12-29 16:03:59,275 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];designId=[d7068534_1712271714503740050,];keyId=[FlowNqingjiadan2,];type=[simple,];
 [DEBUG] 2017-12-29 16:04:09,794 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=d7068534_1712271714503740050&winCurIndex=&selectType=status&val=1&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:04:09,794 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[d7068534_1712271714503740050,];winCurIndex=[,];selectType=[status,status,];val=[1,1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:04:12,545 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTML&designId=d7068534_1712271714503740050&tableName=FlowNqingjiadan2&tableCHName=%E8%AF%B7%E5%81%87%E5%8D%95&type=simple
 [DEBUG] 2017-12-29 16:04:12,545 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTML,];designId=[d7068534_1712271714503740050,];tableName=[FlowNqingjiadan2,];tableCHName=[è?・??????,];type=[simple,];
 [DEBUG] 2017-12-29 16:04:12,835 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTMLData&tableName=FlowNqingjiadan2
 [DEBUG] 2017-12-29 16:04:12,835 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTMLData,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 16:04:18,847 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do
 [DEBUG] 2017-12-29 16:04:18,847 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];tableName=[FlowNqingjiadan2,];tableCHName=[请假单,];designId=[d7068534_1712271714503740050,];fieldStr=[,];newfieldStr=[,];layOutHtml=[<style type="text/css">p{margin:0px}</style>
<table width="575" height="323" border="1">
    <tbody>
        <tr>
            <td height="57" colspan="4" style="text-align: center;"><span style="font-size: x-large;">&nbsp;请假申请单</span></td>
        </tr>
        <tr>
            <td width="90" height="30" style="text-align: center;"><span style="text-align: start;">申请日期</span></td>
            <td width="151">&nbsp;<input type="text" title="申请日期" inputtype="AIOText" fname="BillDate" readonly="readonly" style="width: 120px; height: 25px;"></td>
            <td width="105" style="text-align: center;">&nbsp;</td>
            <td width="201">&nbsp;</td>
        </tr>
        <tr>
            <td height="30" style="text-align: center;"><span style="font-family: Verdana;"><span style="font-size: large;"></span></span><span style="text-align: start;">申请人</span></td>
            <td>&nbsp;<input type="text" title="申请人" inputtype="AIOText" fname="tblEmployee_EmpFullName" readonly="readonly" style="width: 110px; height: 25px;"></td>
            <td style="text-align: center;"><span style="text-align: start;">申请部门</span></td>
            <td>&nbsp;<input type="text" title="申请部门" inputtype="AIOText" fname="tblDepartment_DeptFullName" readonly="readonly" style="width: 120px; height: 25px;"></td>
        </tr>
        <tr>
            <td height="30" colspan="4">请假类别：<select title="请假类别" inputtype="AIOSelect" fname="leavetnpe" style="width: 75px; height: 23px;"><option value="">请假类别</option><option></option></select></td>
        </tr>
        <tr>
            <td height="30" colspan="4">请假时间： 从 &nbsp;<input type="text" title="开始请假时间" inputtype="AIOText" fname="startime" readonly="readonly" style="width: 110px; height: 25px;">&nbsp; &nbsp;至 &nbsp;<input type="text" title="结束请假时间" inputtype="AIOText" fname="endtime" readonly="readonly" style="width: 110px; height: 25px;">&nbsp;共&nbsp;<input type="text" title="请假时长" inputtype="AIOText" fname="leavetime" readonly="readonly" style="width: 35px; height: 25px;">          &nbsp;小时</td>
        </tr>
        <tr>
            <td height="120" colspan="4">请假事由：<br><textarea title="请假事由" inputtype="AIOTextarea" readonly="readonly" fname="leavereason" style="width: 500px; height: 85px;"></textarea><br>
               <br type="_moz"></td>
        </tr>
        <tr>
            <td height="30" colspan="4">&nbsp;回岗时间：<input type="text" title="回岗时间" inputtype="AIOText" fname="bancktime" readonly="readonly" style="width: 120px; height: 25px;"></td>
        </tr>
        <tr>
            <td height="40" colspan="4">备注：请假天数为1天(含)以内的，由部门经理直接批准；请假天数为1以上的，由部门经理审核，报公司领导批准。此表须交综合管理部备案。</td>
        </tr>
    </tbody>
</table>,];maxValue=[,];saveType=[save,];turnType=[layoutHTML,];curNum=[,];FCKeditor1=[<style type="text/css">p{margin:0px}</style>
<table width="575" height="323" border="1">
    <tbody>
        <tr>
            <td height="57" colspan="4" style="text-align: center;"><span style="font-size: x-large;">&nbsp;请假申请单</span></td>
        </tr>
        <tr>
            <td width="90" height="30" style="text-align: center;"><span style="text-align: start;">申请日期</span></td>
            <td width="151">&nbsp;<input type="text" title="申请日期" inputtype="AIOText" fname="BillDate" readonly="readonly" style="width: 120px; height: 25px;" /></td>
            <td width="105" style="text-align: center;">&nbsp;</td>
            <td width="201">&nbsp;</td>
        </tr>
        <tr>
            <td height="30" style="text-align: center;"><span style="text-align: start;">申请人</span></td>
            <td>&nbsp;<input type="text" title="申请人" inputtype="AIOText" fname="tblEmployee_EmpFullName" readonly="readonly" style="width: 110px; height: 25px;" /></td>
            <td style="text-align: center;"><span style="text-align: start;">申请部门</span></td>
            <td>&nbsp;<input type="text" title="申请部门" inputtype="AIOText" fname="tblDepartment_DeptFullName" readonly="readonly" style="width: 120px; height: 25px;" /></td>
        </tr>
        <tr>
            <td height="30" colspan="4">请假类别：<select title="请假类别" inputtype="AIOSelect" fname="leavetnpe" style="width: 75px; height: 23px;">
            <option value="">请假类别</option>
            <option></option>
            </select></td>
        </tr>
        <tr>
            <td height="30" colspan="4">请假时间： 从 &nbsp;<input type="text" title="开始请假时间" inputtype="AIOText" fname="startime" readonly="readonly" style="width: 110px; height: 25px;" />&nbsp; &nbsp;至 &nbsp;<input type="text" title="结束请假时间" inputtype="AIOText" fname="endtime" readonly="readonly" style="width: 110px; height: 25px;" />&nbsp;共&nbsp;<input type="text" title="请假时长" inputtype="AIOText" fname="leavetime" readonly="readonly" style="width: 35px; height: 25px;" />          &nbsp;小时</td>
        </tr>
        <tr>
            <td height="120" colspan="4">请假事由：<br />
            <textarea title="请假事由" inputtype="AIOTextarea" readonly="readonly" fname="leavereason" style="width: 500px; height: 85px;"></textarea><br />
            </td>
        </tr>
        <tr>
            <td height="30" colspan="4">&nbsp;回岗时间：<input type="text" title="回岗时间" inputtype="AIOText" fname="bancktime" readonly="readonly" style="width: 120px; height: 25px;" /></td>
        </tr>
        <tr>
            <td height="40" colspan="4">备注：请假天数为1天(含)以内的，由部门经理直接批准；请假天数为1以上的，由部门经理审核，报公司领导批准。此表须交综合管理部备案。</td>
        </tr>
    </tbody>
</table>,];
 [DEBUG] 2017-12-29 16:04:20,311 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTML&designId=d7068534_1712271714503740050&tableName=FlowNqingjiadan2&tableCHName=%E8%AF%B7%E5%81%87%E5%8D%95&type=simple&winCurIndex=null
 [DEBUG] 2017-12-29 16:04:20,312 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTML,];designId=[d7068534_1712271714503740050,];tableName=[FlowNqingjiadan2,];tableCHName=[è?・??????,];type=[simple,];winCurIndex=[null,];
 [DEBUG] 2017-12-29 16:04:20,571 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTMLData&tableName=FlowNqingjiadan2
 [DEBUG] 2017-12-29 16:04:20,573 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTMLData,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 16:04:26,249 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:04:26,249 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistTable=[true,];tableName=[FlowNqingjiadan2,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:04:26,253 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=BillNotFinish&keyId=d7068534_1712271714503740050&time=1514534666251
 [DEBUG] 2017-12-29 16:04:26,253 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[BillNotFinish,];keyId=[d7068534_1712271714503740050,];time=[1514534666251,];
 [DEBUG] 2017-12-29 16:04:26,301 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?queryType=design&keyId=d7068534_1712271714503740050&ip=localhost:8888&workFileName=d7068534_1712271714503740050.xml&tableName=FlowNqingjiadan2&newCreate=true&moduleType=sys
 [DEBUG] 2017-12-29 16:04:26,301 Line:146 BaseAction.execute 操作人:admin;请求数据：queryType=[design,];keyId=[d7068534_1712271714503740050,];ip=[localhost:8888,];workFileName=[d7068534_1712271714503740050.xml,];tableName=[FlowNqingjiadan2,];newCreate=[true,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:04:26,763 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileFlow
 [DEBUG] 2017-12-29 16:04:26,764 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileFlow,];
 [DEBUG] 2017-12-29 16:04:59,590 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&type=saveFlow&flowId=d7068534_1712271714503740050&moduleType=sys
 [DEBUG] 2017-12-29 16:04:59,591 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];type=[saveFlow,];flowId=[d7068534_1712271714503740050,];moduleType=[sys,];json=[[{"keyId":"0","zAction":"START","display":"开始","to":"1514534674612"},{"keyId":"1514534674612","zAction":"CHECK","display":"部门主管","autoSelectPeople":"2","to":"-1"},{"keyId":"-1","zAction":"STOP","display":"结束"}],];flowxml=[<FlowNodes>
  <FlowNodes>
    <flowNode id="0" zAction="START" display="开始" left="30" top="50" code="1514534666679" to="1514534674612"/>
    <flowNode zAction="CHECK" display="部门主管" allowBack="false" allowStop="false" allowJump="false" useAllApprove="false" timeLimit="" noteTime="" noteRate="" approvePeople="select" left="125.3" top="48.6" code="1514534674612" id="1514534674612" to="-1"/>
    <flowNode id="-1" zAction="STOP" display="结束" left="321.3" top="45.25" code="1514534676578"/>
  </FlowNodes>
  <Lines>
    <Line labelx="0" labely="0" from="0" to="1514534674612" fromCode="1514534666679" toCode="1514534674612" x1="0" y1="0" length1="0" isvertical1="false" arrowType1="none" x2="0" y2="0" length2="0" isvertical2="false" arrowType2="none" x3="67" y3="60" length3="58" isvertical3="false" arrowType3="right"/>
    <Line labelx="0" labely="0" from="1514534674612" to="-1" fromCode="1514534674612" toCode="1514534676578" x1="0" y1="0" length1="0" isvertical1="false" arrowType1="none" x2="0" y2="0" length2="0" isvertical2="false" arrowType2="none" x3="255" y3="55" length3="66" isvertical3="false" arrowType3="right"/>
  </Lines>
</FlowNodes>,];
 [DEBUG] 2017-12-29 16:05:00,843 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:05:00,843 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistFile=[true,];fileName=[d7068534_1712271714503740050,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:05:04,070 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2017-12-29 16:05:04,070 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[FlowNqingjiadan2,];tableCHName=[请假单,];moduleType=[sys,];flag=[true,];designType=[2,];templateFile=[FlowNqingjiadan2,];workFlowFile=[d7068534_1712271714503740050,];id=[d7068534_1712271714503740050,];fromPage=[,];templateName=[请假单,];templateClass=[0000200001,];templateStatus=[1,];flowOrder=[0,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];userType=[0,];nextWake=[4,];setWakeDept=[,];setWakePer=[,];overTimeWake=[4,];stopStartWake=[4,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];detail=[,];
 [ERROR] 2017-12-29 16:05:04,096 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,097 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,097 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,098 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,100 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,101 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,102 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,102 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,103 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,104 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,117 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,125 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,133 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,173 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,174 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,175 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,175 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,191 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,192 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,193 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,195 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,198 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,201 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,209 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,221 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,223 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,225 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,226 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,227 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,246 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,247 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,248 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,268 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,280 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,300 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,301 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,302 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:05:04,313 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:05:05,778 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=d7068534_1712271714503740050&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=
 [DEBUG] 2017-12-29 16:05:05,779 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[d7068534_1712271714503740050,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[,];
 [DEBUG] 2017-12-29 16:05:10,427 Line:135 BaseAction.execute 请求地址：/OAWorkFlowCreateAction.do?operation=4&src=menu&winCurIndex=6
 [DEBUG] 2017-12-29 16:05:10,427 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];src=[menu,];winCurIndex=[6,];
 [DEBUG] 2017-12-29 16:05:10,427 Line:215 ---------->SET Page 6 DEFAULT URL = /OAWorkFlowCreateAction.do?operation=4
 [DEBUG] 2017-12-29 16:05:10,428 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:05:12,832 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=FlowNqingjiadan2&src=menu&operation=6&designId=d7068534_1712271714503740050&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:05:12,833 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNqingjiadan2,];src=[menu,];operation=[6,];designId=[d7068534_1712271714503740050,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:05:12,834 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=FlowNqingjiadan2
 [DEBUG] 2017-12-29 16:05:13,410 Line:5227 GlobalsTool.js 生成js 时间553:/js/gen/define.vjsFlowNqingjiadan2_zh_CN.js
 [DEBUG] 2017-12-29 16:05:52,705 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 16:05:52,707 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 16:05:52,710 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:05:52,838 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 16:05:52,839 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 16:05:52,850 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 16:05:52,850 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:05:52,851 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:05:52,860 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 16:05:52,861 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:05:52,861 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:05:52,867 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 16:05:52,867 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:05:52,868 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:05:52,876 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 16:05:52,876 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:05:52,877 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:06:24,697 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-29 16:06:26,804 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 16:06:26,804 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 16:06:26,805 Line:243 AIOApi op=getSessEmp&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:06:26,806 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 16:06:26,896 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 16:06:26,896 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 16:06:26,897 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:06:26,900 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 16:06:29,884 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 16:06:29,885 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 16:06:29,885 Line:243 AIOApi op=getSessEmp&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:06:29,886 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 16:06:29,913 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 16:06:29,914 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 16:06:29,914 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:06:29,917 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 16:06:39,915 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=LeavebillType
 [DEBUG] 2017-12-29 16:06:39,916 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[LeavebillType,];
 [DEBUG] 2017-12-29 16:06:39,916 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:06:39,918 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:06:39,918 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"调休","value":"3"},{"name":"休假","value":"4"},{"name":"婚假","value":"5"},{"name":"产假","value":"6"},{"name":"年假","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2017-12-29 16:06:39,919 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 16:06:39,920 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:06:39,935 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNqingjiadan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271715161780058","tableName":"FlowNqingjiadan2","fieldName":"DepartmentCode","isNull":0,"defaultValue":"@Sess:DepartmentCode;@Sess:DepartmentName","等等！
 [DEBUG] 2017-12-29 16:07:08,085 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2017-12-29 16:07:08,085 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[FlowNqingjiadan2,];saveType=[,];values=[{"mark":"123","PF":"","due":"123","duty":"","tblEmployee.EmpFullName":"admin","EmployeeID":"1","DepartmentCode":"","Kstime":"2017-12-29 16:06:00","KstimeShowDate":"2017-12-29T08:06:00.000Z","Jstime":"2017-12-29 16:06:00","JstimeShowDate":"2017-12-29T08:06:00.000Z","LeavebillType":"1","Hhtime":"2017-12-29 16:06:00","HhtimeShowDate":"2017-12-29T08:06:00.000Z","qjtime":"1","_dtPickerFill":"","selectOption":[{"name":"请选择","value":""},{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"调休","value":"3"},{"name":"休假","value":"4"},{"name":"婚假","value":"5"},{"name":"产假","value":"6"},{"name":"年假","value":"7"},{"name":"其他","value":"8"}],"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"updateRight":false,"createByName":null,"createTime":null,"workFlowNode":null,"opType":"add"},];defineInfo=[,];
 [DEBUG] 2017-12-29 16:07:08,086 Line:243 AIOApi op=add&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:07:08,088 Line:5847  INSERT INTO  FlowNqingjiadan2(DepartmentCode,checkPersons,id,isCatalog,workFlowNode,workFlowNodeName,EmployeeID,duty,LeavebillType,due,Kstime,Jstime,PF,mark,Hhtime,qjtime,SCompanyID,statusId,printCount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 16:07:08,088 Line:5853 1:
 [DEBUG] 2017-12-29 16:07:08,089 Line:5853 2:;1;
 [DEBUG] 2017-12-29 16:07:08,089 Line:5853 3:2cf86be0_1712291607080870024
 [DEBUG] 2017-12-29 16:07:08,089 Line:5853 4:0
 [DEBUG] 2017-12-29 16:07:08,089 Line:5853 5:0
 [DEBUG] 2017-12-29 16:07:08,089 Line:5853 6:notApprove
 [DEBUG] 2017-12-29 16:07:08,090 Line:5853 7:1
 [DEBUG] 2017-12-29 16:07:08,090 Line:5853 8:
 [DEBUG] 2017-12-29 16:07:08,090 Line:5853 9:1
 [DEBUG] 2017-12-29 16:07:08,090 Line:5853 10:123
 [DEBUG] 2017-12-29 16:07:08,091 Line:5853 11:2017-12-29 16:06:00
 [DEBUG] 2017-12-29 16:07:08,092 Line:5853 12:2017-12-29 16:06:00
 [DEBUG] 2017-12-29 16:07:08,092 Line:5853 13:
 [DEBUG] 2017-12-29 16:07:08,092 Line:5853 14:123
 [DEBUG] 2017-12-29 16:07:08,092 Line:5853 15:2017-12-29 16:06:00
 [DEBUG] 2017-12-29 16:07:08,092 Line:5853 16:1
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 17:00001
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 18:0
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 19:0
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 20:1
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 21:2017-12-29 16:07:08
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 22:
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 23:1
 [DEBUG] 2017-12-29 16:07:08,093 Line:5853 24:2017-12-29 16:07:08
 [DEBUG] 2017-12-29 16:07:08,113 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:07:08,113 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:07:08,121 Line:108 插入OAMyWorkFlow表开始 designId=d7068534_1712271714503740050;tableName=FlowNqingjiadan2;id=2cf86be0_1712291607080870024;loginBean=1;locale=zh_CN
 [DEBUG] 2017-12-29 16:07:08,136 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"添加成功","obj":{"msg":"添加成功","keyId":"2cf86be0_1712291607080870024"}}
 [DEBUG] 2017-12-29 16:07:08,624 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverToPrepare
 [DEBUG] 2017-12-29 16:07:08,626 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverToPrepare,];tableName=[FlowNqingjiadan2,];keyId=[2cf86be0_1712291607080870024,];
 [DEBUG] 2017-12-29 16:07:08,626 Line:243 AIOApi op=deliverToPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:07:08,626 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291607080870024' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:07:08,690 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:07:08,690 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:07:08,731 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"ERROR","msg":"转交的下一结点的经办人不存在,请联系系统管理员合理设置流程！"}
 [DEBUG] 2017-12-29 16:07:23,360 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=LeavebillType
 [DEBUG] 2017-12-29 16:07:23,361 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[LeavebillType,];
 [DEBUG] 2017-12-29 16:07:23,361 Line:243 AIOApi op=getEnum&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:07:23,362 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:07:23,363 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"调休","value":"3"},{"name":"休假","value":"4"},{"name":"婚假","value":"5"},{"name":"产假","value":"6"},{"name":"年假","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2017-12-29 16:07:23,363 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 16:07:23,365 Line:243 AIOApi op=addPrepare&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:07:23,393 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNqingjiadan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271715161780058","tableName":"FlowNqingjiadan2","fieldName":"DepartmentCode","isNull":0,"defaultValue":"@Sess:DepartmentCode;@Sess:DepartmentName","等等！
 [DEBUG] 2017-12-29 16:07:26,873 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:07:26,874 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:07:26,875 Line:243 AIOApi op=myworkflow&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:07:26,899 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:07:26,900 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"d7068534_1712271714503740050","templateName":"请假单","orderIndex":0,"billId":"2cf86be0_1712291607080870024","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"FlowNqingjiadan2","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"16:07","flowDepict":"","flowDepict等等！
 [DEBUG] 2017-12-29 16:07:28,230 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-29 16:07:28,231 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[FlowNqingjiadan2,];keyId=[2cf86be0_1712291607080870024,];
 [DEBUG] 2017-12-29 16:07:28,231 Line:243 AIOApi op=detail&sessionid=EAE0139275F4ADDDB26AEC13E5AC812B
 [DEBUG] 2017-12-29 16:07:28,241 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:07:28,242 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:07:28,250 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291607080870024' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:07:28,288 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"lastUpdateByName":"admin","tblDepartment.DeptFullName":"默认部门","SCompanyID":"00001","Kstime":"2017-12-29 16:06:00","tblEmployee.EmpFullName":"admin","printCount":0,"workFlowNode":"0","id":"2cf86be0_1712291607080870024","workFlowNodeName":"notApprove","isCatalog":0,"DepartmentCode":"","Hhtime":"2017-12-29 16:06:00","f等等！
 [DEBUG] 2017-12-29 16:07:56,445 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 16:07:56,445 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 16:07:56,446 Line:215 ---------->SET Page 1 DEFAULT URL = /OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:07:56,463 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:08:00,138 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=FlowNqingjiadan2&parentTableName=&keyId=2cf86be0_1712291607080870024&operation=7&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:08:00,140 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNqingjiadan2,];parentTableName=[,];keyId=[2cf86be0_1712291607080870024,];operation=[7,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:08:00,141 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291607080870024' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:08:00,150 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:08:00,152 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:08:15,557 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:08:15,558 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];loginId=[,];type=[deliverToAll,];approveStatus=[transing,];empFullName=[,];deptFullName=[,];tableFullName=[,];addTHhead=[$addTHhead,];keyWord=[,];timeType=[,];beginTime=[,];endTime=[,];flowBelong=[all,];keyId=[2cf86be0_1712291607080870024,];pageNo=[1,];pageSize=[100,];
 [DEBUG] 2017-12-29 16:08:17,048 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing&&winCurIndex=null
 [DEBUG] 2017-12-29 16:08:17,048 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing,];winCurIndex=[null,];
 [DEBUG] 2017-12-29 16:08:17,070 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:08:45,545 Line:135 BaseAction.execute 请求地址：/OAWorkFlowCreateAction.do?operation=4&src=menu&winCurIndex=2
 [DEBUG] 2017-12-29 16:08:45,546 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-29 16:08:45,546 Line:215 ---------->SET Page 2 DEFAULT URL = /OAWorkFlowCreateAction.do?operation=4
 [DEBUG] 2017-12-29 16:08:45,546 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:08:47,072 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=FlowNqingjiadan2&src=menu&operation=6&designId=d7068534_1712271714503740050&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:08:47,073 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNqingjiadan2,];src=[menu,];operation=[6,];designId=[d7068534_1712271714503740050,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:08:47,074 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=FlowNqingjiadan2
 [DEBUG] 2017-12-29 16:08:51,178 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=FlowNqingjiadan2&fieldName=EmployeeID&operation=22&isMain=true&url=@URL:&src=menu&MOID=&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-29 16:08:51,179 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[FlowNqingjiadan2,];fieldName=[EmployeeID,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[,];MOOP=[add,];popupWin=[MainPopup,];
 [INFO ] 2017-12-29 16:08:51,179 Line:7043 弹出窗未发现mop;moduleId=
 [DEBUG] 2017-12-29 16:08:51,184 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 16:10:23,625 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 16:10:23,627 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 16:10:23,630 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:10:23,777 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 16:10:23,778 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 16:10:23,789 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 16:10:23,789 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:10:23,789 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:10:23,798 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 16:10:23,798 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:10:23,798 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:10:23,804 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 16:10:23,804 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:10:23,805 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:10:23,812 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 16:10:23,812 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:10:23,813 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:11:11,399 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 16:11:11,399 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 16:11:11,400 Line:215 ---------->SET Page 1 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2017-12-29 16:11:11,419 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2017-12-29 16:11:11,420 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:11:11,421 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:11:11,421 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:11:11,421 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:11:15,943 Line:135 BaseAction.execute 请求地址：/WorkFlowTableAction.do?operation=7&designId=d7068534_1712271714503740050&keyId=FlowNqingjiadan2&type=simple
 [DEBUG] 2017-12-29 16:11:15,944 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];designId=[d7068534_1712271714503740050,];keyId=[FlowNqingjiadan2,];type=[simple,];
 [DEBUG] 2017-12-29 16:14:03,071 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-29 16:14:03,073 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-29 16:14:03,420 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-29 16:14:03,421 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-29 16:14:03,707 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514535243678
 [DEBUG] 2017-12-29 16:14:03,708 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514535243678,];
 [DEBUG] 2017-12-29 16:15:05,717 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514535305714
 [DEBUG] 2017-12-29 16:15:05,717 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514535305714,];
 [DEBUG] 2017-12-29 16:15:05,722 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514535305721
 [DEBUG] 2017-12-29 16:15:05,722 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514535305721,];
 [DEBUG] 2017-12-29 16:15:05,729 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-29 16:15:05,730 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-29 16:15:05,771 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-29 16:15:05,774 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-29 16:15:05,844 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 16:15:05,844 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 16:15:05,845 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:15:06,126 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 16:15:06,127 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 16:15:06,138 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 16:15:06,139 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:15:06,139 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:15:06,147 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 16:15:06,147 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:15:06,148 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:15:06,153 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 16:15:06,153 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:15:06,154 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:15:06,159 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 16:15:06,160 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:15:06,160 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:15:12,205 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 16:15:12,205 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 16:15:12,205 Line:215 ---------->SET Page 1 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2017-12-29 16:15:12,225 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2017-12-29 16:15:12,226 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:15:12,227 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2017-12-29 16:15:12,229 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2017-12-29 16:15:12,230 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2017-12-29 16:15:19,168 Line:135 BaseAction.execute 请求地址：/WorkFlowTableAction.do?operation=7&designId=d7068534_1712271714503740050&keyId=FlowNqingjiadan2&type=simple
 [DEBUG] 2017-12-29 16:15:19,169 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];designId=[d7068534_1712271714503740050,];keyId=[FlowNqingjiadan2,];type=[simple,];
 [DEBUG] 2017-12-29 16:15:56,545 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=
 [DEBUG] 2017-12-29 16:15:56,545 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[,];
 [DEBUG] 2017-12-29 16:15:57,133 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:16:00,592 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do?operation=6&type=crm
 [DEBUG] 2017-12-29 16:16:00,593 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];type=[crm,];
 [DEBUG] 2017-12-29 16:17:40,591 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do
 [DEBUG] 2017-12-29 16:17:40,592 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];crmPopFlag=[true,];enumName=[duty,];maindisplay_lan=[出纳,];maindisplay=[,];displays=[zh_CN:职员;,,];displays_lan=[职员,,];values=[1,,];orderBy=[1,0,];
 [DEBUG] 2017-12-29 16:17:40,624 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2017-12-29 16:17:41,178 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:17:42,321 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=duty
 [DEBUG] 2017-12-29 16:17:42,322 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[duty,];
 [DEBUG] 2017-12-29 16:17:42,628 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:17:48,062 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do?operation=7&type=crm&enumerName=duty
 [DEBUG] 2017-12-29 16:17:48,062 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];type=[crm,];enumerName=[duty,];
 [DEBUG] 2017-12-29 16:18:18,551 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=
 [DEBUG] 2017-12-29 16:18:18,551 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[,];
 [DEBUG] 2017-12-29 16:18:19,088 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:18:22,036 Line:135 BaseAction.execute 请求地址：/EnumerationQueryAction.do?type=crm
 [DEBUG] 2017-12-29 16:18:22,036 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[crm,];
 [DEBUG] 2017-12-29 16:18:23,907 Line:135 BaseAction.execute 请求地址：/EnumerationQueryAction.do
 [DEBUG] 2017-12-29 16:18:23,907 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];type=[crm,];name=[LeavebillType,];Btnquery=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2017-12-29 16:18:25,502 Line:135 BaseAction.execute 请求地址：/EnumerationQueryAction.do
 [DEBUG] 2017-12-29 16:18:25,502 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];type=[crm,];name=[LeavebillType,];Btnquery=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2017-12-29 16:18:31,771 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do?operation=6&type=crm
 [DEBUG] 2017-12-29 16:18:31,772 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];type=[crm,];
 [DEBUG] 2017-12-29 16:19:22,808 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do
 [DEBUG] 2017-12-29 16:19:22,809 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];crmPopFlag=[true,];enumName=[LeavebillType,];maindisplay_lan=[请假类型,];maindisplay=[,];displays=[zh_CN:事假;,zh_CN:病假;,zh_CN:产检;,zh_CN:产假;,zh_CN:婚假;,zh_CN:调休;,zh_CN:其他;,,];displays_lan=[事假,病假,产检,产假,婚假,调休,其他,,];values=[1,2,3,4,5,6,7,,];orderBy=[1,2,3,4,5,6,7,0,];
 [DEBUG] 2017-12-29 16:19:22,827 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2017-12-29 16:19:23,347 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:19:24,470 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=LeavebillType
 [DEBUG] 2017-12-29 16:19:24,470 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[LeavebillType,];
 [DEBUG] 2017-12-29 16:19:24,810 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:19:44,383 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=
 [DEBUG] 2017-12-29 16:19:44,383 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[,];
 [DEBUG] 2017-12-29 16:19:44,710 Line:1061 ------Init Enumeration record:391
 [DEBUG] 2017-12-29 16:19:49,800 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do?operation=6&type=crm
 [DEBUG] 2017-12-29 16:19:49,800 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];type=[crm,];
 [DEBUG] 2017-12-29 16:20:08,655 Line:135 BaseAction.execute 请求地址：/EnumerationAction.do
 [DEBUG] 2017-12-29 16:20:08,655 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];crmPopFlag=[true,];enumName=[Spyj,];maindisplay_lan=[审批意见,];maindisplay=[,];displays=[zh_CN:同意;,zh_CN:不同意;,,];displays_lan=[同意,不同意,,];values=[1,2,,];orderBy=[1,2,0,];
 [DEBUG] 2017-12-29 16:20:08,657 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2017-12-29 16:20:09,172 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:20:10,475 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=Spyj
 [DEBUG] 2017-12-29 16:20:10,476 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[Spyj,];
 [DEBUG] 2017-12-29 16:20:10,764 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:20:39,326 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2017-12-29 16:20:39,327 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[,];tableId=[d7068534_1712271715161770051,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[0,];relationTable=[,];classCount=[6,];tableName=[FlowNqingjiadan2,];oldtableName=[FlowNqingjiadan2,];tableDisplay=[zh_CN:请假申请;,];tableDisplayDis=[请假申请,];MainModule=[2,];sysParameter=[CommonFunction,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];isLayout=[1,];fieldCalculate=[,];extendButton=[,];tableDesc=[,];PopDisSentence=[,];fieldId=[d7068534_1712271715161780058,d7068534_1712271715161780060,d7068534_1712271719515420100,d7068534_1712271719515420103,d7068534_1712271719515420106,d7068534_1712271719515420109,d7068534_1712271719515430112,d7068534_1712271719515430115,d7068534_1712271719515430118,d7068534_1712271719515430121,d7068534_1712271719515430124,];languageId=[d7068534_1712271715161780059,d7068534_1712271715161780061,d7068534_1712271719515420101,d7068534_1712271719515420104,d7068534_1712271719515420107,d7068534_1712271719515420110,d7068534_1712271719515430113,d7068534_1712271719515430116,d7068534_1712271719515430119,d7068534_1712271719515430122,d7068534_1712271719515430125,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,];isStat=[0,0,0,0,0,0,0,0,0,0,0,];isNull=[0,0,0,0,0,0,0,0,0,0,0,];isUnique=[0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,0,0,0,0,];refEnumerationName=[,,duty,LeavebillType,,,,Spyj,,,,];inputValue=[,Employee:Employee,,,,,,,,,,];calculate=[,,,,,,,,,,,];fieldSysType=[,,,,,,,,,,,];fieldIdentityStr=[,,,,,,,,,,,];copyType=[,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,];popupType=[,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,];groupName=[,,zh_CN:;,zh_CN:;,zh_CN:;,zh_CN:;,,zh_CN:;,,,,];insertTable=[,,,,,,,,,,,];isCopy=[0,1,1,1,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,];isLog=[0,0,0,0,0,0,0,0,0,0,0,];inputTypeOld=[0,2,0,0,0,0,0,0,0,0,0,];isMobile=[0,0,2,2,2,2,,2,,,,];fieldName=[DepartmentCode,EmployeeID,duty,LeavebillType,due,Kstime,Jstime,PF,mark,Hhtime,qjtime,];fieldDisplay=[zh_CN:申请部门;,zh_CN:申请人;,zh_CN:职务;,zh_CN:请假类别;,zh_CN:请假事由;,zh_CN:开始时间;,zh_CN:结束时间;,zh_CN:批复;,zh_CN:备注;,zh_CN:回岗时间;,zh_CN:请假小时;,];fieldDisplayDis=[申请部门,申请人,职务,请假类别,请假事由,开始时间,结束时间,批复,备注,回岗时间,请假小时,];fieldType=[2,2,2,2,3,6,6,2,3,6,2,];maxLength=[100,100,100,100,1000,100,100,100,1000,100,100,];defaultValue=[@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,,,,,,,,,,];width=[200,200,200,200,200,200,200,200,200,200,200,];inputType=[3,2,1,1,0,0,0,1,0,0,0,];moreInputId=[Employee,11,1,1,];inputTypeOldId=[0,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2017-12-29 16:20:39,350 Line:1235  update tblDBTableInfo set lastUpdateTime='2017-12-29 16:20:39' where tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:20:39,352 Line:1235  update tblDBFieldInfo set inputType='1',inputTypeOld='1',refEnumerationName='duty',groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'duty'
 [DEBUG] 2017-12-29 16:20:39,357 Line:1235  update tblDBFieldInfo set inputType='1',inputTypeOld='1',refEnumerationName='LeavebillType',groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'LeavebillType'
 [DEBUG] 2017-12-29 16:20:39,363 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'due'
 [DEBUG] 2017-12-29 16:20:39,366 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'Kstime'
 [DEBUG] 2017-12-29 16:20:39,371 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'Jstime'
 [DEBUG] 2017-12-29 16:20:39,375 Line:1235  update tblDBFieldInfo set inputType='1',inputTypeOld='1',refEnumerationName='Spyj',groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'PF'
 [DEBUG] 2017-12-29 16:20:39,379 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'mark'
 [DEBUG] 2017-12-29 16:20:39,382 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'Hhtime'
 [DEBUG] 2017-12-29 16:20:39,386 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='FlowNqingjiadan2') and fieldName = 'qjtime'
 [DEBUG] 2017-12-29 16:20:39,390 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2017-12-29 16:20:39,894 Line:297  select * from tblDBTableInfo where tableName = 'FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:20:39,897 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='FlowNqingjiadan2') order by tableId,listOrder
 [DEBUG] 2017-12-29 16:20:39,905 Line:538 ------Init TableInfo record:1
 [DEBUG] 2017-12-29 16:20:41,435 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=FlowNqingjiadan2&popWinName=&winCurIndex=
 [DEBUG] 2017-12-29 16:20:41,437 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[FlowNqingjiadan2,];popWinName=[,];winCurIndex=[,];
 [DEBUG] 2017-12-29 16:20:41,599 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=duty
 [DEBUG] 2017-12-29 16:20:41,599 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[duty,];
 [DEBUG] 2017-12-29 16:20:41,608 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=LeavebillType
 [DEBUG] 2017-12-29 16:20:41,609 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[LeavebillType,];
 [DEBUG] 2017-12-29 16:20:41,616 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=Spyj
 [DEBUG] 2017-12-29 16:20:41,616 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[Spyj,];
 [DEBUG] 2017-12-29 16:20:42,188 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:20:42,189 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:20:42,191 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:21:03,812 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-29 16:21:03,813 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-29 16:21:03,813 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-12-29 16:21:04,766 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-12-29 16:21:04,767 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-12-29 16:21:05,704 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=refresh
 [DEBUG] 2017-12-29 16:21:05,704 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[refresh,];
 [DEBUG] 2017-12-29 16:21:05,719 Line:1203 ------Init SystemSetting record:211
 [DEBUG] 2017-12-29 16:21:05,720 Line:127 --------AdvanceAction.restart 刷新系统配置initSystemSettingInformation 成功-----------
 [DEBUG] 2017-12-29 16:21:06,007 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:21:06,008 Line:138 --------AdvanceAction.restart 刷新枚举initEnumerationInformation 成功-----------
 [DEBUG] 2017-12-29 16:21:06,398 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-29 16:21:06,398 Line:147 --------AdvanceAction.restart 刷新模块initModuleList 成功-----------
 [DEBUG] 2017-12-29 16:21:06,405 Line:157 --------AdvanceAction.restart 刷新自定义列名initModuleColLanuage 成功-----------
 [DEBUG] 2017-12-29 16:21:06,409 Line:168 --------AdvanceAction.restart 刷新自定义列宽initUserColWidth 成功-----------
 [DEBUG] 2017-12-29 16:21:06,412 Line:178 --------AdvanceAction.restart 刷新自定义列名initUserLanuageInfo 成功-----------
 [DEBUG] 2017-12-29 16:21:06,908 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-29 16:21:06,944 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-29 16:21:07,561 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-29 16:21:07,562 Line:188 --------AdvanceAction.restart 刷新表结构initDBInformation 成功-----------
 [DEBUG] 2017-12-29 16:21:07,564 Line:197 --------AdvanceAction.restart 刷新列配置initUserColConfig 成功-----------
 [DEBUG] 2017-12-29 16:21:07,574 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-29 16:21:07,575 Line:207 --------AdvanceAction.restart 刷新模块字段initModuleField 成功-----------
 [DEBUG] 2017-12-29 16:21:07,576 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-29 16:21:07,582 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-29 16:21:07,583 Line:216 --------AdvanceAction.restart 刷新弹出框显示语句initPopDisSen 成功-----------
 [DEBUG] 2017-12-29 16:21:07,598 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-29 16:21:07,599 Line:228 --------AdvanceAction.restart 刷新商品属性initPropInformation 成功-----------
 [DEBUG] 2017-12-29 16:21:07,603 Line:238 --------AdvanceAction.restart 刷新商品属性initAttInformation 成功-----------
 [DEBUG] 2017-12-29 16:21:08,347 Line:244 --------AdvanceAction.restart 刷新配置文件initConfigFile 成功-----------
 [ERROR] 2017-12-29 16:21:08,364 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,365 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,366 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,366 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,367 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,368 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,369 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,369 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,370 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,371 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,392 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,399 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,406 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,431 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,431 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,432 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,433 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,447 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,448 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,449 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,450 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,451 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,452 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,459 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,469 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,470 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,471 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,472 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,473 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,473 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,498 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,499 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,500 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,516 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,525 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,545 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,546 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,547 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:21:08,555 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:21:08,555 Line:254 --------AdvanceAction.restart 刷新已启用工作流initWorkFlowInfo 成功-----------
 [DEBUG] 2017-12-29 16:21:08,562 Line:266 --------AdvanceAction.restart 刷新报表显示配置initReportShowSet 成功-----------
 [DEBUG] 2017-12-29 16:21:08,580 Line:275 --------AdvanceAction.restart 刷新KK缓存  成功-----------
 [DEBUG] 2017-12-29 16:21:10,053 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index&winCurIndex=null
 [DEBUG] 2017-12-29 16:21:10,054 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];winCurIndex=[null,];
 [DEBUG] 2017-12-29 16:26:55,010 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 16:26:55,010 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 16:26:55,011 Line:243 AIOApi op=getSessEmp&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:26:55,012 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 16:26:55,177 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 16:26:55,178 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 16:26:55,178 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:26:55,179 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 16:27:04,520 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=OutStytle
 [DEBUG] 2017-12-29 16:27:04,520 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[OutStytle,];
 [DEBUG] 2017-12-29 16:27:04,521 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:04,521 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:27:04,522 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"售前沟通","value":"1"},{"name":"售后服务","value":"2"},{"name":"售前支持","value":"3"},{"name":"其他","value":"4"}]}
 [DEBUG] 2017-12-29 16:27:04,522 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNwaichushenqingdan2,];
 [DEBUG] 2017-12-29 16:27:04,522 Line:243 AIOApi op=addPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:04,550 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNwaichushenqingdan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271735151410134","tableName":"FlowNwaichushenqingdan2","fieldName":"Billno","isNull":0,"defaultValue":"SS1712290004","fieldType":2,"maxLength等等！
 [DEBUG] 2017-12-29 16:27:07,321 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 16:27:07,322 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2017-12-29 16:27:07,324 Line:243 AIOApi op=popup&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:07,326 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2017-12-29 16:27:07,337 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"admin","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"","tblEmployee_TitleID":"","EmployeeID":"1","tblEmployee_EmpFullName":"admin","tblEmployee_Mobile":""}]}}
 [DEBUG] 2017-12-29 16:27:10,462 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=OutStytle
 [DEBUG] 2017-12-29 16:27:10,463 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[OutStytle,];
 [DEBUG] 2017-12-29 16:27:10,464 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:10,464 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:27:10,465 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNwaichushenqingdan2,];
 [DEBUG] 2017-12-29 16:27:10,465 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"售前沟通","value":"1"},{"name":"售后服务","value":"2"},{"name":"售前支持","value":"3"},{"name":"其他","value":"4"}]}
 [DEBUG] 2017-12-29 16:27:10,465 Line:243 AIOApi op=addPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:10,490 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNwaichushenqingdan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271735151410134","tableName":"FlowNwaichushenqingdan2","fieldName":"Billno","isNull":0,"defaultValue":"SS1712290005","fieldType":2,"maxLength等等！
 [DEBUG] 2017-12-29 16:27:29,461 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2017-12-29 16:27:29,461 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[FlowNwaichushenqingdan2,];saveType=[,];values=[{"Sqdate":"2017-12-29","SqdateShowDate":"2017-12-29T08:27:04.425Z","EmployeeID":"1","tblEmployee.EmpFullName":"admin","DepartmentCode":"","OutStytle":"1","selectOption":[{"name":"请选择","value":""},{"name":"售前沟通","value":"1"},{"name":"售后服务","value":"2"},{"name":"售前支持","value":"3"},{"name":"其他","value":"4"}],"Yytime":"2017-12-29 16:27:04","YytimeShowDate":"2017-12-29T08:27:04.425Z","Wctime":"2017-12-29 16:27:04","WctimeShowDate":"2017-12-29T08:27:04.425Z","Fhtime":"2017-12-29 16:27:04","FhtimeShowDate":"2017-12-29T08:27:04.425Z","_dtPickerFill":"","_dtPickerFillFmt":"","Outpo":"123","companyname":"123","Outdue":"123","retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"updateRight":false,"createByName":null,"createTime":null,"workFlowNode":null,"opType":"add"},];defineInfo=[,];
 [DEBUG] 2017-12-29 16:27:29,461 Line:243 AIOApi op=add&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:29,468 Line:5847  INSERT INTO  FlowNwaichushenqingdan2(checkPersons,id,isCatalog,workFlowNode,workFlowNodeName,DepartmentCode,EmployeeID,Sqdate,Wctime,Fhtime,Yytime,companyname,OutStytle,Outdue,Outpo,createBy,createTime,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 16:27:29,468 Line:5853 1:;1;
 [DEBUG] 2017-12-29 16:27:29,469 Line:5853 2:2cf86be0_1712291627294680076
 [DEBUG] 2017-12-29 16:27:29,469 Line:5853 3:0
 [DEBUG] 2017-12-29 16:27:29,469 Line:5853 4:0
 [DEBUG] 2017-12-29 16:27:29,469 Line:5853 5:notApprove
 [DEBUG] 2017-12-29 16:27:29,470 Line:5853 6:
 [DEBUG] 2017-12-29 16:27:29,470 Line:5853 7:1
 [DEBUG] 2017-12-29 16:27:29,470 Line:5853 8:2017-12-29
 [DEBUG] 2017-12-29 16:27:29,470 Line:5853 9:2017-12-29 16:27:04
 [DEBUG] 2017-12-29 16:27:29,471 Line:5853 10:2017-12-29 16:27:04
 [DEBUG] 2017-12-29 16:27:29,471 Line:5853 11:2017-12-29 16:27:04
 [DEBUG] 2017-12-29 16:27:29,471 Line:5853 12:123
 [DEBUG] 2017-12-29 16:27:29,471 Line:5853 13:1
 [DEBUG] 2017-12-29 16:27:29,472 Line:5853 14:123
 [DEBUG] 2017-12-29 16:27:29,472 Line:5853 15:123
 [DEBUG] 2017-12-29 16:27:29,472 Line:5853 16:1
 [DEBUG] 2017-12-29 16:27:29,472 Line:5853 17:2017-12-29 16:27:29
 [DEBUG] 2017-12-29 16:27:29,472 Line:5853 18:0
 [DEBUG] 2017-12-29 16:27:29,473 Line:5853 19:00001
 [DEBUG] 2017-12-29 16:27:29,473 Line:5853 20:0
 [DEBUG] 2017-12-29 16:27:29,473 Line:5853 21:
 [DEBUG] 2017-12-29 16:27:29,473 Line:5853 22:1
 [DEBUG] 2017-12-29 16:27:29,473 Line:5853 23:2017-12-29 16:27:29
 [DEBUG] 2017-12-29 16:27:29,492 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:27:29,492 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:27:29,498 Line:108 插入OAMyWorkFlow表开始 designId=d7068534_1712271733359840128;tableName=FlowNwaichushenqingdan2;id=2cf86be0_1712291627294680076;loginBean=1;locale=zh_CN
 [DEBUG] 2017-12-29 16:27:29,508 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"添加成功","obj":{"msg":"添加成功","keyId":"2cf86be0_1712291627294680076"}}
 [DEBUG] 2017-12-29 16:27:29,971 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverToPrepare
 [DEBUG] 2017-12-29 16:27:29,972 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverToPrepare,];tableName=[FlowNwaichushenqingdan2,];keyId=[2cf86be0_1712291627294680076,];
 [DEBUG] 2017-12-29 16:27:29,972 Line:243 AIOApi op=deliverToPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:27:29,972 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291627294680076' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2017-12-29 16:27:29,990 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:27:29,990 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNwaichushenqingdan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:27:30,004 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"ERROR","msg":"转交的下一结点的经办人不存在,请联系系统管理员合理设置流程！"}
 [DEBUG] 2017-12-29 16:27:49,877 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?src=menu&winCurIndex=3
 [DEBUG] 2017-12-29 16:27:49,878 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-12-29 16:27:49,878 Line:215 ---------->SET Page 3 DEFAULT URL = /EmployeeDepartmentAction.do
 [DEBUG] 2017-12-29 16:27:50,027 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee
 [DEBUG] 2017-12-29 16:27:50,028 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];
 [DEBUG] 2017-12-29 16:27:54,209 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=6&opType=employeePre&tableName=tblEmployee&fieldName=EmpNumber
 [DEBUG] 2017-12-29 16:27:54,210 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];opType=[employeePre,];tableName=[tblEmployee,];fieldName=[EmpNumber,];
 [DEBUG] 2017-12-29 16:28:02,198 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8
 [DEBUG] 2017-12-29 16:28:02,198 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];
 [DEBUG] 2017-12-29 16:28:02,237 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblDepartment&moduleType=&SysType=&MOID=2adbcec1_1311011445296060003&editable=&subSql=
 [DEBUG] 2017-12-29 16:28:02,237 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8&checkTab=Y
 [DEBUG] 2017-12-29 16:28:02,237 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblDepartment,];moduleType=[,];SysType=[,];MOID=[2adbcec1_1311011445296060003,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-29 16:28:02,237 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];checkTab=[Y,];
 [DEBUG] 2017-12-29 16:28:02,238 Line:229 TreeMgt.getTree sql= select classCode,DeptFullName,DeptCode,id from tblDepartment where statusId =0  order by DeptCode
 [DEBUG] 2017-12-29 16:28:02,239 Line:3434 DynDBManager.popSelect selectName=Department; sql=select * from (select tblDepartment.classCode f1 ,tblDepartment.DeptCode f2 ,tblDepartment.DeptFullName f3 ,tblDepartment.DeptFullNamePYM f4 
,tblDepartment.isCatalog as childCount,ROW_NUMBER() over( order by tblDepartment.DeptCode,tblDepartment.DeptFullName) as row_id from tblDepartment where 1=1 and (tblDepartment.statusid!='-1') and tblDepartment.workFlowNodeName='finish' and tblDepartment.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 16:28:02,265 Line:5227 GlobalsTool.js 生成js 时间20:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:28:02,293 Line:5227 GlobalsTool.js 生成js 时间28:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:28:14,942 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do
 [DEBUG] 2017-12-29 16:28:14,943 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];tableName=[tblEmployee,];opType=[employee,];id=[,];workFlowNodeName=[finish,];curMailSize=[,];defStyle=[,];HiddenField=[,];MACAddress=[,];workFlowNode=[,];EmpNumber=[0000,];DepartmentCode=[00101,];tblDepartment_DeptFullName=[默认部门,];EmpFullName=[Boos,];EmpFullNamePYM=[,];TitleID=[11,];Gender=[1,];EmpName=[,];EmpEnglishName=[,];DirectBoss=[,];tblEmployee_EmpFullName=[,];statusId=[0,];GraduateID=[1,];BornDate=[,];EmployDate=[,];LeaveDate=[,];QQ=[,];ManagerITel=[,];Tel=[,];Mobile=[,];TopCost=[,];TopCredit=[,];mailSize=[,];shopName=[,];shopPwd=[,];FamilyAddress=[,];Email=[,];Responsibility=[,];StockCode=[,];tblStock_StockFullName=[,];CompanyCode=[,];tblCompany_ComFullName=[,];Account=[,];tblAccTypeInfo_AccName=[,];isPublic=[,];openid=[,];password=[,];printCount=[,];openFlag=[,];sysName=[,];SCompanyID=[,];Remark=[,];lastUpdateBy=[,];lastUpdateTime=[,];loginEndTime=[,];loginStartTime=[,];finishTime=[,];extension=[,];userKeyId=[,];telAreaCode=[,];telpop=[,];telPrefix=[,];createBy=[,];createTime=[,];defSys=[,];CheckPersont=[,];defaultPage=[,];Define1=[1,];Define2=[1,];Define3=[,];Define4=[,];Define5=[,];defLoc=[,];checkMobile=[,];mobileID=[,];Attachment=[,];
 [DEBUG] 2017-12-29 16:28:15,199 Line:5847  INSERT INTO  tblEmployee(curMailSize,defStyle,HiddenField,id,MACAddress,workFlowNode,workFlowNodeName,EmpNumber,DepartmentCode,EmpFullName,EmpFullNamePYM,TitleID,Gender,EmpName,EmpEnglishName,DirectBoss,statusId,GraduateID,BornDate,EmployDate,LeaveDate,QQ,ManagerITel,Tel,Mobile,TopCost,TopCredit,mailSize,shopName,shopPwd,FamilyAddress,Email,Responsibility,StockCode,CompanyCode,Account,isPublic,openid,password,photo,printCount,openFlag,sysName,SCompanyID,Remark,lastUpdateBy,lastUpdateTime,loginEndTime,loginStartTime,finishTime,extension,userKeyId,telAreaCode,telpop,telPrefix,createBy,createTime,defSys,CheckPersont,defaultPage,Define1,Define2,Define3,Define4,Define5,defLoc,checkMobile,mobileID,Attachment) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 16:28:15,200 Line:5853 1:0
 [DEBUG] 2017-12-29 16:28:15,200 Line:5853 2:
 [DEBUG] 2017-12-29 16:28:15,200 Line:5853 3:
 [DEBUG] 2017-12-29 16:28:15,200 Line:5853 4:2cf86be0_1712291628149430079
 [DEBUG] 2017-12-29 16:28:15,200 Line:5853 5:
 [DEBUG] 2017-12-29 16:28:15,201 Line:5853 6:
 [DEBUG] 2017-12-29 16:28:15,201 Line:5853 7:finish
 [DEBUG] 2017-12-29 16:28:15,201 Line:5853 8:0000
 [DEBUG] 2017-12-29 16:28:15,201 Line:5853 9:00101
 [DEBUG] 2017-12-29 16:28:15,201 Line:5853 10:Boos
 [DEBUG] 2017-12-29 16:28:15,201 Line:5853 11:Boos
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 12:11
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 13:1
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 14:
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 15:
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 16:
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 17:0
 [DEBUG] 2017-12-29 16:28:15,202 Line:5853 18:1
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 19:
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 20:
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 21:
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 22:
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 23:
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 24:
 [DEBUG] 2017-12-29 16:28:15,203 Line:5853 25:
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 26:0.0
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 27:
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 28:0
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 29:
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 30:
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 31:
 [DEBUG] 2017-12-29 16:28:15,204 Line:5853 32:
 [DEBUG] 2017-12-29 16:28:15,205 Line:5853 33:
 [DEBUG] 2017-12-29 16:28:15,205 Line:5853 34:
 [DEBUG] 2017-12-29 16:28:15,205 Line:5853 35:
 [DEBUG] 2017-12-29 16:28:15,205 Line:5853 36:
 [DEBUG] 2017-12-29 16:28:15,205 Line:5853 37:0
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 38:
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 39:
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 40:
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 41:0
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 42:0
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 43:
 [DEBUG] 2017-12-29 16:28:15,206 Line:5853 44:00001
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 45:
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 46:1
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 47:2017-12-29 16:28:14
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 48:
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 49:
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 50:
 [DEBUG] 2017-12-29 16:28:15,207 Line:5853 51:
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 52:
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 53:
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 54:
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 55:
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 56:1
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 57:2017-12-29 16:28:14
 [DEBUG] 2017-12-29 16:28:15,208 Line:5853 58:
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 59:
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 60:
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 61:1
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 62:1
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 63:
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 64:
 [DEBUG] 2017-12-29 16:28:15,209 Line:5853 65:
 [DEBUG] 2017-12-29 16:28:15,210 Line:5853 66:
 [DEBUG] 2017-12-29 16:28:15,210 Line:5853 67:0
 [DEBUG] 2017-12-29 16:28:15,210 Line:5853 68:
 [DEBUG] 2017-12-29 16:28:15,210 Line:5853 69:;
 [DEBUG] 2017-12-29 16:28:15,223 Line:921 自定义执行的语句显示： tblEmployee_add :select count(EmpNumber) as Empnum from tblEmployee where EmpNumber=? and SCompanyID=?
 [DEBUG] 2017-12-29 16:28:15,223 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 16:28:15,224 Line:988 1值：0000
 [DEBUG] 2017-12-29 16:28:15,224 Line:988 2值：00001
 [DEBUG] 2017-12-29 16:28:15,225 Line:1025 query condition columnName:Empnum----value:1
 [DEBUG] 2017-12-29 16:28:15,225 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-29 16:28:15,226 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as EstablishErrorExist from tblEmployee as A outer apply (select DeptEstablish from tblDepartment where classCode=A.DepartmentCode) as B outer apply (select count(*) as Counts from tblEmployee where DepartmentCode=A.DepartmentCode) as C where id=? and isNULL(B.DeptEstablish,0)<isNULL(C.Counts,0) and isNULL(B.DeptEstablish,0)!=0
 [DEBUG] 2017-12-29 16:28:15,226 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 16:28:15,226 Line:988 1值：2cf86be0_1712291628149430079
 [DEBUG] 2017-12-29 16:28:15,233 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-29 16:28:15,233 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as ParentClassExistData from tblEmployee where DepartmentCode in (select classCode from tblDepartment where ? like classCode+'%')
 [DEBUG] 2017-12-29 16:28:15,233 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 16:28:15,233 Line:988 1值：
 [DEBUG] 2017-12-29 16:28:15,236 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 16:28:15,236 Line:313 exeCondition:tblEmployee_add :1 > 1
 [DEBUG] 2017-12-29 16:28:15,238 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:15,239 Line:313 exeCondition:tblEmployee_add :'00001'.length=='0' && false==true
 [DEBUG] 2017-12-29 16:28:15,239 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:15,240 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-29 16:28:15,240 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:15,240 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-29 16:28:15,241 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:16,425 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee&departmentCode=00101
 [DEBUG] 2017-12-29 16:28:16,426 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];departmentCode=[00101,];
 [DEBUG] 2017-12-29 16:28:19,424 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=7&opType=updatePreEmployee&id=2cf86be0_1712291628149430079
 [DEBUG] 2017-12-29 16:28:19,424 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];opType=[updatePreEmployee,];id=[2cf86be0_1712291628149430079,];
 [DEBUG] 2017-12-29 16:28:19,437 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2017-12-29 16:28:19,438 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblEmployee;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2017-12-29 16:28:25,254 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=7&opType=updatePreEmployee&id=1
 [DEBUG] 2017-12-29 16:28:25,255 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];opType=[updatePreEmployee,];id=[1,];
 [DEBUG] 2017-12-29 16:28:25,262 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2017-12-29 16:28:25,263 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblEmployee;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2017-12-29 16:28:29,171 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=SelectDirectBoss&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E7%9B%B4%E6%8E%A5%E4%B8%8A%E5%8F%B8
 [DEBUG] 2017-12-29 16:28:29,172 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[SelectDirectBoss,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????????????,];
 [DEBUG] 2017-12-29 16:28:29,176 Line:3434 DynDBManager.popSelect selectName=SelectDirectBoss; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.EmpNumber f2 ,tblEmployee.EmpFullName f3 ,tblEmployee.EmpFullNamePYM f4 ,tblEmployee.TitleID f5 ,tblDepartment.DeptFullName f6 ,tblDepartment.DeptFullNamePYM f7 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber) as row_id from tblEmployee
left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode where 1=1  and (tblEmployee.SCompanyID='00001'and tblEmployee.statusId!='-1'or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-29 16:28:32,337 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do
 [DEBUG] 2017-12-29 16:28:32,338 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];tableName=[tblEmployee,];opType=[updateEmployee,];id=[1,];workFlowNodeName=[finish,];curMailSize=[0,];defStyle=[style1,];HiddenField=[,];MACAddress=[,];workFlowNode=[-1,];EmpNumber=[admin,];DepartmentCode=[00101,];tblDepartment_DeptFullName=[默认部门,];EmpFullName=[admin,];EmpFullNamePYM=[,];TitleID=[12,];Gender=[1,];EmpName=[admin,];EmpEnglishName=[,];DirectBoss=[2cf86be0_1712291628149430079,];tblEmployee_EmpFullName=[Boos,];statusId=[0,];GraduateID=[9,];BornDate=[,];EmployDate=[,];LeaveDate=[,];QQ=[,];ManagerITel=[,];Tel=[,];Mobile=[,];TopCost=[0.0,];TopCredit=[,];mailSize=[0,];shopName=[,];shopPwd=[,];FamilyAddress=[,];Email=[,];Responsibility=[,];StockCode=[,];tblStock_StockFullName=[,];CompanyCode=[,];tblCompany_ComFullName=[,];Account=[,];tblAccTypeInfo_AccName=[,];isPublic=[0,];openid=[,];password=[21232F297A57A5A743894A0E4A801FC3,];printCount=[0,];openFlag=[1,];sysName=[admin,];SCompanyID=[00001,];Remark=[,];lastUpdateBy=[1,];lastUpdateTime=[2009-03-31 20:47:49,];loginEndTime=[,];loginStartTime=[,];finishTime=[2009-01-18 14:08:12,];extension=[,];userKeyId=[,];telAreaCode=[,];telpop=[2,];telPrefix=[,];createBy=[1,];createTime=[2009-01-18 14:08:12,];defSys=[1,];CheckPersont=[,];defaultPage=[,];Define1=[1,];Define2=[1,];Define3=[,];Define4=[,];Define5=[,];defLoc=[zh_CN,];checkMobile=[0,];mobileID=[,];Attachment=[,];
 [DEBUG] 2017-12-29 16:28:32,372 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblEmployee where id= ? id= 1
 [DEBUG] 2017-12-29 16:28:32,375 Line:921 自定义执行的语句显示： tblEmployee_Update :select tblEmployee.EmpFullName as FullName from tblEmployee where (tblEmployee.id in (select EmployeeID from tblAccDetail) or tblEmployee.id in (select EmployeeID from tblAccMain) or tblEmployee.id in (select EmployeeID from tblBuyInStock) or tblEmployee.id in (select EmployeeID from tblBuyOutStock) or tblEmployee.id in (select EmployeeID from tblSalesOutStock)
or tblEmployee.id in (select EmployeeID from tblSalesReturnStock) or tblEmployee.id in (select EmployeeID from tblSalesOrder)
or tblEmployee.id in (select EmployeeID from tblCheck) or tblEmployee.id in (select EmployeeID from tblAdjustPrice) or tblEmployee.id in (select EmployeeID from tblBuyOrder) or tblEmployee.id in (select EmployeeID from tblAllot) or tblEmployee.id in (select EmployeeID from tblAllotChange) or tblEmployee.id in (select EmployeeID from tblOtherOut)
or tblEmployee.id in (select EmployeeID from tblOtherIn) or tblEmployee.id in (select EmployeeID from tblTransferSale1) or tblEmployee.id in (select EmployeeID from tblTransferSale2) or tblEmployee.id in (select EmployeeID from tblTransferSale3) or tblEmployee.id in (select EmployeeID from tblTransferSale4) or tblEmployee.id in (select EmployeeID from tblExpensed) or tblEmployee.id in (select EmployeeID from tblIncome) or tblEmployee.id in (select EmployeeID from tblUserDefTransAcc) or tblEmployee.id in (select EmployeeID from tblUserTransAcc) or tblEmployee.id in (select EmployeeID from tblCurrencyExchangeBuy) or tblEmployee.id in (select EmployeeID from tblCurrencyExchangeSale) or tblEmployee.id in (select EmployeeID from tblAdjustPrice) or tblEmployee.id in (select EmployeeID from tblCurrencyExchange) or tblEmployee.id in (select EmployeeID from tblCurrencyExchangeB) or tblEmployee.id in (select EmployeeID from tblBuyAskPrice)) and tblEmployee.id=?
 [DEBUG] 2017-12-29 16:28:32,375 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 16:28:32,375 Line:988 1值：1
 [DEBUG] 2017-12-29 16:28:32,439 Line:1025 query condition columnName:FullName----value:admin
 [DEBUG] 2017-12-29 16:28:32,440 Line:1043 ---上述语句时间---65
 [DEBUG] 2017-12-29 16:28:32,440 Line:921 自定义执行的语句显示： tblEmployee_Update :select id,EmpFullName,EmpName,GraduateID,TitleID,TopCost,TopCredit,Email,createBy,lastUpdateBy,createTime,lastUpdateTime,DepartmentCode,BornDate,EmployDate,EmpNumber,empCode,sysName,password,openFlag,defSys,Remark,Attachment,ManagerITel,Tel,Mobile,SCompanyID,classCode,RowON from tblEmployee where id=?
 [DEBUG] 2017-12-29 16:28:32,440 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 16:28:32,440 Line:988 1值：1
 [DEBUG] 2017-12-29 16:28:32,442 Line:1025 query condition columnName:id----value:1
 [DEBUG] 2017-12-29 16:28:32,442 Line:1025 query condition columnName:EmpFullName----value:admin
 [DEBUG] 2017-12-29 16:28:32,442 Line:1025 query condition columnName:EmpName----value:admin
 [DEBUG] 2017-12-29 16:28:32,442 Line:1025 query condition columnName:GraduateID----value:9
 [DEBUG] 2017-12-29 16:28:32,443 Line:1025 query condition columnName:TitleID----value:12
 [DEBUG] 2017-12-29 16:28:32,443 Line:1023 query condition columnName:TopCost----value:0E-8
 [DEBUG] 2017-12-29 16:28:32,443 Line:1025 query condition columnName:TopCredit----value:
 [DEBUG] 2017-12-29 16:28:32,443 Line:1025 query condition columnName:Email----value:
 [DEBUG] 2017-12-29 16:28:32,443 Line:1025 query condition columnName:createBy----value:1
 [DEBUG] 2017-12-29 16:28:32,443 Line:1025 query condition columnName:lastUpdateBy----value:1
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:createTime----value:2009-01-18 14:08:12
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:lastUpdateTime----value:2009-03-31 20:47:49
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:DepartmentCode----value:00101
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:BornDate----value:
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:EmployDate----value:
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:EmpNumber----value:admin
 [DEBUG] 2017-12-29 16:28:32,444 Line:1025 query condition columnName:empCode----value:0001
 [DEBUG] 2017-12-29 16:28:32,445 Line:1025 query condition columnName:sysName----value:admin
 [DEBUG] 2017-12-29 16:28:32,445 Line:1025 query condition columnName:password----value:21232F297A57A5A743894A0E4A801FC3
 [DEBUG] 2017-12-29 16:28:32,445 Line:1025 query condition columnName:openFlag----value:1
 [DEBUG] 2017-12-29 16:28:32,445 Line:1025 query condition columnName:defSys----value:1
 [DEBUG] 2017-12-29 16:28:32,445 Line:1025 query condition columnName:Remark----value:
 [DEBUG] 2017-12-29 16:28:32,445 Line:1025 query condition columnName:Attachment----value:null
 [DEBUG] 2017-12-29 16:28:32,446 Line:1025 query condition columnName:ManagerITel----value:
 [DEBUG] 2017-12-29 16:28:32,446 Line:1025 query condition columnName:Tel----value:
 [DEBUG] 2017-12-29 16:28:32,446 Line:1025 query condition columnName:Mobile----value:
 [DEBUG] 2017-12-29 16:28:32,446 Line:1025 query condition columnName:SCompanyID----value:00001
 [DEBUG] 2017-12-29 16:28:32,446 Line:1025 query condition columnName:classCode----value:null
 [DEBUG] 2017-12-29 16:28:32,446 Line:1025 query condition columnName:RowON----value:null
 [DEBUG] 2017-12-29 16:28:32,446 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-29 16:28:32,447 Line:921 自定义执行的语句显示： tblEmployee_Update :select 'Exist' as EstablishErrorExist from (select ? as DepartmentCode) as A outer apply (select DeptEstablish from tblDepartment where classCode=A.DepartmentCode) as B outer apply (select count(*) as Counts from tblEmployee where DepartmentCode=A.DepartmentCode) as C where isNULL(B.DeptEstablish,0)<isNULL(C.Counts,0)+1 and isNULL(B.DeptEstablish,0)!=0
 [DEBUG] 2017-12-29 16:28:32,447 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-29 16:28:32,447 Line:988 1值：00101
 [DEBUG] 2017-12-29 16:28:32,450 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-29 16:28:32,450 Line:313 exeCondition:tblEmployee_Update :'1'=='1'&&('admin'!='admin'||'admin'!='admin'||'admin'!='admin')
 [DEBUG] 2017-12-29 16:28:32,451 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:32,452 Line:313 exeCondition:tblEmployee_Update :(('admin' != 'null' && 'admin'.length != 0) && ('admin' != 'admin' || 'admin' != 'admin')) && 'true'=='false'
 [DEBUG] 2017-12-29 16:28:32,453 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:32,453 Line:313 exeCondition:tblEmployee_Update :'00101'!='00101 '&&'null'=='Exist'
 [DEBUG] 2017-12-29 16:28:32,453 Line:321 flag:false
 [DEBUG] 2017-12-29 16:28:32,457 Line:5984  UPDATE tblEmployee SET HiddenField=?,EmpNumber=?,DepartmentCode=?,EmpFullName=?,TitleID=?,Gender=?,EmpName=?,EmpEnglishName=?,DirectBoss=?,statusId=?,GraduateID=?,BornDate=?,EmployDate=?,LeaveDate=?,QQ=?,ManagerITel=?,Tel=?,Mobile=?,mailSize=?,FamilyAddress=?,Email=?,Responsibility=?,StockCode=?,CompanyCode=?,Account=?,isPublic=?,openid=?,photo=?,Remark=?,lastUpdateBy=?,lastUpdateTime=?,Define1=?,Define2=?,Define3=?,Define4=?,Define5=?,Attachment=? WHERE ID = ? 
 [DEBUG] 2017-12-29 16:28:32,457 Line:5993 1:
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 2:admin
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 3:00101
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 4:admin
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 5:12
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 6:1
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 7:admin
 [DEBUG] 2017-12-29 16:28:32,458 Line:5993 8:
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 9:2cf86be0_1712291628149430079
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 10:0
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 11:9
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 12:
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 13:
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 14:
 [DEBUG] 2017-12-29 16:28:32,459 Line:5993 15:
 [DEBUG] 2017-12-29 16:28:32,460 Line:5993 16:
 [DEBUG] 2017-12-29 16:28:32,460 Line:5993 17:
 [DEBUG] 2017-12-29 16:28:32,460 Line:5993 18:
 [DEBUG] 2017-12-29 16:28:32,460 Line:5993 19:0
 [DEBUG] 2017-12-29 16:28:32,460 Line:5993 20:
 [DEBUG] 2017-12-29 16:28:32,460 Line:5993 21:
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 22:
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 23:
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 24:
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 25:
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 26:0
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 27:
 [DEBUG] 2017-12-29 16:28:32,461 Line:5993 28:
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 29:
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 30:1
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 31:2017-12-29 16:28:32
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 32:1
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 33:1
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 34:
 [DEBUG] 2017-12-29 16:28:32,462 Line:5993 35:
 [DEBUG] 2017-12-29 16:28:32,463 Line:5993 36:
 [DEBUG] 2017-12-29 16:28:32,463 Line:5993 37:;
 [DEBUG] 2017-12-29 16:28:32,470 Line:313 exeCondition:tblEmployee_Update_After : 'update'=='update'
 [DEBUG] 2017-12-29 16:28:32,471 Line:321 flag:true
 [DEBUG] 2017-12-29 16:28:32,471 Line:1264 自定义执行的语句显示： tblEmployee_Update_After:{call UpdateAccName(?,?,?,?)}
 [DEBUG] 2017-12-29 16:28:32,472 Line:1270 EmployeeID
 [DEBUG] 2017-12-29 16:28:32,472 Line:1270 1
 [DEBUG] 2017-12-29 16:28:32,489 Line:425 ************上述语句执行时间：18
 [DEBUG] 2017-12-29 16:28:33,832 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee&departmentCode=00101
 [DEBUG] 2017-12-29 16:28:33,833 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];departmentCode=[00101,];
 [DEBUG] 2017-12-29 16:28:37,938 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=refresh
 [DEBUG] 2017-12-29 16:28:37,939 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[refresh,];
 [DEBUG] 2017-12-29 16:28:37,943 Line:1203 ------Init SystemSetting record:211
 [DEBUG] 2017-12-29 16:28:37,943 Line:127 --------AdvanceAction.restart 刷新系统配置initSystemSettingInformation 成功-----------
 [DEBUG] 2017-12-29 16:28:38,228 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-29 16:28:38,229 Line:138 --------AdvanceAction.restart 刷新枚举initEnumerationInformation 成功-----------
 [DEBUG] 2017-12-29 16:28:38,527 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-29 16:28:38,528 Line:147 --------AdvanceAction.restart 刷新模块initModuleList 成功-----------
 [DEBUG] 2017-12-29 16:28:38,528 Line:157 --------AdvanceAction.restart 刷新自定义列名initModuleColLanuage 成功-----------
 [DEBUG] 2017-12-29 16:28:38,529 Line:168 --------AdvanceAction.restart 刷新自定义列宽initUserColWidth 成功-----------
 [DEBUG] 2017-12-29 16:28:38,529 Line:178 --------AdvanceAction.restart 刷新自定义列名initUserLanuageInfo 成功-----------
 [DEBUG] 2017-12-29 16:28:38,921 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-29 16:28:38,981 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-29 16:28:40,187 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-29 16:28:40,190 Line:188 --------AdvanceAction.restart 刷新表结构initDBInformation 成功-----------
 [DEBUG] 2017-12-29 16:28:40,192 Line:197 --------AdvanceAction.restart 刷新列配置initUserColConfig 成功-----------
 [DEBUG] 2017-12-29 16:28:40,194 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-29 16:28:40,196 Line:207 --------AdvanceAction.restart 刷新模块字段initModuleField 成功-----------
 [DEBUG] 2017-12-29 16:28:40,196 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-29 16:28:40,199 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-29 16:28:40,199 Line:216 --------AdvanceAction.restart 刷新弹出框显示语句initPopDisSen 成功-----------
 [DEBUG] 2017-12-29 16:28:40,217 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-29 16:28:40,217 Line:228 --------AdvanceAction.restart 刷新商品属性initPropInformation 成功-----------
 [DEBUG] 2017-12-29 16:28:40,221 Line:238 --------AdvanceAction.restart 刷新商品属性initAttInformation 成功-----------
 [DEBUG] 2017-12-29 16:28:41,939 Line:244 --------AdvanceAction.restart 刷新配置文件initConfigFile 成功-----------
 [ERROR] 2017-12-29 16:28:41,956 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,957 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,959 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,961 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,963 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,965 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,967 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,969 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,971 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,973 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:41,991 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,008 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,027 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,082 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,084 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,086 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,087 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,119 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,122 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,123 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,125 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,127 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,128 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,143 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,172 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,173 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,175 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,177 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,178 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,180 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,216 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,219 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,223 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,265 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,293 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,339 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,341 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,343 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-29 16:28:42,362 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-29 16:28:42,362 Line:254 --------AdvanceAction.restart 刷新已启用工作流initWorkFlowInfo 成功-----------
 [DEBUG] 2017-12-29 16:28:42,365 Line:266 --------AdvanceAction.restart 刷新报表显示配置initReportShowSet 成功-----------
 [DEBUG] 2017-12-29 16:28:42,373 Line:275 --------AdvanceAction.restart 刷新KK缓存  成功-----------
 [DEBUG] 2017-12-29 16:28:43,911 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index&winCurIndex=null
 [DEBUG] 2017-12-29 16:28:43,912 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];winCurIndex=[null,];
 [DEBUG] 2017-12-29 16:28:44,625 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 16:28:44,626 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 16:28:44,628 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:28:44,692 Line:5227 GlobalsTool.js 生成js 时间19:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:28:44,711 Line:5227 GlobalsTool.js 生成js 时间18:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:28:44,835 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 16:28:44,836 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 16:28:44,847 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 16:28:44,848 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:28:44,849 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:28:44,859 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 16:28:44,859 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:28:44,860 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:28:44,865 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 16:28:44,866 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:28:44,867 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:28:44,871 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 16:28:44,872 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:28:44,872 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:28:54,746 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 16:28:54,746 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 16:28:54,747 Line:215 ---------->SET Page 1 DEFAULT URL = /OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:28:54,773 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:01,851 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:29:01,852 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];loginId=[,];type=[deliverToAll,];approveStatus=[transing,];empFullName=[,];deptFullName=[,];tableFullName=[,];addTHhead=[$addTHhead,];keyWord=[,];timeType=[,];beginTime=[,];endTime=[,];flowBelong=[all,];keyId=[2cf86be0_1712291627294680076,2cf86be0_1712291545440450016,];pageNo=[1,];pageSize=[100,];
 [DEBUG] 2017-12-29 16:29:08,148 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing&&winCurIndex=null
 [DEBUG] 2017-12-29 16:29:08,148 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing,];winCurIndex=[null,];
 [DEBUG] 2017-12-29 16:29:08,152 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:12,538 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:29:12,539 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];loginId=[,];type=[deliverToAll,];approveStatus=[transing,];empFullName=[,];deptFullName=[,];tableFullName=[,];addTHhead=[$addTHhead,];keyWord=[,];timeType=[,];beginTime=[,];endTime=[,];flowBelong=[all,];keyId=[2cf86be0_1712291627294680076,];pageNo=[1,];pageSize=[100,];
 [DEBUG] 2017-12-29 16:29:14,013 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing&&winCurIndex=null
 [DEBUG] 2017-12-29 16:29:14,014 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing,];winCurIndex=[null,];
 [DEBUG] 2017-12-29 16:29:14,025 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:17,530 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing&addTHhead=$addTHhead
 [DEBUG] 2017-12-29 16:29:17,531 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing,];addTHhead=[$addTHhead,];
 [DEBUG] 2017-12-29 16:29:17,536 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:18,358 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=consignation&addTHhead=$addTHhead
 [DEBUG] 2017-12-29 16:29:18,358 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[consignation,];addTHhead=[$addTHhead,];
 [DEBUG] 2017-12-29 16:29:18,390 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and exists(select id from OAWorkConsignation where state=1 and CongignUserID='1' and CHARINDEX(';'+userId+';',a.checkPerson)>0 and (CHARINDEX((select sameFlow+';' from OAWorkFlowTemplate where id=a.applyType),flowName)>0 or len(ISNULL(flowName,''))=0) and substring(convert(varchar,GETDATE(),120),0,11)>=beginTime  and substring(convert(varchar,GETDATE(),120),0,11)<=endTime ) ) k
 [DEBUG] 2017-12-29 16:29:18,976 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing2&addTHhead=$addTHhead
 [DEBUG] 2017-12-29 16:29:18,976 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing2,];addTHhead=[$addTHhead,];
 [DEBUG] 2017-12-29 16:29:18,998 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:19,550 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=finish&addTHhead=$addTHhead
 [DEBUG] 2017-12-29 16:29:19,550 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[finish,];addTHhead=[$addTHhead,];
 [DEBUG] 2017-12-29 16:29:19,577 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode='-1' ) k
 [DEBUG] 2017-12-29 16:29:20,718 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing&addTHhead=$addTHhead
 [DEBUG] 2017-12-29 16:29:20,719 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing,];addTHhead=[$addTHhead,];
 [DEBUG] 2017-12-29 16:29:20,727 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:23,113 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:29:23,113 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];loginId=[,];type=[deliverToAll,];approveStatus=[transing,];empFullName=[,];deptFullName=[,];tableFullName=[,];addTHhead=[$addTHhead,];keyWord=[,];timeType=[,];beginTime=[,];endTime=[,];flowBelong=[all,];pageNo=[1,];pageSize=[100,];
 [DEBUG] 2017-12-29 16:29:23,119 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:24,465 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-29 16:29:24,465 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-29 16:29:24,466 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:29:24,572 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-29 16:29:24,573 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-29 16:29:24,584 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-29 16:29:24,585 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:29:24,585 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:29:24,595 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-29 16:29:24,595 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:29:24,596 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:29:24,601 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-29 16:29:24,601 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:29:24,602 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:29:24,607 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-29 16:29:24,608 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-29 16:29:24,608 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-29 16:29:30,702 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:29:30,702 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:29:30,702 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:30,717 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:29:30,718 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"2cf86be0_1712291545440450016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"15:45","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2017-12-29 16:29:34,574 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=OutStytle
 [DEBUG] 2017-12-29 16:29:34,576 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[OutStytle,];
 [DEBUG] 2017-12-29 16:29:34,576 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:34,576 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:29:34,578 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNwaichushenqingdan2,];
 [DEBUG] 2017-12-29 16:29:34,578 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"售前沟通","value":"1"},{"name":"售后服务","value":"2"},{"name":"售前支持","value":"3"},{"name":"其他","value":"4"}]}
 [DEBUG] 2017-12-29 16:29:34,579 Line:243 AIOApi op=addPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:34,607 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNwaichushenqingdan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271735151410134","tableName":"FlowNwaichushenqingdan2","fieldName":"Billno","isNull":0,"defaultValue":"SS1712290006","fieldType":2,"maxLength等等！
 [DEBUG] 2017-12-29 16:29:39,596 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=OutStytle
 [DEBUG] 2017-12-29 16:29:39,597 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[OutStytle,];
 [DEBUG] 2017-12-29 16:29:39,597 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:39,599 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"售前沟通","value":"1"},{"name":"售后服务","value":"2"},{"name":"售前支持","value":"3"},{"name":"其他","value":"4"}]}
 [DEBUG] 2017-12-29 16:29:39,600 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:29:39,604 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNwaichushenqingdan2,];
 [DEBUG] 2017-12-29 16:29:39,605 Line:243 AIOApi op=addPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:39,629 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNwaichushenqingdan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271735151410134","tableName":"FlowNwaichushenqingdan2","fieldName":"Billno","isNull":0,"defaultValue":"SS1712290007","fieldType":2,"maxLength等等！
 [DEBUG] 2017-12-29 16:29:52,584 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2017-12-29 16:29:52,584 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[FlowNwaichushenqingdan2,];saveType=[,];values=[{"Sqdate":"2017-12-29","SqdateShowDate":"2017-12-29T08:27:04.425Z","EmployeeID":"1","tblEmployee.EmpFullName":"admin","DepartmentCode":"","OutStytle":"1","selectOption":[{"name":"请选择","value":""},{"name":"售前沟通","value":"1"},{"name":"售后服务","value":"2"},{"name":"售前支持","value":"3"},{"name":"其他","value":"4"}],"Yytime":"2017-12-29 16:27:04","YytimeShowDate":"2017-12-29T08:27:04.425Z","Wctime":"2017-12-29 16:27:04","WctimeShowDate":"2017-12-29T08:27:04.425Z","Fhtime":"2017-12-29 16:27:04","FhtimeShowDate":"2017-12-29T08:27:04.425Z","_dtPickerFill":"","_dtPickerFillFmt":"","Outpo":"123","companyname":"123","Outdue":"123","retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"updateRight":false,"createByName":null,"createTime":null,"workFlowNode":null,"opType":"add"},];defineInfo=[,];
 [DEBUG] 2017-12-29 16:29:52,585 Line:243 AIOApi op=add&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:52,587 Line:5847  INSERT INTO  FlowNwaichushenqingdan2(checkPersons,id,isCatalog,workFlowNode,workFlowNodeName,DepartmentCode,EmployeeID,Sqdate,Wctime,Fhtime,Yytime,companyname,OutStytle,Outdue,Outpo,createBy,createTime,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 16:29:52,587 Line:5853 1:;1;
 [DEBUG] 2017-12-29 16:29:52,587 Line:5853 2:2cf86be0_1712291629525870083
 [DEBUG] 2017-12-29 16:29:52,588 Line:5853 3:0
 [DEBUG] 2017-12-29 16:29:52,589 Line:5853 4:0
 [DEBUG] 2017-12-29 16:29:52,589 Line:5853 5:notApprove
 [DEBUG] 2017-12-29 16:29:52,589 Line:5853 6:
 [DEBUG] 2017-12-29 16:29:52,589 Line:5853 7:1
 [DEBUG] 2017-12-29 16:29:52,589 Line:5853 8:2017-12-29
 [DEBUG] 2017-12-29 16:29:52,589 Line:5853 9:2017-12-29 16:27:04
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 10:2017-12-29 16:27:04
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 11:2017-12-29 16:27:04
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 12:123
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 13:1
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 14:123
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 15:123
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 16:1
 [DEBUG] 2017-12-29 16:29:52,590 Line:5853 17:2017-12-29 16:29:52
 [DEBUG] 2017-12-29 16:29:52,591 Line:5853 18:0
 [DEBUG] 2017-12-29 16:29:52,591 Line:5853 19:00001
 [DEBUG] 2017-12-29 16:29:52,591 Line:5853 20:0
 [DEBUG] 2017-12-29 16:29:52,591 Line:5853 21:
 [DEBUG] 2017-12-29 16:29:52,591 Line:5853 22:1
 [DEBUG] 2017-12-29 16:29:52,591 Line:5853 23:2017-12-29 16:29:52
 [DEBUG] 2017-12-29 16:29:52,594 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:29:52,595 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:29:52,595 Line:108 插入OAMyWorkFlow表开始 designId=d7068534_1712271733359840128;tableName=FlowNwaichushenqingdan2;id=2cf86be0_1712291629525870083;loginBean=1;locale=zh_CN
 [DEBUG] 2017-12-29 16:29:52,604 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"添加成功","obj":{"msg":"添加成功","keyId":"2cf86be0_1712291629525870083"}}
 [DEBUG] 2017-12-29 16:29:52,618 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverToPrepare
 [DEBUG] 2017-12-29 16:29:52,618 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverToPrepare,];tableName=[FlowNwaichushenqingdan2,];keyId=[2cf86be0_1712291629525870083,];
 [DEBUG] 2017-12-29 16:29:52,619 Line:243 AIOApi op=deliverToPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:52,620 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291629525870083' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2017-12-29 16:29:52,633 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:29:52,633 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNwaichushenqingdan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:29:52,646 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"nextNodes":[{"keyId":"1514367705927","zAction":"CHECK","display":"部门主管","useAllApprove":false,"forwardTime":false,"approvePeople":"","checkPeople":[["2cf86be0_1712291628149430079","Boos"]]}],"currNode":{"keyId":"0","zAction":"START","display":"开始","useAllApprove":false,"forwardTime":false,"approvePeople":"","checkPeople":[]},"moduleName":"外出申请单","designId":"d7068534_1712271733359840128","keyId":"2cf86be0_1712291629525870083","dispenseWake":"","tableName":"FlowNwaich等等！
 [DEBUG] 2017-12-29 16:29:58,667 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverTo
 [DEBUG] 2017-12-29 16:29:58,668 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverTo,];tableName=[FlowNwaichushenqingdan2,];keyId=[2cf86be0_1712291629525870083,];type=[,];nextStep=[1514367705927,];currNode=[0,];designId=[d7068534_1712271733359840128,];checkPerson=[2cf86be0_1712291628149430079,];deliverance=[,];
 [DEBUG] 2017-12-29 16:29:58,669 Line:243 AIOApi op=deliverTo&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:29:58,669 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291629525870083' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2017-12-29 16:29:58,672 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291629525870083' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2017-12-29 16:29:58,674 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:29:58,674 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNwaichushenqingdan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:29:58,742 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"审批成功！"}
 [DEBUG] 2017-12-29 16:30:06,658 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 16:30:06,659 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 16:30:06,659 Line:243 AIOApi op=getSessEmp&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:06,660 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 16:30:06,882 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 16:30:06,882 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 16:30:06,882 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:06,883 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 16:30:08,382 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:30:08,382 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:30:08,382 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:08,385 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:30:08,387 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"2cf86be0_1712291545440450016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"15:45","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2017-12-29 16:30:11,133 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:30:11,134 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[consignation,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:30:11,134 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:11,149 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and exists(select id from OAWorkConsignation where state=1 and CongignUserID='1' and CHARINDEX(';'+userId+';',a.checkPerson)>0 and (CHARINDEX((select sameFlow+';' from OAWorkFlowTemplate where id=a.applyType),flowName)>0 or len(ISNULL(flowName,''))=0) and substring(convert(varchar,GETDATE(),120),0,11)>=beginTime  and substring(convert(varchar,GETDATE(),120),0,11)<=endTime ) ) k
 [DEBUG] 2017-12-29 16:30:11,149 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":0,"list":[]}}
 [DEBUG] 2017-12-29 16:30:12,022 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:30:12,023 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:30:12,023 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:12,033 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:30:12,034 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"2cf86be0_1712291629525870083","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeC等等！
 [DEBUG] 2017-12-29 16:30:24,190 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=LeavebillType
 [DEBUG] 2017-12-29 16:30:24,191 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[LeavebillType,];
 [DEBUG] 2017-12-29 16:30:24,192 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:24,192 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:30:24,193 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"产检","value":"3"},{"name":"产假","value":"4"},{"name":"婚假","value":"5"},{"name":"调休","value":"6"},{"name":"其他","value":"7"}]}
 [DEBUG] 2017-12-29 16:30:24,193 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2017-12-29 16:30:24,193 Line:243 AIOApi op=addPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:24,218 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"FlowNqingjiadan2"},"childTableList":[],"fieldList":[{"id":"d7068534_1712271715161780058","tableName":"FlowNqingjiadan2","fieldName":"DepartmentCode","isNull":0,"defaultValue":"@Sess:DepartmentCode;@Sess:DepartmentName","等等！
 [DEBUG] 2017-12-29 16:30:36,833 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2017-12-29 16:30:36,834 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[FlowNqingjiadan2,];saveType=[,];values=[{"mark":"123","PF":"","due":"123","duty":"","tblEmployee.EmpFullName":"admin","EmployeeID":"1","DepartmentCode":"","Kstime":"2017-12-29 16:30:00","KstimeShowDate":"2017-12-29T08:30:00.000Z","Jstime":"2017-12-29 16:30:00","JstimeShowDate":"2017-12-29T08:30:00.000Z","LeavebillType":"1","Hhtime":"2017-12-29 16:30:00","HhtimeShowDate":"2017-12-29T08:30:00.000Z","qjtime":"1","_dtPickerFill":"","selectOption":[{"name":"请选择","value":""},{"name":"事假","value":"1"},{"name":"病假","value":"2"},{"name":"产检","value":"3"},{"name":"产假","value":"4"},{"name":"婚假","value":"5"},{"name":"调休","value":"6"},{"name":"其他","value":"7"}],"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"updateRight":false,"createByName":null,"createTime":null,"workFlowNode":null,"opType":"add"},];defineInfo=[,];
 [DEBUG] 2017-12-29 16:30:36,834 Line:243 AIOApi op=add&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:36,835 Line:5847  INSERT INTO  FlowNqingjiadan2(DepartmentCode,checkPersons,id,isCatalog,workFlowNode,workFlowNodeName,EmployeeID,duty,LeavebillType,due,Kstime,Jstime,PF,mark,Hhtime,qjtime,SCompanyID,statusId,printCount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-29 16:30:36,835 Line:5853 1:
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 2:;1;
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 3:2cf86be0_1712291630368350087
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 4:0
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 5:0
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 6:notApprove
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 7:1
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 8:
 [DEBUG] 2017-12-29 16:30:36,836 Line:5853 9:1
 [DEBUG] 2017-12-29 16:30:36,837 Line:5853 10:123
 [DEBUG] 2017-12-29 16:30:36,837 Line:5853 11:2017-12-29 16:30:00
 [DEBUG] 2017-12-29 16:30:36,837 Line:5853 12:2017-12-29 16:30:00
 [DEBUG] 2017-12-29 16:30:36,837 Line:5853 13:
 [DEBUG] 2017-12-29 16:30:36,837 Line:5853 14:123
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 15:2017-12-29 16:30:00
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 16:1
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 17:00001
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 18:0
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 19:0
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 20:1
 [DEBUG] 2017-12-29 16:30:36,838 Line:5853 21:2017-12-29 16:30:36
 [DEBUG] 2017-12-29 16:30:36,839 Line:5853 22:
 [DEBUG] 2017-12-29 16:30:36,839 Line:5853 23:1
 [DEBUG] 2017-12-29 16:30:36,839 Line:5853 24:2017-12-29 16:30:36
 [DEBUG] 2017-12-29 16:30:36,844 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:30:36,845 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:30:36,846 Line:108 插入OAMyWorkFlow表开始 designId=d7068534_1712271714503740050;tableName=FlowNqingjiadan2;id=2cf86be0_1712291630368350087;loginBean=1;locale=zh_CN
 [DEBUG] 2017-12-29 16:30:36,850 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"添加成功","obj":{"msg":"添加成功","keyId":"2cf86be0_1712291630368350087"}}
 [DEBUG] 2017-12-29 16:30:37,325 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverToPrepare
 [DEBUG] 2017-12-29 16:30:37,326 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverToPrepare,];tableName=[FlowNqingjiadan2,];keyId=[2cf86be0_1712291630368350087,];
 [DEBUG] 2017-12-29 16:30:37,326 Line:243 AIOApi op=deliverToPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:37,326 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291630368350087' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:30:37,333 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:30:37,334 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:30:37,337 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"nextNodes":[{"keyId":"1514534674612","zAction":"CHECK","display":"部门主管","useAllApprove":false,"forwardTime":false,"approvePeople":"","checkPeople":[["2cf86be0_1712291628149430079","Boos"]]}],"currNode":{"keyId":"0","zAction":"START","display":"开始","useAllApprove":false,"forwardTime":false,"approvePeople":"","checkPeople":[]},"moduleName":"请假单","designId":"d7068534_1712271714503740050","keyId":"2cf86be0_1712291630368350087","dispenseWake":"","tableName":"FlowNqingjia等等！
 [DEBUG] 2017-12-29 16:30:44,079 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverTo
 [DEBUG] 2017-12-29 16:30:44,081 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverTo,];tableName=[FlowNqingjiadan2,];keyId=[2cf86be0_1712291630368350087,];type=[,];nextStep=[1514534674612,];currNode=[0,];designId=[d7068534_1712271714503740050,];checkPerson=[2cf86be0_1712291628149430079,];deliverance=[,];
 [DEBUG] 2017-12-29 16:30:44,081 Line:243 AIOApi op=deliverTo&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:30:44,081 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291630368350087' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:30:44,085 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291630368350087' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:30:44,089 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:30:44,089 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:30:44,110 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"审批成功！"}
 [DEBUG] 2017-12-29 16:31:03,328 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:31:03,329 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[finish,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:31:03,329 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:31:03,345 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode='-1' ) k
 [DEBUG] 2017-12-29 16:31:03,345 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":0,"list":[]}}
 [DEBUG] 2017-12-29 16:31:07,633 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-29 16:31:07,634 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-29 16:31:07,635 Line:243 AIOApi op=getSessEmp&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:31:07,635 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-29 16:31:07,923 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:31:07,923 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:31:07,923 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:31:07,926 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:31:07,927 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"2cf86be0_1712291545440450016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"15:45","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2017-12-29 16:31:09,553 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-29 16:31:09,553 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-29 16:31:09,553 Line:243 AIOApi op=myworkflow&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:31:09,555 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:31:09,556 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"d7068534_1712271714503740050","templateName":"请假单","orderIndex":0,"billId":"2cf86be0_1712291630368350087","applyContent":"","currentNode":"1514534674612","nextNodeIds":"","tableName":"FlowNqingjiadan2","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperso等等！
 [DEBUG] 2017-12-29 16:31:38,104 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?src=menu&winCurIndex=1
 [DEBUG] 2017-12-29 16:31:38,105 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-29 16:31:38,105 Line:215 ---------->SET Page 1 DEFAULT URL = /OAMyWorkFlow.do
 [DEBUG] 2017-12-29 16:31:38,114 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:31:39,958 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?operation=4&approveStatus=transing2&addTHhead=$addTHhead
 [DEBUG] 2017-12-29 16:31:39,959 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];approveStatus=[transing2,];addTHhead=[$addTHhead,];
 [DEBUG] 2017-12-29 16:31:39,971 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-29 16:31:41,832 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=FlowNqingjiadan2&noback=true&parentTableName=&currNodeId=1514534674612&keyId=2cf86be0_1712291630368350087&operation=5&designId=d7068534_1712271714503740050&approveStatus=transing2&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:31:41,833 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNqingjiadan2,];noback=[true,];parentTableName=[,];currNodeId=[1514534674612,];keyId=[2cf86be0_1712291630368350087,];operation=[5,];designId=[d7068534_1712271714503740050,];approveStatus=[transing2,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:31:41,834 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291630368350087' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-29 16:31:41,839 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:31:41,840 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:31:41,898 Line:5227 GlobalsTool.js 生成js 时间11:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:31:41,979 Line:5227 GlobalsTool.js 生成js 时间81:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:31:41,991 Line:5227 GlobalsTool.js 生成js 时间11:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-29 16:31:42,551 Line:5227 GlobalsTool.js 生成js 时间560:/js/gen/define.vjsFlowNqingjiadan2_zh_CN.js
 [DEBUG] 2017-12-29 16:31:49,276 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=FlowNwaichushenqingdan2&noback=true&parentTableName=&currNodeId=1514367705927&keyId=2cf86be0_1712291629525870083&operation=5&designId=d7068534_1712271733359840128&approveStatus=transing2&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-29 16:31:49,278 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNwaichushenqingdan2,];noback=[true,];parentTableName=[,];currNodeId=[1514367705927,];keyId=[2cf86be0_1712291629525870083,];operation=[5,];designId=[d7068534_1712271733359840128,];approveStatus=[transing2,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-29 16:31:49,279 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291629525870083' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2017-12-29 16:31:49,284 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:31:49,285 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNwaichushenqingdan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-29 16:31:49,938 Line:5227 GlobalsTool.js 生成js 时间629:/js/gen/define.vjsFlowNwaichushenqingdan2_zh_CN.js
 [DEBUG] 2017-12-29 16:32:24,457 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-29 16:32:24,457 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-29 16:32:24,457 Line:243 AIOApi op=getEnum&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:32:24,458 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-29 16:32:26,279 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2017-12-29 16:32:26,280 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblexpenseaccount,];
 [DEBUG] 2017-12-29 16:32:26,280 Line:243 AIOApi op=addPrepare&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:32:26,300 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"tblexpenseaccount"},"childTableList":["tblexpenseaccountDet"],"fieldList":[{"id":"16498250_1107300945503685467","tableName":"tblexpenseaccount","fieldName":"BillNo","isNull":1,"defaultValue":"SS1712290071","fieldType":2,等等！
 [DEBUG] 2017-12-29 16:32:47,745 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 16:32:47,746 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2017-12-29 16:32:47,746 Line:243 AIOApi op=popup&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:32:47,747 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2017-12-29 16:32:47,749 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"0000","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"Boos","tblEmployee_TitleID":"","EmployeeID":"2cf86be0_1712291628149430079","tblEmployee_EmpFullName":"Boos","tblEmployee_Mobile":""},{"DepartmentCode":"00101","tblEmployee_EmpNumber":"admin","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"","等等！
 [DEBUG] 2017-12-29 16:32:53,714 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-29 16:32:53,715 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2017-12-29 16:32:53,715 Line:243 AIOApi op=popup&sessionid=A63086816E1C9F5BF9F1AEC9C2D20D6A
 [DEBUG] 2017-12-29 16:32:53,716 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2017-12-29 16:32:53,718 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"0000","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"Boos","tblEmployee_TitleID":"","EmployeeID":"2cf86be0_1712291628149430079","tblEmployee_EmpFullName":"Boos","tblEmployee_Mobile":""},{"DepartmentCode":"00101","tblEmployee_EmpNumber":"admin","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"","等等！
 [DEBUG] 2017-12-29 16:36:46,855 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [INFO ] 2017-12-30 18:02:27,225 Line:206 系统开始启动，最大内存：1792;目前总内存：299;目前空闲内存：202
 [INFO ] 2017-12-30 18:02:27,335 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-30 18:02:31,235 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-30 18:02:31,391 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-30 18:02:31,407 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-30 18:02:31,407 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-30 18:02:31,407 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-30 18:02:31,423 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-30 18:02:31,423 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-30 18:02:32,478 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 18:02:32,504 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-30 18:02:32,535 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-30 18:02:32,550 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-30 18:02:33,471 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-30 18:02:33,471 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-30 18:02:34,069 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-30 18:02:34,140 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-30 18:02:34,937 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-30 18:02:34,968 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-30 18:02:34,984 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-30 18:02:34,999 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-30 18:02:35,031 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-30 18:02:35,031 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-30 18:02:35,095 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-30 18:02:38,452 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-30 18:02:38,706 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,706 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,706 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,706 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,706 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,721 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,721 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,721 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,721 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,721 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,807 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,849 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,875 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,948 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,953 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:38,955 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,007 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,009 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,013 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,016 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,019 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,022 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,049 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,087 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,089 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,091 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,094 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,096 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,098 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,156 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,162 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,252 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,299 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,301 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,303 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:02:39,330 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-30 18:02:39,351 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-30 18:02:39,408 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-30 18:02:39,858 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-30 18:02:39,858 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-30 18:02:41,043 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-30 00:00:00
 [INFO ] 2017-12-30 18:02:41,043 Line:144 SAFE 备份任务开始执行，时间2017-12-30 18:02:41
 [INFO ] 2017-12-30 18:02:41,053 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [INFO ] 2017-12-30 18:02:45,975 Line:148 SAFE 备份任务执行成功，时间2017-12-30 18:02:45
 [DEBUG] 2017-12-30 18:03:40,313 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 18:04:54,085 Line:5227 GlobalsTool.js 生成js 时间47:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:04:54,166 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-30 18:04:54,168 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-30 18:04:54,452 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514628294419
 [DEBUG] 2017-12-30 18:04:54,468 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514628294419,];
 [DEBUG] 2017-12-30 18:04:54,539 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-30 18:04:54,540 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-30 18:04:56,818 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514628296817
 [DEBUG] 2017-12-30 18:04:56,818 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514628296817,];
 [DEBUG] 2017-12-30 18:04:56,879 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514628296878
 [DEBUG] 2017-12-30 18:04:56,880 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514628296878,];
 [DEBUG] 2017-12-30 18:04:56,953 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-30 18:04:56,954 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 18:04:57,008 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 18:04:57,021 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 18:04:57,138 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 18:04:57,139 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 18:04:57,149 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:04:57,339 Line:5227 GlobalsTool.js 生成js 时间30:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:04:57,672 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 18:04:57,672 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 18:04:57,672 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:04:57,672 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 18:04:57,673 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:04:57,687 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 18:04:57,687 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:04:57,688 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:04:57,698 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 18:04:57,699 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:04:57,700 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:04:57,709 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 18:04:57,710 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:04:57,710 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:05:04,091 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-30 18:05:04,091 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 18:05:04,091 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-30 18:05:04,601 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-30 18:05:04,617 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-30 18:05:04,646 Line:689 通过SQL读原始数据：29
 [DEBUG] 2017-12-30 18:05:04,653 Line:1391 整理数据：7
 [DEBUG] 2017-12-30 18:05:04,835 Line:5227 GlobalsTool.js 生成js 时间36:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:05:04,885 Line:5227 GlobalsTool.js 生成js 时间50:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 18:05:06,671 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 18:05:06,672 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 18:05:06,790 Line:5227 GlobalsTool.js 生成js 时间17:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:05:07,079 Line:5227 GlobalsTool.js 生成js 时间289:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 18:05:09,330 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 18:05:09,331 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 18:05:09,418 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 18:05:09,418 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 18:05:09,418 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 18:05:09,419 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 18:05:09,419 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-30 18:05:09,459 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 18:05:09,565 Line:5227 GlobalsTool.js 生成js 时间31:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:05:09,612 Line:5227 GlobalsTool.js 生成js 时间46:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:05:11,801 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 18:05:11,802 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 18:05:11,831 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 18:05:11,831 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 18:05:11,832 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 18:05:11,832 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-30 18:05:11,833 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 18:05:11,839 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 18:05:14,883 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-30 18:05:14,884 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-30 18:05:14,916 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 18:05:14,916 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-30 18:05:14,916 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 18:05:14,917 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 18:05:14,917 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-30 18:05:14,983 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 18:05:27,308 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-30 18:05:27,310 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712300023,];BillDate=[2017-12-30,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-30 18:05:27,312 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-30 18:05:27,334 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 18:05:27,335 Line:5853 1:0.0
 [DEBUG] 2017-12-30 18:05:27,335 Line:5853 2:
 [DEBUG] 2017-12-30 18:05:27,335 Line:5853 3:8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,335 Line:5853 4:-1
 [DEBUG] 2017-12-30 18:05:27,336 Line:5853 5:finish
 [DEBUG] 2017-12-30 18:05:27,336 Line:5853 6:0.0
 [DEBUG] 2017-12-30 18:05:27,336 Line:5853 7:0
 [DEBUG] 2017-12-30 18:05:27,336 Line:5853 8:0.0
 [DEBUG] 2017-12-30 18:05:27,336 Line:5853 9:BI1712300023
 [DEBUG] 2017-12-30 18:05:27,337 Line:5853 10:2017-12-30
 [DEBUG] 2017-12-30 18:05:27,337 Line:5853 11:00003
 [DEBUG] 2017-12-30 18:05:27,337 Line:5853 12:00101
 [DEBUG] 2017-12-30 18:05:27,337 Line:5853 13:1
 [DEBUG] 2017-12-30 18:05:27,338 Line:5853 14:00001
 [DEBUG] 2017-12-30 18:05:27,338 Line:5853 15:3
 [DEBUG] 2017-12-30 18:05:27,339 Line:5853 16:0.0
 [DEBUG] 2017-12-30 18:05:27,339 Line:5853 17:0.0
 [DEBUG] 2017-12-30 18:05:27,340 Line:5853 18:0.0
 [DEBUG] 2017-12-30 18:05:27,340 Line:5853 19:0.0
 [DEBUG] 2017-12-30 18:05:27,340 Line:5853 20:
 [DEBUG] 2017-12-30 18:05:27,340 Line:5853 21:0.0
 [DEBUG] 2017-12-30 18:05:27,340 Line:5853 22:0.0
 [DEBUG] 2017-12-30 18:05:27,341 Line:5853 23:0.0
 [DEBUG] 2017-12-30 18:05:27,341 Line:5853 24:
 [DEBUG] 2017-12-30 18:05:27,341 Line:5853 25:0.0
 [DEBUG] 2017-12-30 18:05:27,341 Line:5853 26:0.0
 [DEBUG] 2017-12-30 18:05:27,341 Line:5853 27:0.0
 [DEBUG] 2017-12-30 18:05:27,342 Line:5853 28:
 [DEBUG] 2017-12-30 18:05:27,342 Line:5853 29:12
 [DEBUG] 2017-12-30 18:05:27,342 Line:5853 30:12
 [DEBUG] 2017-12-30 18:05:27,342 Line:5853 31:2017
 [DEBUG] 2017-12-30 18:05:27,342 Line:5853 32:
 [DEBUG] 2017-12-30 18:05:27,342 Line:5853 33:0.0
 [DEBUG] 2017-12-30 18:05:27,343 Line:5853 34:0.0
 [DEBUG] 2017-12-30 18:05:27,343 Line:5853 35:0.0
 [DEBUG] 2017-12-30 18:05:27,343 Line:5853 36:
 [DEBUG] 2017-12-30 18:05:27,343 Line:5853 37:
 [DEBUG] 2017-12-30 18:05:27,343 Line:5853 38:
 [DEBUG] 2017-12-30 18:05:27,343 Line:5853 39:0.0
 [DEBUG] 2017-12-30 18:05:27,344 Line:5853 40:0.0
 [DEBUG] 2017-12-30 18:05:27,344 Line:5853 41:
 [DEBUG] 2017-12-30 18:05:27,344 Line:5853 42:
 [DEBUG] 2017-12-30 18:05:27,344 Line:5853 43:100.0
 [DEBUG] 2017-12-30 18:05:27,344 Line:5853 44:0.0
 [DEBUG] 2017-12-30 18:05:27,345 Line:5853 45:0.0
 [DEBUG] 2017-12-30 18:05:27,345 Line:5853 46:
 [DEBUG] 2017-12-30 18:05:27,345 Line:5853 47:1.0
 [DEBUG] 2017-12-30 18:05:27,345 Line:5853 48:1.0
 [DEBUG] 2017-12-30 18:05:27,345 Line:5853 49:1.0
 [DEBUG] 2017-12-30 18:05:27,345 Line:5853 50:0.0
 [DEBUG] 2017-12-30 18:05:27,346 Line:5853 51:1.0
 [DEBUG] 2017-12-30 18:05:27,346 Line:5853 52:
 [DEBUG] 2017-12-30 18:05:27,346 Line:5853 53:
 [DEBUG] 2017-12-30 18:05:27,346 Line:5853 54:0.0
 [DEBUG] 2017-12-30 18:05:27,346 Line:5853 55:0.0
 [DEBUG] 2017-12-30 18:05:27,346 Line:5853 56:0.0
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 57:0
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 58:00001
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 59:0
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 60:2017-12-30 18:05:27
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 61:1
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 62:2017-12-30 18:05:27
 [DEBUG] 2017-12-30 18:05:27,347 Line:5853 63:1
 [DEBUG] 2017-12-30 18:05:27,348 Line:5853 64:2017-12-30 18:05:27
 [DEBUG] 2017-12-30 18:05:27,417 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 18:05:27,417 Line:5853 1:8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,418 Line:5853 2:8109c408_1712301805274170003
 [DEBUG] 2017-12-30 18:05:27,418 Line:5853 3:
 [DEBUG] 2017-12-30 18:05:27,418 Line:5853 4:
 [DEBUG] 2017-12-30 18:05:27,418 Line:5853 5:
 [DEBUG] 2017-12-30 18:05:27,418 Line:5853 6:
 [DEBUG] 2017-12-30 18:05:27,418 Line:5853 7:0000300001
 [DEBUG] 2017-12-30 18:05:27,419 Line:5853 8:
 [DEBUG] 2017-12-30 18:05:27,419 Line:5853 9:
 [DEBUG] 2017-12-30 18:05:27,419 Line:5853 10:
 [DEBUG] 2017-12-30 18:05:27,419 Line:5853 11:
 [DEBUG] 2017-12-30 18:05:27,419 Line:5853 12:
 [DEBUG] 2017-12-30 18:05:27,419 Line:5853 13:
 [DEBUG] 2017-12-30 18:05:27,420 Line:5853 14:
 [DEBUG] 2017-12-30 18:05:27,420 Line:5853 15:1.0
 [DEBUG] 2017-12-30 18:05:27,420 Line:5853 16:1.0
 [DEBUG] 2017-12-30 18:05:27,420 Line:5853 17:1.0
 [DEBUG] 2017-12-30 18:05:27,420 Line:5853 18:0.0
 [DEBUG] 2017-12-30 18:05:27,420 Line:5853 19:0
 [DEBUG] 2017-12-30 18:05:27,421 Line:5853 20:0.0
 [DEBUG] 2017-12-30 18:05:27,421 Line:5853 21:0.0
 [DEBUG] 2017-12-30 18:05:27,421 Line:5853 22:0.0
 [DEBUG] 2017-12-30 18:05:27,421 Line:5853 23:100.0
 [DEBUG] 2017-12-30 18:05:27,421 Line:5853 24:1.0
 [DEBUG] 2017-12-30 18:05:27,421 Line:5853 25:1.0
 [DEBUG] 2017-12-30 18:05:27,422 Line:5853 26:0.0
 [DEBUG] 2017-12-30 18:05:27,422 Line:5853 27:1.0
 [DEBUG] 2017-12-30 18:05:27,422 Line:5853 28:1.0
 [DEBUG] 2017-12-30 18:05:27,422 Line:5853 29:0.0
 [DEBUG] 2017-12-30 18:05:27,422 Line:5853 30:1.0
 [DEBUG] 2017-12-30 18:05:27,422 Line:5853 31:1.0
 [DEBUG] 2017-12-30 18:05:27,423 Line:5853 32:0.0
 [DEBUG] 2017-12-30 18:05:27,423 Line:5853 33:0.0
 [DEBUG] 2017-12-30 18:05:27,423 Line:5853 34:0.0
 [DEBUG] 2017-12-30 18:05:27,423 Line:5853 35:0.0
 [DEBUG] 2017-12-30 18:05:27,423 Line:5853 36:0.0
 [DEBUG] 2017-12-30 18:05:27,423 Line:5853 37:
 [DEBUG] 2017-12-30 18:05:27,424 Line:5853 38:0.0
 [DEBUG] 2017-12-30 18:05:27,424 Line:5853 39:0.0
 [DEBUG] 2017-12-30 18:05:27,424 Line:5853 40:0.0
 [DEBUG] 2017-12-30 18:05:27,424 Line:5853 41:0.0
 [DEBUG] 2017-12-30 18:05:27,425 Line:5853 42:0.0
 [DEBUG] 2017-12-30 18:05:27,425 Line:5853 43:0.0
 [DEBUG] 2017-12-30 18:05:27,425 Line:5853 44:0.0
 [DEBUG] 2017-12-30 18:05:27,426 Line:5853 45:0.0
 [DEBUG] 2017-12-30 18:05:27,426 Line:5853 46:0.0
 [DEBUG] 2017-12-30 18:05:27,426 Line:5853 47:0
 [DEBUG] 2017-12-30 18:05:27,426 Line:5853 48:0.0
 [DEBUG] 2017-12-30 18:05:27,427 Line:5853 49:0.0
 [DEBUG] 2017-12-30 18:05:27,427 Line:5853 50:0
 [DEBUG] 2017-12-30 18:05:27,427 Line:5853 51:
 [DEBUG] 2017-12-30 18:05:27,428 Line:5853 52:0.0
 [DEBUG] 2017-12-30 18:05:27,428 Line:5853 53:0.0
 [DEBUG] 2017-12-30 18:05:27,428 Line:5853 54:0.0
 [DEBUG] 2017-12-30 18:05:27,428 Line:5853 55:0
 [DEBUG] 2017-12-30 18:05:27,429 Line:5853 56:0
 [DEBUG] 2017-12-30 18:05:27,429 Line:5853 57:
 [DEBUG] 2017-12-30 18:05:27,430 Line:5853 58:0.0
 [DEBUG] 2017-12-30 18:05:27,430 Line:5853 59:0.0
 [DEBUG] 2017-12-30 18:05:27,430 Line:5853 60:
 [DEBUG] 2017-12-30 18:05:27,431 Line:5853 61:0.0
 [DEBUG] 2017-12-30 18:05:27,432 Line:5853 62:00001
 [DEBUG] 2017-12-30 18:05:27,654 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-30 18:05:27,923 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,923 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-30 18:05:27,925 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,926 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-30 18:05:27,926 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,927 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-30 18:05:27,928 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,928 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 18:05:27,929 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,929 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 18:05:27,930 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,930 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 18:05:27,931 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:27,932 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-30 18:05:27,933 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,933 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,933 Line:988 2值：2017-12-30
 [DEBUG] 2017-12-30 18:05:27,936 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 18:05:27,936 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:05:27,937 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,937 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 18:05:27,938 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,938 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,938 Line:988 2值：00003
 [DEBUG] 2017-12-30 18:05:27,942 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:05:27,942 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:05:27,943 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,943 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 18:05:27,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,944 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,944 Line:988 2值：00003
 [DEBUG] 2017-12-30 18:05:27,948 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:05:27,948 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:05:27,949 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,949 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-30 18:05:27,950 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,950 Line:988 1值：false
 [DEBUG] 2017-12-30 18:05:27,950 Line:988 2值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,954 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-30 18:05:27,954 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:05:27,955 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-30 18:05:27,956 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,956 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-30 18:05:27,956 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,956 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,961 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:05:27,961 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,962 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,962 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 18:05:27,963 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,963 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,965 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 18:05:27,966 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,967 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,967 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 18:05:27,967 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,968 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,970 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 18:05:27,970 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,972 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,972 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-30 18:05:27,973 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,973 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,979 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-30 18:05:27,980 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,981 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,981 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,982 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,982 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-30 18:05:27,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,983 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,988 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-30 18:05:27,989 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,990 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,990 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-30 18:05:27,992 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,992 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-30 18:05:27,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,993 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:27,994 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:05:27,994 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:27,995 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:27,997 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-30 18:05:27,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:27,997 Line:988 1值：1
 [DEBUG] 2017-12-30 18:05:27,997 Line:988 2值：0
 [DEBUG] 2017-12-30 18:05:27,997 Line:988 3值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,004 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-30 18:05:28,005 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-30 18:05:28,005 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-30 18:05:28,005 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-30 18:05:28,006 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,007 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-30 18:05:28,007 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,007 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,015 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-30 18:05:28,015 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:28,016 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,016 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-30 18:05:28,017 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,017 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,018 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:05:28,019 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:05:28,019 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,020 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-30 18:05:28,020 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,020 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,022 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:05:28,023 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-30 18:05:28,023 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,024 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 18:05:28,024 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,024 Line:988 1值：
 [DEBUG] 2017-12-30 18:05:28,024 Line:988 2值：00001
 [DEBUG] 2017-12-30 18:05:28,026 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:05:28,027 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-30 18:05:28,027 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,027 Line:988 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,028 Line:988 2值：
 [DEBUG] 2017-12-30 18:05:28,028 Line:988 3值：
 [DEBUG] 2017-12-30 18:05:28,028 Line:988 4值：
 [DEBUG] 2017-12-30 18:05:28,032 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:05:28,033 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-30 18:05:28,034 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,034 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:05:28,035 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,035 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-30 18:05:28,036 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,036 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-30 18:05:28,036 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,037 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 18:05:28,037 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,039 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-30 18:05:28,040 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 18:05:28,040 Line:1157 2值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,044 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,044 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-30 18:05:28,044 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 18:05:28,044 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 18:05:28,044 Line:1157 2值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,045 Line:1157 3值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,049 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,049 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-30 18:05:28,050 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 18:05:28,050 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,050 Line:1157 2值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,055 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,055 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-30 18:05:28,055 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-30 18:05:28,055 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,058 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,058 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 18:05:28,058 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-30 18:05:28,058 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,061 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,062 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 18:05:28,062 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-30 18:05:28,063 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,063 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-30 18:05:28,063 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,063 Line:1157 2值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,066 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,067 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 18:05:28,067 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-30 18:05:28,068 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,068 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-30 18:05:28,069 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,069 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-30 18:05:28,069 Line:1270 8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,069 Line:1270 add
 [DEBUG] 2017-12-30 18:05:28,135 Line:425 ************上述语句执行时间：66
 [DEBUG] 2017-12-30 18:05:28,135 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-30 18:05:28,136 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,136 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 18:05:28,137 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,148 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 18:05:28,149 Line:408 ************上述语句执行时间：13
 [DEBUG] 2017-12-30 18:05:28,149 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 18:05:28,149 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,159 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 18:05:28,159 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-30 18:05:28,159 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 18:05:28,160 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,160 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 18:05:28,161 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,161 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-30 18:05:28,162 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,176 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-30 18:05:28,177 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,177 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 18:05:28,178 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,178 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 18:05:28,178 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,179 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 18:05:28,179 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,179 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-30 18:05:28,180 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,180 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:05:28,181 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,181 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-30 18:05:28,182 Line:1157 1值：8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,184 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-30 18:05:28,184 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 18:05:28,184 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:05:28,185 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,185 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-30 18:05:28,186 Line:1270 8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,186 Line:1270 add
 [DEBUG] 2017-12-30 18:05:28,230 Line:425 ************上述语句执行时间：45
 [DEBUG] 2017-12-30 18:05:28,231 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-30 18:05:28,232 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,232 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-30 18:05:28,232 Line:1270 12
 [DEBUG] 2017-12-30 18:05:28,233 Line:1270 2017
 [DEBUG] 2017-12-30 18:05:28,233 Line:1270 12
 [DEBUG] 2017-12-30 18:05:28,233 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-30 18:05:28,233 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-30 18:05:28,233 Line:1270 8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,233 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 BI1712300023
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 1
 [DEBUG] 2017-12-30 18:05:28,234 Line:1270 1
 [DEBUG] 2017-12-30 18:05:28,235 Line:1270 2017-12-30 18:05:27
 [DEBUG] 2017-12-30 18:05:28,235 Line:1270 2017-12-30 18:05:27
 [DEBUG] 2017-12-30 18:05:28,235 Line:1270 00001
 [DEBUG] 2017-12-30 18:05:28,235 Line:1270 
 [DEBUG] 2017-12-30 18:05:28,235 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-30 18:05:28,235 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-30 18:05:28,236 Line:1270 00003
 [DEBUG] 2017-12-30 18:05:28,236 Line:1270 1
 [DEBUG] 2017-12-30 18:05:28,236 Line:1270 00101
 [DEBUG] 2017-12-30 18:05:28,236 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-30 18:05:28,236 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-30 18:05:28,237 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 18:05:28,237 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-30 18:05:28,237 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-30 18:05:28,238 Line:1270 0
 [DEBUG] 2017-12-30 18:05:28,238 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-30 18:05:28,238 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-30 18:05:28,238 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-30 18:05:28,238 Line:1270 f_ref='8109c408_1712301805273270002'
 [DEBUG] 2017-12-30 18:05:28,397 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'8109c408_1712301805273270002','2017-12-30','BI1712300023','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-30 18:05:27','2017-12-30 18:05:27','00001' from tblBuyInStockDet where f_ref='8109c408_1712301805273270002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-30 18:05:28,397 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-30 18:05:28,397 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 18:05:28,398 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 18:05:28,398 Line:425 ************上述语句执行时间：166
 [DEBUG] 2017-12-30 18:05:28,398 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-30 18:05:28,399 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,399 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:05:28,400 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,400 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-30 18:05:28,401 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,402 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:05:28,402 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-30 18:05:28,403 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,403 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-30 18:05:28,404 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,404 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-30 18:05:28,406 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,406 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-30 18:05:28,406 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,406 Line:988 1值：1
 [DEBUG] 2017-12-30 18:05:28,407 Line:988 2值：0
 [DEBUG] 2017-12-30 18:05:28,407 Line:988 3值：1
 [DEBUG] 2017-12-30 18:05:28,407 Line:988 4值：0
 [DEBUG] 2017-12-30 18:05:28,407 Line:988 5值：0
 [DEBUG] 2017-12-30 18:05:28,407 Line:988 6值：1
 [DEBUG] 2017-12-30 18:05:28,408 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-30 18:05:28,409 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-30 18:05:28,409 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-30 18:05:28,409 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 18:05:28,409 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-30 18:05:28,410 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,457 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-30 18:05:28,461 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-30 18:05:28,468 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,475 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,481 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,487 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,494 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,500 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,512 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:05:28,524 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-30 18:05:28,614 Line:434 ************上述语句执行时间：204
 [DEBUG] 2017-12-30 18:05:28,614 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-30 18:05:28,615 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,615 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-30 18:05:28,616 Line:1270 18109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,616 Line:1270 00003
 [DEBUG] 2017-12-30 18:05:28,616 Line:1270 1
 [DEBUG] 2017-12-30 18:05:28,616 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 18:05:28,616 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=8109c408_1712301805273270002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-30 18:05:27@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-30 18:05:27@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712300023@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-30 18:05:28,662 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('18109c408_1712301805273270002',18,'00003','2017-12-30','12','2017','12','0','1','8109c408_1712301805273270002','','1','0','1','1','2017-12-30 18:05:27','1','2017-12-30 18:05:27','00001','tblBuyInStock','BI1712300023','1','00101','0','')
 [DEBUG] 2017-12-30 18:05:28,662 Line:425 ************上述语句执行时间：47
 [DEBUG] 2017-12-30 18:05:28,662 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-30 18:05:28,663 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,663 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-30 18:05:28,664 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,665 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-30 18:05:28,666 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,666 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-30 18:05:28,667 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,667 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-30 18:05:28,669 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,669 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-30 18:05:28,670 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,671 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-30 18:05:28,671 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,671 Line:988 1值：1
 [DEBUG] 2017-12-30 18:05:28,671 Line:988 2值：0
 [DEBUG] 2017-12-30 18:05:28,671 Line:988 3值：1
 [DEBUG] 2017-12-30 18:05:28,671 Line:988 4值：0
 [DEBUG] 2017-12-30 18:05:28,672 Line:988 5值：0
 [DEBUG] 2017-12-30 18:05:28,672 Line:988 6值：0
 [DEBUG] 2017-12-30 18:05:28,673 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-30 18:05:28,673 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-30 18:05:28,673 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-30 18:05:28,673 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 18:05:28,674 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 18:05:28,674 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,675 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 18:05:28,675 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,675 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 18:05:28,676 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,676 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 18:05:28,677 Line:321 flag:false
 [DEBUG] 2017-12-30 18:05:28,677 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:05:28,677 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,678 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-30 18:05:28,678 Line:1270 8109c408_1712301805273270002
 [DEBUG] 2017-12-30 18:05:28,678 Line:1270 add
 [DEBUG] 2017-12-30 18:05:28,684 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 18:05:28,685 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-30 18:05:28,685 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:05:28,686 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-30 18:05:28,686 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-30 18:05:28,686 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-30 18:05:28,686 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-30 18:05:28,686 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-30 18:05:28,686 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-30 18:05:28,687 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:05:28,687 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 18:05:28,688 Line:321 flag:true
 [DEBUG] 2017-12-30 18:05:28,705 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-30 18:05:44,821 Line:127 HiveServlet.setMsg
 java.lang.NullPointerException
	at tzhive.HiveServlet.setMsg(HiveServlet.java:124)
	at tzhive.HiveServlet.optHive(HiveServlet.java:90)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2017-12-30 18:05:59,224 Line:1761 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：Result类型，retCode=-1000,retVal=更新枚举错误
 [ERROR] 2017-12-30 18:05:59,226 Line:3872 DynDBManager After add defineSql Error code = -1000 Msg=更新枚举错误
 [DEBUG] 2017-12-30 18:09:00,741 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 18:09:00,742 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 18:09:00,743 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:09:01,379 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 18:09:01,380 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 18:09:01,443 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 18:09:01,444 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:09:01,445 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:09:01,477 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 18:09:01,477 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:09:01,479 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:09:01,493 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 18:09:01,494 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:09:01,496 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:09:01,513 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 18:09:01,514 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:09:01,516 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:28:15,017 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-30 18:28:15,021 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-30 18:28:15,022 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-30 18:28:23,070 Line:206 系统开始启动，最大内存：1792;目前总内存：304;目前空闲内存：211
 [INFO ] 2017-12-30 18:28:23,258 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-30 18:28:27,955 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-30 18:28:28,133 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-30 18:28:28,133 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-30 18:28:28,149 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-30 18:28:28,149 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-30 18:28:28,149 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-30 18:28:28,164 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-30 18:28:29,190 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 18:28:29,265 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-30 18:28:29,296 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-30 18:28:29,312 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-30 18:28:30,252 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-30 18:28:30,252 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-30 18:28:30,792 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-30 18:28:30,877 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-30 18:28:31,627 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-30 18:28:31,647 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-30 18:28:31,662 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-30 18:28:31,662 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-30 18:28:31,678 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-30 18:28:31,694 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-30 18:28:31,725 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-30 18:28:34,518 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-30 18:28:34,771 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,771 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,771 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,771 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,771 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,846 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,862 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,893 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,955 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,955 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,955 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:34,971 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,002 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,002 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,002 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,018 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,018 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,018 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,049 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,096 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,205 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,237 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,299 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,299 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,299 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 18:28:35,331 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-30 18:28:35,346 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-30 18:28:35,409 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-30 18:28:36,049 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-30 18:28:36,049 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-30 18:28:37,853 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-31 00:00:00
 [INFO ] 2017-12-30 18:28:37,854 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-30 18:29:36,287 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 18:29:54,638 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 18:29:54,638 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-30 18:29:54,639 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-30 18:29:55,135 Line:5227 GlobalsTool.js 生成js 时间65:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:29:55,175 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-30 18:29:55,175 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-30 18:29:55,377 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514629795377
 [DEBUG] 2017-12-30 18:29:55,397 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514629795377,];
 [DEBUG] 2017-12-30 18:29:55,483 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-30 18:29:55,484 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-30 18:29:57,041 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514629797041
 [DEBUG] 2017-12-30 18:29:57,041 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514629797041,];
 [DEBUG] 2017-12-30 18:29:57,093 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514629797094
 [DEBUG] 2017-12-30 18:29:57,093 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514629797094,];
 [DEBUG] 2017-12-30 18:29:57,156 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-30 18:29:57,156 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 18:29:57,237 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 18:29:57,253 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 18:29:57,380 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 18:29:57,380 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 18:29:57,388 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:29:57,637 Line:5227 GlobalsTool.js 生成js 时间32:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:29:57,801 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 18:29:57,801 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 18:29:57,802 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:29:57,802 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 18:29:57,802 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:29:57,814 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 18:29:57,814 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:29:57,815 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:29:57,825 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 18:29:57,826 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:29:57,826 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:29:57,835 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 18:29:57,836 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 18:29:57,837 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 18:30:01,488 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-30 18:30:01,489 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 18:30:01,489 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-30 18:30:01,986 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-30 18:30:02,002 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-30 18:30:02,033 Line:689 通过SQL读原始数据：31
 [DEBUG] 2017-12-30 18:30:02,033 Line:1391 整理数据：0
 [DEBUG] 2017-12-30 18:30:02,424 Line:5227 GlobalsTool.js 生成js 时间94:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:30:02,553 Line:5227 GlobalsTool.js 生成js 时间129:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 18:30:04,010 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 18:30:04,012 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 18:30:04,378 Line:5227 GlobalsTool.js 生成js 时间21:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:30:05,320 Line:5227 GlobalsTool.js 生成js 时间942:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 18:30:08,649 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 18:30:08,650 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 18:30:08,720 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 18:30:08,720 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 18:30:08,721 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 18:30:08,721 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 18:30:08,722 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-30 18:30:08,755 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 18:30:08,938 Line:5227 GlobalsTool.js 生成js 时间23:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:30:08,970 Line:5227 GlobalsTool.js 生成js 时间32:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 18:30:11,478 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 18:30:11,478 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 18:30:11,502 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 18:30:11,503 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 18:30:11,503 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 18:30:11,503 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 18:30:11,504 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-30 18:30:11,508 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 18:30:14,886 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-30 18:30:14,886 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-30 18:30:14,917 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 18:30:14,918 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 18:30:14,918 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-30 18:30:14,918 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-30 18:30:14,919 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 18:30:14,932 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 18:31:05,365 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-30 18:31:05,366 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712300024,];BillDate=[2017-12-30,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[25,];TotalTaxAmount=[25,];TotalCoTaxAmt=[0,];CurTotalAmount=[25,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bs0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[干蒸馅,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[5,];tblBuyInStockDet_Price=[5,];tblBuyInStockDet_Amount=[25,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[00001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[5,];tblBuyInStockDet_DisBackAmt=[25,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[5,];tblBuyInStockDet_TaxAmount=[25,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[5,];tblBuyInStockDet_CurAmount=[25,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-30 18:31:05,368 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-30 18:31:05,393 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 18:31:05,394 Line:5853 1:0.0
 [DEBUG] 2017-12-30 18:31:05,394 Line:5853 2:
 [DEBUG] 2017-12-30 18:31:05,394 Line:5853 3:3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:05,394 Line:5853 4:-1
 [DEBUG] 2017-12-30 18:31:05,394 Line:5853 5:finish
 [DEBUG] 2017-12-30 18:31:05,394 Line:5853 6:0.0
 [DEBUG] 2017-12-30 18:31:05,395 Line:5853 7:0
 [DEBUG] 2017-12-30 18:31:05,395 Line:5853 8:0.0
 [DEBUG] 2017-12-30 18:31:05,395 Line:5853 9:BI1712300024
 [DEBUG] 2017-12-30 18:31:05,395 Line:5853 10:2017-12-30
 [DEBUG] 2017-12-30 18:31:05,395 Line:5853 11:00003
 [DEBUG] 2017-12-30 18:31:05,395 Line:5853 12:00101
 [DEBUG] 2017-12-30 18:31:05,396 Line:5853 13:1
 [DEBUG] 2017-12-30 18:31:05,396 Line:5853 14:00001
 [DEBUG] 2017-12-30 18:31:05,396 Line:5853 15:3
 [DEBUG] 2017-12-30 18:31:05,396 Line:5853 16:0.0
 [DEBUG] 2017-12-30 18:31:05,396 Line:5853 17:0.0
 [DEBUG] 2017-12-30 18:31:05,396 Line:5853 18:0.0
 [DEBUG] 2017-12-30 18:31:05,397 Line:5853 19:0.0
 [DEBUG] 2017-12-30 18:31:05,397 Line:5853 20:
 [DEBUG] 2017-12-30 18:31:05,397 Line:5853 21:0.0
 [DEBUG] 2017-12-30 18:31:05,397 Line:5853 22:0.0
 [DEBUG] 2017-12-30 18:31:05,397 Line:5853 23:0.0
 [DEBUG] 2017-12-30 18:31:05,397 Line:5853 24:
 [DEBUG] 2017-12-30 18:31:05,398 Line:5853 25:0.0
 [DEBUG] 2017-12-30 18:31:05,398 Line:5853 26:0.0
 [DEBUG] 2017-12-30 18:31:05,398 Line:5853 27:0.0
 [DEBUG] 2017-12-30 18:31:05,398 Line:5853 28:
 [DEBUG] 2017-12-30 18:31:05,398 Line:5853 29:12
 [DEBUG] 2017-12-30 18:31:05,398 Line:5853 30:12
 [DEBUG] 2017-12-30 18:31:05,399 Line:5853 31:2017
 [DEBUG] 2017-12-30 18:31:05,399 Line:5853 32:
 [DEBUG] 2017-12-30 18:31:05,399 Line:5853 33:0.0
 [DEBUG] 2017-12-30 18:31:05,399 Line:5853 34:0.0
 [DEBUG] 2017-12-30 18:31:05,400 Line:5853 35:0.0
 [DEBUG] 2017-12-30 18:31:05,400 Line:5853 36:
 [DEBUG] 2017-12-30 18:31:05,400 Line:5853 37:
 [DEBUG] 2017-12-30 18:31:05,400 Line:5853 38:
 [DEBUG] 2017-12-30 18:31:05,401 Line:5853 39:0.0
 [DEBUG] 2017-12-30 18:31:05,401 Line:5853 40:0.0
 [DEBUG] 2017-12-30 18:31:05,401 Line:5853 41:
 [DEBUG] 2017-12-30 18:31:05,401 Line:5853 42:
 [DEBUG] 2017-12-30 18:31:05,401 Line:5853 43:100.0
 [DEBUG] 2017-12-30 18:31:05,401 Line:5853 44:0.0
 [DEBUG] 2017-12-30 18:31:05,402 Line:5853 45:0.0
 [DEBUG] 2017-12-30 18:31:05,402 Line:5853 46:
 [DEBUG] 2017-12-30 18:31:05,402 Line:5853 47:1.0
 [DEBUG] 2017-12-30 18:31:05,402 Line:5853 48:25.0
 [DEBUG] 2017-12-30 18:31:05,402 Line:5853 49:25.0
 [DEBUG] 2017-12-30 18:31:05,402 Line:5853 50:0.0
 [DEBUG] 2017-12-30 18:31:05,403 Line:5853 51:25.0
 [DEBUG] 2017-12-30 18:31:05,403 Line:5853 52:
 [DEBUG] 2017-12-30 18:31:05,403 Line:5853 53:
 [DEBUG] 2017-12-30 18:31:05,403 Line:5853 54:0.0
 [DEBUG] 2017-12-30 18:31:05,403 Line:5853 55:0.0
 [DEBUG] 2017-12-30 18:31:05,403 Line:5853 56:0.0
 [DEBUG] 2017-12-30 18:31:05,404 Line:5853 57:0
 [DEBUG] 2017-12-30 18:31:05,404 Line:5853 58:00001
 [DEBUG] 2017-12-30 18:31:05,404 Line:5853 59:0
 [DEBUG] 2017-12-30 18:31:05,404 Line:5853 60:2017-12-30 18:31:05
 [DEBUG] 2017-12-30 18:31:05,404 Line:5853 61:1
 [DEBUG] 2017-12-30 18:31:05,404 Line:5853 62:2017-12-30 18:31:05
 [DEBUG] 2017-12-30 18:31:05,405 Line:5853 63:1
 [DEBUG] 2017-12-30 18:31:05,405 Line:5853 64:2017-12-30 18:31:05
 [DEBUG] 2017-12-30 18:31:05,479 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 18:31:05,479 Line:5853 1:3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:05,479 Line:5853 2:3f184e23_1712301831054780003
 [DEBUG] 2017-12-30 18:31:05,480 Line:5853 3:
 [DEBUG] 2017-12-30 18:31:05,480 Line:5853 4:
 [DEBUG] 2017-12-30 18:31:05,480 Line:5853 5:
 [DEBUG] 2017-12-30 18:31:05,480 Line:5853 6:
 [DEBUG] 2017-12-30 18:31:05,480 Line:5853 7:00001
 [DEBUG] 2017-12-30 18:31:05,481 Line:5853 8:
 [DEBUG] 2017-12-30 18:31:05,481 Line:5853 9:
 [DEBUG] 2017-12-30 18:31:05,481 Line:5853 10:
 [DEBUG] 2017-12-30 18:31:05,481 Line:5853 11:
 [DEBUG] 2017-12-30 18:31:05,481 Line:5853 12:
 [DEBUG] 2017-12-30 18:31:05,481 Line:5853 13:
 [DEBUG] 2017-12-30 18:31:05,482 Line:5853 14:
 [DEBUG] 2017-12-30 18:31:05,482 Line:5853 15:5.0
 [DEBUG] 2017-12-30 18:31:05,482 Line:5853 16:5.0
 [DEBUG] 2017-12-30 18:31:05,482 Line:5853 17:25.0
 [DEBUG] 2017-12-30 18:31:05,482 Line:5853 18:0.0
 [DEBUG] 2017-12-30 18:31:05,482 Line:5853 19:0
 [DEBUG] 2017-12-30 18:31:05,483 Line:5853 20:0.0
 [DEBUG] 2017-12-30 18:31:05,483 Line:5853 21:0.0
 [DEBUG] 2017-12-30 18:31:05,483 Line:5853 22:0.0
 [DEBUG] 2017-12-30 18:31:05,483 Line:5853 23:100.0
 [DEBUG] 2017-12-30 18:31:05,483 Line:5853 24:5.0
 [DEBUG] 2017-12-30 18:31:05,484 Line:5853 25:25.0
 [DEBUG] 2017-12-30 18:31:05,484 Line:5853 26:0.0
 [DEBUG] 2017-12-30 18:31:05,484 Line:5853 27:5.0
 [DEBUG] 2017-12-30 18:31:05,485 Line:5853 28:25.0
 [DEBUG] 2017-12-30 18:31:05,485 Line:5853 29:0.0
 [DEBUG] 2017-12-30 18:31:05,485 Line:5853 30:5.0
 [DEBUG] 2017-12-30 18:31:05,486 Line:5853 31:25.0
 [DEBUG] 2017-12-30 18:31:05,486 Line:5853 32:0.0
 [DEBUG] 2017-12-30 18:31:05,487 Line:5853 33:0.0
 [DEBUG] 2017-12-30 18:31:05,488 Line:5853 34:0.0
 [DEBUG] 2017-12-30 18:31:05,488 Line:5853 35:0.0
 [DEBUG] 2017-12-30 18:31:05,488 Line:5853 36:0.0
 [DEBUG] 2017-12-30 18:31:05,488 Line:5853 37:
 [DEBUG] 2017-12-30 18:31:05,489 Line:5853 38:0.0
 [DEBUG] 2017-12-30 18:31:05,489 Line:5853 39:0.0
 [DEBUG] 2017-12-30 18:31:05,489 Line:5853 40:0.0
 [DEBUG] 2017-12-30 18:31:05,489 Line:5853 41:0.0
 [DEBUG] 2017-12-30 18:31:05,489 Line:5853 42:0.0
 [DEBUG] 2017-12-30 18:31:05,489 Line:5853 43:0.0
 [DEBUG] 2017-12-30 18:31:05,490 Line:5853 44:0.0
 [DEBUG] 2017-12-30 18:31:05,490 Line:5853 45:0.0
 [DEBUG] 2017-12-30 18:31:05,490 Line:5853 46:0.0
 [DEBUG] 2017-12-30 18:31:05,490 Line:5853 47:0
 [DEBUG] 2017-12-30 18:31:05,490 Line:5853 48:0.0
 [DEBUG] 2017-12-30 18:31:05,490 Line:5853 49:0.0
 [DEBUG] 2017-12-30 18:31:05,491 Line:5853 50:0
 [DEBUG] 2017-12-30 18:31:05,491 Line:5853 51:
 [DEBUG] 2017-12-30 18:31:05,491 Line:5853 52:0.0
 [DEBUG] 2017-12-30 18:31:05,491 Line:5853 53:0.0
 [DEBUG] 2017-12-30 18:31:05,491 Line:5853 54:0.0
 [DEBUG] 2017-12-30 18:31:05,491 Line:5853 55:0
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 56:0
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 57:
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 58:0.0
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 59:0.0
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 60:
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 61:0.0
 [DEBUG] 2017-12-30 18:31:05,492 Line:5853 62:00001
 [DEBUG] 2017-12-30 18:31:05,691 Line:313 exeCondition:tblBuyInStock_Add :25 < 0
 [DEBUG] 2017-12-30 18:31:05,959 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,959 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-30 18:31:05,959 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,959 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-30 18:31:05,959 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,959 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-30 18:31:05,959 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,959 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 18:31:05,974 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,975 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 18:31:05,976 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,976 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 18:31:05,977 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:05,978 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-30 18:31:05,978 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:05,979 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:05,979 Line:988 2值：2017-12-30
 [DEBUG] 2017-12-30 18:31:05,984 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-30 18:31:05,984 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:31:05,985 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,985 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 18:31:05,986 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:05,986 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:05,986 Line:988 2值：00003
 [DEBUG] 2017-12-30 18:31:05,991 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-30 18:31:05,991 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:31:05,993 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:05,994 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 18:31:05,994 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:05,994 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:05,994 Line:988 2值：00003
 [DEBUG] 2017-12-30 18:31:06,003 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-30 18:31:06,003 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:31:06,004 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,005 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-30 18:31:06,005 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,005 Line:988 1值：false
 [DEBUG] 2017-12-30 18:31:06,006 Line:988 2值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,009 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-30 18:31:06,009 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 18:31:06,009 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-30 18:31:06,009 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-30 18:31:06,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,009 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,009 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-30 18:31:06,009 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,009 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 18:31:06,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,009 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,025 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-12-30 18:31:06,029 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,030 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,030 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 18:31:06,030 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,031 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,035 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:31:06,036 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,037 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,037 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-30 18:31:06,037 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,037 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,043 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-30 18:31:06,043 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,046 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,046 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,048 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,048 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-30 18:31:06,048 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,048 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,052 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 18:31:06,052 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,053 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,054 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-30 18:31:06,055 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,055 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-30 18:31:06,055 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,055 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,058 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 18:31:06,058 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,061 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,061 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-30 18:31:06,061 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,062 Line:988 1值：25
 [DEBUG] 2017-12-30 18:31:06,062 Line:988 2值：0
 [DEBUG] 2017-12-30 18:31:06,062 Line:988 3值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,087 Line:1025 query condition columnName:SumDetAmt----value:25.0
 [DEBUG] 2017-12-30 18:31:06,088 Line:1025 query condition columnName:sumMainAmt----value:25.0
 [DEBUG] 2017-12-30 18:31:06,088 Line:1043 ---上述语句时间---27
 [DEBUG] 2017-12-30 18:31:06,088 Line:313 exeCondition:tblBuyInStock_Add :25.0!=25.0
 [DEBUG] 2017-12-30 18:31:06,089 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,089 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-30 18:31:06,090 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,090 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,092 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 18:31:06,092 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,092 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,092 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-30 18:31:06,092 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,092 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,092 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-30 18:31:06,092 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-30 18:31:06,092 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,092 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-30 18:31:06,092 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,092 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,092 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-30 18:31:06,092 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-30 18:31:06,108 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,109 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 18:31:06,109 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,110 Line:988 1值：
 [DEBUG] 2017-12-30 18:31:06,110 Line:988 2值：00001
 [DEBUG] 2017-12-30 18:31:06,114 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 18:31:06,115 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-30 18:31:06,115 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,115 Line:988 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,115 Line:988 2值：
 [DEBUG] 2017-12-30 18:31:06,116 Line:988 3值：
 [DEBUG] 2017-12-30 18:31:06,116 Line:988 4值：
 [DEBUG] 2017-12-30 18:31:06,119 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 18:31:06,120 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-30 18:31:06,121 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,121 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 18:31:06,122 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,122 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-30 18:31:06,123 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,124 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-30 18:31:06,126 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,127 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 18:31:06,128 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,128 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-30 18:31:06,129 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 18:31:06,129 Line:1157 2值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,132 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,132 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 18:31:06,133 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 18:31:06,133 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 18:31:06,133 Line:1157 2值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,133 Line:1157 3值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,140 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,140 Line:229 ************上述语句执行时间：7
 [DEBUG] 2017-12-30 18:31:06,140 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 18:31:06,140 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,140 Line:1157 2值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,143 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,143 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 18:31:06,143 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-30 18:31:06,143 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,143 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,143 Line:229 ************上述语句执行时间：0
 [DEBUG] 2017-12-30 18:31:06,143 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-30 18:31:06,143 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,143 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,143 Line:229 ************上述语句执行时间：0
 [DEBUG] 2017-12-30 18:31:06,143 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-30 18:31:06,143 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,143 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-30 18:31:06,143 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,143 Line:1157 2值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,160 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,161 Line:408 ************上述语句执行时间：18
 [DEBUG] 2017-12-30 18:31:06,161 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-30 18:31:06,164 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,165 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-30 18:31:06,166 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,166 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-30 18:31:06,166 Line:1270 3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,166 Line:1270 add
 [DEBUG] 2017-12-30 18:31:06,237 Line:425 ************上述语句执行时间：71
 [DEBUG] 2017-12-30 18:31:06,238 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-30 18:31:06,238 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,239 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 18:31:06,239 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,251 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 18:31:06,252 Line:408 ************上述语句执行时间：13
 [DEBUG] 2017-12-30 18:31:06,252 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 18:31:06,252 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,258 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 18:31:06,258 Line:408 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 18:31:06,258 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 18:31:06,258 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,258 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 18:31:06,258 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,258 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-30 18:31:06,258 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,274 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-30 18:31:06,274 Line:1157 1值：3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,274 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-30 18:31:06,274 Line:408 ************上述语句执行时间：0
 [DEBUG] 2017-12-30 18:31:06,274 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:31:06,274 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,274 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-30 18:31:06,290 Line:1270 3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,290 Line:1270 add
 [DEBUG] 2017-12-30 18:31:06,337 Line:425 ************上述语句执行时间：63
 [DEBUG] 2017-12-30 18:31:06,337 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-30 18:31:06,338 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,338 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-30 18:31:06,339 Line:1270 12
 [DEBUG] 2017-12-30 18:31:06,339 Line:1270 2017
 [DEBUG] 2017-12-30 18:31:06,339 Line:1270 12
 [DEBUG] 2017-12-30 18:31:06,339 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-30 18:31:06,339 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-30 18:31:06,339 Line:1270 3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,340 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-30 18:31:06,340 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 18:31:06,340 Line:1270 BI1712300024
 [DEBUG] 2017-12-30 18:31:06,340 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 18:31:06,340 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 18:31:06,340 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 1
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 1
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 2017-12-30 18:31:05
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 2017-12-30 18:31:05
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 00001
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 
 [DEBUG] 2017-12-30 18:31:06,341 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-30 18:31:06,342 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-30 18:31:06,342 Line:1270 00003
 [DEBUG] 2017-12-30 18:31:06,342 Line:1270 1
 [DEBUG] 2017-12-30 18:31:06,342 Line:1270 00101
 [DEBUG] 2017-12-30 18:31:06,342 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-30 18:31:06,343 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-30 18:31:06,343 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 18:31:06,343 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-30 18:31:06,343 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-30 18:31:06,343 Line:1270 0
 [DEBUG] 2017-12-30 18:31:06,343 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-30 18:31:06,344 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-30 18:31:06,344 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-30 18:31:06,345 Line:1270 f_ref='3f184e23_1712301831053840002'
 [DEBUG] 2017-12-30 18:31:06,509 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'3f184e23_1712301831053840002','2017-12-30','BI1712300024','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-30 18:31:05','2017-12-30 18:31:05','00001' from tblBuyInStockDet where f_ref='3f184e23_1712301831053840002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-30 18:31:06,509 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-30 18:31:06,510 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 18:31:06,510 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 18:31:06,510 Line:425 ************上述语句执行时间：172
 [DEBUG] 2017-12-30 18:31:06,510 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-30 18:31:06,511 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,511 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:31:06,511 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,512 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-30 18:31:06,512 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,514 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:31:06,514 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-30 18:31:06,515 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,515 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-30 18:31:06,516 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,516 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-30 18:31:06,517 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,518 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-30 18:31:06,518 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,518 Line:988 1值：25
 [DEBUG] 2017-12-30 18:31:06,518 Line:988 2值：0
 [DEBUG] 2017-12-30 18:31:06,519 Line:988 3值：25
 [DEBUG] 2017-12-30 18:31:06,519 Line:988 4值：0
 [DEBUG] 2017-12-30 18:31:06,519 Line:988 5值：0
 [DEBUG] 2017-12-30 18:31:06,519 Line:988 6值：1
 [DEBUG] 2017-12-30 18:31:06,521 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2017-12-30 18:31:06,521 Line:1023 query condition columnName:CRNeedPayAmt----value:25.00000000
 [DEBUG] 2017-12-30 18:31:06,521 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-30 18:31:06,522 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 18:31:06,522 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-30 18:31:06,523 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,558 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-30 18:31:06,558 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-30 18:31:06,574 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,574 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,597 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,604 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,613 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,619 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,631 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 18:31:06,640 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-30 18:31:06,742 Line:434 ************上述语句执行时间：219
 [DEBUG] 2017-12-30 18:31:06,742 Line:313 exeCondition:tblBuyInStock_Add_One :25>0
 [DEBUG] 2017-12-30 18:31:06,742 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,742 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-30 18:31:06,742 Line:1270 13f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,742 Line:1270 00003
 [DEBUG] 2017-12-30 18:31:06,742 Line:1270 1
 [DEBUG] 2017-12-30 18:31:06,742 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 18:31:06,742 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=25@SPFieldLink:RelationDocID=3f184e23_1712301831053840002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=25@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-30 18:31:05@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-30 18:31:05@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712300024@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-30 18:31:06,803 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('13f184e23_1712301831053840002',18,'00003','2017-12-30','12','2017','12','0','25','3f184e23_1712301831053840002','','1','0','25','1','2017-12-30 18:31:05','1','2017-12-30 18:31:05','00001','tblBuyInStock','BI1712300024','1','00101','0','')
 [DEBUG] 2017-12-30 18:31:06,803 Line:425 ************上述语句执行时间：61
 [DEBUG] 2017-12-30 18:31:06,803 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 25>0 && 'true'=='false'
 [DEBUG] 2017-12-30 18:31:06,804 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,805 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-30 18:31:06,805 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,806 Line:313 exeCondition:tblBuyInStock_Add_One :25.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-30 18:31:06,806 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,807 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&25.00000000>=0
 [DEBUG] 2017-12-30 18:31:06,807 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,807 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-30 18:31:06,808 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,808 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-30 18:31:06,809 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,809 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-30 18:31:06,810 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,810 Line:988 1值：25
 [DEBUG] 2017-12-30 18:31:06,839 Line:988 2值：0
 [DEBUG] 2017-12-30 18:31:06,839 Line:988 3值：25
 [DEBUG] 2017-12-30 18:31:06,839 Line:988 4值：0
 [DEBUG] 2017-12-30 18:31:06,840 Line:988 5值：0
 [DEBUG] 2017-12-30 18:31:06,840 Line:988 6值：0
 [DEBUG] 2017-12-30 18:31:06,841 Line:1023 query condition columnName:RNeedPayAmt----value:25.00000000
 [DEBUG] 2017-12-30 18:31:06,843 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-30 18:31:06,844 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-30 18:31:06,844 Line:1043 ---上述语句时间---35
 [DEBUG] 2017-12-30 18:31:06,844 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 18:31:06,848 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,849 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 18:31:06,849 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,850 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 18:31:06,850 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,850 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 18:31:06,851 Line:321 flag:false
 [DEBUG] 2017-12-30 18:31:06,851 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 18:31:06,852 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,852 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-30 18:31:06,852 Line:1270 3f184e23_1712301831053840002
 [DEBUG] 2017-12-30 18:31:06,852 Line:1270 add
 [DEBUG] 2017-12-30 18:31:06,864 Line:425 ************上述语句执行时间：12
 [DEBUG] 2017-12-30 18:31:06,864 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-30 18:31:06,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 18:31:06,865 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-30 18:31:06,866 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-30 18:31:06,866 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-30 18:31:06,866 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-30 18:31:06,866 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-30 18:31:06,866 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-30 18:31:06,866 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 18:31:06,867 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 18:31:06,867 Line:321 flag:true
 [DEBUG] 2017-12-30 18:31:06,875 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-30 18:31:15,796 Line:81 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"10"}
 [DEBUG] 2017-12-30 18:31:26,514 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@3f87f252
 [DEBUG] 2017-12-30 18:31:26,515 Line:443 ************上述语句执行时间：19647
 [DEBUG] 2017-12-30 18:31:28,056 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=3f184e23_1712301831053840002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 18:31:28,056 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[3f184e23_1712301831053840002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 18:31:28,067 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='3f184e23_1712301831053840002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-30 18:31:28,212 Line:1525  select * from  tblBuyInStockDet where f_ref = '3f184e23_1712301831053840002' order by detOrderNo
 [DEBUG] 2017-12-30 18:31:28,228 Line:1525  select * from  tblBuyPayAccount where f_ref = '3f184e23_1712301831053840002' order by detOrderNo
 [DEBUG] 2017-12-30 18:59:58,084 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 19:30:25,489 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 19:31:52,692 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-30 19:31:52,706 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-30 19:31:52,707 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-30 19:32:01,453 Line:206 系统开始启动，最大内存：1792;目前总内存：253;目前空闲内存：161
 [INFO ] 2017-12-30 19:32:01,578 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-30 19:32:06,192 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-30 19:32:06,536 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-30 19:32:06,566 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-30 19:32:06,566 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-30 19:32:06,566 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-30 19:32:06,581 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-30 19:32:06,597 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-30 19:32:07,618 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 19:32:07,677 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-30 19:32:07,708 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-30 19:32:07,724 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-30 19:32:08,677 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-30 19:32:08,677 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-30 19:32:09,218 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-30 19:32:09,296 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-30 19:32:10,232 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-30 19:32:10,271 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-30 19:32:10,287 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-30 19:32:10,303 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-30 19:32:10,334 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-30 19:32:10,349 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-30 19:32:10,412 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-30 19:32:13,543 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-30 19:32:13,802 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,817 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,833 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,833 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,896 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,927 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:13,958 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,036 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,036 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,036 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,036 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,114 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,161 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,161 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,161 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,161 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,161 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,161 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,271 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,302 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,349 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,349 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,349 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 19:32:14,380 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-30 19:32:14,396 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-30 19:32:14,458 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-30 19:32:14,838 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-30 19:32:14,854 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-30 19:32:16,125 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-31 00:00:00
 [INFO ] 2017-12-30 19:32:16,132 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-30 19:33:15,221 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 20:02:38,291 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:02:38,291 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-30 20:02:38,292 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-30 20:02:38,730 Line:5227 GlobalsTool.js 生成js 时间61:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:02:38,785 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-30 20:02:38,788 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-30 20:02:39,025 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514635359008
 [DEBUG] 2017-12-30 20:02:39,035 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514635359008,];
 [DEBUG] 2017-12-30 20:02:39,094 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-30 20:02:39,094 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-30 20:02:41,003 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514635361002
 [DEBUG] 2017-12-30 20:02:41,003 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514635361002,];
 [DEBUG] 2017-12-30 20:02:41,060 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514635361060
 [DEBUG] 2017-12-30 20:02:41,060 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514635361060,];
 [DEBUG] 2017-12-30 20:02:41,127 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-30 20:02:41,127 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 20:02:41,215 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 20:02:41,232 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 20:02:41,353 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:02:41,354 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 20:02:41,362 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:02:41,606 Line:5227 GlobalsTool.js 生成js 时间31:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:02:41,800 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 20:02:41,800 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 20:02:41,801 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 20:02:41,801 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:02:41,802 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:02:41,815 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 20:02:41,816 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:02:41,816 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:02:41,826 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 20:02:41,827 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:02:41,827 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:02:41,836 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 20:02:41,836 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:02:41,837 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:03:02,192 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-30 20:03:02,193 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:03:02,193 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-30 20:03:02,671 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-30 20:03:02,695 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-30 20:03:02,758 Line:689 通过SQL读原始数据：63
 [DEBUG] 2017-12-30 20:03:02,765 Line:1391 整理数据：7
 [DEBUG] 2017-12-30 20:03:03,108 Line:5227 GlobalsTool.js 生成js 时间101:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:03:03,238 Line:5227 GlobalsTool.js 生成js 时间129:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 20:03:06,287 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 20:03:06,288 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 20:03:06,568 Line:5227 GlobalsTool.js 生成js 时间10:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:03:07,347 Line:5227 GlobalsTool.js 生成js 时间778:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 20:03:09,875 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 20:03:09,876 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 20:03:09,957 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 20:03:09,957 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 20:03:09,957 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:03:09,957 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:03:09,958 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-30 20:03:09,998 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:03:10,157 Line:5227 GlobalsTool.js 生成js 时间17:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:03:10,181 Line:5227 GlobalsTool.js 生成js 时间23:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:03:14,702 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 20:03:14,703 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 20:03:14,727 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 20:03:14,728 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:03:14,729 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-30 20:03:14,729 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 20:03:14,730 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:03:14,733 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:03:18,293 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-30 20:03:18,294 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-30 20:03:18,320 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 20:03:18,320 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-30 20:03:18,321 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:03:18,321 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:03:18,321 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-30 20:03:18,332 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:03:32,893 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-30 20:03:32,895 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712300025,];BillDate=[2017-12-30,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00002,];tblStock_StockFullName=[总仓2,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-30 20:03:32,899 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-30 20:03:32,921 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:03:32,922 Line:5853 1:0.0
 [DEBUG] 2017-12-30 20:03:32,922 Line:5853 2:
 [DEBUG] 2017-12-30 20:03:32,922 Line:5853 3:a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:32,923 Line:5853 4:-1
 [DEBUG] 2017-12-30 20:03:32,923 Line:5853 5:finish
 [DEBUG] 2017-12-30 20:03:32,923 Line:5853 6:0.0
 [DEBUG] 2017-12-30 20:03:32,923 Line:5853 7:0
 [DEBUG] 2017-12-30 20:03:32,923 Line:5853 8:0.0
 [DEBUG] 2017-12-30 20:03:32,923 Line:5853 9:BI1712300025
 [DEBUG] 2017-12-30 20:03:32,924 Line:5853 10:2017-12-30
 [DEBUG] 2017-12-30 20:03:32,924 Line:5853 11:00003
 [DEBUG] 2017-12-30 20:03:32,924 Line:5853 12:00101
 [DEBUG] 2017-12-30 20:03:32,924 Line:5853 13:1
 [DEBUG] 2017-12-30 20:03:32,924 Line:5853 14:00002
 [DEBUG] 2017-12-30 20:03:32,924 Line:5853 15:3
 [DEBUG] 2017-12-30 20:03:32,925 Line:5853 16:0.0
 [DEBUG] 2017-12-30 20:03:32,925 Line:5853 17:0.0
 [DEBUG] 2017-12-30 20:03:32,925 Line:5853 18:0.0
 [DEBUG] 2017-12-30 20:03:32,925 Line:5853 19:0.0
 [DEBUG] 2017-12-30 20:03:32,925 Line:5853 20:
 [DEBUG] 2017-12-30 20:03:32,925 Line:5853 21:0.0
 [DEBUG] 2017-12-30 20:03:32,926 Line:5853 22:0.0
 [DEBUG] 2017-12-30 20:03:32,926 Line:5853 23:0.0
 [DEBUG] 2017-12-30 20:03:32,926 Line:5853 24:
 [DEBUG] 2017-12-30 20:03:32,926 Line:5853 25:0.0
 [DEBUG] 2017-12-30 20:03:32,926 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:03:32,926 Line:5853 27:0.0
 [DEBUG] 2017-12-30 20:03:32,927 Line:5853 28:
 [DEBUG] 2017-12-30 20:03:32,927 Line:5853 29:12
 [DEBUG] 2017-12-30 20:03:32,927 Line:5853 30:12
 [DEBUG] 2017-12-30 20:03:32,927 Line:5853 31:2017
 [DEBUG] 2017-12-30 20:03:32,927 Line:5853 32:
 [DEBUG] 2017-12-30 20:03:32,927 Line:5853 33:0.0
 [DEBUG] 2017-12-30 20:03:32,928 Line:5853 34:0.0
 [DEBUG] 2017-12-30 20:03:32,928 Line:5853 35:0.0
 [DEBUG] 2017-12-30 20:03:32,928 Line:5853 36:
 [DEBUG] 2017-12-30 20:03:32,928 Line:5853 37:
 [DEBUG] 2017-12-30 20:03:32,928 Line:5853 38:
 [DEBUG] 2017-12-30 20:03:32,928 Line:5853 39:0.0
 [DEBUG] 2017-12-30 20:03:32,929 Line:5853 40:0.0
 [DEBUG] 2017-12-30 20:03:32,929 Line:5853 41:
 [DEBUG] 2017-12-30 20:03:32,929 Line:5853 42:
 [DEBUG] 2017-12-30 20:03:32,929 Line:5853 43:100.0
 [DEBUG] 2017-12-30 20:03:32,929 Line:5853 44:0.0
 [DEBUG] 2017-12-30 20:03:32,929 Line:5853 45:0.0
 [DEBUG] 2017-12-30 20:03:32,930 Line:5853 46:
 [DEBUG] 2017-12-30 20:03:32,930 Line:5853 47:1.0
 [DEBUG] 2017-12-30 20:03:32,930 Line:5853 48:1.0
 [DEBUG] 2017-12-30 20:03:32,930 Line:5853 49:1.0
 [DEBUG] 2017-12-30 20:03:32,931 Line:5853 50:0.0
 [DEBUG] 2017-12-30 20:03:32,931 Line:5853 51:1.0
 [DEBUG] 2017-12-30 20:03:32,931 Line:5853 52:
 [DEBUG] 2017-12-30 20:03:32,931 Line:5853 53:
 [DEBUG] 2017-12-30 20:03:32,931 Line:5853 54:0.0
 [DEBUG] 2017-12-30 20:03:32,931 Line:5853 55:0.0
 [DEBUG] 2017-12-30 20:03:32,932 Line:5853 56:0.0
 [DEBUG] 2017-12-30 20:03:32,932 Line:5853 57:0
 [DEBUG] 2017-12-30 20:03:32,932 Line:5853 58:00001
 [DEBUG] 2017-12-30 20:03:32,932 Line:5853 59:0
 [DEBUG] 2017-12-30 20:03:32,932 Line:5853 60:2017-12-30 20:03:32
 [DEBUG] 2017-12-30 20:03:32,932 Line:5853 61:1
 [DEBUG] 2017-12-30 20:03:32,933 Line:5853 62:2017-12-30 20:03:32
 [DEBUG] 2017-12-30 20:03:32,933 Line:5853 63:1
 [DEBUG] 2017-12-30 20:03:32,933 Line:5853 64:2017-12-30 20:03:32
 [DEBUG] 2017-12-30 20:03:33,002 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:03:33,003 Line:5853 1:a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,003 Line:5853 2:a8d9f129_1712302003330020003
 [DEBUG] 2017-12-30 20:03:33,003 Line:5853 3:
 [DEBUG] 2017-12-30 20:03:33,003 Line:5853 4:
 [DEBUG] 2017-12-30 20:03:33,004 Line:5853 5:
 [DEBUG] 2017-12-30 20:03:33,004 Line:5853 6:
 [DEBUG] 2017-12-30 20:03:33,004 Line:5853 7:0000300001
 [DEBUG] 2017-12-30 20:03:33,004 Line:5853 8:
 [DEBUG] 2017-12-30 20:03:33,004 Line:5853 9:
 [DEBUG] 2017-12-30 20:03:33,004 Line:5853 10:
 [DEBUG] 2017-12-30 20:03:33,005 Line:5853 11:
 [DEBUG] 2017-12-30 20:03:33,005 Line:5853 12:
 [DEBUG] 2017-12-30 20:03:33,005 Line:5853 13:
 [DEBUG] 2017-12-30 20:03:33,005 Line:5853 14:
 [DEBUG] 2017-12-30 20:03:33,005 Line:5853 15:1.0
 [DEBUG] 2017-12-30 20:03:33,005 Line:5853 16:1.0
 [DEBUG] 2017-12-30 20:03:33,006 Line:5853 17:1.0
 [DEBUG] 2017-12-30 20:03:33,006 Line:5853 18:0.0
 [DEBUG] 2017-12-30 20:03:33,006 Line:5853 19:0
 [DEBUG] 2017-12-30 20:03:33,006 Line:5853 20:0.0
 [DEBUG] 2017-12-30 20:03:33,006 Line:5853 21:0.0
 [DEBUG] 2017-12-30 20:03:33,007 Line:5853 22:0.0
 [DEBUG] 2017-12-30 20:03:33,007 Line:5853 23:100.0
 [DEBUG] 2017-12-30 20:03:33,008 Line:5853 24:1.0
 [DEBUG] 2017-12-30 20:03:33,008 Line:5853 25:1.0
 [DEBUG] 2017-12-30 20:03:33,008 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:03:33,008 Line:5853 27:1.0
 [DEBUG] 2017-12-30 20:03:33,008 Line:5853 28:1.0
 [DEBUG] 2017-12-30 20:03:33,008 Line:5853 29:0.0
 [DEBUG] 2017-12-30 20:03:33,009 Line:5853 30:1.0
 [DEBUG] 2017-12-30 20:03:33,009 Line:5853 31:1.0
 [DEBUG] 2017-12-30 20:03:33,009 Line:5853 32:0.0
 [DEBUG] 2017-12-30 20:03:33,009 Line:5853 33:0.0
 [DEBUG] 2017-12-30 20:03:33,009 Line:5853 34:0.0
 [DEBUG] 2017-12-30 20:03:33,009 Line:5853 35:0.0
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 36:0.0
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 37:
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 38:0.0
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 39:0.0
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 40:0.0
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 41:0.0
 [DEBUG] 2017-12-30 20:03:33,010 Line:5853 42:0.0
 [DEBUG] 2017-12-30 20:03:33,011 Line:5853 43:0.0
 [DEBUG] 2017-12-30 20:03:33,011 Line:5853 44:0.0
 [DEBUG] 2017-12-30 20:03:33,011 Line:5853 45:0.0
 [DEBUG] 2017-12-30 20:03:33,011 Line:5853 46:0.0
 [DEBUG] 2017-12-30 20:03:33,012 Line:5853 47:0
 [DEBUG] 2017-12-30 20:03:33,012 Line:5853 48:0.0
 [DEBUG] 2017-12-30 20:03:33,012 Line:5853 49:0.0
 [DEBUG] 2017-12-30 20:03:33,013 Line:5853 50:0
 [DEBUG] 2017-12-30 20:03:33,013 Line:5853 51:
 [DEBUG] 2017-12-30 20:03:33,014 Line:5853 52:0.0
 [DEBUG] 2017-12-30 20:03:33,014 Line:5853 53:0.0
 [DEBUG] 2017-12-30 20:03:33,014 Line:5853 54:0.0
 [DEBUG] 2017-12-30 20:03:33,015 Line:5853 55:0
 [DEBUG] 2017-12-30 20:03:33,015 Line:5853 56:0
 [DEBUG] 2017-12-30 20:03:33,015 Line:5853 57:
 [DEBUG] 2017-12-30 20:03:33,017 Line:5853 58:0.0
 [DEBUG] 2017-12-30 20:03:33,017 Line:5853 59:0.0
 [DEBUG] 2017-12-30 20:03:33,017 Line:5853 60:
 [DEBUG] 2017-12-30 20:03:33,018 Line:5853 61:0.0
 [DEBUG] 2017-12-30 20:03:33,018 Line:5853 62:00001
 [DEBUG] 2017-12-30 20:03:33,221 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-30 20:03:33,459 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,459 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-30 20:03:33,461 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,462 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-30 20:03:33,463 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,463 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-30 20:03:33,464 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,464 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 20:03:33,465 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,465 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 20:03:33,466 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,466 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 20:03:33,467 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,468 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-30 20:03:33,468 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,469 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,469 Line:988 2值：2017-12-30
 [DEBUG] 2017-12-30 20:03:33,472 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:03:33,472 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:03:33,473 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,474 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 20:03:33,474 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,474 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,474 Line:988 2值：00003
 [DEBUG] 2017-12-30 20:03:33,479 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 20:03:33,480 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:03:33,480 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,481 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 20:03:33,481 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,481 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,481 Line:988 2值：00003
 [DEBUG] 2017-12-30 20:03:33,487 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-30 20:03:33,487 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:03:33,488 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,489 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-30 20:03:33,489 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,490 Line:988 1值：false
 [DEBUG] 2017-12-30 20:03:33,490 Line:988 2值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,500 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-30 20:03:33,500 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-30 20:03:33,501 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-30 20:03:33,502 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,502 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-30 20:03:33,502 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,502 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,510 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-30 20:03:33,510 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,511 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,511 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 20:03:33,512 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,512 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,515 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:03:33,516 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,517 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,517 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 20:03:33,517 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,518 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,521 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:03:33,522 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,523 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,523 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-30 20:03:33,523 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,524 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,528 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 20:03:33,529 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,530 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,530 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,531 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,532 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-30 20:03:33,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,533 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,537 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 20:03:33,538 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,539 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,540 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-30 20:03:33,540 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,541 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-30 20:03:33,541 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,541 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,544 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:03:33,544 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,545 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,546 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-30 20:03:33,546 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,546 Line:988 1值：1
 [DEBUG] 2017-12-30 20:03:33,546 Line:988 2值：0
 [DEBUG] 2017-12-30 20:03:33,546 Line:988 3值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,588 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-30 20:03:33,588 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-30 20:03:33,589 Line:1043 ---上述语句时间---43
 [DEBUG] 2017-12-30 20:03:33,589 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-30 20:03:33,590 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,591 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-30 20:03:33,591 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,591 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,601 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-30 20:03:33,601 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,602 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,603 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-30 20:03:33,603 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,603 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,605 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:03:33,605 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:03:33,606 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,607 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-30 20:03:33,607 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,607 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,609 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:03:33,610 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-30 20:03:33,611 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,611 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 20:03:33,611 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,611 Line:988 1值：
 [DEBUG] 2017-12-30 20:03:33,612 Line:988 2值：00001
 [DEBUG] 2017-12-30 20:03:33,615 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:03:33,616 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-30 20:03:33,617 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:33,617 Line:988 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,618 Line:988 2值：
 [DEBUG] 2017-12-30 20:03:33,618 Line:988 3值：
 [DEBUG] 2017-12-30 20:03:33,618 Line:988 4值：
 [DEBUG] 2017-12-30 20:03:33,621 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 20:03:33,622 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-30 20:03:33,623 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,624 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:03:33,626 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,626 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-30 20:03:33,627 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,627 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-30 20:03:33,628 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,628 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 20:03:33,629 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,630 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-30 20:03:33,630 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 20:03:33,631 Line:1157 2值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,634 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,634 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 20:03:33,635 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 20:03:33,635 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 20:03:33,635 Line:1157 2值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,635 Line:1157 3值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,641 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,641 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 20:03:33,641 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 20:03:33,641 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,642 Line:1157 2值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,647 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,647 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 20:03:33,647 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-30 20:03:33,647 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,650 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,650 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 20:03:33,650 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-30 20:03:33,651 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,655 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,656 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 20:03:33,656 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-30 20:03:33,657 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,657 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-30 20:03:33,658 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,658 Line:1157 2值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,661 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,661 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 20:03:33,662 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-30 20:03:33,663 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,663 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-30 20:03:33,665 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,665 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-30 20:03:33,666 Line:1270 a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,666 Line:1270 add
 [DEBUG] 2017-12-30 20:03:33,738 Line:425 ************上述语句执行时间：73
 [DEBUG] 2017-12-30 20:03:33,738 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-30 20:03:33,739 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,740 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 20:03:33,741 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,755 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 20:03:33,755 Line:408 ************上述语句执行时间：15
 [DEBUG] 2017-12-30 20:03:33,755 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 20:03:33,755 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,763 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 20:03:33,764 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-30 20:03:33,764 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 20:03:33,765 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,765 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 20:03:33,766 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,766 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-30 20:03:33,766 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,784 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-30 20:03:33,785 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,785 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 20:03:33,786 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,786 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 20:03:33,787 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,787 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 20:03:33,788 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,788 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-30 20:03:33,789 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:33,789 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:03:33,790 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,790 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-30 20:03:33,790 Line:1157 1值：a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,793 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-30 20:03:33,793 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 20:03:33,793 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:03:33,794 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,794 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-30 20:03:33,795 Line:1270 a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,795 Line:1270 add
 [DEBUG] 2017-12-30 20:03:33,841 Line:425 ************上述语句执行时间：47
 [DEBUG] 2017-12-30 20:03:33,842 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-30 20:03:33,843 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:33,843 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-30 20:03:33,844 Line:1270 12
 [DEBUG] 2017-12-30 20:03:33,844 Line:1270 2017
 [DEBUG] 2017-12-30 20:03:33,844 Line:1270 12
 [DEBUG] 2017-12-30 20:03:33,844 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-30 20:03:33,844 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 BI1712300025
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 20:03:33,845 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-30 20:03:33,846 Line:1270 1
 [DEBUG] 2017-12-30 20:03:33,846 Line:1270 1
 [DEBUG] 2017-12-30 20:03:33,846 Line:1270 2017-12-30 20:03:32
 [DEBUG] 2017-12-30 20:03:33,846 Line:1270 2017-12-30 20:03:32
 [DEBUG] 2017-12-30 20:03:33,846 Line:1270 00001
 [DEBUG] 2017-12-30 20:03:33,846 Line:1270 
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 00003
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 1
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 00101
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-30 20:03:33,847 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-30 20:03:33,848 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 20:03:33,848 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-30 20:03:33,848 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-30 20:03:33,848 Line:1270 0
 [DEBUG] 2017-12-30 20:03:33,848 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-30 20:03:33,848 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-30 20:03:33,849 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-30 20:03:33,849 Line:1270 f_ref='a8d9f129_1712302003329140002'
 [DEBUG] 2017-12-30 20:03:34,020 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'a8d9f129_1712302003329140002','2017-12-30','BI1712300025','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-30 20:03:32','2017-12-30 20:03:32','00001' from tblBuyInStockDet where f_ref='a8d9f129_1712302003329140002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-30 20:03:34,020 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-30 20:03:34,020 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 20:03:34,021 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 20:03:34,021 Line:425 ************上述语句执行时间：178
 [DEBUG] 2017-12-30 20:03:34,021 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-30 20:03:34,022 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,022 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:03:34,022 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:34,023 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-30 20:03:34,024 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:34,025 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:03:34,025 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-30 20:03:34,026 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,026 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-30 20:03:34,027 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,027 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-30 20:03:34,028 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,028 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-30 20:03:34,028 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:34,029 Line:988 1值：1
 [DEBUG] 2017-12-30 20:03:34,029 Line:988 2值：0
 [DEBUG] 2017-12-30 20:03:34,029 Line:988 3值：1
 [DEBUG] 2017-12-30 20:03:34,029 Line:988 4值：0
 [DEBUG] 2017-12-30 20:03:34,029 Line:988 5值：0
 [DEBUG] 2017-12-30 20:03:34,029 Line:988 6值：1
 [DEBUG] 2017-12-30 20:03:34,030 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-30 20:03:34,031 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-30 20:03:34,031 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-30 20:03:34,031 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:03:34,031 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-30 20:03:34,032 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:34,077 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-30 20:03:34,080 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-30 20:03:34,092 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,099 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,105 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,112 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,119 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,126 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,138 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:03:34,147 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-30 20:03:34,255 Line:434 ************上述语句执行时间：223
 [DEBUG] 2017-12-30 20:03:34,255 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-30 20:03:34,256 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:34,257 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-30 20:03:34,257 Line:1270 1a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:34,257 Line:1270 00003
 [DEBUG] 2017-12-30 20:03:34,257 Line:1270 1
 [DEBUG] 2017-12-30 20:03:34,258 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 20:03:34,258 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=a8d9f129_1712302003329140002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-30 20:03:32@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-30 20:03:32@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712300025@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-30 20:03:34,312 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1a8d9f129_1712302003329140002',19,'00003','2017-12-30','12','2017','12','0','1','a8d9f129_1712302003329140002','','1','0','1','1','2017-12-30 20:03:32','1','2017-12-30 20:03:32','00001','tblBuyInStock','BI1712300025','1','00101','0','')
 [DEBUG] 2017-12-30 20:03:34,312 Line:425 ************上述语句执行时间：56
 [DEBUG] 2017-12-30 20:03:34,313 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-30 20:03:34,313 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,314 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-30 20:03:34,315 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,315 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-30 20:03:34,316 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,316 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-30 20:03:34,317 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,317 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-30 20:03:34,318 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,318 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-30 20:03:34,318 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,319 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-30 20:03:34,319 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:34,319 Line:988 1值：1
 [DEBUG] 2017-12-30 20:03:34,319 Line:988 2值：0
 [DEBUG] 2017-12-30 20:03:34,319 Line:988 3值：1
 [DEBUG] 2017-12-30 20:03:34,320 Line:988 4值：0
 [DEBUG] 2017-12-30 20:03:34,320 Line:988 5值：0
 [DEBUG] 2017-12-30 20:03:34,320 Line:988 6值：0
 [DEBUG] 2017-12-30 20:03:34,321 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-30 20:03:34,321 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-30 20:03:34,321 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-30 20:03:34,322 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:03:34,322 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 20:03:34,323 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,323 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 20:03:34,323 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,324 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 20:03:34,324 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,324 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 20:03:34,325 Line:321 flag:false
 [DEBUG] 2017-12-30 20:03:34,325 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:03:34,326 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:34,326 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-30 20:03:34,326 Line:1270 a8d9f129_1712302003329140002
 [DEBUG] 2017-12-30 20:03:34,327 Line:1270 add
 [DEBUG] 2017-12-30 20:03:34,334 Line:425 ************上述语句执行时间：8
 [DEBUG] 2017-12-30 20:03:34,335 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-30 20:03:34,335 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:03:34,337 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-30 20:03:34,337 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-30 20:03:34,337 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-30 20:03:34,337 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-30 20:03:34,337 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-30 20:03:34,338 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-30 20:03:34,338 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:03:34,338 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 20:03:34,339 Line:321 flag:true
 [DEBUG] 2017-12-30 20:03:34,344 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-30 20:03:34,373 Line:81 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"10"}
 [DEBUG] 2017-12-30 20:03:34,383 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@3c8c6e34
 [DEBUG] 2017-12-30 20:03:34,383 Line:443 ************上述语句执行时间：44
 [DEBUG] 2017-12-30 20:03:35,899 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=a8d9f129_1712302003329140002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 20:03:35,900 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[a8d9f129_1712302003329140002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 20:03:35,901 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='a8d9f129_1712302003329140002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-30 20:03:35,981 Line:1525  select * from  tblBuyInStockDet where f_ref = 'a8d9f129_1712302003329140002' order by detOrderNo
 [DEBUG] 2017-12-30 20:03:35,989 Line:1525  select * from  tblBuyPayAccount where f_ref = 'a8d9f129_1712302003329140002' order by detOrderNo
 [DEBUG] 2017-12-30 20:03:36,245 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 20:07:50,557 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-30 20:07:50,559 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-30 20:07:50,567 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-30 20:07:57,657 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：204
 [INFO ] 2017-12-30 20:07:57,819 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-30 20:08:01,886 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-30 20:08:02,044 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-30 20:08:02,048 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-30 20:08:02,051 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-30 20:08:02,054 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-30 20:08:02,064 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-30 20:08:02,073 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-30 20:08:03,069 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 20:08:03,093 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-30 20:08:03,129 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-30 20:08:03,137 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-30 20:08:04,065 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-30 20:08:04,066 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-30 20:08:04,649 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-30 20:08:04,727 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-30 20:08:05,475 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-30 20:08:05,517 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-30 20:08:05,524 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-30 20:08:05,543 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-30 20:08:05,568 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-30 20:08:05,578 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-30 20:08:05,635 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-30 20:08:08,823 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-30 20:08:09,075 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,077 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,080 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,082 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,084 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,086 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,089 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,091 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,093 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,095 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,146 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,167 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,196 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,261 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,264 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,266 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,268 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,312 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,315 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,317 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,319 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,322 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,324 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,352 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,392 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,395 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,397 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,399 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,401 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,404 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,463 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,466 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,468 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,525 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,556 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,604 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,607 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,610 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:08:09,637 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-30 20:08:09,658 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-30 20:08:09,713 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-30 20:08:10,267 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-30 20:08:10,267 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-30 20:08:11,354 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-31 00:00:00
 [INFO ] 2017-12-30 20:08:11,355 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-30 20:09:10,481 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 20:11:29,108 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:11:29,109 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-30 20:11:29,109 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-30 20:11:29,568 Line:5227 GlobalsTool.js 生成js 时间81:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:11:29,629 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-30 20:11:29,630 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-30 20:11:29,866 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514635889864
 [DEBUG] 2017-12-30 20:11:29,871 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514635889864,];
 [DEBUG] 2017-12-30 20:11:29,965 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-30 20:11:29,966 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-30 20:11:31,612 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514635891609
 [DEBUG] 2017-12-30 20:11:31,612 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514635891609,];
 [DEBUG] 2017-12-30 20:11:31,669 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514635891667
 [DEBUG] 2017-12-30 20:11:31,669 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514635891667,];
 [DEBUG] 2017-12-30 20:11:31,734 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-30 20:11:31,735 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 20:11:31,788 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 20:11:31,801 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 20:11:31,899 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:11:31,900 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 20:11:31,908 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:11:32,160 Line:5227 GlobalsTool.js 生成js 时间31:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:11:32,330 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 20:11:32,330 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 20:11:32,330 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 20:11:32,331 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:11:32,332 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:11:32,345 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 20:11:32,346 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:11:32,346 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:11:32,356 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 20:11:32,356 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:11:32,357 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:11:32,366 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 20:11:32,367 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:11:32,368 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:11:37,301 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-30 20:11:37,301 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:11:37,301 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-30 20:11:37,750 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-30 20:11:37,758 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-30 20:11:37,782 Line:689 通过SQL读原始数据：24
 [DEBUG] 2017-12-30 20:11:37,790 Line:1391 整理数据：8
 [DEBUG] 2017-12-30 20:11:38,095 Line:5227 GlobalsTool.js 生成js 时间77:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:11:38,192 Line:5227 GlobalsTool.js 生成js 时间96:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 20:12:00,501 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 20:12:00,502 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 20:12:00,764 Line:5227 GlobalsTool.js 生成js 时间12:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:12:01,540 Line:5227 GlobalsTool.js 生成js 时间775:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-30 20:12:03,503 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 20:12:03,504 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 20:12:03,574 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 20:12:03,574 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-30&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 20:12:03,574 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:12:03,575 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:12:03,575 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-30 20:12:03,611 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:12:03,776 Line:5227 GlobalsTool.js 生成js 时间18:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:12:03,802 Line:5227 GlobalsTool.js 生成js 时间25:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:12:07,165 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-30 20:12:07,166 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-30 20:12:07,190 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 20:12:07,191 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:12:07,191 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-30 20:12:07,191 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-30 20:12:07,191 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:12:07,200 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:12:12,956 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-30 20:12:12,957 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-30 20:12:12,988 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-30 20:12:12,988 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-30 20:12:12,988 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:12:12,989 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:12:12,989 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-30 20:12:12,999 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:12:23,623 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-30 20:12:23,624 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712300026,];BillDate=[2017-12-30,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[81,];TotalTaxAmount=[81,];TotalCoTaxAmt=[0,];CurTotalAmount=[81,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[9,];tblBuyInStockDet_Price=[9,];tblBuyInStockDet_Amount=[81,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[9,];tblBuyInStockDet_DisBackAmt=[81,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[9,];tblBuyInStockDet_TaxAmount=[81,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[9,];tblBuyInStockDet_CurAmount=[81,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-30 20:12:23,625 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-30 20:12:23,649 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:12:23,649 Line:5853 1:0.0
 [DEBUG] 2017-12-30 20:12:23,649 Line:5853 2:
 [DEBUG] 2017-12-30 20:12:23,650 Line:5853 3:9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:23,650 Line:5853 4:-1
 [DEBUG] 2017-12-30 20:12:23,650 Line:5853 5:finish
 [DEBUG] 2017-12-30 20:12:23,650 Line:5853 6:0.0
 [DEBUG] 2017-12-30 20:12:23,650 Line:5853 7:0
 [DEBUG] 2017-12-30 20:12:23,650 Line:5853 8:0.0
 [DEBUG] 2017-12-30 20:12:23,651 Line:5853 9:BI1712300026
 [DEBUG] 2017-12-30 20:12:23,651 Line:5853 10:2017-12-30
 [DEBUG] 2017-12-30 20:12:23,651 Line:5853 11:00003
 [DEBUG] 2017-12-30 20:12:23,651 Line:5853 12:00101
 [DEBUG] 2017-12-30 20:12:23,651 Line:5853 13:1
 [DEBUG] 2017-12-30 20:12:23,651 Line:5853 14:00001
 [DEBUG] 2017-12-30 20:12:23,652 Line:5853 15:3
 [DEBUG] 2017-12-30 20:12:23,652 Line:5853 16:0.0
 [DEBUG] 2017-12-30 20:12:23,652 Line:5853 17:0.0
 [DEBUG] 2017-12-30 20:12:23,652 Line:5853 18:0.0
 [DEBUG] 2017-12-30 20:12:23,652 Line:5853 19:0.0
 [DEBUG] 2017-12-30 20:12:23,652 Line:5853 20:
 [DEBUG] 2017-12-30 20:12:23,653 Line:5853 21:0.0
 [DEBUG] 2017-12-30 20:12:23,653 Line:5853 22:0.0
 [DEBUG] 2017-12-30 20:12:23,653 Line:5853 23:0.0
 [DEBUG] 2017-12-30 20:12:23,653 Line:5853 24:
 [DEBUG] 2017-12-30 20:12:23,653 Line:5853 25:0.0
 [DEBUG] 2017-12-30 20:12:23,653 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:12:23,654 Line:5853 27:0.0
 [DEBUG] 2017-12-30 20:12:23,654 Line:5853 28:
 [DEBUG] 2017-12-30 20:12:23,654 Line:5853 29:12
 [DEBUG] 2017-12-30 20:12:23,654 Line:5853 30:12
 [DEBUG] 2017-12-30 20:12:23,654 Line:5853 31:2017
 [DEBUG] 2017-12-30 20:12:23,654 Line:5853 32:
 [DEBUG] 2017-12-30 20:12:23,655 Line:5853 33:0.0
 [DEBUG] 2017-12-30 20:12:23,655 Line:5853 34:0.0
 [DEBUG] 2017-12-30 20:12:23,655 Line:5853 35:0.0
 [DEBUG] 2017-12-30 20:12:23,655 Line:5853 36:
 [DEBUG] 2017-12-30 20:12:23,655 Line:5853 37:
 [DEBUG] 2017-12-30 20:12:23,656 Line:5853 38:
 [DEBUG] 2017-12-30 20:12:23,656 Line:5853 39:0.0
 [DEBUG] 2017-12-30 20:12:23,656 Line:5853 40:0.0
 [DEBUG] 2017-12-30 20:12:23,656 Line:5853 41:
 [DEBUG] 2017-12-30 20:12:23,656 Line:5853 42:
 [DEBUG] 2017-12-30 20:12:23,657 Line:5853 43:100.0
 [DEBUG] 2017-12-30 20:12:23,657 Line:5853 44:0.0
 [DEBUG] 2017-12-30 20:12:23,657 Line:5853 45:0.0
 [DEBUG] 2017-12-30 20:12:23,657 Line:5853 46:
 [DEBUG] 2017-12-30 20:12:23,657 Line:5853 47:1.0
 [DEBUG] 2017-12-30 20:12:23,657 Line:5853 48:81.0
 [DEBUG] 2017-12-30 20:12:23,658 Line:5853 49:81.0
 [DEBUG] 2017-12-30 20:12:23,658 Line:5853 50:0.0
 [DEBUG] 2017-12-30 20:12:23,658 Line:5853 51:81.0
 [DEBUG] 2017-12-30 20:12:23,658 Line:5853 52:
 [DEBUG] 2017-12-30 20:12:23,658 Line:5853 53:
 [DEBUG] 2017-12-30 20:12:23,658 Line:5853 54:0.0
 [DEBUG] 2017-12-30 20:12:23,659 Line:5853 55:0.0
 [DEBUG] 2017-12-30 20:12:23,659 Line:5853 56:0.0
 [DEBUG] 2017-12-30 20:12:23,659 Line:5853 57:0
 [DEBUG] 2017-12-30 20:12:23,659 Line:5853 58:00001
 [DEBUG] 2017-12-30 20:12:23,659 Line:5853 59:0
 [DEBUG] 2017-12-30 20:12:23,659 Line:5853 60:2017-12-30 20:12:23
 [DEBUG] 2017-12-30 20:12:23,660 Line:5853 61:1
 [DEBUG] 2017-12-30 20:12:23,660 Line:5853 62:2017-12-30 20:12:23
 [DEBUG] 2017-12-30 20:12:23,660 Line:5853 63:1
 [DEBUG] 2017-12-30 20:12:23,660 Line:5853 64:2017-12-30 20:12:23
 [DEBUG] 2017-12-30 20:12:23,731 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:12:23,732 Line:5853 1:9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:23,732 Line:5853 2:9da88064_1712302012237310003
 [DEBUG] 2017-12-30 20:12:23,732 Line:5853 3:
 [DEBUG] 2017-12-30 20:12:23,732 Line:5853 4:
 [DEBUG] 2017-12-30 20:12:23,733 Line:5853 5:
 [DEBUG] 2017-12-30 20:12:23,733 Line:5853 6:
 [DEBUG] 2017-12-30 20:12:23,733 Line:5853 7:0000300001
 [DEBUG] 2017-12-30 20:12:23,733 Line:5853 8:
 [DEBUG] 2017-12-30 20:12:23,733 Line:5853 9:
 [DEBUG] 2017-12-30 20:12:23,733 Line:5853 10:
 [DEBUG] 2017-12-30 20:12:23,734 Line:5853 11:
 [DEBUG] 2017-12-30 20:12:23,734 Line:5853 12:
 [DEBUG] 2017-12-30 20:12:23,734 Line:5853 13:
 [DEBUG] 2017-12-30 20:12:23,734 Line:5853 14:
 [DEBUG] 2017-12-30 20:12:23,734 Line:5853 15:9.0
 [DEBUG] 2017-12-30 20:12:23,734 Line:5853 16:9.0
 [DEBUG] 2017-12-30 20:12:23,735 Line:5853 17:81.0
 [DEBUG] 2017-12-30 20:12:23,735 Line:5853 18:0.0
 [DEBUG] 2017-12-30 20:12:23,735 Line:5853 19:0
 [DEBUG] 2017-12-30 20:12:23,735 Line:5853 20:0.0
 [DEBUG] 2017-12-30 20:12:23,735 Line:5853 21:0.0
 [DEBUG] 2017-12-30 20:12:23,736 Line:5853 22:0.0
 [DEBUG] 2017-12-30 20:12:23,736 Line:5853 23:100.0
 [DEBUG] 2017-12-30 20:12:23,736 Line:5853 24:9.0
 [DEBUG] 2017-12-30 20:12:23,736 Line:5853 25:81.0
 [DEBUG] 2017-12-30 20:12:23,736 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:12:23,737 Line:5853 27:9.0
 [DEBUG] 2017-12-30 20:12:23,737 Line:5853 28:81.0
 [DEBUG] 2017-12-30 20:12:23,738 Line:5853 29:0.0
 [DEBUG] 2017-12-30 20:12:23,738 Line:5853 30:9.0
 [DEBUG] 2017-12-30 20:12:23,738 Line:5853 31:81.0
 [DEBUG] 2017-12-30 20:12:23,738 Line:5853 32:0.0
 [DEBUG] 2017-12-30 20:12:23,739 Line:5853 33:0.0
 [DEBUG] 2017-12-30 20:12:23,739 Line:5853 34:0.0
 [DEBUG] 2017-12-30 20:12:23,739 Line:5853 35:0.0
 [DEBUG] 2017-12-30 20:12:23,739 Line:5853 36:0.0
 [DEBUG] 2017-12-30 20:12:23,739 Line:5853 37:
 [DEBUG] 2017-12-30 20:12:23,739 Line:5853 38:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 39:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 40:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 41:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 42:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 43:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 44:0.0
 [DEBUG] 2017-12-30 20:12:23,740 Line:5853 45:0.0
 [DEBUG] 2017-12-30 20:12:23,741 Line:5853 46:0.0
 [DEBUG] 2017-12-30 20:12:23,741 Line:5853 47:0
 [DEBUG] 2017-12-30 20:12:23,741 Line:5853 48:0.0
 [DEBUG] 2017-12-30 20:12:23,741 Line:5853 49:0.0
 [DEBUG] 2017-12-30 20:12:23,741 Line:5853 50:0
 [DEBUG] 2017-12-30 20:12:23,742 Line:5853 51:
 [DEBUG] 2017-12-30 20:12:23,742 Line:5853 52:0.0
 [DEBUG] 2017-12-30 20:12:23,742 Line:5853 53:0.0
 [DEBUG] 2017-12-30 20:12:23,742 Line:5853 54:0.0
 [DEBUG] 2017-12-30 20:12:23,742 Line:5853 55:0
 [DEBUG] 2017-12-30 20:12:23,743 Line:5853 56:0
 [DEBUG] 2017-12-30 20:12:23,743 Line:5853 57:
 [DEBUG] 2017-12-30 20:12:23,745 Line:5853 58:0.0
 [DEBUG] 2017-12-30 20:12:23,745 Line:5853 59:0.0
 [DEBUG] 2017-12-30 20:12:23,745 Line:5853 60:
 [DEBUG] 2017-12-30 20:12:23,745 Line:5853 61:0.0
 [DEBUG] 2017-12-30 20:12:23,745 Line:5853 62:00001
 [DEBUG] 2017-12-30 20:12:23,944 Line:313 exeCondition:tblBuyInStock_Add :81 < 0
 [DEBUG] 2017-12-30 20:12:24,186 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,187 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-30 20:12:24,189 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,189 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-30 20:12:24,190 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,190 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-30 20:12:24,191 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,192 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 20:12:24,192 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,193 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-30 20:12:24,194 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,194 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 20:12:24,195 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,195 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-30 20:12:24,196 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,196 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,196 Line:988 2值：2017-12-30
 [DEBUG] 2017-12-30 20:12:24,199 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,199 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:12:24,200 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,200 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 20:12:24,200 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,201 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,201 Line:988 2值：00003
 [DEBUG] 2017-12-30 20:12:24,204 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,205 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:12:24,206 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,206 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-30 20:12:24,206 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,207 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,207 Line:988 2值：00003
 [DEBUG] 2017-12-30 20:12:24,212 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-30 20:12:24,213 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:12:24,214 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,214 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-30 20:12:24,214 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,214 Line:988 1值：false
 [DEBUG] 2017-12-30 20:12:24,215 Line:988 2值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,222 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-30 20:12:24,223 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-30 20:12:24,223 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-30 20:12:24,224 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,224 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-30 20:12:24,225 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,225 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,233 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-30 20:12:24,233 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,234 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,235 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 20:12:24,235 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,235 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,239 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,239 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,241 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,241 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-30 20:12:24,242 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,242 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,245 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,245 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,246 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,247 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-30 20:12:24,247 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,247 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,252 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 20:12:24,252 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,253 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,254 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,255 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,255 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-30 20:12:24,256 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,256 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,259 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,260 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,261 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,261 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-30 20:12:24,262 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,262 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-30 20:12:24,263 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,263 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,266 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,266 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,267 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,268 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-30 20:12:24,268 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,268 Line:988 1值：81
 [DEBUG] 2017-12-30 20:12:24,268 Line:988 2值：0
 [DEBUG] 2017-12-30 20:12:24,268 Line:988 3值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,276 Line:1025 query condition columnName:SumDetAmt----value:81.0
 [DEBUG] 2017-12-30 20:12:24,277 Line:1025 query condition columnName:sumMainAmt----value:81.0
 [DEBUG] 2017-12-30 20:12:24,277 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-30 20:12:24,278 Line:313 exeCondition:tblBuyInStock_Add :81.0!=81.0
 [DEBUG] 2017-12-30 20:12:24,279 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,279 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-30 20:12:24,280 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,281 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,289 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-30 20:12:24,289 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,290 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,291 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-30 20:12:24,292 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,292 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,295 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,295 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-30 20:12:24,296 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,296 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-30 20:12:24,296 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,297 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,299 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:12:24,299 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-30 20:12:24,300 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,300 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 20:12:24,301 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,301 Line:988 1值：
 [DEBUG] 2017-12-30 20:12:24,301 Line:988 2值：00001
 [DEBUG] 2017-12-30 20:12:24,303 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:12:24,303 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-30 20:12:24,304 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,304 Line:988 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,304 Line:988 2值：
 [DEBUG] 2017-12-30 20:12:24,304 Line:988 3值：
 [DEBUG] 2017-12-30 20:12:24,305 Line:988 4值：
 [DEBUG] 2017-12-30 20:12:24,307 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:12:24,308 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-30 20:12:24,309 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,309 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-30 20:12:24,310 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,310 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-30 20:12:24,311 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,311 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-30 20:12:24,312 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,312 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 20:12:24,313 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,314 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-30 20:12:24,314 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 20:12:24,314 Line:1157 2值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,318 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,318 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 20:12:24,318 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 20:12:24,318 Line:1154 1整数 值：2
 [DEBUG] 2017-12-30 20:12:24,319 Line:1157 2值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,319 Line:1157 3值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,323 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,324 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 20:12:24,324 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-30 20:12:24,324 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,325 Line:1157 2值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,329 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,329 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-30 20:12:24,330 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-30 20:12:24,330 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,333 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,333 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 20:12:24,334 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-30 20:12:24,334 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,339 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,340 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 20:12:24,340 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-30 20:12:24,341 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,341 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-30 20:12:24,341 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,341 Line:1157 2值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,346 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,346 Line:408 ************上述语句执行时间：5
 [DEBUG] 2017-12-30 20:12:24,346 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-30 20:12:24,347 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,347 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-30 20:12:24,348 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,348 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-30 20:12:24,348 Line:1270 9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,349 Line:1270 add
 [DEBUG] 2017-12-30 20:12:24,417 Line:425 ************上述语句执行时间：69
 [DEBUG] 2017-12-30 20:12:24,418 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-30 20:12:24,419 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,419 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 20:12:24,419 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,428 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 20:12:24,428 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-30 20:12:24,428 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-30 20:12:24,428 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,436 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-30 20:12:24,437 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-30 20:12:24,437 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 20:12:24,438 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,438 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-30 20:12:24,439 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,439 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-30 20:12:24,440 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,455 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-30 20:12:24,456 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,456 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 20:12:24,457 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,457 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-30 20:12:24,458 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,458 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 20:12:24,459 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,459 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-30 20:12:24,461 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,461 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:12:24,463 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,463 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-30 20:12:24,464 Line:1157 1值：9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,466 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-30 20:12:24,466 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 20:12:24,466 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:12:24,467 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,467 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-30 20:12:24,467 Line:1270 9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,467 Line:1270 add
 [DEBUG] 2017-12-30 20:12:24,516 Line:425 ************上述语句执行时间：49
 [DEBUG] 2017-12-30 20:12:24,517 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-30 20:12:24,518 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,520 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-30 20:12:24,521 Line:1270 12
 [DEBUG] 2017-12-30 20:12:24,521 Line:1270 2017
 [DEBUG] 2017-12-30 20:12:24,521 Line:1270 12
 [DEBUG] 2017-12-30 20:12:24,522 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-30 20:12:24,522 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-30 20:12:24,522 Line:1270 9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,522 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-30 20:12:24,523 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 20:12:24,523 Line:1270 BI1712300026
 [DEBUG] 2017-12-30 20:12:24,523 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 20:12:24,524 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 20:12:24,524 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-30 20:12:24,525 Line:1270 1
 [DEBUG] 2017-12-30 20:12:24,525 Line:1270 1
 [DEBUG] 2017-12-30 20:12:24,525 Line:1270 2017-12-30 20:12:23
 [DEBUG] 2017-12-30 20:12:24,525 Line:1270 2017-12-30 20:12:23
 [DEBUG] 2017-12-30 20:12:24,526 Line:1270 00001
 [DEBUG] 2017-12-30 20:12:24,526 Line:1270 
 [DEBUG] 2017-12-30 20:12:24,526 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-30 20:12:24,527 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-30 20:12:24,527 Line:1270 00003
 [DEBUG] 2017-12-30 20:12:24,528 Line:1270 1
 [DEBUG] 2017-12-30 20:12:24,529 Line:1270 00101
 [DEBUG] 2017-12-30 20:12:24,529 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-30 20:12:24,529 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-30 20:12:24,530 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-30 20:12:24,530 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-30 20:12:24,530 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-30 20:12:24,530 Line:1270 0
 [DEBUG] 2017-12-30 20:12:24,531 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-30 20:12:24,531 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-30 20:12:24,531 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-30 20:12:24,531 Line:1270 f_ref='9da88064_1712302012236410002'
 [DEBUG] 2017-12-30 20:12:24,693 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'9da88064_1712302012236410002','2017-12-30','BI1712300026','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-30 20:12:23','2017-12-30 20:12:23','00001' from tblBuyInStockDet where f_ref='9da88064_1712302012236410002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-30 20:12:24,693 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-30 20:12:24,693 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 20:12:24,693 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-30 20:12:24,694 Line:425 ************上述语句执行时间：174
 [DEBUG] 2017-12-30 20:12:24,694 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-30 20:12:24,694 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,695 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:12:24,695 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,697 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-30 20:12:24,697 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,700 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:12:24,700 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-30 20:12:24,701 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,701 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-30 20:12:24,702 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,702 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-30 20:12:24,703 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,703 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-30 20:12:24,704 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,704 Line:988 1值：81
 [DEBUG] 2017-12-30 20:12:24,704 Line:988 2值：0
 [DEBUG] 2017-12-30 20:12:24,704 Line:988 3值：81
 [DEBUG] 2017-12-30 20:12:24,704 Line:988 4值：0
 [DEBUG] 2017-12-30 20:12:24,705 Line:988 5值：0
 [DEBUG] 2017-12-30 20:12:24,705 Line:988 6值：1
 [DEBUG] 2017-12-30 20:12:24,706 Line:1023 query condition columnName:RNeedPayAmt----value:81.00000000
 [DEBUG] 2017-12-30 20:12:24,706 Line:1023 query condition columnName:CRNeedPayAmt----value:81.00000000
 [DEBUG] 2017-12-30 20:12:24,706 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-30 20:12:24,706 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:12:24,707 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-30 20:12:24,707 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,751 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-30 20:12:24,754 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-30 20:12:24,761 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,768 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,774 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,781 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,788 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,794 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,808 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-30 20:12:24,822 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-30 20:12:24,912 Line:434 ************上述语句执行时间：204
 [DEBUG] 2017-12-30 20:12:24,913 Line:313 exeCondition:tblBuyInStock_Add_One :81>0
 [DEBUG] 2017-12-30 20:12:24,914 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,914 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-30 20:12:24,915 Line:1270 19da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,915 Line:1270 00003
 [DEBUG] 2017-12-30 20:12:24,915 Line:1270 1
 [DEBUG] 2017-12-30 20:12:24,915 Line:1270 2017-12-30
 [DEBUG] 2017-12-30 20:12:24,915 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=81@SPFieldLink:RelationDocID=9da88064_1712302012236410002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=81@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-30 20:12:23@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-30 20:12:23@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712300026@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-30 20:12:24,965 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('19da88064_1712302012236410002',20,'00003','2017-12-30','12','2017','12','0','81','9da88064_1712302012236410002','','1','0','81','1','2017-12-30 20:12:23','1','2017-12-30 20:12:23','00001','tblBuyInStock','BI1712300026','1','00101','0','')
 [DEBUG] 2017-12-30 20:12:24,966 Line:425 ************上述语句执行时间：52
 [DEBUG] 2017-12-30 20:12:24,966 Line:313 exeCondition:tblBuyInStock_Add_One :81.00000000<0 && 81>0 && 'true'=='false'
 [DEBUG] 2017-12-30 20:12:24,967 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,967 Line:313 exeCondition:tblBuyInStock_Add_One :81.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-30 20:12:24,968 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,969 Line:313 exeCondition:tblBuyInStock_Add_One :81.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-30 20:12:24,969 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,970 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&81.00000000>=0
 [DEBUG] 2017-12-30 20:12:24,970 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,971 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-30 20:12:24,971 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,972 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-30 20:12:24,972 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,973 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-30 20:12:24,973 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,973 Line:988 1值：81
 [DEBUG] 2017-12-30 20:12:24,973 Line:988 2值：0
 [DEBUG] 2017-12-30 20:12:24,973 Line:988 3值：81
 [DEBUG] 2017-12-30 20:12:24,973 Line:988 4值：0
 [DEBUG] 2017-12-30 20:12:24,974 Line:988 5值：0
 [DEBUG] 2017-12-30 20:12:24,974 Line:988 6值：0
 [DEBUG] 2017-12-30 20:12:24,975 Line:1023 query condition columnName:RNeedPayAmt----value:81.00000000
 [DEBUG] 2017-12-30 20:12:24,975 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-30 20:12:24,975 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-30 20:12:24,975 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:12:24,976 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 20:12:24,976 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,977 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-30 20:12:24,977 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,977 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 20:12:24,978 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,978 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-30 20:12:24,979 Line:321 flag:false
 [DEBUG] 2017-12-30 20:12:24,979 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-30 20:12:24,979 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,980 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-30 20:12:24,980 Line:1270 9da88064_1712302012236410002
 [DEBUG] 2017-12-30 20:12:24,980 Line:1270 add
 [DEBUG] 2017-12-30 20:12:24,986 Line:425 ************上述语句执行时间：6
 [DEBUG] 2017-12-30 20:12:24,986 Line:921 自定义执行的语句显示： tblBuyInStock_Add :			
			select 'http://fc.tz1288.com/fc.asmx/GetWebSiteCount' as url,'xst9527008' as UserName,'2017-12-20' as StartDateTime, '2018-12-20' as EndDateTime, '20' as wsCount, 'bc2731782e6b86b01303d9c6d6d22ff9' as Token
		
 [DEBUG] 2017-12-30 20:12:24,986 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:12:24,987 Line:1025 query condition columnName:url----value:http://fc.tz1288.com/fc.asmx/GetWebSiteCount
 [DEBUG] 2017-12-30 20:12:24,987 Line:1025 query condition columnName:UserName----value:xst9527008
 [DEBUG] 2017-12-30 20:12:24,988 Line:1025 query condition columnName:StartDateTime----value:2017-12-20
 [DEBUG] 2017-12-30 20:12:24,988 Line:1025 query condition columnName:EndDateTime----value:2018-12-20
 [DEBUG] 2017-12-30 20:12:24,988 Line:1025 query condition columnName:wsCount----value:20
 [DEBUG] 2017-12-30 20:12:24,988 Line:1025 query condition columnName:Token----value:bc2731782e6b86b01303d9c6d6d22ff9
 [DEBUG] 2017-12-30 20:12:24,988 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:12:24,988 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-30 20:12:24,989 Line:321 flag:true
 [DEBUG] 2017-12-30 20:12:24,994 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-30 20:12:25,038 Line:81 HiveServlet:---->{"state": 1,"reason":  "成功??","count":"10"}
 [DEBUG] 2017-12-30 20:12:25,061 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@2b028100
 [DEBUG] 2017-12-30 20:12:25,061 Line:443 ************上述语句执行时间：72
 [DEBUG] 2017-12-30 20:12:26,572 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=9da88064_1712302012236410002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 20:12:26,574 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[9da88064_1712302012236410002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 20:12:26,576 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='9da88064_1712302012236410002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-30 20:12:26,653 Line:1525  select * from  tblBuyInStockDet where f_ref = '9da88064_1712302012236410002' order by detOrderNo
 [DEBUG] 2017-12-30 20:12:26,660 Line:1525  select * from  tblBuyPayAccount where f_ref = '9da88064_1712302012236410002' order by detOrderNo
 [DEBUG] 2017-12-30 20:15:21,585 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-30 20:15:21,587 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-30 20:15:21,593 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-30 20:15:45,375 Line:206 系统开始启动，最大内存：1792;目前总内存：306;目前空闲内存：214
 [INFO ] 2017-12-30 20:15:45,467 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-30 20:15:49,444 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-30 20:15:49,575 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-30 20:15:49,577 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-30 20:15:49,579 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-30 20:15:49,581 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-30 20:15:49,588 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-30 20:15:49,590 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-30 20:15:50,373 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 20:15:50,394 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-30 20:15:50,419 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-30 20:15:50,428 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-30 20:15:51,125 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-30 20:15:51,125 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-30 20:15:51,534 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-30 20:15:51,611 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-30 20:15:52,387 Line:538 ------Init TableInfo record:639
 [DEBUG] 2017-12-30 20:15:52,407 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-30 20:15:52,409 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-30 20:15:52,416 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-30 20:15:52,428 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-30 20:15:52,430 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-30 20:15:52,469 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-30 20:15:55,634 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-30 20:15:55,751 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,752 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,753 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,754 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,755 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,756 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,758 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,759 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,760 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,761 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,777 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,786 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,796 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,826 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,827 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,828 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,829 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,847 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,848 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,849 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,850 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,853 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,864 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,881 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,882 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,883 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,884 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,885 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,886 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,908 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,909 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,910 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,935 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,952 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,979 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,980 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,981 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2017-12-30 20:15:55,994 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-30 20:15:56,003 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-30 20:15:56,029 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-30 20:15:56,351 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-30 20:15:56,351 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-30 20:15:57,432 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-31 00:00:00
 [INFO ] 2017-12-30 20:15:57,433 Line:137 SAFE 碎片任务启动，时间2017-12-31 00:00:00
 [DEBUG] 2017-12-30 20:16:13,578 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:16:13,579 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-30 20:16:13,580 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-30 20:16:14,014 Line:5227 GlobalsTool.js 生成js 时间62:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:16:14,082 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-30 20:16:14,084 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-30 20:16:14,301 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1514636174279
 [DEBUG] 2017-12-30 20:16:14,306 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1514636174279,];
 [DEBUG] 2017-12-30 20:16:14,371 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-30 20:16:14,371 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-30 20:16:16,013 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1514636176011
 [DEBUG] 2017-12-30 20:16:16,014 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1514636176011,];
 [DEBUG] 2017-12-30 20:16:16,070 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1514636176068
 [DEBUG] 2017-12-30 20:16:16,070 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1514636176068,];
 [DEBUG] 2017-12-30 20:16:16,134 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-30 20:16:16,134 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 20:16:16,170 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 20:16:16,181 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 20:16:16,277 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:16:16,278 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 20:16:16,297 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:16:16,511 Line:5227 GlobalsTool.js 生成js 时间30:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:16:16,681 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 20:16:16,681 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 20:16:16,681 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 20:16:16,681 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:16:16,683 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:16:16,696 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 20:16:16,697 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:16:16,698 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:16:16,708 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 20:16:16,709 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:16:16,710 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:16:16,718 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 20:16:16,718 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:16:16,719 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:16:56,502 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 20:17:27,070 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:17:27,072 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 20:17:27,075 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:17:27,200 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 20:17:27,201 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 20:17:27,216 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 20:17:27,216 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:17:27,217 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:17:27,228 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 20:17:27,229 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:17:27,230 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:17:27,238 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 20:17:27,238 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:17:27,239 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:17:27,247 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 20:17:27,248 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:17:27,248 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:23:00,236 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-30 20:23:00,238 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-30 20:23:00,238 Line:243 AIOApi op=getSessEmp&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:23:00,309 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-30 20:23:00,361 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-30 20:23:00,362 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-30 20:23:00,362 Line:243 AIOApi op=getEnum&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:23:00,368 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-30 20:25:02,576 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-30 20:25:02,577 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2017-12-30 20:25:02,577 Line:243 AIOApi op=popup&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:02,594 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2017-12-30 20:25:02,603 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"主管审核","value":"1513322741341"},{"label":"财务审核","value":"1513322743692"}]}}
 [DEBUG] 2017-12-30 20:25:04,095 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-30 20:25:04,099 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-30T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-30 20:25:04,100 Line:243 AIOApi op=report&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:04,597 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2017-12-30 20:25:04,611 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-30 20:25:04,612 Line:582 ReportDataMgt.getReportData 参数2:2017-12-30T16:00:00.000Z
 [DEBUG] 2017-12-30 20:25:04,644 Line:689 通过SQL读原始数据：33
 [DEBUG] 2017-12-30 20:25:04,646 Line:1391 整理数据：1
 [DEBUG] 2017-12-30 20:25:04,680 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-30T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-30 20:25:06,237 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2017-12-30 20:25:06,239 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[2,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2017-12-30T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2017-12-30 20:25:06,241 Line:243 AIOApi op=report&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:06,285 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 11 and 21 order by row_id
 [DEBUG] 2017-12-30 20:25:06,286 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2017-12-30 20:25:06,287 Line:582 ReportDataMgt.getReportData 参数2:2017-12-30T16:00:00.000Z
 [DEBUG] 2017-12-30 20:25:06,321 Line:689 通过SQL读原始数据：35
 [DEBUG] 2017-12-30 20:25:06,344 Line:1391 整理数据：21
 [DEBUG] 2017-12-30 20:25:06,348 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2017-12-30T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2017-12-30 20:25:09,186 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-30 20:25:09,186 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2017-12-30 20:25:09,187 Line:243 AIOApi op=report&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:09,205 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-30 20:25:09,206 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-30 20:25:09,206 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-30 20:25:09,207 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-30 20:25:09,207 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-30 20:25:09,207 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-30 20:25:09,207 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-30 20:25:09,207 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-30 20:25:09,207 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-30 20:25:09,208 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-30 20:25:09,208 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-30 20:25:09,208 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-30 20:25:09,208 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-30 20:25:09,208 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-30 20:25:09,209 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-30 20:25:09,209 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-30 20:25:09,209 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-30 20:25:09,209 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-30 20:25:09,209 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-30 20:25:09,243 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-30 20:25:09,244 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-30 20:25:09,244 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:09,244 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:09,245 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-30 20:25:09,245 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:09,245 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-30 20:25:09,245 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-30 20:25:09,246 Line:689 通过SQL读原始数据：40
 [DEBUG] 2017-12-30 20:25:09,247 Line:1391 整理数据：1
 [DEBUG] 2017-12-30 20:25:09,268 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-30 20:25:10,700 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-30 20:25:10,703 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2017-12-30 20:25:10,704 Line:243 AIOApi op=report&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:10,728 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-30 20:25:10,729 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2017-12-30 20:25:10,729 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-30 20:25:10,729 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-30 20:25:10,730 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-30 20:25:10,730 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-30 20:25:10,730 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2017-12-30 20:25:10,730 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-30 20:25:10,730 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-30 20:25:10,730 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-30 20:25:10,731 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-30 20:25:10,731 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-30 20:25:10,731 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-30 20:25:10,731 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-30 20:25:10,731 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-30 20:25:10,731 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-30 20:25:10,732 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-30 20:25:10,732 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-30 20:25:10,732 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-30 20:25:10,734 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-30 20:25:10,734 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-30 20:25:10,734 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:10,734 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:10,734 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-30 20:25:10,735 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:10,735 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-30 20:25:10,735 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-30 20:25:10,736 Line:689 通过SQL读原始数据：7
 [DEBUG] 2017-12-30 20:25:10,737 Line:1391 整理数据：1
 [DEBUG] 2017-12-30 20:25:10,752 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-30 20:25:13,456 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2017-12-30 20:25:13,457 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2017-12-30 20:25:13,458 Line:243 AIOApi op=report&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:13,468 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2017-12-30 20:25:13,468 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2017-12-30 20:25:13,469 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2017-12-30 20:25:13,469 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2017-12-30 20:25:13,469 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2017-12-30 20:25:13,469 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2017-12-30 20:25:13,469 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2017-12-30 20:25:13,469 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2017-12-30 20:25:13,470 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2017-12-30 20:25:13,470 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2017-12-30 20:25:13,470 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2017-12-30 20:25:13,471 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2017-12-30 20:25:13,471 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2017-12-30 20:25:13,472 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2017-12-30 20:25:13,472 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2017-12-30 20:25:13,472 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2017-12-30 20:25:13,472 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2017-12-30 20:25:13,472 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2017-12-30 20:25:13,473 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2017-12-30 20:25:13,492 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2017-12-30 20:25:13,492 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2017-12-30 20:25:13,493 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:13,493 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:13,493 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2017-12-30 20:25:13,493 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2017-12-30 20:25:13,493 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2017-12-30 20:25:13,493 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2017-12-30 20:25:13,494 Line:689 通过SQL读原始数据：26
 [DEBUG] 2017-12-30 20:25:13,495 Line:1391 整理数据：1
 [DEBUG] 2017-12-30 20:25:13,499 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","lowerQty"],["实际库存","90","floatc等等！
 [DEBUG] 2017-12-30 20:25:34,907 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-30 20:25:34,909 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2017-12-30 20:25:34,911 Line:243 AIOApi op=popup&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:25:34,915 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2017-12-30 20:25:34,944 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"0000","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"Boos","tblEmployee_TitleID":"","EmployeeID":"2cf86be0_1712291628149430079","tblEmployee_EmpFullName":"Boos","tblEmployee_Mobile":""},{"DepartmentCode":"00101","tblEmployee_EmpNumber":"admin","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"","等等！
 [DEBUG] 2017-12-30 20:25:56,879 Line:135 BaseAction.execute 请求地址：/CommunicationNoteAction.do?src=menu&winCurIndex=1
 [DEBUG] 2017-12-30 20:25:56,881 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:25:56,881 Line:215 ---------->SET Page 1 DEFAULT URL = /CommunicationNoteAction.do
 [DEBUG] 2017-12-30 20:26:12,922 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-30 20:26:12,924 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-30 20:26:12,925 Line:215 ---------->SET Page 2 DEFAULT URL = /EmployeeDepartmentAction.do
 [DEBUG] 2017-12-30 20:26:13,029 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee
 [DEBUG] 2017-12-30 20:26:13,029 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];
 [DEBUG] 2017-12-30 20:26:15,724 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=6&opType=employeePre&tableName=tblEmployee&fieldName=EmpNumber
 [DEBUG] 2017-12-30 20:26:15,724 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];opType=[employeePre,];tableName=[tblEmployee,];fieldName=[EmpNumber,];
 [DEBUG] 2017-12-30 20:26:23,768 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8
 [DEBUG] 2017-12-30 20:26:23,768 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];
 [DEBUG] 2017-12-30 20:26:23,830 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblDepartment&moduleType=&SysType=&MOID=2adbcec1_1311011445296060003&editable=&subSql=
 [DEBUG] 2017-12-30 20:26:23,831 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8&checkTab=Y
 [DEBUG] 2017-12-30 20:26:23,831 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblDepartment,];moduleType=[,];SysType=[,];MOID=[2adbcec1_1311011445296060003,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:26:23,831 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:26:23,832 Line:229 TreeMgt.getTree sql= select classCode,DeptFullName,DeptCode,id from tblDepartment where statusId =0  order by DeptCode
 [DEBUG] 2017-12-30 20:26:23,845 Line:3434 DynDBManager.popSelect selectName=Department; sql=select * from (select tblDepartment.classCode f1 ,tblDepartment.DeptCode f2 ,tblDepartment.DeptFullName f3 ,tblDepartment.DeptFullNamePYM f4 
,tblDepartment.isCatalog as childCount,ROW_NUMBER() over( order by tblDepartment.DeptCode,tblDepartment.DeptFullName) as row_id from tblDepartment where 1=1 and (tblDepartment.statusid!='-1') and tblDepartment.workFlowNodeName='finish' and tblDepartment.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:26:23,967 Line:5227 GlobalsTool.js 生成js 时间12:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:26:23,986 Line:5227 GlobalsTool.js 生成js 时间19:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:26:35,319 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=queryAccnumber
 [DEBUG] 2017-12-30 20:26:35,319 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[queryAccnumber,];tableName=[tblDepartment,];fieldName=[deptCode,];parentCode=[,];
 [DEBUG] 2017-12-30 20:26:51,578 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=department&operation=1
 [DEBUG] 2017-12-30 20:26:51,578 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[department,];operation=[1,];topClassCode=[,];deptName=[AIO组,];deptCode=[02,];
 [DEBUG] 2017-12-30 20:26:51,872 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-30 20:26:51,872 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-30 20:26:51,873 Line:215 ---------->SET Page 2 DEFAULT URL = /EmployeeDepartmentAction.do
 [DEBUG] 2017-12-30 20:26:51,963 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee
 [DEBUG] 2017-12-30 20:26:51,964 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];
 [DEBUG] 2017-12-30 20:26:54,702 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=6&opType=employeePre&tableName=tblEmployee&fieldName=EmpNumber
 [DEBUG] 2017-12-30 20:26:54,703 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];opType=[employeePre,];tableName=[tblEmployee,];fieldName=[EmpNumber,];
 [DEBUG] 2017-12-30 20:26:56,114 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8
 [DEBUG] 2017-12-30 20:26:56,114 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];
 [DEBUG] 2017-12-30 20:26:56,138 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblDepartment&moduleType=&SysType=&MOID=2adbcec1_1311011445296060003&editable=&subSql=
 [DEBUG] 2017-12-30 20:26:56,139 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblDepartment,];moduleType=[,];SysType=[,];MOID=[2adbcec1_1311011445296060003,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:26:56,139 Line:229 TreeMgt.getTree sql= select classCode,DeptFullName,DeptCode,id from tblDepartment where statusId =0  order by DeptCode
 [DEBUG] 2017-12-30 20:26:56,139 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8&checkTab=Y
 [DEBUG] 2017-12-30 20:26:56,140 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:26:56,144 Line:3434 DynDBManager.popSelect selectName=Department; sql=select * from (select tblDepartment.classCode f1 ,tblDepartment.DeptCode f2 ,tblDepartment.DeptFullName f3 ,tblDepartment.DeptFullNamePYM f4 
,tblDepartment.isCatalog as childCount,ROW_NUMBER() over( order by tblDepartment.DeptCode,tblDepartment.DeptFullName) as row_id from tblDepartment where 1=1 and (tblDepartment.statusid!='-1') and tblDepartment.workFlowNodeName='finish' and tblDepartment.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:27:06,017 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=SelectDirectBoss&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E7%9B%B4%E6%8E%A5%E4%B8%8A%E5%8F%B8
 [DEBUG] 2017-12-30 20:27:06,018 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[SelectDirectBoss,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????????????,];
 [DEBUG] 2017-12-30 20:27:06,029 Line:3434 DynDBManager.popSelect selectName=SelectDirectBoss; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.EmpNumber f2 ,tblEmployee.EmpFullName f3 ,tblEmployee.EmpFullNamePYM f4 ,tblEmployee.TitleID f5 ,tblDepartment.DeptFullName f6 ,tblDepartment.DeptFullNamePYM f7 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber) as row_id from tblEmployee
left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode where 1=1  and (tblEmployee.SCompanyID='00001'and tblEmployee.statusId!='-1'or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:27:38,244 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do
 [DEBUG] 2017-12-30 20:27:38,245 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];tableName=[tblEmployee,];opType=[employee,];id=[,];workFlowNodeName=[finish,];curMailSize=[,];defStyle=[,];HiddenField=[,];MACAddress=[,];workFlowNode=[,];EmpNumber=[1,];DepartmentCode=[00102,];tblDepartment_DeptFullName=[AIO组,];EmpFullName=[李灿豪,];EmpFullNamePYM=[,];TitleID=[11,];Gender=[1,];EmpName=[李灿豪,];EmpEnglishName=[,];DirectBoss=[1,];tblEmployee_EmpFullName=[admin,];statusId=[0,];GraduateID=[1,];BornDate=[,];EmployDate=[,];LeaveDate=[,];QQ=[,];ManagerITel=[,];Tel=[,];Mobile=[13691758223,];TopCost=[,];TopCredit=[,];mailSize=[,];shopName=[,];shopPwd=[,];FamilyAddress=[,];Email=[,];Responsibility=[,];StockCode=[,];tblStock_StockFullName=[,];CompanyCode=[,];tblCompany_ComFullName=[,];Account=[,];tblAccTypeInfo_AccName=[,];isPublic=[,];openid=[,];password=[,];printCount=[,];openFlag=[,];sysName=[,];SCompanyID=[,];Remark=[,];lastUpdateBy=[,];lastUpdateTime=[,];loginEndTime=[,];loginStartTime=[,];finishTime=[,];extension=[,];userKeyId=[,];telAreaCode=[,];telpop=[,];telPrefix=[,];createBy=[,];createTime=[,];defSys=[,];CheckPersont=[,];defaultPage=[,];Define1=[1,];Define2=[1,];Define3=[,];Define4=[,];Define5=[,];defLoc=[,];checkMobile=[,];mobileID=[,];Attachment=[,];
 [DEBUG] 2017-12-30 20:27:38,266 Line:5847  INSERT INTO  tblEmployee(curMailSize,defStyle,HiddenField,id,MACAddress,workFlowNode,workFlowNodeName,EmpNumber,DepartmentCode,EmpFullName,EmpFullNamePYM,TitleID,Gender,EmpName,EmpEnglishName,DirectBoss,statusId,GraduateID,BornDate,EmployDate,LeaveDate,QQ,ManagerITel,Tel,Mobile,TopCost,TopCredit,mailSize,shopName,shopPwd,FamilyAddress,Email,Responsibility,StockCode,CompanyCode,Account,isPublic,openid,password,photo,printCount,openFlag,sysName,SCompanyID,Remark,lastUpdateBy,lastUpdateTime,loginEndTime,loginStartTime,finishTime,extension,userKeyId,telAreaCode,telpop,telPrefix,createBy,createTime,defSys,CheckPersont,defaultPage,Define1,Define2,Define3,Define4,Define5,defLoc,checkMobile,mobileID,Attachment) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:27:38,266 Line:5853 1:0
 [DEBUG] 2017-12-30 20:27:38,267 Line:5853 2:
 [DEBUG] 2017-12-30 20:27:38,267 Line:5853 3:
 [DEBUG] 2017-12-30 20:27:38,267 Line:5853 4:02dabeed_1712302027382450004
 [DEBUG] 2017-12-30 20:27:38,267 Line:5853 5:
 [DEBUG] 2017-12-30 20:27:38,267 Line:5853 6:
 [DEBUG] 2017-12-30 20:27:38,267 Line:5853 7:finish
 [DEBUG] 2017-12-30 20:27:38,268 Line:5853 8:1
 [DEBUG] 2017-12-30 20:27:38,268 Line:5853 9:00102
 [DEBUG] 2017-12-30 20:27:38,268 Line:5853 10:李灿豪
 [DEBUG] 2017-12-30 20:27:38,268 Line:5853 11:lch
 [DEBUG] 2017-12-30 20:27:38,268 Line:5853 12:11
 [DEBUG] 2017-12-30 20:27:38,268 Line:5853 13:1
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 14:李灿豪
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 15:
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 16:1
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 17:0
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 18:1
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 19:
 [DEBUG] 2017-12-30 20:27:38,269 Line:5853 20:
 [DEBUG] 2017-12-30 20:27:38,270 Line:5853 21:
 [DEBUG] 2017-12-30 20:27:38,270 Line:5853 22:
 [DEBUG] 2017-12-30 20:27:38,270 Line:5853 23:
 [DEBUG] 2017-12-30 20:27:38,270 Line:5853 24:
 [DEBUG] 2017-12-30 20:27:38,270 Line:5853 25:13691758223
 [DEBUG] 2017-12-30 20:27:38,270 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:27:38,271 Line:5853 27:
 [DEBUG] 2017-12-30 20:27:38,271 Line:5853 28:0
 [DEBUG] 2017-12-30 20:27:38,271 Line:5853 29:
 [DEBUG] 2017-12-30 20:27:38,271 Line:5853 30:
 [DEBUG] 2017-12-30 20:27:38,271 Line:5853 31:
 [DEBUG] 2017-12-30 20:27:38,272 Line:5853 32:
 [DEBUG] 2017-12-30 20:27:38,272 Line:5853 33:
 [DEBUG] 2017-12-30 20:27:38,272 Line:5853 34:
 [DEBUG] 2017-12-30 20:27:38,272 Line:5853 35:
 [DEBUG] 2017-12-30 20:27:38,272 Line:5853 36:
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 37:0
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 38:
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 39:
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 40:
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 41:0
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 42:0
 [DEBUG] 2017-12-30 20:27:38,273 Line:5853 43:
 [DEBUG] 2017-12-30 20:27:38,274 Line:5853 44:00001
 [DEBUG] 2017-12-30 20:27:38,274 Line:5853 45:
 [DEBUG] 2017-12-30 20:27:38,274 Line:5853 46:1
 [DEBUG] 2017-12-30 20:27:38,274 Line:5853 47:2017-12-30 20:27:38
 [DEBUG] 2017-12-30 20:27:38,274 Line:5853 48:
 [DEBUG] 2017-12-30 20:27:38,274 Line:5853 49:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 50:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 51:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 52:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 53:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 54:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 55:
 [DEBUG] 2017-12-30 20:27:38,275 Line:5853 56:1
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 57:2017-12-30 20:27:38
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 58:
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 59:
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 60:
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 61:1
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 62:1
 [DEBUG] 2017-12-30 20:27:38,276 Line:5853 63:
 [DEBUG] 2017-12-30 20:27:38,277 Line:5853 64:
 [DEBUG] 2017-12-30 20:27:38,277 Line:5853 65:
 [DEBUG] 2017-12-30 20:27:38,277 Line:5853 66:
 [DEBUG] 2017-12-30 20:27:38,277 Line:5853 67:0
 [DEBUG] 2017-12-30 20:27:38,277 Line:5853 68:
 [DEBUG] 2017-12-30 20:27:38,277 Line:5853 69:;
 [DEBUG] 2017-12-30 20:27:38,543 Line:921 自定义执行的语句显示： tblEmployee_add :select count(EmpNumber) as Empnum from tblEmployee where EmpNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 20:27:38,544 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:27:38,544 Line:988 1值：1
 [DEBUG] 2017-12-30 20:27:38,544 Line:988 2值：00001
 [DEBUG] 2017-12-30 20:27:38,545 Line:1025 query condition columnName:Empnum----value:1
 [DEBUG] 2017-12-30 20:27:38,546 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:27:38,546 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as EstablishErrorExist from tblEmployee as A outer apply (select DeptEstablish from tblDepartment where classCode=A.DepartmentCode) as B outer apply (select count(*) as Counts from tblEmployee where DepartmentCode=A.DepartmentCode) as C where id=? and isNULL(B.DeptEstablish,0)<isNULL(C.Counts,0) and isNULL(B.DeptEstablish,0)!=0
 [DEBUG] 2017-12-30 20:27:38,546 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:27:38,546 Line:988 1值：02dabeed_1712302027382450004
 [DEBUG] 2017-12-30 20:27:38,550 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:27:38,551 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as ParentClassExistData from tblEmployee where DepartmentCode in (select classCode from tblDepartment where ? like classCode+'%')
 [DEBUG] 2017-12-30 20:27:38,551 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:27:38,551 Line:988 1值：
 [DEBUG] 2017-12-30 20:27:38,554 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:27:38,554 Line:313 exeCondition:tblEmployee_add :1 > 1
 [DEBUG] 2017-12-30 20:27:38,774 Line:321 flag:false
 [DEBUG] 2017-12-30 20:27:38,774 Line:313 exeCondition:tblEmployee_add :'00001'.length=='0' && false==true
 [DEBUG] 2017-12-30 20:27:38,776 Line:321 flag:false
 [DEBUG] 2017-12-30 20:27:38,776 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-30 20:27:38,777 Line:321 flag:false
 [DEBUG] 2017-12-30 20:27:38,777 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-30 20:27:38,778 Line:321 flag:false
 [DEBUG] 2017-12-30 20:27:40,133 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee&departmentCode=00102
 [DEBUG] 2017-12-30 20:27:40,133 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];departmentCode=[00102,];
 [DEBUG] 2017-12-30 20:27:41,931 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=6&opType=employeePre&tableName=tblEmployee&fieldName=EmpNumber
 [DEBUG] 2017-12-30 20:27:41,931 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];opType=[employeePre,];tableName=[tblEmployee,];fieldName=[EmpNumber,];
 [DEBUG] 2017-12-30 20:27:43,810 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8
 [DEBUG] 2017-12-30 20:27:43,811 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];
 [DEBUG] 2017-12-30 20:27:43,833 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblDepartment&moduleType=&SysType=&MOID=2adbcec1_1311011445296060003&editable=&subSql=
 [DEBUG] 2017-12-30 20:27:43,834 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblDepartment,];moduleType=[,];SysType=[,];MOID=[2adbcec1_1311011445296060003,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:27:43,835 Line:229 TreeMgt.getTree sql= select classCode,DeptFullName,DeptCode,id from tblDepartment where statusId =0  order by DeptCode
 [DEBUG] 2017-12-30 20:27:43,836 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8&checkTab=Y
 [DEBUG] 2017-12-30 20:27:43,837 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:27:43,839 Line:3434 DynDBManager.popSelect selectName=Department; sql=select * from (select tblDepartment.classCode f1 ,tblDepartment.DeptCode f2 ,tblDepartment.DeptFullName f3 ,tblDepartment.DeptFullNamePYM f4 
,tblDepartment.isCatalog as childCount,ROW_NUMBER() over( order by tblDepartment.DeptCode,tblDepartment.DeptFullName) as row_id from tblDepartment where 1=1 and (tblDepartment.statusid!='-1') and tblDepartment.workFlowNodeName='finish' and tblDepartment.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:28:01,601 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=SelectDirectBoss&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E7%9B%B4%E6%8E%A5%E4%B8%8A%E5%8F%B8
 [DEBUG] 2017-12-30 20:28:01,601 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[SelectDirectBoss,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????????????,];
 [DEBUG] 2017-12-30 20:28:01,605 Line:3434 DynDBManager.popSelect selectName=SelectDirectBoss; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.EmpNumber f2 ,tblEmployee.EmpFullName f3 ,tblEmployee.EmpFullNamePYM f4 ,tblEmployee.TitleID f5 ,tblDepartment.DeptFullName f6 ,tblDepartment.DeptFullNamePYM f7 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber) as row_id from tblEmployee
left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode where 1=1  and (tblEmployee.SCompanyID='00001'and tblEmployee.statusId!='-1'or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:28:13,116 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do
 [DEBUG] 2017-12-30 20:28:13,116 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];tableName=[tblEmployee,];opType=[employee,];id=[,];workFlowNodeName=[finish,];curMailSize=[,];defStyle=[,];HiddenField=[,];MACAddress=[,];workFlowNode=[,];EmpNumber=[2,];DepartmentCode=[00102,];tblDepartment_DeptFullName=[AIO组,];EmpFullName=[马丽航,];EmpFullNamePYM=[,];TitleID=[11,];Gender=[1,];EmpName=[马丽航,];EmpEnglishName=[,];DirectBoss=[1,];tblEmployee_EmpFullName=[admin,];statusId=[0,];GraduateID=[1,];BornDate=[,];EmployDate=[,];LeaveDate=[,];QQ=[,];ManagerITel=[,];Tel=[,];Mobile=[13322332222,];TopCost=[,];TopCredit=[,];mailSize=[,];shopName=[,];shopPwd=[,];FamilyAddress=[,];Email=[,];Responsibility=[,];StockCode=[,];tblStock_StockFullName=[,];CompanyCode=[,];tblCompany_ComFullName=[,];Account=[,];tblAccTypeInfo_AccName=[,];isPublic=[,];openid=[,];password=[,];printCount=[,];openFlag=[,];sysName=[,];SCompanyID=[,];Remark=[,];lastUpdateBy=[,];lastUpdateTime=[,];loginEndTime=[,];loginStartTime=[,];finishTime=[,];extension=[,];userKeyId=[,];telAreaCode=[,];telpop=[,];telPrefix=[,];createBy=[,];createTime=[,];defSys=[,];CheckPersont=[,];defaultPage=[,];Define1=[1,];Define2=[1,];Define3=[,];Define4=[,];Define5=[,];defLoc=[,];checkMobile=[,];mobileID=[,];Attachment=[,];
 [DEBUG] 2017-12-30 20:28:13,119 Line:5847  INSERT INTO  tblEmployee(curMailSize,defStyle,HiddenField,id,MACAddress,workFlowNode,workFlowNodeName,EmpNumber,DepartmentCode,EmpFullName,EmpFullNamePYM,TitleID,Gender,EmpName,EmpEnglishName,DirectBoss,statusId,GraduateID,BornDate,EmployDate,LeaveDate,QQ,ManagerITel,Tel,Mobile,TopCost,TopCredit,mailSize,shopName,shopPwd,FamilyAddress,Email,Responsibility,StockCode,CompanyCode,Account,isPublic,openid,password,photo,printCount,openFlag,sysName,SCompanyID,Remark,lastUpdateBy,lastUpdateTime,loginEndTime,loginStartTime,finishTime,extension,userKeyId,telAreaCode,telpop,telPrefix,createBy,createTime,defSys,CheckPersont,defaultPage,Define1,Define2,Define3,Define4,Define5,defLoc,checkMobile,mobileID,Attachment) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:28:13,119 Line:5853 1:0
 [DEBUG] 2017-12-30 20:28:13,119 Line:5853 2:
 [DEBUG] 2017-12-30 20:28:13,119 Line:5853 3:
 [DEBUG] 2017-12-30 20:28:13,119 Line:5853 4:02dabeed_1712302028131170006
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 5:
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 6:
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 7:finish
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 8:2
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 9:00102
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 10:马丽航
 [DEBUG] 2017-12-30 20:28:13,120 Line:5853 11:mlh
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 12:11
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 13:1
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 14:马丽航
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 15:
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 16:1
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 17:0
 [DEBUG] 2017-12-30 20:28:13,121 Line:5853 18:1
 [DEBUG] 2017-12-30 20:28:13,122 Line:5853 19:
 [DEBUG] 2017-12-30 20:28:13,122 Line:5853 20:
 [DEBUG] 2017-12-30 20:28:13,122 Line:5853 21:
 [DEBUG] 2017-12-30 20:28:13,122 Line:5853 22:
 [DEBUG] 2017-12-30 20:28:13,122 Line:5853 23:
 [DEBUG] 2017-12-30 20:28:13,122 Line:5853 24:
 [DEBUG] 2017-12-30 20:28:13,123 Line:5853 25:13322332222
 [DEBUG] 2017-12-30 20:28:13,123 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:28:13,123 Line:5853 27:
 [DEBUG] 2017-12-30 20:28:13,123 Line:5853 28:0
 [DEBUG] 2017-12-30 20:28:13,123 Line:5853 29:
 [DEBUG] 2017-12-30 20:28:13,123 Line:5853 30:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 31:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 32:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 33:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 34:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 35:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 36:
 [DEBUG] 2017-12-30 20:28:13,124 Line:5853 37:0
 [DEBUG] 2017-12-30 20:28:13,125 Line:5853 38:
 [DEBUG] 2017-12-30 20:28:13,125 Line:5853 39:
 [DEBUG] 2017-12-30 20:28:13,125 Line:5853 40:
 [DEBUG] 2017-12-30 20:28:13,125 Line:5853 41:0
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 42:0
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 43:
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 44:00001
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 45:
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 46:1
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 47:2017-12-30 20:28:13
 [DEBUG] 2017-12-30 20:28:13,126 Line:5853 48:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 49:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 50:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 51:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 52:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 53:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 54:
 [DEBUG] 2017-12-30 20:28:13,127 Line:5853 55:
 [DEBUG] 2017-12-30 20:28:13,128 Line:5853 56:1
 [DEBUG] 2017-12-30 20:28:13,128 Line:5853 57:2017-12-30 20:28:13
 [DEBUG] 2017-12-30 20:28:13,128 Line:5853 58:
 [DEBUG] 2017-12-30 20:28:13,128 Line:5853 59:
 [DEBUG] 2017-12-30 20:28:13,128 Line:5853 60:
 [DEBUG] 2017-12-30 20:28:13,128 Line:5853 61:1
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 62:1
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 63:
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 64:
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 65:
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 66:
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 67:0
 [DEBUG] 2017-12-30 20:28:13,129 Line:5853 68:
 [DEBUG] 2017-12-30 20:28:13,130 Line:5853 69:;
 [DEBUG] 2017-12-30 20:28:13,131 Line:921 自定义执行的语句显示： tblEmployee_add :select count(EmpNumber) as Empnum from tblEmployee where EmpNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 20:28:13,131 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:28:13,131 Line:988 1值：2
 [DEBUG] 2017-12-30 20:28:13,131 Line:988 2值：00001
 [DEBUG] 2017-12-30 20:28:13,132 Line:1025 query condition columnName:Empnum----value:1
 [DEBUG] 2017-12-30 20:28:13,132 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-30 20:28:13,132 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as EstablishErrorExist from tblEmployee as A outer apply (select DeptEstablish from tblDepartment where classCode=A.DepartmentCode) as B outer apply (select count(*) as Counts from tblEmployee where DepartmentCode=A.DepartmentCode) as C where id=? and isNULL(B.DeptEstablish,0)<isNULL(C.Counts,0) and isNULL(B.DeptEstablish,0)!=0
 [DEBUG] 2017-12-30 20:28:13,133 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:28:13,133 Line:988 1值：02dabeed_1712302028131170006
 [DEBUG] 2017-12-30 20:28:13,133 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-30 20:28:13,134 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as ParentClassExistData from tblEmployee where DepartmentCode in (select classCode from tblDepartment where ? like classCode+'%')
 [DEBUG] 2017-12-30 20:28:13,134 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:28:13,134 Line:988 1值：
 [DEBUG] 2017-12-30 20:28:13,134 Line:1043 ---上述语句时间---0
 [DEBUG] 2017-12-30 20:28:13,135 Line:313 exeCondition:tblEmployee_add :1 > 1
 [DEBUG] 2017-12-30 20:28:13,136 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:13,136 Line:313 exeCondition:tblEmployee_add :'00001'.length=='0' && false==true
 [DEBUG] 2017-12-30 20:28:13,137 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:13,137 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-30 20:28:13,138 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:13,139 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-30 20:28:13,139 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:14,318 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee&departmentCode=00102
 [DEBUG] 2017-12-30 20:28:14,318 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];departmentCode=[00102,];
 [DEBUG] 2017-12-30 20:28:16,141 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?operation=6&opType=employeePre&tableName=tblEmployee&fieldName=EmpNumber
 [DEBUG] 2017-12-30 20:28:16,142 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[6,];opType=[employeePre,];tableName=[tblEmployee,];fieldName=[EmpNumber,];
 [DEBUG] 2017-12-30 20:28:24,680 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=SelectDirectBoss&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E7%9B%B4%E6%8E%A5%E4%B8%8A%E5%8F%B8
 [DEBUG] 2017-12-30 20:28:24,680 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[SelectDirectBoss,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????????????,];
 [DEBUG] 2017-12-30 20:28:24,686 Line:3434 DynDBManager.popSelect selectName=SelectDirectBoss; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.EmpNumber f2 ,tblEmployee.EmpFullName f3 ,tblEmployee.EmpFullNamePYM f4 ,tblEmployee.TitleID f5 ,tblDepartment.DeptFullName f6 ,tblDepartment.DeptFullNamePYM f7 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber) as row_id from tblEmployee
left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode where 1=1  and (tblEmployee.SCompanyID='00001'and tblEmployee.statusId!='-1'or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:28:39,826 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8
 [DEBUG] 2017-12-30 20:28:39,827 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];
 [DEBUG] 2017-12-30 20:28:39,856 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblDepartment&moduleType=&SysType=&MOID=2adbcec1_1311011445296060003&editable=&subSql=
 [DEBUG] 2017-12-30 20:28:39,856 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblDepartment,];moduleType=[,];SysType=[,];MOID=[2adbcec1_1311011445296060003,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-30 20:28:39,857 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?operation=22&popupWin=Popdiv&tableName=&selectName=Department&MOID=2adbcec1_1311011445296060003&MOOP=add&LinkType=@URL:&displayName=%E9%80%89%E6%8B%A9%E6%89%80%E5%B1%9E%E9%83%A8%E9%97%A8&checkTab=Y
 [DEBUG] 2017-12-30 20:28:39,857 Line:229 TreeMgt.getTree sql= select classCode,DeptFullName,DeptCode,id from tblDepartment where statusId =0  order by DeptCode
 [DEBUG] 2017-12-30 20:28:39,858 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[22,];popupWin=[Popdiv,];tableName=[,];selectName=[Department,];MOID=[2adbcec1_1311011445296060003,];MOOP=[add,];LinkType=[@URL:,];displayName=[é?????????±?é?¨é?¨,];checkTab=[Y,];
 [DEBUG] 2017-12-30 20:28:39,859 Line:3434 DynDBManager.popSelect selectName=Department; sql=select * from (select tblDepartment.classCode f1 ,tblDepartment.DeptCode f2 ,tblDepartment.DeptFullName f3 ,tblDepartment.DeptFullNamePYM f4 
,tblDepartment.isCatalog as childCount,ROW_NUMBER() over( order by tblDepartment.DeptCode,tblDepartment.DeptFullName) as row_id from tblDepartment where 1=1 and (tblDepartment.statusid!='-1') and tblDepartment.workFlowNodeName='finish' and tblDepartment.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-30 20:28:42,952 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do
 [DEBUG] 2017-12-30 20:28:42,952 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[1,];tableName=[tblEmployee,];opType=[employee,];id=[,];workFlowNodeName=[finish,];curMailSize=[,];defStyle=[,];HiddenField=[,];MACAddress=[,];workFlowNode=[,];EmpNumber=[3,];DepartmentCode=[00102,];tblDepartment_DeptFullName=[AIO组,];EmpFullName=[洛奇,];EmpFullNamePYM=[,];TitleID=[11,];Gender=[1,];EmpName=[洛奇,];EmpEnglishName=[,];DirectBoss=[1,];tblEmployee_EmpFullName=[admin,];statusId=[0,];GraduateID=[1,];BornDate=[,];EmployDate=[,];LeaveDate=[,];QQ=[,];ManagerITel=[,];Tel=[,];Mobile=[136978833443,];TopCost=[,];TopCredit=[,];mailSize=[,];shopName=[,];shopPwd=[,];FamilyAddress=[,];Email=[,];Responsibility=[,];StockCode=[,];tblStock_StockFullName=[,];CompanyCode=[,];tblCompany_ComFullName=[,];Account=[,];tblAccTypeInfo_AccName=[,];isPublic=[,];openid=[,];password=[,];printCount=[,];openFlag=[,];sysName=[,];SCompanyID=[,];Remark=[,];lastUpdateBy=[,];lastUpdateTime=[,];loginEndTime=[,];loginStartTime=[,];finishTime=[,];extension=[,];userKeyId=[,];telAreaCode=[,];telpop=[,];telPrefix=[,];createBy=[,];createTime=[,];defSys=[,];CheckPersont=[,];defaultPage=[,];Define1=[1,];Define2=[1,];Define3=[,];Define4=[,];Define5=[,];defLoc=[,];checkMobile=[,];mobileID=[,];Attachment=[,];
 [DEBUG] 2017-12-30 20:28:42,955 Line:5847  INSERT INTO  tblEmployee(curMailSize,defStyle,HiddenField,id,MACAddress,workFlowNode,workFlowNodeName,EmpNumber,DepartmentCode,EmpFullName,EmpFullNamePYM,TitleID,Gender,EmpName,EmpEnglishName,DirectBoss,statusId,GraduateID,BornDate,EmployDate,LeaveDate,QQ,ManagerITel,Tel,Mobile,TopCost,TopCredit,mailSize,shopName,shopPwd,FamilyAddress,Email,Responsibility,StockCode,CompanyCode,Account,isPublic,openid,password,photo,printCount,openFlag,sysName,SCompanyID,Remark,lastUpdateBy,lastUpdateTime,loginEndTime,loginStartTime,finishTime,extension,userKeyId,telAreaCode,telpop,telPrefix,createBy,createTime,defSys,CheckPersont,defaultPage,Define1,Define2,Define3,Define4,Define5,defLoc,checkMobile,mobileID,Attachment) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:28:42,955 Line:5853 1:0
 [DEBUG] 2017-12-30 20:28:42,955 Line:5853 2:
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 3:
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 4:02dabeed_1712302028429530008
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 5:
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 6:
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 7:finish
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 8:3
 [DEBUG] 2017-12-30 20:28:42,956 Line:5853 9:00102
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 10:洛奇
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 11:lq
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 12:11
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 13:1
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 14:洛奇
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 15:
 [DEBUG] 2017-12-30 20:28:42,957 Line:5853 16:1
 [DEBUG] 2017-12-30 20:28:42,958 Line:5853 17:0
 [DEBUG] 2017-12-30 20:28:42,958 Line:5853 18:1
 [DEBUG] 2017-12-30 20:28:42,958 Line:5853 19:
 [DEBUG] 2017-12-30 20:28:42,958 Line:5853 20:
 [DEBUG] 2017-12-30 20:28:42,958 Line:5853 21:
 [DEBUG] 2017-12-30 20:28:42,958 Line:5853 22:
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 23:
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 24:
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 25:136978833443
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 26:0.0
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 27:
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 28:0
 [DEBUG] 2017-12-30 20:28:42,959 Line:5853 29:
 [DEBUG] 2017-12-30 20:28:42,960 Line:5853 30:
 [DEBUG] 2017-12-30 20:28:42,960 Line:5853 31:
 [DEBUG] 2017-12-30 20:28:42,960 Line:5853 32:
 [DEBUG] 2017-12-30 20:28:42,960 Line:5853 33:
 [DEBUG] 2017-12-30 20:28:42,960 Line:5853 34:
 [DEBUG] 2017-12-30 20:28:42,960 Line:5853 35:
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 36:
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 37:0
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 38:
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 39:
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 40:
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 41:0
 [DEBUG] 2017-12-30 20:28:42,961 Line:5853 42:0
 [DEBUG] 2017-12-30 20:28:42,962 Line:5853 43:
 [DEBUG] 2017-12-30 20:28:42,962 Line:5853 44:00001
 [DEBUG] 2017-12-30 20:28:42,962 Line:5853 45:
 [DEBUG] 2017-12-30 20:28:42,962 Line:5853 46:1
 [DEBUG] 2017-12-30 20:28:42,962 Line:5853 47:2017-12-30 20:28:42
 [DEBUG] 2017-12-30 20:28:42,962 Line:5853 48:
 [DEBUG] 2017-12-30 20:28:42,963 Line:5853 49:
 [DEBUG] 2017-12-30 20:28:42,963 Line:5853 50:
 [DEBUG] 2017-12-30 20:28:42,963 Line:5853 51:
 [DEBUG] 2017-12-30 20:28:42,963 Line:5853 52:
 [DEBUG] 2017-12-30 20:28:42,963 Line:5853 53:
 [DEBUG] 2017-12-30 20:28:42,963 Line:5853 54:
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 55:
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 56:1
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 57:2017-12-30 20:28:42
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 58:
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 59:
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 60:
 [DEBUG] 2017-12-30 20:28:42,964 Line:5853 61:1
 [DEBUG] 2017-12-30 20:28:42,965 Line:5853 62:1
 [DEBUG] 2017-12-30 20:28:42,965 Line:5853 63:
 [DEBUG] 2017-12-30 20:28:42,965 Line:5853 64:
 [DEBUG] 2017-12-30 20:28:42,965 Line:5853 65:
 [DEBUG] 2017-12-30 20:28:42,965 Line:5853 66:
 [DEBUG] 2017-12-30 20:28:42,965 Line:5853 67:0
 [DEBUG] 2017-12-30 20:28:42,966 Line:5853 68:
 [DEBUG] 2017-12-30 20:28:42,966 Line:5853 69:;
 [DEBUG] 2017-12-30 20:28:42,967 Line:921 自定义执行的语句显示： tblEmployee_add :select count(EmpNumber) as Empnum from tblEmployee where EmpNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 20:28:42,967 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:28:42,968 Line:988 1值：3
 [DEBUG] 2017-12-30 20:28:42,968 Line:988 2值：00001
 [DEBUG] 2017-12-30 20:28:42,968 Line:1025 query condition columnName:Empnum----value:1
 [DEBUG] 2017-12-30 20:28:42,969 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:28:42,969 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as EstablishErrorExist from tblEmployee as A outer apply (select DeptEstablish from tblDepartment where classCode=A.DepartmentCode) as B outer apply (select count(*) as Counts from tblEmployee where DepartmentCode=A.DepartmentCode) as C where id=? and isNULL(B.DeptEstablish,0)<isNULL(C.Counts,0) and isNULL(B.DeptEstablish,0)!=0
 [DEBUG] 2017-12-30 20:28:42,969 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:28:42,969 Line:988 1值：02dabeed_1712302028429530008
 [DEBUG] 2017-12-30 20:28:42,970 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-30 20:28:42,970 Line:921 自定义执行的语句显示： tblEmployee_add :select 'Exist' as ParentClassExistData from tblEmployee where DepartmentCode in (select classCode from tblDepartment where ? like classCode+'%')
 [DEBUG] 2017-12-30 20:28:42,971 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:28:42,971 Line:988 1值：
 [DEBUG] 2017-12-30 20:28:42,971 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-30 20:28:42,972 Line:313 exeCondition:tblEmployee_add :1 > 1
 [DEBUG] 2017-12-30 20:28:42,973 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:42,973 Line:313 exeCondition:tblEmployee_add :'00001'.length=='0' && false==true
 [DEBUG] 2017-12-30 20:28:42,974 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:42,974 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-30 20:28:42,975 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:42,975 Line:313 exeCondition:tblEmployee_add :'null'=='Exist'
 [DEBUG] 2017-12-30 20:28:42,976 Line:321 flag:false
 [DEBUG] 2017-12-30 20:28:43,973 Line:135 BaseAction.execute 请求地址：/EmployeeDepartmentAction.do?opType=loadEmployee&departmentCode=00102
 [DEBUG] 2017-12-30 20:28:43,974 Line:146 BaseAction.execute 操作人:admin;请求数据：opType=[loadEmployee,];departmentCode=[00102,];
 [DEBUG] 2017-12-30 20:29:10,404 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-30 20:29:10,405 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-30 20:29:10,405 Line:243 AIOApi op=getSessEmp&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:29:10,405 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-30 20:29:10,541 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-30 20:29:10,542 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-30 20:29:10,542 Line:243 AIOApi op=getEnum&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:29:10,545 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-30 20:29:13,515 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2017-12-30 20:29:13,516 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2017-12-30 20:29:13,516 Line:243 AIOApi op=popup&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:29:13,517 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2017-12-30 20:29:13,520 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"0000","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"Boos","tblEmployee_TitleID":"","EmployeeID":"2cf86be0_1712291628149430079","tblEmployee_EmpFullName":"Boos","tblEmployee_Mobile":""},{"DepartmentCode":"00102","tblEmployee_EmpNumber":"1","tblDepartment_DeptFullName":"AIO组","tblDepartment_DeptFullNamePYM":"AIOz","tblEmployee_EmpFullNamePYM":"lch","t等等！
 [DEBUG] 2017-12-30 20:31:10,975 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-30 20:31:10,976 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-30 20:31:10,976 Line:243 AIOApi op=myworkflow&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:31:11,007 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-30 20:31:11,009 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"2cf86be0_1712291545440450016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2017-12-29","createTime":"15:45","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2017-12-30 20:31:17,533 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-30 20:31:17,534 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-30 20:31:17,534 Line:243 AIOApi op=myworkflow&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:31:17,548 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-30 20:31:17,551 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-29","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"d7068534_1712271714503740050","templateName":"请假单","orderIndex":0,"billId":"2cf86be0_1712291630368350087","applyContent":"","currentNode":"1514534674612","nextNodeIds":"","tableName":"FlowNqingjiadan2","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperso等等！
 [DEBUG] 2017-12-30 20:31:19,375 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 20:31:19,376 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[FlowNqingjiadan2,];keyId=[2cf86be0_1712291630368350087,];
 [DEBUG] 2017-12-30 20:31:19,376 Line:243 AIOApi op=detail&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:31:19,419 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-30 20:31:19,419 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNqingjiadan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-30 20:31:19,429 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291630368350087' and  a.tableName='FlowNqingjiadan2'
 [DEBUG] 2017-12-30 20:31:19,523 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"lastUpdateByName":"admin","tblDepartment.DeptFullName":"默认部门","SCompanyID":"00001","Kstime":"2017-12-29 16:30:00","tblEmployee.EmpFullName":"admin","printCount":0,"workFlowNode":"1514534674612","id":"2cf86be0_1712291630368350087","workFlowNodeName":"notApprove","isCatalog":0,"DepartmentCode":"","Hhtime":"2017-12-29等等！
 [DEBUG] 2017-12-30 20:31:23,967 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 20:31:23,968 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[FlowNwaichushenqingdan2,];keyId=[2cf86be0_1712291629525870083,];
 [DEBUG] 2017-12-30 20:31:23,968 Line:243 AIOApi op=detail&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:31:23,971 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-30 20:31:23,971 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNwaichushenqingdan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1'
 [DEBUG] 2017-12-30 20:31:23,973 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291629525870083' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2017-12-30 20:31:24,003 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"lastUpdateByName":"admin","tblDepartment.DeptFullName":"默认部门","Fhtime":"2017-12-29 16:27:04","SCompanyID":"00001","tblEmployee.EmpFullName":"admin","printCount":0,"workFlowNode":"1514367705927","id":"2cf86be0_1712291629525870083","workFlowNodeName":"notApprove","OutStytle":"1","isCatalog":0,"DepartmentCode":"","fin等等！
 [DEBUG] 2017-12-30 20:31:35,798 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 20:31:35,801 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-30 20:31:35,801 Line:243 AIOApi op=detail&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:31:35,873 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-30 20:31:35,883 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:31:36,039 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-30 20:33:31,084 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-30 20:33:31,086 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-30 20:33:31,089 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:33:31,230 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-30 20:33:31,230 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-30 20:33:31,247 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-30 20:33:31,247 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:33:31,249 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:33:31,257 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-30 20:33:31,257 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:33:31,258 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:33:31,263 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-30 20:33:31,264 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:33:31,266 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:33:31,271 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-30 20:33:31,271 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-30 20:33:31,271 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:33:40,145 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2017-12-30 20:33:40,146 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:33:40,146 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2017-12-30 20:33:40,161 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-30 20:33:40,161 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-30 20:33:40,161 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2017-12-30 20:33:40,197 Line:689 通过SQL读原始数据：36
 [DEBUG] 2017-12-30 20:33:40,199 Line:1391 整理数据：1
 [DEBUG] 2017-12-30 20:33:40,500 Line:5227 GlobalsTool.js 生成js 时间92:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:33:40,604 Line:5227 GlobalsTool.js 生成js 时间103:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2017-12-30 20:33:46,471 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=dc4b4f2e_1712181418228710008&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 20:33:46,472 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 20:33:46,473 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:33:46,507 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:33:47,019 Line:5227 GlobalsTool.js 生成js 时间9:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:33:47,673 Line:5227 GlobalsTool.js 生成js 时间653:/js/gen/define.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2017-12-30 20:33:55,099 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileUpload
 [DEBUG] 2017-12-30 20:33:55,100 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileUpload,];
 [DEBUG] 2017-12-30 20:34:00,097 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=dc4b4f2e_1712181418228710008&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-30 20:34:00,098 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-30 20:34:00,099 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:00,103 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:03,163 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-30 20:34:03,164 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[notApprove,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[dc4b4f2e_1712181418228710008,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[1513322741341,];fromAdvice=[false,];id=[dc4b4f2e_1712181418228710008,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1712180020,];BillDate=[2017-12-18,];CompanyCode=[00002,];tblCompany_ComFullName=[顺誉,];DepartmentCode=[,];EmployeeID=[signined,];tblEmployee_EmpFullName=[,];tblDepartment_DeptFullName=[,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[24,];InvoiceStatus=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];NeedReturnAmt=[24,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[24,];TotalTaxAmount=[24,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[0,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-18 14:19:56,];printCount=[0,];statusId=[0,];workFlowNode=[1513322741341,];workFlowNodeName=[notApprove,];finishTime=[,];createBy=[1,];createTime=[2017-12-18 14:18:22,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bs0002,];tblSalesOrderDet_tblGoods_GoodsFullName=[玉米馅,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[2,];tblSalesOrderDet_Price=[12,];tblSalesOrderDet_Amount=[24,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[00002,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[0,];tblSalesOrderDet_DisBackAmt=[0,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[0,];tblSalesOrderDet_TaxAmount=[24,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[0,];tblSalesOrderDet_CurAmount=[0,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[2,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[dc4b4f2e_1712181419564350015,];Attachment=[9A34FFB12ADF6414771EF9F60B9BA85C_Attachment(1).jpg,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2017-12-30 20:34:03,199 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:03,225 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,231 Line:313 exeCondition:tblSalesOrder_Del :1==0 && false==false
 [DEBUG] 2017-12-30 20:34:03,232 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,232 Line:313 exeCondition:tblSalesOrder_Del :true
 [DEBUG] 2017-12-30 20:34:03,233 Line:321 flag:true
 [DEBUG] 2017-12-30 20:34:03,233 Line:1081 自定义执行的语句显示： tblSalesOrder_Del:update tblEBOrder set InSign='1' where id=?
 [DEBUG] 2017-12-30 20:34:03,234 Line:1157 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,235 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Del,  影响行数=0
 [DEBUG] 2017-12-30 20:34:03,236 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 20:34:03,238 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-30 20:34:03,238 Line:5993 1:SO1712180020
 [DEBUG] 2017-12-30 20:34:03,239 Line:5993 2:2017-12-18
 [DEBUG] 2017-12-30 20:34:03,239 Line:5993 3:00002
 [DEBUG] 2017-12-30 20:34:03,239 Line:5993 4:
 [DEBUG] 2017-12-30 20:34:03,239 Line:5993 5:signined
 [DEBUG] 2017-12-30 20:34:03,241 Line:5993 6:
 [DEBUG] 2017-12-30 20:34:03,242 Line:5993 7:
 [DEBUG] 2017-12-30 20:34:03,242 Line:5993 8:0.0
 [DEBUG] 2017-12-30 20:34:03,242 Line:5993 9:
 [DEBUG] 2017-12-30 20:34:03,242 Line:5993 10:
 [DEBUG] 2017-12-30 20:34:03,243 Line:5993 11:0.0
 [DEBUG] 2017-12-30 20:34:03,243 Line:5993 12:3
 [DEBUG] 2017-12-30 20:34:03,243 Line:5993 13:CreditSale
 [DEBUG] 2017-12-30 20:34:03,244 Line:5993 14:0
 [DEBUG] 2017-12-30 20:34:03,244 Line:5993 15:12
 [DEBUG] 2017-12-30 20:34:03,244 Line:5993 16:12
 [DEBUG] 2017-12-30 20:34:03,244 Line:5993 17:2017
 [DEBUG] 2017-12-30 20:34:03,244 Line:5993 18:
 [DEBUG] 2017-12-30 20:34:03,245 Line:5993 19:
 [DEBUG] 2017-12-30 20:34:03,245 Line:5993 20:0.0
 [DEBUG] 2017-12-30 20:34:03,245 Line:5993 21:0.0
 [DEBUG] 2017-12-30 20:34:03,245 Line:5993 22:0.0
 [DEBUG] 2017-12-30 20:34:03,245 Line:5993 23:0.0
 [DEBUG] 2017-12-30 20:34:03,246 Line:5993 24:100.0
 [DEBUG] 2017-12-30 20:34:03,246 Line:5993 25:0.0
 [DEBUG] 2017-12-30 20:34:03,246 Line:5993 26:0.0
 [DEBUG] 2017-12-30 20:34:03,246 Line:5993 27:0.0
 [DEBUG] 2017-12-30 20:34:03,247 Line:5993 28:1.0
 [DEBUG] 2017-12-30 20:34:03,247 Line:5993 29:24.0
 [DEBUG] 2017-12-30 20:34:03,247 Line:5993 30:24.0
 [DEBUG] 2017-12-30 20:34:03,247 Line:5993 31:0.0
 [DEBUG] 2017-12-30 20:34:03,248 Line:5993 32:0.0
 [DEBUG] 2017-12-30 20:34:03,248 Line:5993 33:9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg
 [DEBUG] 2017-12-30 20:34:03,249 Line:5993 34:1
 [DEBUG] 2017-12-30 20:34:03,249 Line:5993 35:2017-12-30 20:34:03
 [DEBUG] 2017-12-30 20:34:03,255 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-30 20:34:03,258 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-30 20:34:03,259 Line:5853 1:dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,259 Line:5853 2:02dabeed_1712302034032580010
 [DEBUG] 2017-12-30 20:34:03,259 Line:5853 3:
 [DEBUG] 2017-12-30 20:34:03,259 Line:5853 4:00002
 [DEBUG] 2017-12-30 20:34:03,259 Line:5853 5:
 [DEBUG] 2017-12-30 20:34:03,260 Line:5853 6:
 [DEBUG] 2017-12-30 20:34:03,260 Line:5853 7:
 [DEBUG] 2017-12-30 20:34:03,260 Line:5853 8:
 [DEBUG] 2017-12-30 20:34:03,260 Line:5853 9:
 [DEBUG] 2017-12-30 20:34:03,260 Line:5853 10:
 [DEBUG] 2017-12-30 20:34:03,261 Line:5853 11:2.0
 [DEBUG] 2017-12-30 20:34:03,261 Line:5853 12:12.0
 [DEBUG] 2017-12-30 20:34:03,261 Line:5853 13:24.0
 [DEBUG] 2017-12-30 20:34:03,261 Line:5853 14:0.0
 [DEBUG] 2017-12-30 20:34:03,261 Line:5853 15:0
 [DEBUG] 2017-12-30 20:34:03,261 Line:5853 16:0.0
 [DEBUG] 2017-12-30 20:34:03,262 Line:5853 17:0
 [DEBUG] 2017-12-30 20:34:03,262 Line:5853 18:0.0
 [DEBUG] 2017-12-30 20:34:03,262 Line:5853 19:0.0
 [DEBUG] 2017-12-30 20:34:03,262 Line:5853 20:0.0
 [DEBUG] 2017-12-30 20:34:03,262 Line:5853 21:100.0
 [DEBUG] 2017-12-30 20:34:03,262 Line:5853 22:0.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 23:0.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 24:0.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 25:0.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 26:24.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 27:0.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 28:0.0
 [DEBUG] 2017-12-30 20:34:03,263 Line:5853 29:0.0
 [DEBUG] 2017-12-30 20:34:03,264 Line:5853 30:0.0
 [DEBUG] 2017-12-30 20:34:03,264 Line:5853 31:
 [DEBUG] 2017-12-30 20:34:03,264 Line:5853 32:2.0
 [DEBUG] 2017-12-30 20:34:03,264 Line:5853 33:0.0
 [DEBUG] 2017-12-30 20:34:03,264 Line:5853 34:0
 [DEBUG] 2017-12-30 20:34:03,265 Line:5853 35:0
 [DEBUG] 2017-12-30 20:34:03,265 Line:5853 36:0.0
 [DEBUG] 2017-12-30 20:34:03,265 Line:5853 37:0.0
 [DEBUG] 2017-12-30 20:34:03,265 Line:5853 38:0.0
 [DEBUG] 2017-12-30 20:34:03,265 Line:5853 39:0.0
 [DEBUG] 2017-12-30 20:34:03,266 Line:5853 40:1
 [DEBUG] 2017-12-30 20:34:03,266 Line:5853 41:0
 [DEBUG] 2017-12-30 20:34:03,266 Line:5853 42:0.0
 [DEBUG] 2017-12-30 20:34:03,266 Line:5853 43:0.0
 [DEBUG] 2017-12-30 20:34:03,266 Line:5853 44:0.0
 [DEBUG] 2017-12-30 20:34:03,266 Line:5853 45:00101
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 46:0.0
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 47:0.0
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 48:
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 49:0.0
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 50:0.0
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 51:0.0
 [DEBUG] 2017-12-30 20:34:03,267 Line:5853 52:0.0
 [DEBUG] 2017-12-30 20:34:03,268 Line:5853 53:
 [DEBUG] 2017-12-30 20:34:03,268 Line:5853 54:0.0
 [DEBUG] 2017-12-30 20:34:03,268 Line:5853 55:00001
 [DEBUG] 2017-12-30 20:34:03,273 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2017-12-30 20:34:03,273 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,274 Line:988 1值：
 [DEBUG] 2017-12-30 20:34:03,275 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:34:03,276 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2017-12-18' < 'null'
 [DEBUG] 2017-12-30 20:34:03,277 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,277 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from CRMsalesQuot where id=?
 [DEBUG] 2017-12-30 20:34:03,277 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,278 Line:988 1值：
 [DEBUG] 2017-12-30 20:34:03,279 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-30 20:34:03,279 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2017-12-18' < 'null'
 [DEBUG] 2017-12-30 20:34:03,281 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,281 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from CRMSaleContract where id=?
 [DEBUG] 2017-12-30 20:34:03,282 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,282 Line:988 1值：
 [DEBUG] 2017-12-30 20:34:03,284 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:34:03,284 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2017-12-18' < 'null'
 [DEBUG] 2017-12-30 20:34:03,286 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,287 Line:313 exeCondition:tblSalesOrder_add :0!=0 && ''.length==0 
 [DEBUG] 2017-12-30 20:34:03,290 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,291 Line:313 exeCondition:tblSalesOrder_add :0<=0 && ''.length > 0 
 [DEBUG] 2017-12-30 20:34:03,292 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,293 Line:313 exeCondition:tblSalesOrder_add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-30 20:34:03,296 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,297 Line:921 自定义执行的语句显示： tblSalesOrder_add :select SendDate as SendDate from tblSalesOrderDet a where a.f_ref=? and len(a.SendDate)!=0 and a.SendDate < ? 
 [DEBUG] 2017-12-30 20:34:03,297 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,297 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,297 Line:988 2值：2017-12-18
 [DEBUG] 2017-12-30 20:34:03,299 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:34:03,299 Line:313 exeCondition:tblSalesOrder_add :'null'!='null'
 [DEBUG] 2017-12-30 20:34:03,300 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,301 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsQ from tblSalesOrderDet a,tblGoods b where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and b.classCode=a.GoodsCode and a.f_ref=?
 [DEBUG] 2017-12-30 20:34:03,301 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,301 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,305 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:34:03,305 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-30 20:34:03,306 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,307 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsQ,Qty from tblSalesOrderDet a,tblGoods b where a.f_ref=? and b.classCode=a.GoodsCode and isnull(a.Qty,0)<=0
 [DEBUG] 2017-12-30 20:34:03,307 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,307 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,310 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:34:03,310 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-30 20:34:03,311 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,312 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsP,b.garniture from tblSalesOrderDet a,tblGoods b where a.f_ref=? and a.PresentSampleType not in ('1','2') and b.classCode=a.GoodsCode and (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0))
 [DEBUG] 2017-12-30 20:34:03,312 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,312 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,317 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-30 20:34:03,318 Line:313 exeCondition:tblSalesOrder_add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-30 20:34:03,319 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,319 Line:313 exeCondition:tblSalesOrder_add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-30 20:34:03,320 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,320 Line:921 自定义执行的语句显示： tblSalesOrder_add :select 'disCountError' as disCountError from tblSalesOrderDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-30 20:34:03,320 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,321 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,323 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:34:03,323 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-30 20:34:03,324 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,325 Line:313 exeCondition:tblSalesOrder_add :false==true
 [DEBUG] 2017-12-30 20:34:03,326 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,326 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsSample from tblSalesOrderDet a,tblGoods b where a.f_ref=? and b.classCode=a.GoodsCode and a.PresentSampleType in ('1','2') and isnull(a.Price,0)!=0
 [DEBUG] 2017-12-30 20:34:03,326 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,326 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,330 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-30 20:34:03,330 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2017-12-30 20:34:03,331 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,331 Line:921 自定义执行的语句显示： tblSalesOrder_add :select dbo.getDigits('tblSalesOrderDet','TaxAmount',sum(tblSalesOrderDet.TaxAmount)) as SumDetAmt from tblSalesOrderDet where  f_ref=?
 [DEBUG] 2017-12-30 20:34:03,331 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,332 Line:988 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,333 Line:1025 query condition columnName:SumDetAmt----value:24.0
 [DEBUG] 2017-12-30 20:34:03,334 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-30 20:34:03,334 Line:313 exeCondition:tblSalesOrder_add : 24.0 != 24
 [DEBUG] 2017-12-30 20:34:03,335 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,335 Line:921 自定义执行的语句显示： tblSalesOrder_add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-30 20:34:03,335 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-30 20:34:03,335 Line:988 1值：
 [DEBUG] 2017-12-30 20:34:03,336 Line:988 2值：00001
 [DEBUG] 2017-12-30 20:34:03,336 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-30 20:34:03,337 Line:313 exeCondition:tblSalesOrder_add :''.length != 0 && ''.length != 0 && !( '' == 'null' || ('null' =='' && 'null'=='1'  )  ) 
 [DEBUG] 2017-12-30 20:34:03,338 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,338 Line:313 exeCondition:tblSalesOrder_add :''.length == 0 && ''.length != 0 && ( 'null'.length != 0 && 'null' !=' '  && 'null' != 'null' && 'null' != 'NULL')
 [DEBUG] 2017-12-30 20:34:03,339 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,339 Line:313 exeCondition:tblSalesOrder_add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-30 20:34:03,340 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,340 Line:313 exeCondition:tblSalesOrder_add :false==true
 [DEBUG] 2017-12-30 20:34:03,341 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,341 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2017-12-30 20:34:03,342 Line:321 flag:true
 [DEBUG] 2017-12-30 20:34:03,343 Line:313 exeCondition:tblSalesOrder_Add_One1 :'false'=='false'
 [DEBUG] 2017-12-30 20:34:03,344 Line:321 flag:true
 [DEBUG] 2017-12-30 20:34:03,345 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrderDet set StockCode=? where f_ref=?
 [DEBUG] 2017-12-30 20:34:03,345 Line:1157 1值：
 [DEBUG] 2017-12-30 20:34:03,345 Line:1157 2值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,349 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2017-12-30 20:34:03,349 Line:408 ************上述语句执行时间：5
 [DEBUG] 2017-12-30 20:34:03,349 Line:313 exeCondition:tblSalesOrder_Add_One1 :true
 [DEBUG] 2017-12-30 20:34:03,350 Line:321 flag:true
 [DEBUG] 2017-12-30 20:34:03,350 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrderDet set OutQty=0,NotOutQty=Qty,FinishStatus=0,NeedReceiveAmt=TaxAmount,CurNeedReceiveAmt=CurAmount,NotPayQty=Qty,NoInvoiceAmount=TaxAmount,InvoiceAmount=0,InvoiceStatus=0 where f_ref=?
 [DEBUG] 2017-12-30 20:34:03,351 Line:1157 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,353 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2017-12-30 20:34:03,353 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-30 20:34:03,354 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrder set statusId=0,NeedReturnAmt=TotalTaxAmount-AccountAmount,CurNeedReturnAmt=CurTotalAmount-CurAccountAmount,AlrAccAmt=AccountAmount,NotAmortDeposit=AccountAmount,CurAlrAccAmt=CurAccountAmount,CurNotAmortDeposit=CurAccountAmount,PayAmt=0,CurPayAmt=0,CertificateNo='',NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0 where id=?
 [DEBUG] 2017-12-30 20:34:03,354 Line:1157 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,357 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2017-12-30 20:34:03,358 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-30 20:34:03,358 Line:313 exeCondition:tblSalesOrder_Add_One1 :'true'=='true'
 [DEBUG] 2017-12-30 20:34:03,359 Line:321 flag:true
 [DEBUG] 2017-12-30 20:34:03,359 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:
			update tblSalesOrderDet set tblSalesOrderDet.Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblSalesOrder  a join tblSalesOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblSalesOrderDet.id=a.id
			
 [DEBUG] 2017-12-30 20:34:03,360 Line:1157 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,370 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=0
 [DEBUG] 2017-12-30 20:34:03,370 Line:408 ************上述语句执行时间：11
 [DEBUG] 2017-12-30 20:34:03,371 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:
			update tblSalesOrderDet set tblSalesOrderDet.ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblSalesOrder a join tblSalesOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblSalesOrderDet.id=a.id
			 
 [DEBUG] 2017-12-30 20:34:03,371 Line:1157 1值：dc4b4f2e_1712181418228710008
 [DEBUG] 2017-12-30 20:34:03,382 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=0
 [DEBUG] 2017-12-30 20:34:03,382 Line:408 ************上述语句执行时间：11
 [DEBUG] 2017-12-30 20:34:03,382 Line:313 exeCondition:tblSalesOrder_Add_One1 :'1' == '0'&& false==false
 [DEBUG] 2017-12-30 20:34:03,383 Line:321 flag:false
 [DEBUG] 2017-12-30 20:34:03,389 Line:1064  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:03,432 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?tableName=tblSalesOrder&keyId=dc4b4f2e_1712181418228710008&fromAdvice=false&currNodeId=1513322741341&approveStatus=transing&nextNodeIds=null&department=00101&designId=eae3edac_0906121936571710021&fromPage=erp&operation=82&winCurIndex=1
 [DEBUG] 2017-12-30 20:34:03,432 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];fromAdvice=[false,];currNodeId=[1513322741341,];approveStatus=[transing,];nextNodeIds=[null,];department=[00101,];designId=[eae3edac_0906121936571710021,];fromPage=[erp,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:34:03,436 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:03,444 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:03,552 Line:5227 GlobalsTool.js 生成js 时间20:/js/gen/fileUpload.vjs_zh_CN.js
 [DEBUG] 2017-12-30 20:34:05,508 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2017-12-30 20:34:05,509 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[1,1,];keyId=[dc4b4f2e_1712181418228710008,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936571710021,];currNode=[1513322741341,];department=[00101,];fromAdvice=[false,];approveStatus=[transing,];noback=[false,];toPage=[,];fromPage=[erp,];tableName=[tblSalesOrder,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1513322743692,];checkPerson=[1,];
 [DEBUG] 2017-12-30 20:34:05,509 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:05,512 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:05,519 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:07,056 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=dc4b4f2e_1712181418228710008&parentCode=&f_brother=&draftQuery=&approveStatus=transing&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1
 [DEBUG] 2017-12-30 20:34:07,057 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[dc4b4f2e_1712181418228710008,];parentCode=[,];f_brother=[,];draftQuery=[,];approveStatus=[transing,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:34:07,058 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:07,064 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:07,257 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=dc4b4f2e_1712181418228710008&parentCode=&f_brother=&draftQuery=&approveStatus=transing&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1
 [DEBUG] 2017-12-30 20:34:07,258 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[dc4b4f2e_1712181418228710008,];parentCode=[,];f_brother=[,];draftQuery=[,];approveStatus=[transing,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];
 [DEBUG] 2017-12-30 20:34:07,258 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:07,262 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:24,012 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2017-12-30 20:34:24,013 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2017-12-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2017-12-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2017-12-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2017-12-30 20:34:24,028 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-30 20:34:24,029 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-30 20:34:24,029 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2017-12-30 20:34:24,031 Line:689 通过SQL读原始数据：2
 [DEBUG] 2017-12-30 20:34:24,031 Line:1391 整理数据：0
 [DEBUG] 2017-12-30 20:34:29,950 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-30 20:34:29,951 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-30 20:34:29,952 Line:243 AIOApi op=getSessEmp&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:34:29,952 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-30 20:34:30,108 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 20:34:30,109 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[2cf86be0_1712291545440450016,];
 [DEBUG] 2017-12-30 20:34:30,109 Line:243 AIOApi op=detail&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:34:30,113 Line:1525  select * from  tblSalesOrderDet where f_ref = '2cf86be0_1712291545440450016' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:30,116 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='2cf86be0_1712291545440450016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:30,265 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":24.00000000,"NoInvoiceAmount":24.00000000,"CurNeedReturnAmt":0.0,"id":"2cf86be0_1712291545440450016","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2017-12-30 20:34:31,540 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-30 20:34:31,541 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-30 20:34:31,541 Line:243 AIOApi op=myworkflow&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:34:31,547 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-30 20:34:31,548 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-18","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"dc4b4f2e_1712181418228710008","applyContent":"","currentNode":"1513322743692","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"主管审核","lastNodeCheckperson":"admin","lastUpdateTime"等等！
 [DEBUG] 2017-12-30 20:34:36,871 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 20:34:36,872 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 20:34:36,873 Line:243 AIOApi op=detail&sessionid=1CD91A4C2D4A9F53F2453ADE8996C70C
 [DEBUG] 2017-12-30 20:34:36,877 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:34:36,880 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:34:37,007 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 20:35:17,927 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-30 20:35:17,928 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-30 20:35:17,928 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-12-30 20:35:18,869 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-12-30 20:35:18,869 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-12-30 20:35:19,799 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2017-12-30 20:35:19,800 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-12-30 20:35:19,800 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-12-30 20:35:24,239 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-12-30 20:35:24,239 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[销售订单,];
 [DEBUG] 2017-12-30 20:35:27,129 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOrder&search=%E9%94%80%E5%94%AE%E8%AE%A2%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2017-12-30 20:35:27,130 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOrder,];search=[é?????è?????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-12-30 20:35:27,645 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2017-12-30 20:35:27,645 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2017-12-30 20:35:27,645 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=TradeType
 [DEBUG] 2017-12-30 20:35:27,646 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[TradeType,];
 [DEBUG] 2017-12-30 20:35:28,082 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 20:35:28,082 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 20:39:36,872 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-30 20:39:36,872 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-30 20:39:36,872 Line:243 AIOApi op=getSessEmp&sessionid=A78205C5D4B6F508819F3A320D4AA0F6
 [DEBUG] 2017-12-30 20:39:36,873 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2017-12-30 20:39:43,089 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2017-12-30 20:39:43,091 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 20:39:43,092 Line:243 AIOApi op=LOGIN&sessionid=A78205C5D4B6F508819F3A320D4AA0F6
 [DEBUG] 2017-12-30 20:39:43,096 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 20:39:43,100 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 20:39:43,101 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 20:39:43,108 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2017-12-30 20:39:43,556 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-30 20:39:43,558 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-30 20:39:43,558 Line:243 AIOApi op=getSessEmp&sessionid=A78205C5D4B6F508819F3A320D4AA0F6
 [DEBUG] 2017-12-30 20:39:43,562 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-30 20:39:43,582 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-30 20:39:43,583 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-30 20:39:43,584 Line:243 AIOApi op=getEnum&sessionid=A78205C5D4B6F508819F3A320D4AA0F6
 [DEBUG] 2017-12-30 20:39:43,586 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-30 20:39:50,540 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-30 20:39:50,541 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-30 20:39:50,542 Line:243 AIOApi op=myworkflow&sessionid=A78205C5D4B6F508819F3A320D4AA0F6
 [DEBUG] 2017-12-30 20:39:50,547 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-30 20:39:50,548 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-18","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"dc4b4f2e_1712181418228710008","applyContent":"","currentNode":"1513322743692","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"主管审核","lastNodeCheckperson":"admin","lastUpdateTime"等等！
 [DEBUG] 2017-12-30 20:39:52,088 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 20:39:52,090 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 20:39:52,091 Line:243 AIOApi op=detail&sessionid=A78205C5D4B6F508819F3A320D4AA0F6
 [DEBUG] 2017-12-30 20:39:52,104 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 20:39:52,114 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 20:39:52,230 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 20:47:17,916 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 21:03:15,049 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 21:03:15,050 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 21:03:15,050 Line:243 AIOApi op=detail&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:15,050 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2017-12-30 21:03:17,377 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2017-12-30 21:03:17,378 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-30 21:03:17,378 Line:243 AIOApi op=LOGIN&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:17,404 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-30 21:03:17,429 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-30 21:03:17,440 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-30 21:03:17,480 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2017-12-30 21:03:17,963 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2017-12-30 21:03:17,964 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2017-12-30 21:03:17,965 Line:243 AIOApi op=getSessEmp&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:17,966 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2017-12-30 21:03:17,989 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2017-12-30 21:03:17,990 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2017-12-30 21:03:17,990 Line:243 AIOApi op=getEnum&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:17,991 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2017-12-30 21:03:20,186 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2017-12-30 21:03:20,187 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2017-12-30 21:03:20,187 Line:243 AIOApi op=myworkflow&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:20,211 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2017-12-30 21:03:20,212 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-18","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"dc4b4f2e_1712181418228710008","applyContent":"","currentNode":"1513322743692","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"主管审核","lastNodeCheckperson":"admin","lastUpdateTime"等等！
 [DEBUG] 2017-12-30 21:03:21,069 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 21:03:21,070 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 21:03:21,070 Line:243 AIOApi op=detail&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:21,116 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 21:03:21,122 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 21:03:21,234 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 21:03:56,960 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 21:03:56,961 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 21:03:56,961 Line:243 AIOApi op=detail&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:03:57,040 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 21:03:57,048 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 21:03:57,185 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 21:05:24,216 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 21:05:24,217 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 21:05:24,218 Line:243 AIOApi op=detail&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:05:24,282 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 21:05:24,289 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 21:05:24,412 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 21:06:00,439 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 21:06:00,439 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 21:06:00,440 Line:243 AIOApi op=detail&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:06:00,484 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 21:06:00,490 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 21:06:00,674 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 21:11:27,430 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2017-12-30 21:11:27,432 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2017-12-30 21:11:27,432 Line:215 ---------->SET Page 4 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-12-30 21:11:36,800 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-12-30 21:11:36,800 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,];search=[采购订单,];
 [DEBUG] 2017-12-30 21:11:39,033 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyOrder&search=%E9%87%87%E8%B4%AD%E8%AE%A2%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2017-12-30 21:11:39,034 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyOrder,];search=[é??è??è?????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-12-30 21:11:39,267 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2017-12-30 21:11:39,267 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2017-12-30 21:11:39,273 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=BuyTradeType
 [DEBUG] 2017-12-30 21:11:39,273 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[BuyTradeType,];
 [DEBUG] 2017-12-30 21:11:39,853 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 21:11:39,853 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2017-12-30 21:12:41,134 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2017-12-30 21:12:41,134 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[dc4b4f2e_1712181418228710008,];
 [DEBUG] 2017-12-30 21:12:41,135 Line:243 AIOApi op=detail&sessionid=30A7679BAFCE1C52275767EFC6CA56CD
 [DEBUG] 2017-12-30 21:12:41,173 Line:1525  select * from  tblSalesOrderDet where f_ref = 'dc4b4f2e_1712181418228710008' order by detOrderNo
 [DEBUG] 2017-12-30 21:12:41,179 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc4b4f2e_1712181418228710008' and  a.tableName='tblSalesOrder'
 [DEBUG] 2017-12-30 21:12:41,294 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"Account":"","PeriodYear":2017,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(1).jpg","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":24.00000000,"Currency":"","NoInvoiceAmount":24.00000000,"CurNeedReturn等等！
 [DEBUG] 2017-12-30 21:17:38,047 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 22:28:54,940 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 22:58:58,286 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-30 23:29:13,423 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 