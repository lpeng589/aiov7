[INFO ] 2018-01-12 14:06:26,150 Line:206 系统开始启动，最大内存：1792;目前总内存：251;目前空闲内存：161
 [INFO ] 2018-01-12 14:06:26,260 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-12 14:06:30,435 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-12 14:06:30,607 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-12 14:06:30,638 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-12 14:06:30,638 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-12 14:06:30,653 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-12 14:06:30,669 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-12 14:06:30,685 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-12 14:06:31,716 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 14:06:31,739 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-12 14:06:31,770 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-12 14:06:31,785 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-12 14:06:32,707 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-12 14:06:32,708 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-12 14:06:33,292 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-12 14:06:33,379 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-12 14:06:34,145 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-12 14:06:34,161 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-12 14:06:34,176 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-12 14:06:34,192 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-12 14:06:34,192 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-12 14:06:34,208 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-12 14:06:34,239 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-12 14:06:37,520 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,794 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,810 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,810 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,810 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,857 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,872 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,904 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,919 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,935 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,935 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,935 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,951 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,966 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,982 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:37,997 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,013 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,013 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,013 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,060 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,076 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,091 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,107 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,107 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 14:06:38,107 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-12 14:06:38,122 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-12 14:06:38,138 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-12 14:06:38,341 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-12 14:06:38,341 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-12 14:06:39,404 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-12 00:00:00
 [INFO ] 2018-01-12 14:06:39,404 Line:144 SAFE 备份任务开始执行，时间2018-01-12 14:06:39
 [INFO ] 2018-01-12 14:06:39,420 Line:137 SAFE 碎片任务启动，时间2018-01-14 00:00:00
 [INFO ] 2018-01-12 14:06:42,686 Line:148 SAFE 备份任务执行成功，时间2018-01-12 14:06:42
 [DEBUG] 2018-01-12 14:07:38,832 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 14:36:33,976 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 14:36:33,980 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 14:36:33,980 Line:243 AIOApi op=getSessEmp&sessionid=E420693B761C74FD2EF0196E26AF15FE
 [DEBUG] 2018-01-12 14:36:34,044 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 14:36:35,680 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 14:36:35,681 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 14:36:35,682 Line:243 AIOApi op=getSessEmp&sessionid=E420693B761C74FD2EF0196E26AF15FE
 [DEBUG] 2018-01-12 14:36:35,684 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 14:36:37,605 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 14:36:37,606 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 14:36:37,607 Line:243 AIOApi op=getSessEmp&sessionid=9C84A82FA09AD9A682CEFE71DC6CBBD8
 [DEBUG] 2018-01-12 14:36:37,609 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 14:36:50,082 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 14:36:50,083 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 14:36:50,083 Line:243 AIOApi op=getSessEmp&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:36:50,085 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 14:36:54,951 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-12 14:36:54,953 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 14:36:54,954 Line:243 AIOApi op=LOGIN&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:36:55,073 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 14:36:55,163 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 14:36:55,188 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 14:36:55,364 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-12 14:36:55,813 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 14:36:55,814 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 14:36:55,814 Line:243 AIOApi op=getSessEmp&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:36:55,817 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 14:36:55,825 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 14:36:55,825 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 14:36:55,826 Line:243 AIOApi op=getEnum&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:36:55,831 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 14:36:58,526 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 14:36:58,527 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 14:36:58,527 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:36:58,564 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 14:36:58,569 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 14:36:59,897 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 14:36:59,898 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 14:36:59,899 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:36:59,913 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 14:36:59,925 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-11","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"d37bf934_1801112303271320532","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-12 14:37:00,900 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 14:37:00,901 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 14:37:00,901 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:37:01,045 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:37:01,057 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:37:01,067 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 14:37:01,478 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 14:38:20,335 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 14:47:05,968 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 14:47:05,969 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[consignation,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 14:47:05,969 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:47:06,022 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and exists(select id from OAWorkConsignation where state=1 and CongignUserID='1' and CHARINDEX(';'+userId+';',a.checkPerson)>0 and (CHARINDEX((select sameFlow+';' from OAWorkFlowTemplate where id=a.applyType),flowName)>0 or len(ISNULL(flowName,''))=0) and substring(convert(varchar,GETDATE(),120),0,11)>=beginTime  and substring(convert(varchar,GETDATE(),120),0,11)<=endTime ) ) k
 [DEBUG] 2018-01-12 14:47:06,023 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":0,"list":[]}}
 [DEBUG] 2018-01-12 14:50:24,706 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 14:50:24,707 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 14:50:24,708 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:50:24,727 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 14:50:24,731 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 14:53:09,666 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 14:53:09,667 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 14:53:09,668 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:53:09,692 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 14:53:09,694 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 14:53:11,428 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 14:53:11,429 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 14:53:11,429 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:53:11,444 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 14:53:11,449 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-11","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"d37bf934_1801112303271320532","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-12 14:53:13,862 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 14:53:13,864 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 14:53:13,865 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:53:13,992 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:53:14,001 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:53:14,006 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 14:53:14,189 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 14:55:11,137 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 14:55:11,138 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 14:55:11,138 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:55:11,236 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:55:11,254 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:55:11,258 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 14:55:11,408 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 14:55:18,787 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 14:55:18,788 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 14:55:18,788 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:55:18,870 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:55:18,879 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:55:18,882 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 14:55:19,075 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 14:55:47,344 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 14:55:47,345 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 14:55:47,345 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:55:47,348 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:55:47,351 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:55:47,353 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 14:55:47,503 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 14:56:42,440 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 14:56:42,441 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 14:56:42,442 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 14:56:42,514 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:56:42,525 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 14:56:42,528 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 14:56:42,696 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:03:32,194 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:03:32,194 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:03:32,195 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:03:32,268 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:03:32,280 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:03:32,283 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:03:32,489 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:03:34,868 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 15:03:34,869 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 15:03:34,870 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:03:34,897 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 15:03:34,898 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 15:03:36,561 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 15:03:36,562 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 15:03:36,562 Line:243 AIOApi op=myworkflow&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:03:36,581 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 15:03:36,585 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-11","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"d37bf934_1801112303271320532","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-12 15:03:38,759 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:03:38,760 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:03:38,760 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:03:38,767 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:03:38,776 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:03:38,778 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:03:38,905 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:04:48,271 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:04:48,274 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:04:48,275 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:04:48,358 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:04:48,367 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:04:48,370 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:04:48,507 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:07:52,105 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:07:52,109 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:07:52,110 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:07:52,178 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:07:52,187 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:07:52,189 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:07:52,320 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:08:23,312 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:08:23,312 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:08:23,313 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:08:23,374 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:08:23,382 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:08:23,385 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:08:23,561 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:08:31,313 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:08:31,315 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 15:08:31,315 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:08:31,384 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 15:08:31,398 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:08:31,549 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 15:08:40,329 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 15:09:05,608 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:09:05,609 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 15:09:05,609 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:09:05,614 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 15:09:05,617 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:09:05,713 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 15:09:07,331 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:09:07,332 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:09:07,333 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:09:07,371 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:09:07,380 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:09:07,382 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:09:07,500 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:09:09,530 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:09:09,531 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:09:09,531 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:09:09,537 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:09:09,543 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:09:09,544 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:09:09,681 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:09:14,633 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:09:14,635 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 15:09:14,636 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:09:14,644 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 15:09:14,647 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:09:14,735 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 15:10:18,269 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 15:10:18,270 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 15:10:18,271 Line:243 AIOApi op=getSessEmp&sessionid=76467C227449AF18DDBB15C624E580A0
 [DEBUG] 2018-01-12 15:10:18,271 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 15:10:19,154 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 15:10:19,156 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 15:10:19,159 Line:243 AIOApi op=getSessEmp&sessionid=76467C227449AF18DDBB15C624E580A0
 [DEBUG] 2018-01-12 15:10:19,159 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 15:10:25,547 Line:5242 GlobalsTool.js 生成js 时间57:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-12 15:10:25,613 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-12 15:10:25,614 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-12 15:10:25,908 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515741025893
 [DEBUG] 2018-01-12 15:10:25,914 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515741025893,];
 [DEBUG] 2018-01-12 15:10:25,991 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-12 15:10:25,991 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-12 15:10:27,605 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515741027600
 [DEBUG] 2018-01-12 15:10:27,606 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515741027600,];
 [DEBUG] 2018-01-12 15:10:27,617 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515741027615
 [DEBUG] 2018-01-12 15:10:27,617 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515741027615,];
 [DEBUG] 2018-01-12 15:10:27,694 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-12 15:10:27,695 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 15:10:27,749 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 15:10:27,754 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 15:10:27,816 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-12 15:10:27,817 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-12 15:10:27,831 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 15:10:28,000 Line:5242 GlobalsTool.js 生成js 时间24:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-12 15:10:28,258 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-12 15:10:28,258 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-12 15:10:28,259 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-12 15:10:28,259 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-12 15:10:28,260 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 15:10:28,275 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-12 15:10:28,276 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-12 15:10:28,276 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 15:10:28,282 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-12 15:10:28,283 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-12 15:10:28,283 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 15:10:28,289 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-12 15:10:28,290 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-12 15:10:28,290 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 15:10:38,269 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-12 15:10:38,270 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-12 15:10:38,271 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-12 15:10:39,334 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-12 15:10:39,334 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-12 15:10:40,599 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-12 15:10:40,599 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-12 15:10:40,601 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 15:10:45,959 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 15:10:45,959 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[销售出库单,];
 [DEBUG] 2018-01-12 15:10:47,746 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&search=%E9%94%80%E5%94%AE%E5%87%BA%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-12 15:10:47,747 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];search=[é??????????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-12 15:10:47,905 Line:5242 GlobalsTool.js 生成js 时间9:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-12 15:10:48,340 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 15:10:48,340 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-12 15:10:48,340 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 15:10:48,340 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-12 15:10:49,086 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 15:10:49,121 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 15:12:04,368 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 15:12:04,376 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[3977b668_0811062208378590351,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblSalesOutStock,];oldtableName=[tblSalesOutStock,];tableDisplay=[en:;zh_CN:销售出库单;,];tableDisplayDis=[销售出库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="SalesOutStock_Add"><sql operation="delete" post="before" id="SalesOutStock_Delete"><sql operation="update" post="before" id="SalesOutStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="SalesOutStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="auditing" id="SalesOutStock_confirm"><sql operation="reverse" id="SalesOutStock_reverse">,];extendButton=[<button type="copy" operation="list">  <button type="quote" operation="add" value="tblSalesOrder:quote_SalesOrder" name="SalesOutStock"><button type="billExport" operation="list"><button type="quote" operation="add" value="tblBuyInStock:tblSalesOutStock_quote_buyinStock" name="BuyOutStock"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyClist&mainNumber=RptCompanyC&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName" name="往来应收"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|@ValueofDB:StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存"><button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" ><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblSalesReplaceDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReplace&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售换货明细"> <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesReturnStockDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReturnStock&BillDate1=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售退货明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSaleReceiveDet&RefbillNo=@ValueofDB:BillNo&detTable_list=tblSaleReceive&BillDate1=@ValueofDB:BillDate&workFlowNodeName=all" name="收款明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesOrderDet&id=@ValueofDB:tblSalesOutStockDet_SalesOrderID&detTable_list=tblSalesOrder&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售订单明细"><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" >,];tableDesc=[,];PopDisSentence=[select tblCompany.[tblCompany_2],(select top 1 (isnull(b.Credit,0)-(b.ReceiveTotalRemain-b.PayTotalRemain+b.PrePayTotalRemain-b.PreReceiveTotalRemain))from tblCompany b where tblSalesOutStock.CompanyCode=b.classCode)+isnull((select Credit from tblTempCreditApply where tblSalesOutStock.BillDate >=tblTempCreditApply.StartDate and tblSalesOutStock.BillDate <= tblTempCreditApply.EndDate and tblSalesOutStock.CompanyCode = tblTempCreditApply.CompanyCode),0) AS ViewCompanyTotal_usableCredit, b.id,isnull(tblCompany.ReceiveTotalRemain,0)-isnull(tblCompany.PreReceiveTotalRemain,0) AS tblCompany_CompanyleaveAmt,d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName,f.StockFullName as tblStock_StockFullName,s.StockFullName as tblStock_StockFullName1,tblFreightCom.ComFullName as tblFreightCom_ComFullName,tblFreightCom.ComContactor as tblFreightCom_ComContactor,tblFreightCom.ComContactorTel as tblFreightCom_ComContactorTel,tblGoods.[tblGoods],j.CurrencyName as tblSetExchange_CurrencyName,so.BillNo as tblSalesOrder_BillNo,tblProject.ProjectName AS tblProject_ProjectName  from tblSalesOutStock  left join tblSalesOutStockDet b on tblSalesOutStock.id=b.f_ref   left join tblCompany  on tblCompany.classCode=tblSalesOutStock.companyCode   left join  tblDepartMent d on  tblSalesOutStock.DepartmentCode=d.classCode   left join  tblEmployee e on tblSalesOutStock.EmployeeId=e.id    left join tblStock f  on tblSalesOutStock.stockCode=f.classCode left join tblStock s  on b.stockCode=s.classCode left join tblGoods  on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblSalesOutStock.Currency  left join tblFreightCom on tblFreightCom.id=tblSalesOutStock.FreightCom left join tblSalesOrder so on b.SalesOrderID=so.id LEFT JOIN tblProject ON tblProject.id = tblSalesOutStock.ProjectCode,];fieldId=[d56fb40a_0912061751164060249,3977b668_0811062208378590359,3977b668_0811062208378590367,3977b668_0811062208378590363,191714eb_0811252114253750071,3977b668_0811062208378590369,342cc104_0901171533170620092,3977b668_0811062208378590385,b12103b0_1103021039245000307,b12103b0_1103021039245000309,3977b668_0811062208378590361,e2d1183d_0903110926150620047,80ceb173_0903171502499530103,3977b668_0811062208378590393,5d40aa36_1111181359121090473,2558e45d_0903191734579060119,61e23f20_1304251556371670261,5bf12750_0907171544039370061,61e23f20_1304251556371670263,8a40fb3c_1606281208599380533,05072AD2EAAE4E4F882DFEFA80B0,9667724e_1207262354598590327,bb8d748f_0901201642303750327,b6e7171b_0811212209125930067,a86e7804_0901071619075460116,a86e7804_0901071619075460114,ec688797_150943202810001,8c64eab3_0901102133235150188,e9331305_0908011608594680075,e9331305_0908011608594680073,3977b668_0811062208378590383,4ad4e571_1003061534047340076,03977b668_0811062208378590351,19878827_1206271007427760075,1a4b84c9_0903131855418900281,3977b668_0811062208378590395,1a4b84c9_0903131855418900277,3977b668_0811062208378590391,e0629724_0812221507593120464,f0ac3925_1108192100253356265,26017417_0811271452110930041,26017417_0811271452110930039,26017417_0811271452110930037,f0ac3925_0912181312252650145,4d3ffa25_0906171101547960054,FB9E66110B034F22B96E32FD703C38,31BB131DBD5543C285C1FC04697CB2,AB5BCD61B2E94E1F82E1680A3F6BAA,2FE359DE14964E38A12CB690CD9FB5,00DBCFEE01E9444882B602D1DBB9F7,1CEDD254846C4E53BCE581FCE8672D,802287B24AA54A33AE704028981BDD,F740899A7B5C468ABCCB456AE109DE,3017305DEABF4094B6EAEB1EFDE0D2,bb8d748f_0901201642303750329,2c44409f_121207235457890138,61e23f20_1304251602478420357,8a40fb3c_1606281208599510575,33420dde_1106061729496250061,6d824300_1607041834259401033,6d824300_1607051625524871957,d37bf934_1801112154018400068,d37bf934_1801112154018410071,,];languageId=[717cf81e_1305071743153590306,717cf81e_1305071743153590307,717cf81e_1305071743153590308,717cf81e_1305071743153590309,717cf81e_1305071743153590311,717cf81e_1305071743153590312,717cf81e_1305071743153590313,717cf81e_1305071743153590316,717cf81e_1305071743153590317,717cf81e_1305071743153590318,717cf81e_1305071743153590320,717cf81e_1305071743153590322,717cf81e_1305071743153590324,717cf81e_1305071743153590326,717cf81e_1305071743153590327,717cf81e_1305071743153590328,717cf81e_1305071743153590333,717cf81e_1305071743153590334,717cf81e_1305071743153590335,8a40fb3c_1606281208599380534,F438B07315A54D2881C65E52598C,717cf81e_1305071743153590344,717cf81e_1305071743153590373,717cf81e_1305071743153590374,717cf81e_1305071743153590375,717cf81e_1305071743153590376,717cf81e_1305071743153590383,717cf81e_1305071743153590381,717cf81e_1305071743153590347,717cf81e_1305071743153590348,717cf81e_1305071743153590355,717cf81e_1305071743153590346,717cf81e_1305071743153590356,717cf81e_1305071743153590358,717cf81e_1305071743153590351,717cf81e_1305071743153590352,717cf81e_1305071743153590353,717cf81e_1305071743153590349,717cf81e_1305071743153590367,717cf81e_1305071743153590368,717cf81e_1305071743153590362,717cf81e_1305071743153590363,717cf81e_1305071743153590364,717cf81e_1305071743153590371,717cf81e_1305071743153590372,D3839F6C1253443C82E57CC2E795A4,298F3FC2E8FB4B9FA906A1D594643B,79388A192328463FB985350409292A,2E42E6C45CAF45B7B9E39DD5A979F0,7D9A732BC3F148568DD4F6FF9097B7,2E2E4895D6284C17B00D2A9BE7DF7E,206FE8005CBE41B9AE3031FA553CF1,258763946ADB4DFC9D1FF5FA2E6E5D,81E2C0DDECF346989B0536E80C17DC,717cf81e_1305071743153590385,717cf81e_1305071743153590386,717cf81e_1305071743153590388,8a40fb3c_1606281208599510576,717cf81e_1305071743153590389,6d824300_1607041834259411034,6d824300_1607051625524871958,d37bf934_1801112154018410069,d37bf934_1801112154018410072,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,];isStat=[0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,,];isNull=[1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,2,2,2,0,2,0,2,2,2,0,0,2,2,0,2,0,0,0,0,0,2,0,0,2,2,0,0,2,2,2,2,2,2,0,0,0,2,0,2,4,2,4,4,2,2,2,2,0,0,0,0,2,2,2,0,0,,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,CheckCompany,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,ClientInVoiceWithAcceptDate:ClientInVoiceWithAcceptDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,,CurrencyWithRate:CurrencyWithRate,,,,,FreightCom:FreightCom,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,@ValueOfDB:DiscountAmount;,,,{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp},@ValueOfDB:CurDiscountAmount;,,,{CurDeputyReceAmt}={deputyReceAmt}/{CurrencyRate};,{deputyReceAmt}={CurDeputyReceAmt}*{CurrencyRate};,,,,,,,,,,,,,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp};{tblSalesRecAccount_Amount}={tblSalesRecAccount_ExeBalFcAmt}*{CurrencyRate};{FactIncome}=sum{tblSalesRecAccount_Amount};{AlrAccAmt}=sum{tblSalesRecAccount_Amount};{AccAmt}=sum{tblSalesRecAccount_Amount};{CurAlrAccAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,,,,];fieldSysType=[RowMarker,,,,,,,,,,BillTax,,currency,currency,currency,currency,,,,,Project,,,,,,,,,,,,,,currency,currency,currency,currency,,,,,,,,,BillDiscount,BillDiscount,BillTax,currency,,,BillTax,currency,,,,,,,,,,,];fieldIdentityStr=[BillNo,accendnotstart,Customer,,,,,SAmountIdentifier,SAmountIdentifier,Amount,,SAmountIdentifier,,SAmountIdentifier,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,SAmountIdentifier,,,,,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,,SAmountIdentifier,Amount,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,SAmountIdentifier,,SAmountIdentifier,Price,SAmountIdentifier,Price,Price,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[0,0,2,2,2,2,0,3,8,3,1,0,2,8,3,0,5,2,0,0,2,0,0,0,0,0,0,0,100,100,0,3,0,100,3,3,3,3,0,100,0,0,0,100,100,3,0,8,0,0,8,8,8,8,0,3,3,0,0,0,0,100,100,,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,2,];fieldName=[BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,,];fieldDisplay=[en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:客户;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:收款日期;,en:;zh_CN:本次结算金额;,en:;zh_CN:账户金额;,en:;zh_CN:实收金额;,en:;zh_CN:发票类型;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币收款金额;,en:;zh_CN:外币手续费;,en:;zh_CN:外币优惠金额;,en:;zh_CN:代收款;,en:;zh_CN:物流公司;,en:;zh_CN:代收金额;,zh_CN:外币代收金额;,en:;zh_CN:项目名称;,en:;zh_CN:赠(样)品总额;,en:;zh_CN:备注;,en:;zh_CN:销售出库单类型;,en:;zh_CN:associatedOrder;,en:;zh_CN:associatedOrderBillNo;,en:;zh_CN:追踪单号;,en:;zh_CN:累计收款金额;,en:;zh_CN:审核时间;,en:;zh_CN:审核人;,en:;zh_CN:退货金额;,en:;zh_CN:调价金额;,en:;zh_CN:复核人;,en:;zh_CN:采购单ID;,en:;zh_CN:外币待收款金额;,en:;zh_CN:外币预收订金;,en:;zh_CN:外币累计收款金额;,en:;zh_CN:外币销售退货金额;,en:;zh_CN:待收款金额;,en:;zh_CN:未开票金额;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:已开票金额;,en:;zh_CN:开票状态;,en:;zh_CN:多经手人结算金额;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:已代收金额;,zh_CN:外币已代收金额;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:关联单据ID;,zh_CN:销售订单;,,];fieldDisplayDis=[单据编号,单据日期,客户,部门,经手人,仓库,收款日期,本次结算金额,账户金额,实收金额,发票类型,优惠金额,币种,外币收款金额,外币手续费,外币优惠金额,代收款,物流公司,代收金额,外币代收金额,项目名称,赠(样)品总额,备注,销售出库单类型,associatedOrder,associatedOrderBillNo,追踪单号,累计收款金额,审核时间,审核人,退货金额,调价金额,复核人,采购单ID,外币待收款金额,外币预收订金,外币累计收款金额,外币销售退货金额,待收款金额,未开票金额,会计期间,会计期间月,会计期间年,已开票金额,开票状态,多经手人结算金额,折扣率%,折让金额,税率%,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,已代收金额,外币已代收金额,调价后金额,外币调价后金额,外币调价金额,关联单据ID,销售订单,,];fieldType=[2,5,2,2,2,2,5,1,1,1,0,1,2,1,1,1,2,2,1,1,2,1,3,2,2,2,2,1,6,2,1,1,2,2,1,1,1,1,1,1,0,0,0,1,2,1,1,1,1,1,1,1,1,1,14,2,1,1,1,1,1,2,2,2,];maxLength=[100,10,100,100,30,100,10,0,0,0,0,0,50,0,0,0,10,50,0,0,100,9999999,8000,50,50,50,100,0,0,50,0,0,500,30,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,100,100,,];defaultValue=[,2009-12-06,@Sess:CompanyCode;@Sess:ComFullName,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,,0,0,0,3,0,,0,0,0,,,0,,,0,,,tblSalesOrder,,,0,2009-12-06 16:59:42,,0,0,,,0,0,0,0,0,0,,,,0,0,,100,,0,1,0,0,,0,,,0,,,,,tblSalesOrder,,,];isNullId=[1,1,1,1,1,1,];isUniqueId=[1,];width=[80,200,200,200,200,200,200,80,200,200,200,200,80,80,80,80,224,200,224,200,100,80,200,200,200,200,200,200,0,200,200,200,0,100,80,80,80,80,200,200,100,100,100,200,200,200,100,100,100,100,100,100,100,100,200,80,224,200,80,200,200,200,200,,];inputType=[0,0,2,3,2,2,0,3,6,3,3,0,3,3,3,3,6,6,6,6,100,6,0,100,100,100,100,3,100,100,100,3,100,100,3,3,3,3,100,100,100,100,100,100,100,3,3,3,3,3,8,8,3,3,0,3,3,3,3,3,100,100,100,0,];moreInputId=[ClientInVoiceWithAcceptDate,Department,Employee,Stock,1,CurrencyWithRate,1,FreightCom,SelectProjectInfo,];zhWidth=[200,200,];inputTypeOldId=[100,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 15:12:04,413 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 15:12:04' where tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:12:04,413 Line:1235 update tblLanguage set zh_CN='销售订单' where id='d37bf934_1801112154018410072'
 [DEBUG] 2018-01-12 15:12:04,413 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 15:12:05,011 Line:297  select * from tblDBTableInfo where tableName = 'tblSalesOutStock'
 [DEBUG] 2018-01-12 15:12:05,014 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblSalesOutStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 15:12:05,025 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 15:12:06,538 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 15:12:06,540 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 15:12:09,332 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 15:12:09,333 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 15:12:09,350 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-12 15:12:09,351 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-12 15:12:09,873 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 15:12:09,881 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 15:12:57,601 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:12:57,602 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:12:57,603 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:12:57,649 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:12:57,658 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:12:57,660 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:12:57,813 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:12:58,939 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:12:58,940 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:12:58,940 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:12:58,943 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:12:58,948 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:12:58,950 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:12:59,083 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:13:44,577 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 15:13:44,584 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[3977b668_0811062208378590351,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblSalesOutStock,];oldtableName=[tblSalesOutStock,];tableDisplay=[en:;zh_CN:销售出库单;,];tableDisplayDis=[销售出库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="SalesOutStock_Add"><sql operation="delete" post="before" id="SalesOutStock_Delete"><sql operation="update" post="before" id="SalesOutStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="SalesOutStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="auditing" id="SalesOutStock_confirm"><sql operation="reverse" id="SalesOutStock_reverse">,];extendButton=[<button type="copy" operation="list">  <button type="quote" operation="add" value="tblSalesOrder:quote_SalesOrder" name="SalesOutStock"><button type="billExport" operation="list"><button type="quote" operation="add" value="tblBuyInStock:tblSalesOutStock_quote_buyinStock" name="BuyOutStock"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyClist&mainNumber=RptCompanyC&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName" name="往来应收"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|@ValueofDB:StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存"><button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" ><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblSalesReplaceDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReplace&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售换货明细"> <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesReturnStockDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReturnStock&BillDate1=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售退货明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSaleReceiveDet&RefbillNo=@ValueofDB:BillNo&detTable_list=tblSaleReceive&BillDate1=@ValueofDB:BillDate&workFlowNodeName=all" name="收款明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesOrderDet&id=@ValueofDB:tblSalesOutStockDet_SalesOrderID&detTable_list=tblSalesOrder&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售订单明细"><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" >,];tableDesc=[,];PopDisSentence=[select tblCompany.[tblCompany_2],(select top 1 (isnull(b.Credit,0)-(b.ReceiveTotalRemain-b.PayTotalRemain+b.PrePayTotalRemain-b.PreReceiveTotalRemain))from tblCompany b where tblSalesOutStock.CompanyCode=b.classCode)+isnull((select Credit from tblTempCreditApply where tblSalesOutStock.BillDate >=tblTempCreditApply.StartDate and tblSalesOutStock.BillDate <= tblTempCreditApply.EndDate and tblSalesOutStock.CompanyCode = tblTempCreditApply.CompanyCode),0) AS ViewCompanyTotal_usableCredit, b.id,isnull(tblCompany.ReceiveTotalRemain,0)-isnull(tblCompany.PreReceiveTotalRemain,0) AS tblCompany_CompanyleaveAmt,d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName,f.StockFullName as tblStock_StockFullName,s.StockFullName as tblStock_StockFullName1,tblFreightCom.ComFullName as tblFreightCom_ComFullName,tblFreightCom.ComContactor as tblFreightCom_ComContactor,tblFreightCom.ComContactorTel as tblFreightCom_ComContactorTel,tblGoods.[tblGoods],j.CurrencyName as tblSetExchange_CurrencyName,so.BillNo as tblSalesOrder_BillNo,tblProject.ProjectName AS tblProject_ProjectName  from tblSalesOutStock  left join tblSalesOutStockDet b on tblSalesOutStock.id=b.f_ref   left join tblCompany  on tblCompany.classCode=tblSalesOutStock.companyCode   left join  tblDepartMent d on  tblSalesOutStock.DepartmentCode=d.classCode   left join  tblEmployee e on tblSalesOutStock.EmployeeId=e.id    left join tblStock f  on tblSalesOutStock.stockCode=f.classCode left join tblStock s  on b.stockCode=s.classCode left join tblGoods  on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblSalesOutStock.Currency  left join tblFreightCom on tblFreightCom.id=tblSalesOutStock.FreightCom left join tblSalesOrder so on b.SalesOrderID=so.id LEFT JOIN tblProject ON tblProject.id = tblSalesOutStock.ProjectCode,];fieldId=[d56fb40a_0912061751164060249,3977b668_0811062208378590359,3977b668_0811062208378590367,3977b668_0811062208378590363,191714eb_0811252114253750071,3977b668_0811062208378590369,342cc104_0901171533170620092,3977b668_0811062208378590385,b12103b0_1103021039245000307,b12103b0_1103021039245000309,3977b668_0811062208378590361,e2d1183d_0903110926150620047,80ceb173_0903171502499530103,3977b668_0811062208378590393,5d40aa36_1111181359121090473,2558e45d_0903191734579060119,61e23f20_1304251556371670261,5bf12750_0907171544039370061,61e23f20_1304251556371670263,8a40fb3c_1606281208599380533,05072AD2EAAE4E4F882DFEFA80B0,9667724e_1207262354598590327,bb8d748f_0901201642303750327,b6e7171b_0811212209125930067,a86e7804_0901071619075460116,a86e7804_0901071619075460114,ec688797_150943202810001,8c64eab3_0901102133235150188,e9331305_0908011608594680075,e9331305_0908011608594680073,3977b668_0811062208378590383,4ad4e571_1003061534047340076,03977b668_0811062208378590351,19878827_1206271007427760075,1a4b84c9_0903131855418900281,3977b668_0811062208378590395,1a4b84c9_0903131855418900277,3977b668_0811062208378590391,e0629724_0812221507593120464,f0ac3925_1108192100253356265,26017417_0811271452110930041,26017417_0811271452110930039,26017417_0811271452110930037,f0ac3925_0912181312252650145,4d3ffa25_0906171101547960054,FB9E66110B034F22B96E32FD703C38,31BB131DBD5543C285C1FC04697CB2,AB5BCD61B2E94E1F82E1680A3F6BAA,2FE359DE14964E38A12CB690CD9FB5,00DBCFEE01E9444882B602D1DBB9F7,1CEDD254846C4E53BCE581FCE8672D,802287B24AA54A33AE704028981BDD,F740899A7B5C468ABCCB456AE109DE,3017305DEABF4094B6EAEB1EFDE0D2,bb8d748f_0901201642303750329,2c44409f_121207235457890138,61e23f20_1304251602478420357,8a40fb3c_1606281208599510575,33420dde_1106061729496250061,6d824300_1607041834259401033,6d824300_1607051625524871957,d37bf934_1801112154018400068,d37bf934_1801112154018410071,,];languageId=[717cf81e_1305071743153590306,717cf81e_1305071743153590307,717cf81e_1305071743153590308,717cf81e_1305071743153590309,717cf81e_1305071743153590311,717cf81e_1305071743153590312,717cf81e_1305071743153590313,717cf81e_1305071743153590316,717cf81e_1305071743153590317,717cf81e_1305071743153590318,717cf81e_1305071743153590320,717cf81e_1305071743153590322,717cf81e_1305071743153590324,717cf81e_1305071743153590326,717cf81e_1305071743153590327,717cf81e_1305071743153590328,717cf81e_1305071743153590333,717cf81e_1305071743153590334,717cf81e_1305071743153590335,8a40fb3c_1606281208599380534,F438B07315A54D2881C65E52598C,717cf81e_1305071743153590344,717cf81e_1305071743153590373,717cf81e_1305071743153590374,717cf81e_1305071743153590375,717cf81e_1305071743153590376,717cf81e_1305071743153590383,717cf81e_1305071743153590381,717cf81e_1305071743153590347,717cf81e_1305071743153590348,717cf81e_1305071743153590355,717cf81e_1305071743153590346,717cf81e_1305071743153590356,717cf81e_1305071743153590358,717cf81e_1305071743153590351,717cf81e_1305071743153590352,717cf81e_1305071743153590353,717cf81e_1305071743153590349,717cf81e_1305071743153590367,717cf81e_1305071743153590368,717cf81e_1305071743153590362,717cf81e_1305071743153590363,717cf81e_1305071743153590364,717cf81e_1305071743153590371,717cf81e_1305071743153590372,D3839F6C1253443C82E57CC2E795A4,298F3FC2E8FB4B9FA906A1D594643B,79388A192328463FB985350409292A,2E42E6C45CAF45B7B9E39DD5A979F0,7D9A732BC3F148568DD4F6FF9097B7,2E2E4895D6284C17B00D2A9BE7DF7E,206FE8005CBE41B9AE3031FA553CF1,258763946ADB4DFC9D1FF5FA2E6E5D,81E2C0DDECF346989B0536E80C17DC,717cf81e_1305071743153590385,717cf81e_1305071743153590386,717cf81e_1305071743153590388,8a40fb3c_1606281208599510576,717cf81e_1305071743153590389,6d824300_1607041834259411034,6d824300_1607051625524871958,d37bf934_1801112154018410069,d37bf934_1801112154018410072,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,];isStat=[0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,,];isNull=[1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,2,2,2,0,2,0,2,2,2,0,0,2,2,0,2,0,0,0,0,0,2,0,0,2,2,0,0,2,2,2,2,2,2,0,0,0,2,0,2,4,2,4,4,2,2,2,2,0,0,0,0,2,2,2,0,0,,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,CheckCompany,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,ClientInVoiceWithAcceptDate:ClientInVoiceWithAcceptDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,,CurrencyWithRate:CurrencyWithRate,,,,,FreightCom:FreightCom,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,@ValueOfDB:DiscountAmount;,,,{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp},@ValueOfDB:CurDiscountAmount;,,,{CurDeputyReceAmt}={deputyReceAmt}/{CurrencyRate};,{deputyReceAmt}={CurDeputyReceAmt}*{CurrencyRate};,,,,,,,,,,,,,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp};{tblSalesRecAccount_Amount}={tblSalesRecAccount_ExeBalFcAmt}*{CurrencyRate};{FactIncome}=sum{tblSalesRecAccount_Amount};{AlrAccAmt}=sum{tblSalesRecAccount_Amount};{AccAmt}=sum{tblSalesRecAccount_Amount};{CurAlrAccAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,,,,];fieldSysType=[RowMarker,,,,,,,,,,BillTax,,currency,currency,currency,currency,,,,,Project,,,,,,,,,,,,,,currency,currency,currency,currency,,,,,,,,,BillDiscount,BillDiscount,BillTax,currency,,,BillTax,currency,,,,,,,,,,,];fieldIdentityStr=[BillNo,accendnotstart,Customer,,,,,SAmountIdentifier,SAmountIdentifier,Amount,,SAmountIdentifier,,SAmountIdentifier,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,SAmountIdentifier,,,,,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,,SAmountIdentifier,Amount,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,SAmountIdentifier,,SAmountIdentifier,Price,SAmountIdentifier,Price,Price,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[0,0,2,2,2,2,0,3,8,3,1,0,2,8,3,0,5,2,0,0,2,0,0,0,0,0,0,0,100,100,0,3,0,100,3,3,3,3,0,100,0,0,0,100,100,3,0,8,0,0,8,8,8,8,0,3,3,0,0,0,0,100,100,,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,2,2,];fieldName=[BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,,];fieldDisplay=[en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:客户;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:收款日期;,en:;zh_CN:本次结算金额;,en:;zh_CN:账户金额;,en:;zh_CN:实收金额;,en:;zh_CN:发票类型;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币收款金额;,en:;zh_CN:外币手续费;,en:;zh_CN:外币优惠金额;,en:;zh_CN:代收款;,en:;zh_CN:物流公司;,en:;zh_CN:代收金额;,zh_CN:外币代收金额;,en:;zh_CN:项目名称;,en:;zh_CN:赠(样)品总额;,en:;zh_CN:备注;,en:;zh_CN:销售出库单类型;,en:;zh_CN:associatedOrder;,en:;zh_CN:associatedOrderBillNo;,en:;zh_CN:追踪单号;,en:;zh_CN:累计收款金额;,en:;zh_CN:审核时间;,en:;zh_CN:审核人;,en:;zh_CN:退货金额;,en:;zh_CN:调价金额;,en:;zh_CN:复核人;,en:;zh_CN:采购单ID;,en:;zh_CN:外币待收款金额;,en:;zh_CN:外币预收订金;,en:;zh_CN:外币累计收款金额;,en:;zh_CN:外币销售退货金额;,en:;zh_CN:待收款金额;,en:;zh_CN:未开票金额;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:已开票金额;,en:;zh_CN:开票状态;,en:;zh_CN:多经手人结算金额;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:已代收金额;,zh_CN:外币已代收金额;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:销售订单;,zh_CN:销售订单编号;,,];fieldDisplayDis=[单据编号,单据日期,客户,部门,经手人,仓库,收款日期,本次结算金额,账户金额,实收金额,发票类型,优惠金额,币种,外币收款金额,外币手续费,外币优惠金额,代收款,物流公司,代收金额,外币代收金额,项目名称,赠(样)品总额,备注,销售出库单类型,associatedOrder,associatedOrderBillNo,追踪单号,累计收款金额,审核时间,审核人,退货金额,调价金额,复核人,采购单ID,外币待收款金额,外币预收订金,外币累计收款金额,外币销售退货金额,待收款金额,未开票金额,会计期间,会计期间月,会计期间年,已开票金额,开票状态,多经手人结算金额,折扣率%,折让金额,税率%,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,已代收金额,外币已代收金额,调价后金额,外币调价后金额,外币调价金额,销售订单,销售订单编号,,];fieldType=[2,5,2,2,2,2,5,1,1,1,0,1,2,1,1,1,2,2,1,1,2,1,3,2,2,2,2,1,6,2,1,1,2,2,1,1,1,1,1,1,0,0,0,1,2,1,1,1,1,1,1,1,1,1,14,2,1,1,1,1,1,2,2,2,];maxLength=[100,10,100,100,30,100,10,0,0,0,0,0,50,0,0,0,10,50,0,0,100,9999999,8000,50,50,50,100,0,0,50,0,0,500,30,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,100,100,,];defaultValue=[,2009-12-06,@Sess:CompanyCode;@Sess:ComFullName,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,,0,0,0,3,0,,0,0,0,,,0,,,0,,,tblSalesOrder,,,0,2009-12-06 16:59:42,,0,0,,,0,0,0,0,0,0,,,,0,0,,100,,0,1,0,0,,0,,,0,,,,,tblSalesOrder,,,];isNullId=[1,1,1,1,1,1,];isUniqueId=[1,];width=[80,200,200,200,200,200,200,80,200,200,200,200,80,80,80,80,224,200,224,200,100,80,200,200,200,200,200,200,0,200,200,200,0,100,80,80,80,80,200,200,100,100,100,200,200,200,100,100,100,100,100,100,100,100,200,80,224,200,80,200,200,200,200,,];inputType=[0,0,2,3,2,2,0,3,6,3,3,0,3,3,3,3,6,6,6,6,100,6,0,100,100,100,100,3,100,100,100,3,100,100,3,3,3,3,100,100,100,100,100,100,100,3,3,3,3,3,8,8,3,3,0,3,3,3,3,3,100,100,100,0,];moreInputId=[ClientInVoiceWithAcceptDate,Department,Employee,Stock,1,CurrencyWithRate,1,FreightCom,SelectProjectInfo,];zhWidth=[200,200,];inputTypeOldId=[100,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 15:13:44,627 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 15:13:44' where tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:13:44,629 Line:1235 update tblLanguage set zh_CN='销售订单' where id='d37bf934_1801112154018410069'
 [DEBUG] 2018-01-12 15:13:44,630 Line:1235 update tblLanguage set zh_CN='销售订单编号' where id='d37bf934_1801112154018410072'
 [DEBUG] 2018-01-12 15:13:44,631 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 15:13:45,132 Line:297  select * from tblDBTableInfo where tableName = 'tblSalesOutStock'
 [DEBUG] 2018-01-12 15:13:45,139 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblSalesOutStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 15:13:45,151 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 15:13:46,635 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 15:13:46,637 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 15:13:46,820 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 15:13:46,820 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 15:13:46,839 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-12 15:13:46,839 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-12 15:13:47,471 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 15:13:47,502 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 15:14:45,970 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:14:45,971 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:14:45,971 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:14:46,011 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:14:46,019 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:14:46,022 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:14:46,153 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:16:26,395 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:16:26,396 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:16:26,396 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:16:26,436 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:16:26,447 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:16:26,452 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:16:26,614 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:16:45,913 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:16:45,914 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 15:16:45,914 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:16:45,999 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 15:16:46,014 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:16:46,103 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 15:16:58,981 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&src=menu&winCurIndex=3
 [DEBUG] 2018-01-12 15:16:58,981 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-12 15:16:58,982 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOutStock
 [DEBUG] 2018-01-12 15:16:59,472 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:16:59,481 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 15:16:59,547 Line:689 通过SQL读原始数据：66
 [DEBUG] 2018-01-12 15:16:59,552 Line:1391 整理数据：4
 [DEBUG] 2018-01-12 15:16:59,673 Line:5242 GlobalsTool.js 生成js 时间22:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-12 15:16:59,714 Line:5242 GlobalsTool.js 生成js 时间41:/js/gen/defineList.vjstblSalesOutStock_zh_CN.js
 [DEBUG] 2018-01-12 15:17:05,945 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 15:17:05,946 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOutStock,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[3,];parentTableName=[,];reportName=[销售出库,];moduleName=[销售出库,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount@AddSign:tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo@AddSign:',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')@AddSign:tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount@AddSign:tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo@AddSign:',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')@AddSign:tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];SalesOrderNo=[,];PayAccCode=[,];EmpFullName2=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 15:17:05,963 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:17:05,964 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 15:17:05,966 Line:689 通过SQL读原始数据：2
 [DEBUG] 2018-01-12 15:17:05,969 Line:1391 整理数据：3
 [DEBUG] 2018-01-12 15:17:14,910 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=4
 [DEBUG] 2018-01-12 15:17:14,911 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-12 15:17:14,912 Line:215 ---------->SET Page 4 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-12 15:17:14,961 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:17:14,961 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 15:17:14,961 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-12 15:17:15,050 Line:689 通过SQL读原始数据：89
 [DEBUG] 2018-01-12 15:17:15,051 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 15:17:15,167 Line:5242 GlobalsTool.js 生成js 时间47:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-12 15:17:17,265 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 15:17:17,266 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[4,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 15:17:17,296 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:17:17,296 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 15:17:17,297 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-12 15:17:17,344 Line:689 通过SQL读原始数据：48
 [DEBUG] 2018-01-12 15:17:17,344 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 15:17:31,188 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 15:17:31,190 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[4,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 15:17:31,204 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:17:31,205 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 15:17:31,206 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-12 15:17:31,208 Line:689 通过SQL读原始数据：3
 [DEBUG] 2018-01-12 15:17:31,209 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 15:17:33,903 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 15:17:33,904 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[4,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[123,];statusId=[,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 15:17:33,920 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'                                                                                 and (tblSalesOrder.workFlowNodeName = 'notApprove' and tblSalesOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:17:33,922 Line:582 ReportDataMgt.getReportData 参数1:123
 [DEBUG] 2018-01-12 15:17:33,950 Line:689 通过SQL读原始数据：28
 [DEBUG] 2018-01-12 15:17:33,950 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 15:17:38,032 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 15:17:38,033 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[4,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'                                                                                 and (tblSalesOrder.workFlowNodeName = 'notApprove' and tblSalesOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id@ParamList:123@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'                                                                                 and (tblSalesOrder.workFlowNodeName = 'notApprove' and tblSalesOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id@ParamList:123@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[all,];statusId=[,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 15:17:38,048 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'                                                                                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 15:17:38,087 Line:689 通过SQL读原始数据：37
 [DEBUG] 2018-01-12 15:17:38,089 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 15:17:41,653 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=7b19df5c_1801090941197570016&moduleType=&f_brother=&operation=5&winCurIndex=4&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 15:17:41,654 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[7b19df5c_1801090941197570016,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[4,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 15:17:41,655 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090941197570016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:17:41,718 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090941197570016' order by detOrderNo
 [DEBUG] 2018-01-12 15:17:41,968 Line:5242 GlobalsTool.js 生成js 时间15:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-12 15:17:42,115 Line:5242 GlobalsTool.js 生成js 时间146:/js/gen/define.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-12 15:18:05,415 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:18:05,416 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:18:05,416 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:18:05,461 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:18:05,474 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:18:05,479 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:18:05,653 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:18:12,293 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOutStock&keyId=d37bf934_1801112303271320532&moduleType=&f_brother=&operation=5&winCurIndex=3&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 15:18:12,295 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[3,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 15:18:12,296 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:18:12,302 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:18:12,306 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:18:12,533 Line:5242 GlobalsTool.js 生成js 时间111:/js/gen/define.vjstblSalesOutStock_zh_CN.js
 [DEBUG] 2018-01-12 15:19:16,472 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:19:16,473 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:19:16,474 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:19:16,533 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:19:16,543 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:19:16,546 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:19:16,721 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:19:20,106 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:19:20,110 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 15:19:20,112 Line:243 AIOApi op=detail&sessionid=57916B83B95AA75EB3D8EAC150F989F0
 [DEBUG] 2018-01-12 15:19:20,169 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 15:19:20,181 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:19:20,297 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 15:38:58,534 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 15:45:52,525 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:45:52,526 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:45:52,527 Line:243 AIOApi op=detail&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:45:52,527 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 15:45:54,908 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-12 15:45:54,908 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 15:45:54,909 Line:243 AIOApi op=LOGIN&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:45:54,944 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 15:45:54,982 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 15:45:54,998 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 15:45:55,041 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-12 15:45:55,533 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 15:45:55,534 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 15:45:55,534 Line:243 AIOApi op=getSessEmp&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:45:55,535 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 15:45:55,562 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 15:45:55,562 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 15:45:55,563 Line:243 AIOApi op=getEnum&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:45:55,563 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 15:46:06,049 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 15:46:06,049 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 15:46:06,050 Line:243 AIOApi op=myworkflow&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:46:06,082 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 15:46:06,083 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 15:46:07,864 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 15:46:07,865 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 15:46:07,865 Line:243 AIOApi op=myworkflow&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:46:07,880 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 15:46:07,883 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-11","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"d37bf934_1801112303271320532","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-12 15:46:08,465 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:46:08,465 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 15:46:08,466 Line:243 AIOApi op=detail&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:46:08,538 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:46:08,548 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 15:46:08,553 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 15:46:08,728 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 15:46:11,235 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 15:46:11,236 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 15:46:11,237 Line:243 AIOApi op=detail&sessionid=10F7460D3C4D972D83961CFE1D42E415
 [DEBUG] 2018-01-12 15:46:11,293 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 15:46:11,300 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 15:46:11,402 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 16:09:17,480 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 16:39:35,435 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 16:45:39,032 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 16:45:39,033 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 16:45:39,033 Line:243 AIOApi op=detail&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:39,036 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 16:45:39,167 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 16:45:39,168 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 16:45:39,169 Line:243 AIOApi op=getSessEmp&sessionid=76467C227449AF18DDBB15C624E580A0
 [DEBUG] 2018-01-12 16:45:39,171 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 16:45:39,288 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 16:45:39,289 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 16:45:39,289 Line:243 AIOApi op=getEnum&sessionid=76467C227449AF18DDBB15C624E580A0
 [DEBUG] 2018-01-12 16:45:39,291 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 16:45:44,391 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-12 16:45:44,391 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 16:45:44,392 Line:243 AIOApi op=LOGIN&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:44,430 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 16:45:44,471 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 16:45:44,485 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 16:45:44,528 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-12 16:45:44,978 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 16:45:44,979 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 16:45:44,979 Line:243 AIOApi op=getSessEmp&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:44,980 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 16:45:44,993 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 16:45:44,994 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 16:45:44,994 Line:243 AIOApi op=getEnum&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:44,995 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 16:45:49,034 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 16:45:49,035 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 16:45:49,035 Line:243 AIOApi op=myworkflow&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:49,062 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 16:45:49,066 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 16:45:52,672 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 16:45:52,672 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 16:45:52,673 Line:243 AIOApi op=myworkflow&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:52,687 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 16:45:52,690 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-11","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"d37bf934_1801112303271320532","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-12 16:45:53,230 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 16:45:53,231 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 16:45:53,232 Line:243 AIOApi op=detail&sessionid=9DEFDA3A938A7BEB9ECA2356317BA858
 [DEBUG] 2018-01-12 16:45:53,317 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 16:45:53,327 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 16:45:53,330 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 16:45:53,494 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 17:09:54,741 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 17:18:32,462 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 17:18:32,462 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 17:18:32,463 Line:243 AIOApi op=getSessEmp&sessionid=76467C227449AF18DDBB15C624E580A0
 [DEBUG] 2018-01-12 17:18:32,463 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 17:18:32,571 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 17:18:32,571 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 17:18:32,571 Line:243 AIOApi op=getEnum&sessionid=76467C227449AF18DDBB15C624E580A0
 [DEBUG] 2018-01-12 17:18:32,572 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 17:18:59,018 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:18:59,019 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 17:18:59,019 Line:243 AIOApi op=detail&sessionid=15B83118B290C730AB785F05D424744F
 [DEBUG] 2018-01-12 17:18:59,019 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 17:40:13,852 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 17:49:27,512 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-12 17:49:27,512 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 17:49:27,513 Line:243 AIOApi op=LOGIN&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:27,554 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:49:27,592 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 17:49:27,606 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 17:49:27,652 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-12 17:49:28,107 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 17:49:28,108 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 17:49:28,108 Line:243 AIOApi op=getSessEmp&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:28,109 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 17:49:28,126 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 17:49:28,126 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 17:49:28,127 Line:243 AIOApi op=getEnum&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:28,128 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 17:49:29,876 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:49:29,877 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:49:29,877 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:29,905 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:49:29,907 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 17:49:31,254 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:49:31,255 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:49:31,255 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:31,277 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:49:31,278 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-11","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"d37bf934_1801112303271320532","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-12 17:49:31,933 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:49:31,933 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 17:49:31,933 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:32,011 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 17:49:32,022 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 17:49:32,026 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 17:49:32,180 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 17:49:35,317 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:49:35,320 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 17:49:35,321 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:49:35,358 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 17:49:35,364 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 17:49:35,455 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 17:50:04,583 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-12 17:50:04,585 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-12 17:50:04,586 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:50:04,783 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-12 17:50:04,784 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-12 17:50:04,795 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-12 17:50:04,796 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:50:04,796 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:50:04,806 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-12 17:50:04,806 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:50:04,807 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:50:04,812 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-12 17:50:04,812 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:50:04,813 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:50:04,819 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-12 17:50:04,820 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:50:04,820 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:50:12,873 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-12 17:50:12,873 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-12 17:50:12,873 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-12 17:50:13,973 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-12 17:50:13,974 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-12 17:50:16,466 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-12 17:50:16,466 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-12 17:50:16,467 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 17:50:31,753 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 17:50:31,753 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[采购入库单,];
 [DEBUG] 2018-01-12 17:50:36,298 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-12 17:50:36,299 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-12 17:50:36,546 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 17:50:36,547 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 17:50:37,140 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 17:51:59,807 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 17:51:59,812 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[77,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblBuyInStock,];oldtableName=[tblBuyInStock,];tableDisplay=[en:;zh_CN:采购入库单;,];tableDisplayDis=[采购入库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="tblBuyInStock_Add"><sql operation="delete" post="before" id="tblBuyInStock_Delete"><sql operation="update" post="before" id="tblBuyInStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="tblBuyInStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo">,];extendButton=[<button type="copy" operation="list">          <button type="quote" operation="add" value="tblBuyOrder:tblBuyInStock_quote_tblBuyOrder" name="BuyInStock">        <button type="billExport" operation="list">      <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportAskPrice&detTable_list=tblBuyAskPrice&id=@ValueofDB:BuyAskPriceID&BillNo=@ValueofDB:tblBuyInStockDet_tblBuyAskPrice_BillNo&StartDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="采购询价明细" >    <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblBuyOrderDet&detTable_list=tblBuyOrder&BillNo=@ValueofDB:BuyOrderNo|tblBuyInStockDet_tblBuyOrder_BillNo&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="采购订单明细" >          <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportBuyReturn&detTable_list=tblBuyOutStock&BuyInID=@ValueofDB:id&workFlowNodeName=all&BillDate_s=@ValueofDB:periodBegin" name="采购退货明细" >        <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblBuyReplaceDet&detTable_list=tblBuyReplace&BuyInStockID=@ValueofDB:id&detTable_list=tblBuyReplace&workFlowNodeName=all&startDate=@ValueofDB:periodBegin" name="采购换货明细" >        <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportBuyPayDet&detTable_list=tblPay&RefbillID=@ValueofDB:id&detTable_list=tblBuyInStock&workFlowNodeName=all&startDate=@ValueofDB:BillDate" name="付款明细" >                <button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" >                <button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyGlist&mainNumber=RptCompanyG&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName&Currency=@ValueofDB:Currency&tblCurrency.CurrencyName=@ValueofDB:tblSetExchange_CurrencyName" name="应付统计" >          <button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存" ><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" ><button type="quote" operation="add" value="tblBuyAskPrice:tblBuyInStock_quote_tblBuyAskPrice" name="BuyOrders">,];tableDesc=[,];PopDisSentence=[select b.id,tblCompany.[tblCompany_1], d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName, f.StockFullName as tblStock_StockFullName, s.StockFullName as tblStock_StockFullName1,tblGoods.[tblGoods],l.billNo as tblBuyOrder_BillNo,m.billNo as tblBuyAskPrice_BillNo,n.billNo as tblSalesOutStock_BillNo,j.CurrencyName as tblSetExchange_CurrencyName,tblProject.ProjectName AS tblProject_ProjectName,tblAccTypeInfo.AccName as tblAccTypeInfo_AccName from tblBuyInStock  left join tblBuyInStockDet b on tblBuyInStock.id=b.f_ref   left join tblCompany on tblCompany.classCode=tblBuyInStock.companyCode left join  tblDepartMent d on  tblBuyInStock.DepartmentCode=d.classCode left join  tblEmployee e on tblBuyInStock.EmployeeId=e.id  left join  tblStock f  on tblBuyInStock.stockCode=f.classCode  left join  tblStock s  on b.stockCode=s.classCode left join tblGoods on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblBuyInStock.Currency left join tblBuyOrder l on b.BuyOrderID=l.id left join tblBuyAskPrice m on b.BuyAskPriceID=m.id left join tblSalesOutStock n on b.SalesOutID=n.id LEFT JOIN tblProject ON tblBuyInStock.ProjectCode = tblProject.id left join tblAccTypeInfo on tblBuyInStock.freightAcc=tblAccTypeInfo.AccNumber,];fieldId=[37c513dd_1003171749306250054,e7f16d7e_0812132218376250688,53d5dd4a_0906151435524370105,2e80f665_0902281108080000047,5972374a_0901161930260310274,1071,1276,1274,1275,1277,de9c5998_0904271836495780104,093d77c7_0811302147547180042,2a7c495c_1106301526423902419,b12103b003021039245000307,b12103b003021039245000309,63b9eaf8_1407161103438150055,63b9eaf8_1407161103438160058,2837eec0_0902081716498591564,836fb033_0903101518143590095,80ceb173_0903171703260620834,1087,2e5afa72_0903131446584840463,5d40aa36_1111181359121090470,D10231FCD8014946A54F79D834BC,1283,1282,1281,b8a2d940_0811301613577650300,1965c9a3_1010191412001870190,f0ac3925_1108191800253356265,1085,5414fba8_1003181424129210058,1067,61aed2d9_0812251518300000123,2e5afa72_0903131446584840461,1084,077,5868d4ee_1011170936537960115,FA45A3779BD34A6881F89FC04122D1,3BB2806CB59F4525B8563F172BE707,1BEEFF37012C45EC9E69ECF267B6F8,22c94156_1312141029461870126,268436AC20874AFC9A5E4E6424F102,A3604512972946C099D5587DDEAA23,EE2A1E994F154820BBEC20E6297CBD,7BD7F93E12004B1994024B36736DFE,832DCE9D42F341689F16E5ACBD0492,1272,2c44409f_1212071654548890138,33420dd_1106061729496250061,8a40fb3c_1606281602514400928,8a40fb3c_1606281729438891071,,,,];languageId=[717cf81e_1305071731119370230,717cf81e_1305071731119370231,717cf81e_1305071731119370232,717cf81e_1305071731119370233,717cf81e_1305071731119370234,717cf81e_1305071731119370235,717cf81e_1305071731119370236,717cf81e_1305071731119370237,717cf81e_1305071731119370238,717cf81e_1305071731119370239,717cf81e_1305071731119370240,717cf81e_1305071731119370243,717cf81e_1305071731119370247,717cf81e_1305071731119370248,717cf81e_1305071731119370249,63b9eaf8_1407161103438150056,63b9eaf8_1407161103438160059,717cf81e_1305071731119370250,717cf81e_1305071731119370251,717cf81e_1305071731119370254,717cf81e_1305071731119370256,717cf81e_1305071731119370257,717cf81e_1305071731119370261,1BEB9A120CE44E15AAAA1405BE7E,717cf81e_1305071731119370285,717cf81e_1305071731119370286,717cf81e_1305071731119370287,717cf81e_1305071731119370279,717cf81e_1305071731119370267,717cf81e_1305071731119370281,717cf81e_1305071731119370270,717cf81e_1305071731119370274,717cf81e_1305071731119370275,717cf81e_1305071731119370276,717cf81e_1305071731119370271,717cf81e_1305071731119370272,717cf81e_1305071731119370273,717cf81e_1305071731119370290,A70A8A91CD62430895A7821C7E85A1,463A9AC002EA4A2EB576A8A12847B7,5DE9F052973B4DB682053A80499D4C,22c94156_1312141029461870127,443CDFA31C2B43BABE610A35DC1D5E,49D6CDAA4E6042BCA677230405EE8F,4397233B3F3D4A07945F307B18D2C7,6146FF2BEC81423A912BB9E46DF2F0,ACB99F013A2A48B6BC62B99D1158A0,717cf81e_1305071731119370291,717cf81e_1305071731119370292,717cf81e_1305071731119370294,8a40fb3c_1606281602514400929,8a40fb3c_1606281729438891072,,,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,];isStat=[1,1,0,1,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,0,0,0,,];isNull=[0,0,0,0,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[2,2,0,2,0,0,0,0,0,0,0,2,0,2,2,0,0,2,2,0,2,2,2,0,0,0,0,0,2,2,2,4,0,0,2,2,0,0,4,2,4,0,4,2,2,2,2,0,0,2,2,2,,,,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,,,,,ProviderInVoiceWithPayDate:ProviderInVoiceWithPayDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,freightAcc:freightAcc,,,,CurrencyWithRate:CurrencyWithRate,,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,,,,,,,,@ValueOfDB:DiscountAmount;,,,@ValueOfDB:CurDiscountAmount;,{CurTotalAmount}=sum{tblBuyInStockDet_CurAmount}+{CurProceDureExp}-{CurDiscountAmount},,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblBuyInStockDet_CurAmount}+{CurProceDureExp}-{CurDiscountAmount};{tblBuyPayAccount_Amount}={tblBuyPayAccount_ExeBalFcAmt}*{CurrencyRate};{FactOutcome}=sum{tblBuyPayAccount_Amount};{PayAmount}=sum{tblBuyPayAccount_Amount};{AccAmt}=sum{tblBuyPayAccount_Amount};{CurAlrPayAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,,];fieldSysType=[,currency,,,RowMarker,,,,,,BillTax,,,,,freightToCost,freightToCost,,,currency,currency,currency,currency,Project,,,,,,,currency,,,,currency,,,,BillDiscount,BillDiscount,BillTax,,currency,,,BillTax,currency,,,,,,,,,];fieldIdentityStr=[AmountIdentifier,AmountIdentifier,,AmountIdentifier,BillNo,accendnotstart,Supplier,,,,,AmountIdentifier,,AmountIdentifier,AmountIdentifier,,Amount,AmountIdentifier,AmountIdentifier,,AmountIdentifier,AmountIdentifier,,,,,,,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,,AmountIdentifier,AmountIdentifier,,,,AmountIdentifier,,,Price,AmountIdentifier,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,zh_CN:;,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[100,3,100,0,0,0,2,2,2,2,1,3,3,8,3,2,0,0,0,2,8,0,3,2,0,0,0,0,3,100,3,100,0,0,3,0,0,0,0,8,0,0,0,8,8,8,8,0,3,0,0,0,,,,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,2,2,2,];fieldName=[ChangeAmt,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,,];fieldDisplay=[en:;zh_CN:调价金额;,en:;zh_CN:外币待付金额;,en:;zh_CN:开票状态;,en:;zh_CN:待付金额;,en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:供应商;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:发票类型;,en:;zh_CN:本次结算金额;,en:;zh_CN:手续费;,en:;zh_CN:出账金额;,en:;zh_CN:实付金额;,zh_CN:运费科目;,zh_CN:运费金额;,en:;zh_CN:累计付款金额;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币已付金额;,en:;zh_CN:外币优惠金额;,en:;zh_CN:外币手续费;,en:;zh_CN:项目名称;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:备注;,en:;zh_CN:已开票金额;,en:;zh_CN:未开票金额;,en:;zh_CN:外币退货金额;,en:;zh_CN:采购询价ID;,en:;zh_CN:采购订单ID;,en:;zh_CN:采购订单编号;,en:;zh_CN:外币累计付款金额;,en:;zh_CN:退货金额;,en:;zh_CN:复核人;,en:;zh_CN:追踪单号;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:Payment date;zh_CN:付款日期;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:采购订单;,zh_CN:采购订单编号;,,];fieldDisplayDis=[调价金额,外币待付金额,开票状态,待付金额,单据编号,单据日期,供应商,部门,经手人,仓库,发票类型,本次结算金额,手续费,出账金额,实付金额,运费科目,运费金额,累计付款金额,优惠金额,币种,外币已付金额,外币优惠金额,外币手续费,项目名称,会计期间,会计期间月,会计期间年,备注,已开票金额,未开票金额,外币退货金额,采购询价ID,采购订单ID,采购订单编号,外币累计付款金额,退货金额,复核人,追踪单号,折扣率%,折让金额,税率%,付款日期,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,调价后金额,外币调价后金额,外币调价金额,采购订单,采购订单编号,,];fieldType=[1,1,2,1,2,5,2,2,2,2,0,1,1,1,1,2,1,1,1,2,1,1,1,2,0,0,0,3,1,1,1,2,2,2,1,1,2,2,1,1,1,5,1,1,1,1,1,14,2,1,1,1,2,2,2,];maxLength=[0,0,100,0,20,10,50,50,50,50,0,0,0,0,0,100,0,0,0,50,0,0,0,100,0,0,0,8000,0,0,0,100,30,30,0,0,500,200,0,0,0,10,0,0,0,0,0,0,100,0,0,0,100,100,,];defaultValue=[0,0,0,0,,2009-11-16,,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,3,0,0,0,0,,0,0,0,,0,0,0,,,,,,0,0,0,,,,0,0,,,100,,0,,1,0,0,,0,,,,,,,,,];width=[200,80,200,200,80,200,200,200,200,200,200,80,200,200,200,200,200,200,200,80,80,80,80,100,200,200,200,200,200,200,80,80,100,100,80,200,0,100,100,100,100,200,100,100,100,100,100,200,80,80,200,200,200,200,,];inputType=[100,3,100,100,0,0,2,3,2,2,3,3,3,6,3,100,100,100,0,3,3,3,3,100,100,100,100,0,3,100,3,100,100,100,3,100,100,100,3,3,3,0,3,8,8,3,3,0,3,3,3,100,100,100,0,];isNullId=[1,1,1,1,1,];isUniqueId=[1,];moreInputId=[ProviderInVoiceWithPayDate,Department,Employee,Stock,1,freightAcc,CurrencyWithRate,SelectProjectInfo,];zhWidth=[200,];inputTypeOldId=[,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 17:51:59,866 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 17:51:59' where tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:51:59,870 Line:1235 ALTER TABLE tblBuyInStock ADD  ass_OrderId varchar(100) null 
 [DEBUG] 2018-01-12 17:51:59,889 Line:1235 insert into tblDBFieldInfo(tableId,id,fieldName,isCopy,listOrder,isNull,isReAudit,isUnique,isStat,defaultValue,fieldType,maxLength,width,inputType,inputTypeOld,refEnumerationName,inputValue,digits,calculate,logicValidate,udType,fieldSysType,fieldIdentityStr,copyType,statusId,popupType,languageId,groupName,insertTable,isLog) values('77','d3ba9294_1801121751598590193','ass_OrderId','1','52','0','0','0','0','','2','100','200','100','0','','','0','','','0','','','','0','','d3ba9294_1801121751598590194','','','0')
 [DEBUG] 2018-01-12 17:51:59,896 Line:1235 insert into tblLanguage(zh_CN,id) values('采购订单','d3ba9294_1801121751598590194')
 [DEBUG] 2018-01-12 17:51:59,899 Line:1235 ALTER TABLE tblBuyInStock ADD  ass_OrderBillNo varchar(100) null 
 [DEBUG] 2018-01-12 17:51:59,900 Line:1235 insert into tblDBFieldInfo(tableId,id,fieldName,isCopy,listOrder,isNull,isReAudit,isUnique,isStat,defaultValue,fieldType,maxLength,width,inputType,inputTypeOld,refEnumerationName,inputValue,digits,calculate,logicValidate,udType,fieldSysType,fieldIdentityStr,copyType,statusId,popupType,languageId,groupName,insertTable,isLog) values('77','d3ba9294_1801121751598590196','ass_OrderBillNo','1','53','0','0','0','0','','2','100','200','100','0','','','0','','','0','','','','0','','d3ba9294_1801121751598590197','','','0')
 [DEBUG] 2018-01-12 17:51:59,901 Line:1235 insert into tblLanguage(zh_CN,id) values('采购订单编号','d3ba9294_1801121751598590197')
 [DEBUG] 2018-01-12 17:51:59,901 Line:1235  update tblDBFieldInfo set listOrder='17' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'AlreadyPayAmt'
 [DEBUG] 2018-01-12 17:51:59,906 Line:1235  update tblDBFieldInfo set listOrder='18' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'DiscountAmount'
 [DEBUG] 2018-01-12 17:51:59,910 Line:1235  update tblDBFieldInfo set listOrder='19' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'Currency'
 [DEBUG] 2018-01-12 17:51:59,913 Line:1235  update tblDBFieldInfo set listOrder='20' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurAlrPayAmt'
 [DEBUG] 2018-01-12 17:51:59,917 Line:1235  update tblDBFieldInfo set listOrder='21' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurDiscountAmount'
 [DEBUG] 2018-01-12 17:51:59,922 Line:1235  update tblDBFieldInfo set listOrder='22' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurProceDureExp'
 [DEBUG] 2018-01-12 17:51:59,925 Line:1235  update tblDBFieldInfo set listOrder='23' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'ProjectCode'
 [DEBUG] 2018-01-12 17:51:59,930 Line:1235  update tblDBFieldInfo set listOrder='24' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'Period'
 [DEBUG] 2018-01-12 17:51:59,934 Line:1235  update tblDBFieldInfo set listOrder='25' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'PeriodMonth'
 [DEBUG] 2018-01-12 17:51:59,938 Line:1235  update tblDBFieldInfo set listOrder='26' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'PeriodYear'
 [DEBUG] 2018-01-12 17:51:59,942 Line:1235  update tblDBFieldInfo set listOrder='27' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'Remark'
 [DEBUG] 2018-01-12 17:51:59,946 Line:1235  update tblDBFieldInfo set listOrder='28' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'InvoiceAmount'
 [DEBUG] 2018-01-12 17:51:59,951 Line:1235  update tblDBFieldInfo set listOrder='29' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'NoInvoiceAmount'
 [DEBUG] 2018-01-12 17:51:59,956 Line:1235  update tblDBFieldInfo set listOrder='30' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurBackAmount'
 [DEBUG] 2018-01-12 17:51:59,960 Line:1235  update tblDBFieldInfo set listOrder='31' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'BuyAskPriceID'
 [DEBUG] 2018-01-12 17:51:59,964 Line:1235  update tblDBFieldInfo set listOrder='32' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'BuyOrderID'
 [DEBUG] 2018-01-12 17:51:59,969 Line:1235  update tblDBFieldInfo set listOrder='33' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'BuyOrderNo'
 [DEBUG] 2018-01-12 17:51:59,972 Line:1235  update tblDBFieldInfo set listOrder='34' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurAlreadyPayAmt'
 [DEBUG] 2018-01-12 17:51:59,976 Line:1235  update tblDBFieldInfo set listOrder='35' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'BackAmount'
 [DEBUG] 2018-01-12 17:51:59,980 Line:1235  update tblDBFieldInfo set listOrder='36' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CheckPersont'
 [DEBUG] 2018-01-12 17:51:59,984 Line:1235  update tblDBFieldInfo set listOrder='37' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'TrackNo'
 [DEBUG] 2018-01-12 17:51:59,988 Line:1235  update tblDBFieldInfo set listOrder='38' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'Discount'
 [DEBUG] 2018-01-12 17:51:59,992 Line:1235  update tblDBFieldInfo set listOrder='39' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'DisAmount'
 [DEBUG] 2018-01-12 17:51:59,997 Line:1235  update tblDBFieldInfo set listOrder='40' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'Tax'
 [DEBUG] 2018-01-12 17:52:00,001 Line:1235  update tblDBFieldInfo set listOrder='41' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'PayDate'
 [DEBUG] 2018-01-12 17:52:00,009 Line:1235  update tblDBFieldInfo set listOrder='42' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurrencyRate'
 [DEBUG] 2018-01-12 17:52:00,013 Line:1235  update tblDBFieldInfo set listOrder='43' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'TotalAmount'
 [DEBUG] 2018-01-12 17:52:00,017 Line:1235  update tblDBFieldInfo set listOrder='44' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'TotalTaxAmount'
 [DEBUG] 2018-01-12 17:52:00,023 Line:1235  update tblDBFieldInfo set listOrder='45' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'TotalCoTaxAmt'
 [DEBUG] 2018-01-12 17:52:00,026 Line:1235  update tblDBFieldInfo set listOrder='46' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurTotalAmount'
 [DEBUG] 2018-01-12 17:52:00,032 Line:1235  update tblDBFieldInfo set listOrder='47' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'Attachment'
 [DEBUG] 2018-01-12 17:52:00,037 Line:1235  update tblDBFieldInfo set listOrder='48' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CertificateNo'
 [DEBUG] 2018-01-12 17:52:00,042 Line:1235  update tblDBFieldInfo set listOrder='49' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'AfterChangeAmt'
 [DEBUG] 2018-01-12 17:52:00,047 Line:1235  update tblDBFieldInfo set listOrder='50' where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurAfterChangeAmt'
 [DEBUG] 2018-01-12 17:52:00,051 Line:1235  update tblDBFieldInfo set listOrder='51',groupName=null where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'CurChangeAmt'
 [DEBUG] 2018-01-12 17:52:00,057 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 17:52:03,561 Line:297  select * from tblDBTableInfo where tableName = 'tblBuyInStock'
 [DEBUG] 2018-01-12 17:52:03,575 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblBuyInStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 17:52:03,598 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 17:52:05,091 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 17:52:05,092 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 17:52:05,319 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 17:52:05,319 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 17:52:05,833 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 17:52:18,090 Line:135 BaseAction.execute 请求地址：/tableMappedQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-12 17:52:18,091 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-12 17:52:18,091 Line:215 ---------->SET Page 3 DEFAULT URL = /tableMappedQueryAction.do
 [DEBUG] 2018-01-12 17:52:29,102 Line:135 BaseAction.execute 请求地址：/tableMappedQueryAction.do
 [DEBUG] 2018-01-12 17:52:29,102 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];Submit=[,];name=[,];targetName=[tblBuyInStock,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-12 17:52:32,503 Line:135 BaseAction.execute 请求地址：/tableMappedAction.do?operation=7&keyId=tblBuyOrder@tblBuyInStock&winCurIndex=3
 [DEBUG] 2018-01-12 17:52:32,503 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyOrder@tblBuyInStock,];winCurIndex=[3,];
 [DEBUG] 2018-01-12 17:53:32,225 Line:135 BaseAction.execute 请求地址：/tableMappedAction.do
 [DEBUG] 2018-01-12 17:53:32,226 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];mostlytable=[tblBuyOrder,];childtable=[tblBuyInStock,];fieldMapping=[PayDate#PayDate,id#BuyOrderID,BillNo#BuyOrderNo,CompanyCode#CompanyCode,DepartmentCode#DepartmentCode,EmployeeID#EmployeeID,StockCode#StockCode,InVoiceType#InVoiceType,Currency#Currency,ProjectCode#ProjectCode,Remark#Remark,DiscountAmount#DiscountAmount,TrackNo#TrackNo,Discount#Discount,DisAmount#DisAmount,Tax#Tax,CurrencyRate#CurrencyRate,TotalAmount#TotalAmount,TotalTaxAmount#TotalTaxAmount,TotalCoTaxAmt#TotalCoTaxAmt,CurTotalAmount#CurTotalAmount,id#ass_OrderId,BillNo#ass_OrderBillNo,];oldMostlyChild=[tblBuyOrder@tblBuyInStock,];
 [DEBUG] 2018-01-12 17:53:33,795 Line:135 BaseAction.execute 请求地址：/tableMappedQueryAction.do?winCurIndex=3
 [DEBUG] 2018-01-12 17:53:33,796 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[3,];
 [DEBUG] 2018-01-12 17:53:44,807 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=startFlow&tableName=tblBuyInStock&MainModule=1
 [DEBUG] 2018-01-12 17:53:44,808 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[startFlow,];tableName=[tblBuyInStock,];MainModule=[1,];
 [DEBUG] 2018-01-12 17:53:44,995 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=eae3edac_0906121936579370110&selectType=status&val=1&moduleType=sys&fromPage=table&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 17:53:44,995 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[eae3edac_0906121936579370110,];selectType=[status,];val=[1,];moduleType=[sys,];fromPage=[table,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 17:53:46,576 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-12 17:53:46,577 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistTable=[true,];tableName=[tblBuyInStock,];moduleType=[sys,];
 [DEBUG] 2018-01-12 17:53:46,581 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=BillNotFinish&keyId=eae3edac_0906121936579370110&time=1515750826578
 [DEBUG] 2018-01-12 17:53:46,581 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[BillNotFinish,];keyId=[eae3edac_0906121936579370110,];time=[1515750826578,];
 [DEBUG] 2018-01-12 17:53:46,612 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?queryType=design&keyId=eae3edac_0906121936579370110&ip=localhost:8888&workFileName=eae3edac_0906121936579370110.xml&tableName=tblBuyInStock&newCreate=true&moduleType=sys
 [DEBUG] 2018-01-12 17:53:46,613 Line:146 BaseAction.execute 操作人:admin;请求数据：queryType=[design,];keyId=[eae3edac_0906121936579370110,];ip=[localhost:8888,];workFileName=[eae3edac_0906121936579370110.xml,];tableName=[tblBuyInStock,];newCreate=[true,];moduleType=[sys,];
 [DEBUG] 2018-01-12 17:53:47,521 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileFlow
 [DEBUG] 2018-01-12 17:53:47,522 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileFlow,];
 [DEBUG] 2018-01-12 17:54:14,026 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&type=saveFlow&flowId=eae3edac_0906121936579370110&moduleType=sys
 [DEBUG] 2018-01-12 17:54:14,027 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];type=[saveFlow,];flowId=[eae3edac_0906121936579370110,];moduleType=[sys,];json=[[{"keyId":"0","zAction":"START","display":"开始","to":"1515750832530"},{"keyId":"1515750832530","zAction":"CHECK","to":"-1","display":"部门主管","autoSelectPeople":"2"},{"keyId":"-1","zAction":"STOP","display":"结束"}],];flowxml=[<FlowNodes>
  <FlowNodes>
    <flowNode id="0" zAction="START" display="开始" left="34" top="70" code="1515750827436" to="1515750832530"/>
    <flowNode zAction="CHECK" display="部门主管" allowBack="false" allowStop="false" allowJump="false" useAllApprove="false" timeLimit="" noteTime="" noteRate="" approvePeople="select" left="188.65" top="68.6" code="1515750832530" id="1515750832530" to="-1"/>
    <flowNode id="-1" zAction="STOP" display="结束" left="415.3" top="65.3" code="1515750834778"/>
  </FlowNodes>
  <Lines>
    <Line labelx="0" labely="0" from="0" to="1515750832530" fromCode="1515750827436" toCode="1515750832530" x1="0" y1="0" length1="0" isvertical1="false" arrowType1="none" x2="0" y2="0" length2="0" isvertical2="false" arrowType2="none" x3="71" y3="80" length3="117" isvertical3="false" arrowType3="right"/>
    <Line labelx="0" labely="0" from="1515750832530" to="-1" fromCode="1515750832530" toCode="1515750834778" x1="0" y1="0" length1="0" isvertical1="false" arrowType1="none" x2="0" y2="0" length2="0" isvertical2="false" arrowType2="none" x3="318" y3="75" length3="96" isvertical3="false" arrowType3="right"/>
  </Lines>
</FlowNodes>,];
 [DEBUG] 2018-01-12 17:54:15,108 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-12 17:54:15,108 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistFile=[true,];fileName=[eae3edac_0906121936579370110,];moduleType=[sys,];
 [DEBUG] 2018-01-12 17:54:29,813 Line:135 BaseAction.execute 请求地址：/Accredit.do?popname=userGroup&inputType=checkbox
 [DEBUG] 2018-01-12 17:54:29,813 Line:146 BaseAction.execute 操作人:admin;请求数据：popname=[userGroup,];inputType=[checkbox,];
 [DEBUG] 2018-01-12 17:54:29,939 Line:135 BaseAction.execute 请求地址：/AccreditAction.do?operation=accreditInfo&popname=userGroup&value=&inputType=checkbox&condition=&chooseParent=true&value=&keyType=&parameterCode=&userCode=
 [DEBUG] 2018-01-12 17:54:29,940 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[accreditInfo,];popname=[userGroup,];value=[,,];inputType=[checkbox,];condition=[,];chooseParent=[true,];keyType=[,];parameterCode=[,];userCode=[,];
 [DEBUG] 2018-01-12 17:54:32,524 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-12 17:54:32,524 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[1,,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[tblBuyInStock,];tableCHName=[采购入库单,];moduleType=[sys,];flag=[true,];designType=[,];templateFile=[tblBuyInStock,];workFlowFile=[eae3edac_0906121936579370110,];id=[eae3edac_0906121936579370110,];fromPage=[table,];templateName=[采购入库单,];templateClass=[00001,];templateStatus=[1,];flowOrder=[0,];defStatus=[all,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];setWakeDept=[,];setWakePer=[,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];retCheckPerRule=[0,];detail=[,];
 [ERROR] 2018-01-12 17:54:32,562 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,563 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,564 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,565 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,566 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,567 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,568 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,569 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,570 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,571 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,587 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,594 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,604 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,625 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,626 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,627 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,628 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,639 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,639 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,640 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,641 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,642 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,643 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,651 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,667 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,669 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,670 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,671 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,671 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,672 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,684 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,685 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,686 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,705 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,716 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,755 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,755 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,756 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:32,768 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-12 17:54:34,234 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=eae3edac_0906121936579370110&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=table
 [DEBUG] 2018-01-12 17:54:34,235 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[eae3edac_0906121936579370110,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[table,];
 [DEBUG] 2018-01-12 17:54:35,719 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-12 17:54:35,720 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[,1,,];popedomDeptIds=[,,];EmpGroupId=[,,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,,,];tableName=[tblBuyInStock,];tableCHName=[采购入库单,];moduleType=[sys,];flag=[true,];designType=[,];templateFile=[tblBuyInStock,];workFlowFile=[,];id=[eae3edac_0906121936579370110,];fromPage=[table,];templateName=[采购入库单,];templateClass=[00001,];templateStatus=[1,];flowOrder=[0,];defStatus=[all,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];setWakeDept=[,];setWakePer=[,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];retCheckPerRule=[0,];detail=[,];
 [ERROR] 2018-01-12 17:54:35,736 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,737 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,737 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,738 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,739 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,739 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,740 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,740 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,741 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,742 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,749 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,755 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,763 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,786 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,786 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,787 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,788 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,798 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,799 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,799 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,800 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,801 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,801 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,809 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,832 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,833 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,834 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,834 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,835 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,836 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,846 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,847 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,848 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,867 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,878 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,898 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,899 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,901 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-12 17:54:35,909 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-12 17:54:37,366 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=eae3edac_0906121936579370110&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=table
 [DEBUG] 2018-01-12 17:54:37,368 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[eae3edac_0906121936579370110,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[table,];
 [DEBUG] 2018-01-12 17:54:39,596 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-12 17:54:39,598 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-12 17:54:39,601 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:54:39,730 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-12 17:54:39,731 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-12 17:54:39,740 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-12 17:54:39,740 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:54:39,741 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:54:39,749 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-12 17:54:39,749 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:54:39,750 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:54:39,755 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-12 17:54:39,755 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:54:39,756 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:54:39,762 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-12 17:54:39,762 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-12 17:54:39,762 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 17:54:42,545 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-12 17:54:42,545 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-12 17:54:42,546 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyOrder
 [DEBUG] 2018-01-12 17:54:42,605 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 17:54:42,606 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 17:54:42,606 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-12 17:54:42,683 Line:689 通过SQL读原始数据：77
 [DEBUG] 2018-01-12 17:54:42,684 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 17:54:42,751 Line:5242 GlobalsTool.js 生成js 时间26:/js/gen/defineList.vjstblBuyOrder_zh_CN.js
 [DEBUG] 2018-01-12 17:54:44,631 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 17:54:44,632 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 17:54:44,779 Line:5242 GlobalsTool.js 生成js 时间99:/js/gen/define.vjstblBuyOrder_zh_CN.js
 [DEBUG] 2018-01-12 17:54:46,449 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-12&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-12 17:54:46,450 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-12,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-12 17:54:46,524 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=83e8760a_0811132128219840114&editable=&subSql=
 [DEBUG] 2018-01-12 17:54:46,524 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-12&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-12 17:54:46,525 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[83e8760a_0811132128219840114,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-12 17:54:46,525 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-12,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-12 17:54:46,525 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-12 17:54:46,542 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-12'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-12 17:54:46,596 Line:5242 GlobalsTool.js 生成js 时间15:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-12 17:54:49,733 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-12 17:54:49,733 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-12 17:54:49,756 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=83e8760a_0811132128219840114&editable=&subSql=
 [DEBUG] 2018-01-12 17:54:49,756 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132128219840114,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-12 17:54:49,757 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-12 17:54:49,757 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-12 17:54:49,757 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-12 17:54:49,759 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-12 17:54:52,214 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrderDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyOrderDet_BuyApplyID=&isMain=false&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-12 17:54:52,215 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrderDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyOrderDet_BuyApplyID=[,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-12 17:54:52,244 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=83e8760a_0811132128219840114&editable=&subSql=
 [DEBUG] 2018-01-12 17:54:52,244 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132128219840114,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-12 17:54:52,244 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrderDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyOrderDet_BuyApplyID=&isMain=false&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-12 17:54:52,245 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-12 17:54:52,245 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrderDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyOrderDet_BuyApplyID=[,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-12 17:54:52,250 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-12 17:54:56,252 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-12 17:54:56,253 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];BillNo=[BO1801120001,];checkPersons=[,];SCompanyID=[,];BillDate=[2018-01-12,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];PayDate=[,];Account=[,];tblAccTypeInfo_AccName=[,];AccountAmount=[0,];InVoiceType=[3,];TotalPayAmt=[0,];TradeType=[CreditBuy,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];Currency=[,];CurAccountAmount=[0,];ProjectCode=[,];PayStatus=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NotAmortDeposit=[0,];CurNotAmortDeposit=[,];CertificateNo=[,];RefBillID=[,];RefBillNo=[,];SalesOrderID=[,];CurTotalPayAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];BuyApplyID=[,];DiscountAmount=[,];BuyApplyNo=[,];BuyAskPriceID=[,];CheckPersont=[,];ApproveRec=[,];CurBackAmount=[0,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];ReceiveAmt=[,];CurReceiveAmt=[,];CurTotalAmount=[1,];finishTime=[,];workFlowNode=[,];workFlowNodeName=[,];printCount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-12 17:54:44,];createBy=[,];createTime=[2018-01-12 17:54:44,];tblBuyOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyOrderDet_tblGoods_GoodsNumber=[bl0001,];tblBuyOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyOrderDet_tblGoods_GoodsSpec=[,];tblBuyOrderDet_tblGoods_BaseUnit=[,];tblBuyOrderDet_Qty=[1,];tblBuyOrderDet_Price=[1,];tblBuyOrderDet_Amount=[1,];tblBuyOrderDet_Remark=[,];tblBuyOrderDet_StockCode=[,];tblBuyOrderDet_BuyAskPriceID=[,];tblBuyOrderDet_BuyApplyID=[,];tblBuyOrderDet_BuyAppTotalID=[,];tblBuyOrderDet_GoodsCode=[0000300001,];tblBuyOrderDet_BatchNo=[,];tblBuyOrderDet_Inch=[,];tblBuyOrderDet_Hue=[,];tblBuyOrderDet_yearNO=[,];tblBuyOrderDet_ProDate=[,];tblBuyOrderDet_Availably=[,];tblBuyOrderDet_InvoiceStatus=[0,];tblBuyOrderDet_Discount=[100,];tblBuyOrderDet_DisPrice=[1,];tblBuyOrderDet_DisBackAmt=[1,];tblBuyOrderDet_DisAmount=[0,];tblBuyOrderDet_TaxPrice=[1,];tblBuyOrderDet_TaxAmount=[1,];tblBuyOrderDet_CoTaxAmt=[0,];tblBuyOrderDet_CurPrice=[1,];tblBuyOrderDet_CurAmount=[1,];tblBuyOrderDet_ArriveDate=[,];tblBuyOrderDet_NeedPayAmt=[,];tblBuyOrderDet_SourceID=[,];tblBuyOrderDet_TotalPayAmt=[,];tblBuyOrderDet_SalesOrderID=[,];tblBuyOrderDet_PresentSampleType=[,];tblBuyOrderDet_SecQty=[0,];tblBuyOrderDet_PayQty=[,];tblBuyOrderDet_NotPayQty=[,];tblBuyOrderDet_InPayQty=[,];tblBuyOrderDet_BaseQty=[0,];tblBuyOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-12 17:54:56,254 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936570620008
 [DEBUG] 2018-01-12 17:54:56,295 Line:5847  INSERT INTO  tblBuyOrder(BillNo,checkPersons,id,SCompanyID,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,PayDate,Account,AccountAmount,InVoiceType,TotalPayAmt,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,Currency,CurAccountAmount,ProjectCode,PayStatus,Period,PeriodMonth,PeriodYear,NotAmortDeposit,CurNotAmortDeposit,CertificateNo,RefBillID,RefBillNo,Remark,SalesOrderID,CurTotalPayAmt,AutoBillMarker,BackAmount,BuyApplyID,DiscountAmount,BuyApplyNo,BuyAskPriceID,CheckPersont,ApproveRec,CurBackAmount,TrackNo,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,ReceiveAmt,CurReceiveAmt,CurTotalAmount,Attachment,finishTime,workFlowNode,workFlowNodeName,printCount,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 17:54:56,295 Line:5853 1:BO1801120001
 [DEBUG] 2018-01-12 17:54:56,295 Line:5853 2:
 [DEBUG] 2018-01-12 17:54:56,295 Line:5853 3:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,295 Line:5853 4:00001
 [DEBUG] 2018-01-12 17:54:56,296 Line:5853 5:2018-01-12
 [DEBUG] 2018-01-12 17:54:56,296 Line:5853 6:00003
 [DEBUG] 2018-01-12 17:54:56,296 Line:5853 7:00101
 [DEBUG] 2018-01-12 17:54:56,296 Line:5853 8:1
 [DEBUG] 2018-01-12 17:54:56,296 Line:5853 9:00001
 [DEBUG] 2018-01-12 17:54:56,296 Line:5853 10:
 [DEBUG] 2018-01-12 17:54:56,297 Line:5853 11:
 [DEBUG] 2018-01-12 17:54:56,297 Line:5853 12:0.0
 [DEBUG] 2018-01-12 17:54:56,297 Line:5853 13:3
 [DEBUG] 2018-01-12 17:54:56,297 Line:5853 14:0.0
 [DEBUG] 2018-01-12 17:54:56,297 Line:5853 15:CreditBuy
 [DEBUG] 2018-01-12 17:54:56,298 Line:5853 16:0.0
 [DEBUG] 2018-01-12 17:54:56,298 Line:5853 17:0.0
 [DEBUG] 2018-01-12 17:54:56,298 Line:5853 18:0
 [DEBUG] 2018-01-12 17:54:56,298 Line:5853 19:
 [DEBUG] 2018-01-12 17:54:56,298 Line:5853 20:0.0
 [DEBUG] 2018-01-12 17:54:56,298 Line:5853 21:
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 22:0
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 23:1
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 24:1
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 25:2018
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 26:0.0
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 27:0.0
 [DEBUG] 2018-01-12 17:54:56,299 Line:5853 28:
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 29:
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 30:
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 31:
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 32:
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 33:0.0
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 34:0
 [DEBUG] 2018-01-12 17:54:56,300 Line:5853 35:0.0
 [DEBUG] 2018-01-12 17:54:56,301 Line:5853 36:
 [DEBUG] 2018-01-12 17:54:56,301 Line:5853 37:0.0
 [DEBUG] 2018-01-12 17:54:56,301 Line:5853 38:
 [DEBUG] 2018-01-12 17:54:56,301 Line:5853 39:
 [DEBUG] 2018-01-12 17:54:56,301 Line:5853 40:
 [DEBUG] 2018-01-12 17:54:56,301 Line:5853 41:0
 [DEBUG] 2018-01-12 17:54:56,302 Line:5853 42:0.0
 [DEBUG] 2018-01-12 17:54:56,302 Line:5853 43:
 [DEBUG] 2018-01-12 17:54:56,302 Line:5853 44:100.0
 [DEBUG] 2018-01-12 17:54:56,302 Line:5853 45:0.0
 [DEBUG] 2018-01-12 17:54:56,302 Line:5853 46:0.0
 [DEBUG] 2018-01-12 17:54:56,302 Line:5853 47:1.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 48:1.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 49:1.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 50:0.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 51:0.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 52:0.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 53:1.0
 [DEBUG] 2018-01-12 17:54:56,303 Line:5853 54:
 [DEBUG] 2018-01-12 17:54:56,304 Line:5853 55:2018-01-12 17:54:56
 [DEBUG] 2018-01-12 17:54:56,304 Line:5853 56:-1
 [DEBUG] 2018-01-12 17:54:56,304 Line:5853 57:finish
 [DEBUG] 2018-01-12 17:54:56,304 Line:5853 58:0
 [DEBUG] 2018-01-12 17:54:56,304 Line:5853 59:1
 [DEBUG] 2018-01-12 17:54:56,304 Line:5853 60:2018-01-12 17:54:44
 [DEBUG] 2018-01-12 17:54:56,305 Line:5853 61:1
 [DEBUG] 2018-01-12 17:54:56,305 Line:5853 62:2018-01-12 17:54:44
 [DEBUG] 2018-01-12 17:54:56,311 Line:5847  INSERT INTO  tblBuyOrderDet(f_ref,id,StockCode,BuyAskPriceID,BuyApplyID,BuyAppTotalID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,Qty,Price,Amount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ArriveDate,InQty,InvoiceQty,BackQty,NeedPayAmt,NotInQty,SCompanyID,FinishStatus,SourceID,TotalPayAmt,SalesOrderID,PresentSampleType,SecQty,PayQty,NotPayQty,InPayQty,BaseQty,Remark) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 17:54:56,312 Line:5853 1:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,312 Line:5853 2:d3ba9294_1801121754563110228
 [DEBUG] 2018-01-12 17:54:56,313 Line:5853 3:
 [DEBUG] 2018-01-12 17:54:56,313 Line:5853 4:
 [DEBUG] 2018-01-12 17:54:56,314 Line:5853 5:
 [DEBUG] 2018-01-12 17:54:56,314 Line:5853 6:
 [DEBUG] 2018-01-12 17:54:56,314 Line:5853 7:0000300001
 [DEBUG] 2018-01-12 17:54:56,314 Line:5853 8:
 [DEBUG] 2018-01-12 17:54:56,314 Line:5853 9:
 [DEBUG] 2018-01-12 17:54:56,314 Line:5853 10:
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 11:
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 12:
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 13:
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 14:0.0
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 15:0.0
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 16:0
 [DEBUG] 2018-01-12 17:54:56,315 Line:5853 17:1.0
 [DEBUG] 2018-01-12 17:54:56,316 Line:5853 18:1.0
 [DEBUG] 2018-01-12 17:54:56,316 Line:5853 19:1.0
 [DEBUG] 2018-01-12 17:54:56,316 Line:5853 20:0
 [DEBUG] 2018-01-12 17:54:56,316 Line:5853 21:0.0
 [DEBUG] 2018-01-12 17:54:56,316 Line:5853 22:0.0
 [DEBUG] 2018-01-12 17:54:56,316 Line:5853 23:0.0
 [DEBUG] 2018-01-12 17:54:56,317 Line:5853 24:100.0
 [DEBUG] 2018-01-12 17:54:56,317 Line:5853 25:1.0
 [DEBUG] 2018-01-12 17:54:56,317 Line:5853 26:1.0
 [DEBUG] 2018-01-12 17:54:56,317 Line:5853 27:0.0
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 28:1.0
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 29:1.0
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 30:0.0
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 31:1.0
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 32:1.0
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 33:
 [DEBUG] 2018-01-12 17:54:56,318 Line:5853 34:0.0
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 35:0.0
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 36:0.0
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 37:0.0
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 38:0.0
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 39:00001
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 40:0
 [DEBUG] 2018-01-12 17:54:56,319 Line:5853 41:
 [DEBUG] 2018-01-12 17:54:56,320 Line:5853 42:0.0
 [DEBUG] 2018-01-12 17:54:56,320 Line:5853 43:
 [DEBUG] 2018-01-12 17:54:56,320 Line:5853 44:
 [DEBUG] 2018-01-12 17:54:56,320 Line:5853 45:0
 [DEBUG] 2018-01-12 17:54:56,320 Line:5853 46:0.0
 [DEBUG] 2018-01-12 17:54:56,320 Line:5853 47:0.0
 [DEBUG] 2018-01-12 17:54:56,321 Line:5853 48:0.0
 [DEBUG] 2018-01-12 17:54:56,321 Line:5853 49:0
 [DEBUG] 2018-01-12 17:54:56,321 Line:5853 50:
 [DEBUG] 2018-01-12 17:54:56,531 Line:313 exeCondition:tblBuyOrder_add :0!=0 && ''.length==0 
 [DEBUG] 2018-01-12 17:54:56,762 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,762 Line:313 exeCondition:tblBuyOrder_add :0<=0 && ''.length > 0 
 [DEBUG] 2018-01-12 17:54:56,763 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,763 Line:313 exeCondition:tblBuyOrder_add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-12 17:54:56,766 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,766 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyApplication where id=?
 [DEBUG] 2018-01-12 17:54:56,766 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,766 Line:988 1值：
 [DEBUG] 2018-01-12 17:54:56,769 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:54:56,769 Line:313 exeCondition:tblBuyOrder_add :''.length>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 17:54:56,770 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,770 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyAskPrice where id=?
 [DEBUG] 2018-01-12 17:54:56,771 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,771 Line:988 1值：
 [DEBUG] 2018-01-12 17:54:56,774 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:54:56,775 Line:313 exeCondition:tblBuyOrder_add :''.length>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 17:54:56,776 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,776 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblSalesOrder where id=?
 [DEBUG] 2018-01-12 17:54:56,776 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,777 Line:988 1值：
 [DEBUG] 2018-01-12 17:54:56,783 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-12 17:54:56,783 Line:313 exeCondition:tblBuyOrder_add :''.length>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 17:54:56,785 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,785 Line:921 自定义执行的语句显示： tblBuyOrder_add :select len(BuyAskPriceID) as BuyAskPriceID from tblBuyOrderDet where f_ref=?  and len(BuyAskPriceID)>0
 [DEBUG] 2018-01-12 17:54:56,785 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,785 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,793 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 17:54:56,794 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyAskPrice where id in(select BuyAskPriceID from tblBuyOrderDet where f_ref=?  and len(BuyAskPriceID)>0)  order by QuoteDate desc
 [DEBUG] 2018-01-12 17:54:56,794 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,795 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,803 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-12 17:54:56,803 Line:313 exeCondition:tblBuyOrder_add :'null'>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 17:54:56,806 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,807 Line:921 自定义执行的语句显示： tblBuyOrder_add :select len(BuyApplyID) as BuyApplyID from tblBuyOrderDet where f_ref=?  and len(BuyApplyID)>0
 [DEBUG] 2018-01-12 17:54:56,807 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,807 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,813 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-12 17:54:56,813 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyApplication where id in(select BuyApplyID as BuyApplyID from tblBuyOrderDet where f_ref=?  and len(BuyApplyID)>0)  order by QuoteDate desc
 [DEBUG] 2018-01-12 17:54:56,814 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,814 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,829 Line:1043 ---上述语句时间---16
 [DEBUG] 2018-01-12 17:54:56,830 Line:313 exeCondition:tblBuyOrder_add :'null'>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 17:54:56,832 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,833 Line:921 自定义执行的语句显示： tblBuyOrder_add :select len(BuyAppTotalID) as BuyAppTotalID from tblBuyOrderDet where f_ref=? and len(BuyAppTotalID)>0
 [DEBUG] 2018-01-12 17:54:56,833 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,834 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,839 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-12 17:54:56,840 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyApplicationTotal where id in(select BuyAppTotalID from tblBuyOrderDet where f_ref=? and len(BuyAppTotalID)>0)  order by QuoteDate desc
 [DEBUG] 2018-01-12 17:54:56,840 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,840 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,873 Line:1043 ---上述语句时间---33
 [DEBUG] 2018-01-12 17:54:56,874 Line:313 exeCondition:tblBuyOrder_add :'null'>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 17:54:56,876 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,876 Line:921 自定义执行的语句显示： tblBuyOrder_add :select 'existsUpdate' as existsUpdateGood from tblBuyOrderDet a,tblBuyApplicationDet b where b.id=a.sourceID and a.f_ref=? and (a.goodsCode!=b.goodsCode or a.Hue!=b.Hue or a.Inch!=b.Inch or a.yearNO!=b.yearNO)
 [DEBUG] 2018-01-12 17:54:56,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,877 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,914 Line:1043 ---上述语句时间---38
 [DEBUG] 2018-01-12 17:54:56,915 Line:313 exeCondition:tblBuyOrder_add :'null'!='null'
 [DEBUG] 2018-01-12 17:54:56,915 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,916 Line:921 自定义执行的语句显示： tblBuyOrder_add :select b.GoodsFullName as GoodsQ from tblBuyOrderDet a,tblGoods b where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and b.classCode=a.GoodsCode and a.f_ref=?
 [DEBUG] 2018-01-12 17:54:56,916 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,916 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,924 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 17:54:56,924 Line:313 exeCondition:tblBuyOrder_add :'null' != 'null'
 [DEBUG] 2018-01-12 17:54:56,925 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,926 Line:921 自定义执行的语句显示： tblBuyOrder_add :select ArriveDate as ArriveDate from tblBuyOrderDet a  where a.f_ref=? and len(a.ArriveDate)!=0 and a.ArriveDate < ? 
 [DEBUG] 2018-01-12 17:54:56,926 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,926 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,926 Line:988 2值：2018-01-12
 [DEBUG] 2018-01-12 17:54:56,930 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:54:56,931 Line:313 exeCondition:tblBuyOrder_add :'null'!='null'
 [DEBUG] 2018-01-12 17:54:56,932 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,932 Line:921 自定义执行的语句显示： tblBuyOrder_add :select tblGoods.GoodsFullName as GoodsQ,Qty from tblBuyOrderDet,tblGoods where f_ref=? and tblGoods.classCode=tblBuyOrderDet.GoodsCode and isnull(tblBuyOrderDet.Qty,0)<=0
 [DEBUG] 2018-01-12 17:54:56,932 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,933 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,937 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-12 17:54:56,937 Line:313 exeCondition:tblBuyOrder_add :'null' != 'null'
 [DEBUG] 2018-01-12 17:54:56,938 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,939 Line:921 自定义执行的语句显示： tblBuyOrder_add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyOrderDet a,tblGoods b where a.f_ref=? and a.PresentSampleType not in ('1','2') and b.classCode=a.GoodsCode and (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0))
 [DEBUG] 2018-01-12 17:54:56,939 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,939 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,947 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 17:54:56,947 Line:313 exeCondition:tblBuyOrder_add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-12 17:54:56,948 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,949 Line:313 exeCondition:tblBuyOrder_add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-12 17:54:56,950 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,950 Line:313 exeCondition:tblBuyOrder_add :false==true
 [DEBUG] 2018-01-12 17:54:56,951 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,952 Line:921 自定义执行的语句显示： tblBuyOrder_add :select tblGoods.GoodsFullName as GoodsSample from tblBuyOrderDet,tblGoods where f_ref=? and tblGoods.classCode=tblBuyOrderDet.GoodsCode and tblBuyOrderDet.PresentSampleType in ('1','2') and isnull(tblBuyOrderDet.Price,0)!=0
 [DEBUG] 2018-01-12 17:54:56,952 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,952 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,956 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:54:56,956 Line:313 exeCondition:tblBuyOrder_add :'null' != 'null'
 [DEBUG] 2018-01-12 17:54:56,957 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,957 Line:921 自定义执行的语句显示： tblBuyOrder_add :select dbo.getDigits('tblBuyOrderDet','TaxAmount',sum(tblBuyOrderDet.TaxAmount)) as SumDetAmt from tblBuyOrderDet where  tblBuyOrderDet.f_ref=?
 [DEBUG] 2018-01-12 17:54:56,957 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,958 Line:988 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:56,990 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-12 17:54:56,990 Line:1043 ---上述语句时间---33
 [DEBUG] 2018-01-12 17:54:56,991 Line:313 exeCondition:tblBuyOrder_add : 1.0 != 1
 [DEBUG] 2018-01-12 17:54:56,992 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:56,993 Line:921 自定义执行的语句显示： tblBuyOrder_add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-12 17:54:56,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:56,993 Line:988 1值：
 [DEBUG] 2018-01-12 17:54:56,994 Line:988 2值：00001
 [DEBUG] 2018-01-12 17:54:57,001 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 17:54:57,002 Line:313 exeCondition:tblBuyOrder_add :''.length != 0 && ''.length !=0 && !( '' == 'null' || ('null' =='' && 'null'=='1'  )  ) 
 [DEBUG] 2018-01-12 17:54:57,003 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:57,003 Line:313 exeCondition:tblBuyOrder_add :''.length == 0 && ''.length !=0 && ( 'null'.length != 0 && 'null' !=' '  && 'null' != 'null' && 'null' != 'NULL')  
 [DEBUG] 2018-01-12 17:54:57,004 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:57,005 Line:313 exeCondition:tblBuyOrder_add : (''.length == 0 && 1> 0 && 1!=1)
 [DEBUG] 2018-01-12 17:54:57,005 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:57,006 Line:313 exeCondition:tblBuyOrder_add :'false'=='false'
 [DEBUG] 2018-01-12 17:54:57,006 Line:321 flag:true
 [DEBUG] 2018-01-12 17:54:57,007 Line:1081 自定义执行的语句显示： tblBuyOrder_add:update tblBuyOrderDet set tblBuyOrderDet.StockCode=tblBuyOrder.StockCode from tblBuyOrder where tblBuyOrder.id=tblBuyOrderDet.f_ref and tblBuyOrder.id=? and len(tblBuyOrder.StockCode)>0 and tblBuyOrder.StockCode is not null
 [DEBUG] 2018-01-12 17:54:57,007 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,010 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=1
 [DEBUG] 2018-01-12 17:54:57,011 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 17:54:57,011 Line:313 exeCondition:tblBuyOrder_add :''.length>0
 [DEBUG] 2018-01-12 17:54:57,012 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:57,012 Line:313 exeCondition:tblBuyOrder_add :''.length>0
 [DEBUG] 2018-01-12 17:54:57,013 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:57,013 Line:313 exeCondition:tblBuyOrder_add :'true'=='true'
 [DEBUG] 2018-01-12 17:54:57,014 Line:321 flag:true
 [DEBUG] 2018-01-12 17:54:57,014 Line:1081 自定义执行的语句显示： tblBuyOrder_add:
			   update tblBuyOrderDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyOrder  a join tblBuyOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyOrderDet.id=a.id
 [DEBUG] 2018-01-12 17:54:57,015 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,025 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=0
 [DEBUG] 2018-01-12 17:54:57,026 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-12 17:54:57,026 Line:1081 自定义执行的语句显示： tblBuyOrder_add:
			   update tblBuyOrderDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyOrder a join tblBuyOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyOrderDet.id=a.id
 [DEBUG] 2018-01-12 17:54:57,026 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,037 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=0
 [DEBUG] 2018-01-12 17:54:57,037 Line:408 ************上述语句执行时间：11
 [DEBUG] 2018-01-12 17:54:57,037 Line:313 exeCondition:tblBuyOrder_add :true
 [DEBUG] 2018-01-12 17:54:57,038 Line:321 flag:true
 [DEBUG] 2018-01-12 17:54:57,038 Line:1081 自定义执行的语句显示： tblBuyOrder_add:update tblBuyOrderDet set NotInQty=Qty,InQty=0,FinishStatus=0,NotPayQty=Qty,PayQty=0,NoInvoiceAmount=TaxAmount,InvoiceAmount=0,InvoiceStatus=0 where f_ref=?
 [DEBUG] 2018-01-12 17:54:57,039 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,041 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=1
 [DEBUG] 2018-01-12 17:54:57,041 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 17:54:57,041 Line:1081 自定义执行的语句显示： tblBuyOrder_add:update tblBuyOrder set statusId=0,TotalPayAmt=AccountAmount,NotAmortDeposit=AccountAmount,CurTotalPayAmt=CurAccountAmount,CurNotAmortDeposit=CurAccountAmount,ReceiveAmt=0,CurReceiveAmt=0,CertificateNo='',NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0 where id=?
 [DEBUG] 2018-01-12 17:54:57,042 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,045 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=1
 [DEBUG] 2018-01-12 17:54:57,045 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 17:54:57,045 Line:313 exeCondition:tblBuyOrder_add :true
 [DEBUG] 2018-01-12 17:54:57,046 Line:321 flag:true
 [DEBUG] 2018-01-12 17:54:57,046 Line:1264 自定义执行的语句显示： tblBuyOrder_add:{call proc_BuyOrderBackFillApp(?,?,?,?)}
 [DEBUG] 2018-01-12 17:54:57,047 Line:1270 d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,047 Line:1270 add
 [DEBUG] 2018-01-12 17:54:57,113 Line:425 ************上述语句执行时间：67
 [DEBUG] 2018-01-12 17:54:57,114 Line:313 exeCondition:tblBuyOrder_add :true
 [DEBUG] 2018-01-12 17:54:57,114 Line:321 flag:true
 [DEBUG] 2018-01-12 17:54:57,115 Line:1264 自定义执行的语句显示： tblBuyOrder_add:{call proc_BuyOrderBackFillApplyTotal(?,?,?,?)}
 [DEBUG] 2018-01-12 17:54:57,115 Line:1270 d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,115 Line:1270 add
 [DEBUG] 2018-01-12 17:54:57,142 Line:425 ************上述语句执行时间：27
 [DEBUG] 2018-01-12 17:54:57,143 Line:313 exeCondition:tblBuyOrder_add :'0' == '0' && false==false
 [DEBUG] 2018-01-12 17:54:57,143 Line:321 flag:true
 [DEBUG] 2018-01-12 17:54:57,144 Line:313 exeCondition:tblBuyOrder_Add_One :0>0
 [DEBUG] 2018-01-12 17:54:57,145 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:57,146 Line:921 自定义执行的语句显示： tblBuyOrder_add :SELECT c.GoodsFullName,? as DifferPrice FROM tblBuyOrderDet a JOIN tblBuyOrderDet b ON a.GoodsCode = b.GoodsCode AND ISNULL(a.BatchNo,'') = ISNULL(b.BatchNo,'') AND ISNULL(a.Inch,'') = ISNULL(b.Inch,'') AND ISNULL(a.Hue,'') = ISNULL(b.Hue,'') AND ISNULL(a.yearNO,'') = ISNULL(b.yearNO,'') AND ISNULL(a.ProDate,'') = ISNULL(b.ProDate,'') AND ISNULL(a.Availably,'') = ISNULL(b.Availably,'') JOIN tblGoods c ON a.GoodsCode = c.classCode WHERE a.f_ref = ? AND b.f_ref!=? AND (CASE WHEN a.Price = 0 THEN 0 ELSE (a.Price - b.Price)/a.Price*100 END)>?
 [DEBUG] 2018-01-12 17:54:57,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:54:57,146 Line:988 1值：0
 [DEBUG] 2018-01-12 17:54:57,147 Line:988 2值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,147 Line:988 3值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:54:57,147 Line:988 4值：0
 [DEBUG] 2018-01-12 17:54:57,163 Line:1043 ---上述语句时间---17
 [DEBUG] 2018-01-12 17:54:57,163 Line:313 exeCondition:tblBuyOrder_add :'null'!='null'&&'null'.length!=0&&'0' == '0' && false==false&&null>0
 [DEBUG] 2018-01-12 17:54:57,164 Line:321 flag:false
 [DEBUG] 2018-01-12 17:54:58,619 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyOrder&operation=5&keyId=d3ba9294_1801121754562880227&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 17:54:58,619 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];operation=[5,];keyId=[d3ba9294_1801121754562880227,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 17:54:58,619 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121754562880227' and  a.tableName='tblBuyOrder'
 [DEBUG] 2018-01-12 17:54:58,661 Line:1525  select * from  tblBuyOrderDet where f_ref = 'd3ba9294_1801121754562880227' order by detOrderNo
 [DEBUG] 2018-01-12 17:55:02,308 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentTableName=&sourceTableName=tblBuyOrder&sourceId=d3ba9294_1801121754562880227&operation=15&popWinName=PopPushMainOpdiv
 [DEBUG] 2018-01-12 17:55:02,309 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentTableName=[,];sourceTableName=[tblBuyOrder,];sourceId=[d3ba9294_1801121754562880227,];operation=[15,];popWinName=[PopPushMainOpdiv,];
 [DEBUG] 2018-01-12 17:55:02,311 Line:3434 DynDBManager.popSelect selectName=tblBuyInStockDet_quote_tblBuyOrderDet; sql=select viewbuyorder.id f1 ,tblGoods.GoodsNumber f2 ,tblGoods.GoodsFullName f3 ,tblGoods.GoodsSpec f4 ,tblGoods.BaseUnit f5 ,tblGoods.GoodsFullNamePYM f6 ,viewbuyorder.Qty f7 ,tblBuyOrderDet.Price f8 ,tblBuyOrderDet.InQty f9 ,tblBuyOrderDet.NotInQty f10 
from viewbuyorder 
				left join tblGoods on viewbuyorder.GoodsCode=tblGoods.classCode
				left join tblBuyOrderDet on tblBuyOrderDet.id=viewbuyorder.id where 1=1 and  viewbuyorder.f_ref='d3ba9294_1801121754562880227'   and viewbuyorder.FinishStatus=0 and tblGoods.workFlowNodeName='finish' order by tblGoods.GoodsNumber,tblGoods.GoodsFullName
 [DEBUG] 2018-01-12 17:55:02,341 Line:1525  select * from  tblBuyOrderDet where f_ref = 'd3ba9294_1801121754562880227' order by detOrderNo
 [DEBUG] 2018-01-12 17:55:02,351 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrder' and childTable='tblBuyInStock'
 [DEBUG] 2018-01-12 17:55:02,365 Line:2014 DynDBManager.getRefSql:弹出窗ProviderInVoiceWithPayDate: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)
		 and tblCompany.classCode = '00003'
 [DEBUG] 2018-01-12 17:55:02,369 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-12 17:55:02,372 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-12 17:55:02,377 Line:2014 DynDBManager.getRefSql:弹出窗Stock: select tblStock.StockFullName from tblStock
      where 1=1 and tblStock.classCode = '00001'
 [DEBUG] 2018-01-12 17:55:02,379 Line:2014 DynDBManager.getRefSql:弹出窗CurrencyWithRate: select tblSetExchange.CurrencyName from tblSetExchange
      where 1=1 and tblSetExchange.Currency = ''
 [DEBUG] 2018-01-12 17:55:02,383 Line:2014 DynDBManager.getRefSql:弹出窗SelectProjectInfo: select tblProject.ProjectName from tblProject
      where 1=1 and tblProject.id = ''   and tblProject.workFlowNodeName='finish'
 [DEBUG] 2018-01-12 17:55:02,385 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrderDet' and childTable='tblBuyInStockDet'
 [DEBUG] 2018-01-12 17:55:02,389 Line:2014 DynDBManager.getRefSql:弹出窗BuyOrderGoods: select tblBuyOrder.BillNo from tblBuyOrderDet left join tblBuyOrder on tblBuyOrderDet.f_ref=tblBuyOrder.id
	    left join tblGoods on tblBuyOrderDet.goodsCode=tblGoods.classCode
		  left join tblProject on tblBuyOrder.ProjectCode=tblProject.id
      where 1=1  and (tblBuyOrder.InvoiceType='3' and tblBuyOrder.CompanyCode='00003' and tblBuyOrder.BillDate<='2018-01-12' and tblBuyOrder.workFlowNodeName = 'finish')  and 1=1
		 and tblBuyOrder.id = 'd3ba9294_1801121754562880227' and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-12 17:55:02,394 Line:2014 DynDBManager.getRefSql:弹出窗GoodsBuy: select tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblGoods.GoodsSpec,tblGoods.BaseUnit from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003')
      where 1=1 and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-12 17:55:02,411 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrderDet' and childTable='tblBuyPayAccount'
 [DEBUG] 2018-01-12 17:55:02,413 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrder' and childTable='tblBuyPayAccount'
 [DEBUG] 2018-01-12 17:55:02,615 Line:5242 GlobalsTool.js 生成js 时间109:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-12 17:55:04,861 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-12 17:55:04,863 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[$winCurIndex,];popWinName=[PopPushMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[$saveDraft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936579370110,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801120010,];BillDate=[2018-01-12,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[d3ba9294_1801121754562880227,];BuyOrderNo=[BO1801120001,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[0,];CurAfterChangeAmt=[0,];CurChangeAmt=[0,];ass_OrderId=[d3ba9294_1801121754562880227,];ass_OrderBillNo=[BO1801120001,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[d3ba9294_1801121754562880227,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[d3ba9294_1801121754563110228,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[0,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-12 17:55:04,864 Line:3843 添加单据desingId=eae3edac_0906121936579370110工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-12 17:55:04,876 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 17:55:04,877 Line:5853 1:0.0
 [DEBUG] 2018-01-12 17:55:04,877 Line:5853 2:;1;
 [DEBUG] 2018-01-12 17:55:04,877 Line:5853 3:d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,878 Line:5853 4:0
 [DEBUG] 2018-01-12 17:55:04,878 Line:5853 5:notApprove
 [DEBUG] 2018-01-12 17:55:04,878 Line:5853 6:0.0
 [DEBUG] 2018-01-12 17:55:04,879 Line:5853 7:0
 [DEBUG] 2018-01-12 17:55:04,879 Line:5853 8:0.0
 [DEBUG] 2018-01-12 17:55:04,879 Line:5853 9:BI1801120010
 [DEBUG] 2018-01-12 17:55:04,879 Line:5853 10:2018-01-12
 [DEBUG] 2018-01-12 17:55:04,880 Line:5853 11:00003
 [DEBUG] 2018-01-12 17:55:04,880 Line:5853 12:00101
 [DEBUG] 2018-01-12 17:55:04,880 Line:5853 13:1
 [DEBUG] 2018-01-12 17:55:04,880 Line:5853 14:00001
 [DEBUG] 2018-01-12 17:55:04,880 Line:5853 15:3
 [DEBUG] 2018-01-12 17:55:04,880 Line:5853 16:0.0
 [DEBUG] 2018-01-12 17:55:04,881 Line:5853 17:0.0
 [DEBUG] 2018-01-12 17:55:04,881 Line:5853 18:0.0
 [DEBUG] 2018-01-12 17:55:04,881 Line:5853 19:0.0
 [DEBUG] 2018-01-12 17:55:04,881 Line:5853 20:
 [DEBUG] 2018-01-12 17:55:04,881 Line:5853 21:0.0
 [DEBUG] 2018-01-12 17:55:04,881 Line:5853 22:0.0
 [DEBUG] 2018-01-12 17:55:04,882 Line:5853 23:0.0
 [DEBUG] 2018-01-12 17:55:04,882 Line:5853 24:
 [DEBUG] 2018-01-12 17:55:04,882 Line:5853 25:0.0
 [DEBUG] 2018-01-12 17:55:04,882 Line:5853 26:0.0
 [DEBUG] 2018-01-12 17:55:04,882 Line:5853 27:0.0
 [DEBUG] 2018-01-12 17:55:04,883 Line:5853 28:
 [DEBUG] 2018-01-12 17:55:04,883 Line:5853 29:1
 [DEBUG] 2018-01-12 17:55:04,883 Line:5853 30:1
 [DEBUG] 2018-01-12 17:55:04,883 Line:5853 31:2018
 [DEBUG] 2018-01-12 17:55:04,883 Line:5853 32:
 [DEBUG] 2018-01-12 17:55:04,883 Line:5853 33:0.0
 [DEBUG] 2018-01-12 17:55:04,884 Line:5853 34:0.0
 [DEBUG] 2018-01-12 17:55:04,884 Line:5853 35:0.0
 [DEBUG] 2018-01-12 17:55:04,884 Line:5853 36:
 [DEBUG] 2018-01-12 17:55:04,884 Line:5853 37:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:55:04,884 Line:5853 38:BO1801120001
 [DEBUG] 2018-01-12 17:55:04,885 Line:5853 39:0.0
 [DEBUG] 2018-01-12 17:55:04,885 Line:5853 40:0.0
 [DEBUG] 2018-01-12 17:55:04,885 Line:5853 41:
 [DEBUG] 2018-01-12 17:55:04,885 Line:5853 42:
 [DEBUG] 2018-01-12 17:55:04,885 Line:5853 43:100.0
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 44:0.0
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 45:0.0
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 46:
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 47:1.0
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 48:1.0
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 49:1.0
 [DEBUG] 2018-01-12 17:55:04,886 Line:5853 50:0.0
 [DEBUG] 2018-01-12 17:55:04,887 Line:5853 51:1.0
 [DEBUG] 2018-01-12 17:55:04,887 Line:5853 52:
 [DEBUG] 2018-01-12 17:55:04,887 Line:5853 53:
 [DEBUG] 2018-01-12 17:55:04,887 Line:5853 54:0.0
 [DEBUG] 2018-01-12 17:55:04,887 Line:5853 55:0.0
 [DEBUG] 2018-01-12 17:55:04,887 Line:5853 56:0.0
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 57:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 58:BO1801120001
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 59:0
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 60:00001
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 61:0
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 62:
 [DEBUG] 2018-01-12 17:55:04,888 Line:5853 63:1
 [DEBUG] 2018-01-12 17:55:04,889 Line:5853 64:2018-01-12 17:55:04
 [DEBUG] 2018-01-12 17:55:04,889 Line:5853 65:1
 [DEBUG] 2018-01-12 17:55:04,889 Line:5853 66:2018-01-12 17:55:04
 [DEBUG] 2018-01-12 17:55:04,894 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 17:55:04,894 Line:5853 1:d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,895 Line:5853 2:d3ba9294_1801121755048940231
 [DEBUG] 2018-01-12 17:55:04,895 Line:5853 3:00001
 [DEBUG] 2018-01-12 17:55:04,895 Line:5853 4:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:55:04,895 Line:5853 5:
 [DEBUG] 2018-01-12 17:55:04,895 Line:5853 6:
 [DEBUG] 2018-01-12 17:55:04,895 Line:5853 7:0000300001
 [DEBUG] 2018-01-12 17:55:04,896 Line:5853 8:
 [DEBUG] 2018-01-12 17:55:04,896 Line:5853 9:
 [DEBUG] 2018-01-12 17:55:04,896 Line:5853 10:
 [DEBUG] 2018-01-12 17:55:04,896 Line:5853 11:
 [DEBUG] 2018-01-12 17:55:04,896 Line:5853 12:
 [DEBUG] 2018-01-12 17:55:04,896 Line:5853 13:
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 14:
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 15:1.0
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 16:1.0
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 17:1.0
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 18:0.0
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 19:0
 [DEBUG] 2018-01-12 17:55:04,897 Line:5853 20:0.0
 [DEBUG] 2018-01-12 17:55:04,898 Line:5853 21:0.0
 [DEBUG] 2018-01-12 17:55:04,898 Line:5853 22:0.0
 [DEBUG] 2018-01-12 17:55:04,898 Line:5853 23:100.0
 [DEBUG] 2018-01-12 17:55:04,898 Line:5853 24:1.0
 [DEBUG] 2018-01-12 17:55:04,898 Line:5853 25:1.0
 [DEBUG] 2018-01-12 17:55:04,898 Line:5853 26:0.0
 [DEBUG] 2018-01-12 17:55:04,899 Line:5853 27:1.0
 [DEBUG] 2018-01-12 17:55:04,899 Line:5853 28:1.0
 [DEBUG] 2018-01-12 17:55:04,899 Line:5853 29:0.0
 [DEBUG] 2018-01-12 17:55:04,899 Line:5853 30:1.0
 [DEBUG] 2018-01-12 17:55:04,899 Line:5853 31:1.0
 [DEBUG] 2018-01-12 17:55:04,899 Line:5853 32:0.0
 [DEBUG] 2018-01-12 17:55:04,900 Line:5853 33:0.0
 [DEBUG] 2018-01-12 17:55:04,900 Line:5853 34:0.0
 [DEBUG] 2018-01-12 17:55:04,900 Line:5853 35:0.0
 [DEBUG] 2018-01-12 17:55:04,900 Line:5853 36:0.0
 [DEBUG] 2018-01-12 17:55:04,900 Line:5853 37:d3ba9294_1801121754563110228
 [DEBUG] 2018-01-12 17:55:04,900 Line:5853 38:0.0
 [DEBUG] 2018-01-12 17:55:04,901 Line:5853 39:0.0
 [DEBUG] 2018-01-12 17:55:04,901 Line:5853 40:0.0
 [DEBUG] 2018-01-12 17:55:04,901 Line:5853 41:0.0
 [DEBUG] 2018-01-12 17:55:04,901 Line:5853 42:0.0
 [DEBUG] 2018-01-12 17:55:04,901 Line:5853 43:0.0
 [DEBUG] 2018-01-12 17:55:04,901 Line:5853 44:0.0
 [DEBUG] 2018-01-12 17:55:04,902 Line:5853 45:0.0
 [DEBUG] 2018-01-12 17:55:04,902 Line:5853 46:0.0
 [DEBUG] 2018-01-12 17:55:04,902 Line:5853 47:0
 [DEBUG] 2018-01-12 17:55:04,902 Line:5853 48:0.0
 [DEBUG] 2018-01-12 17:55:04,902 Line:5853 49:0.0
 [DEBUG] 2018-01-12 17:55:04,902 Line:5853 50:0
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 51:
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 52:0.0
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 53:0.0
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 54:0.0
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 55:0
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 56:0
 [DEBUG] 2018-01-12 17:55:04,903 Line:5853 57:
 [DEBUG] 2018-01-12 17:55:04,904 Line:5853 58:0.0
 [DEBUG] 2018-01-12 17:55:04,904 Line:5853 59:0.0
 [DEBUG] 2018-01-12 17:55:04,904 Line:5853 60:
 [DEBUG] 2018-01-12 17:55:04,904 Line:5853 61:0.0
 [DEBUG] 2018-01-12 17:55:04,905 Line:5853 62:00001
 [DEBUG] 2018-01-12 17:55:04,912 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-12 17:55:04,913 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,913 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-12 17:55:04,914 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,914 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-12 17:55:04,915 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,915 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-12 17:55:04,916 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,916 Line:313 exeCondition:tblBuyInStock_Add :'d3ba9294_1801121754562880227'.length>0
 [DEBUG] 2018-01-12 17:55:04,917 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:04,917 Line:1081 自定义执行的语句显示： tblBuyInStock_Add:update tblBuyInStockDet set BuyOrderID=? where f_ref=? and len(isnull(BuyOrderID,''))=0
 [DEBUG] 2018-01-12 17:55:04,918 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:55:04,918 Line:1157 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,920 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add,  影响行数=0
 [DEBUG] 2018-01-12 17:55:04,920 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 17:55:04,922 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-12 17:55:04,922 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,923 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 17:55:04,923 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:04,924 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-12 17:55:04,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,924 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,924 Line:988 2值：2018-01-12
 [DEBUG] 2018-01-12 17:55:04,926 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-12 17:55:04,927 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:55:04,929 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,929 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-12 17:55:04,929 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,930 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,930 Line:988 2值：00003
 [DEBUG] 2018-01-12 17:55:04,933 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:55:04,934 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:55:04,935 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,935 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-12 17:55:04,935 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,936 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,936 Line:988 2值：00003
 [DEBUG] 2018-01-12 17:55:04,939 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:55:04,940 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:55:04,941 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,941 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-12 17:55:04,941 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,941 Line:988 1值：false
 [DEBUG] 2018-01-12 17:55:04,942 Line:988 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,947 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-12 17:55:04,947 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-12 17:55:04,948 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-12 17:55:04,948 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,949 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-12 17:55:04,949 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,949 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,954 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-12 17:55:04,954 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,955 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,955 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-12 17:55:04,955 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,955 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,958 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:55:04,958 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,960 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,961 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-12 17:55:04,961 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,961 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,964 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:55:04,964 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,965 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,965 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-12 17:55:04,965 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,966 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,969 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:55:04,969 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,970 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,970 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,971 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,971 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-12 17:55:04,971 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,972 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,975 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:55:04,975 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,976 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,976 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-12 17:55:04,977 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,978 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-12 17:55:04,978 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,978 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,981 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:55:04,982 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:04,983 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,983 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-12 17:55:04,983 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,983 Line:988 1值：1
 [DEBUG] 2018-01-12 17:55:04,983 Line:988 2值：0
 [DEBUG] 2018-01-12 17:55:04,984 Line:988 3值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:04,990 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-12 17:55:04,990 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-12 17:55:04,991 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 17:55:04,991 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-12 17:55:04,992 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:04,993 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-12 17:55:04,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:04,993 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,002 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-12 17:55:05,003 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:05,003 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,004 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-12 17:55:05,004 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:05,005 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,006 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-12 17:55:05,007 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:55:05,007 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,008 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-12 17:55:05,008 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:05,008 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,011 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:55:05,011 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-12 17:55:05,012 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,012 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-12 17:55:05,012 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:05,012 Line:988 1值：
 [DEBUG] 2018-01-12 17:55:05,013 Line:988 2值：00001
 [DEBUG] 2018-01-12 17:55:05,013 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-12 17:55:05,013 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-12 17:55:05,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:55:05,014 Line:988 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,014 Line:988 2值：
 [DEBUG] 2018-01-12 17:55:05,014 Line:988 3值：
 [DEBUG] 2018-01-12 17:55:05,014 Line:988 4值：
 [DEBUG] 2018-01-12 17:55:05,018 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-12 17:55:05,018 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-12 17:55:05,019 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,019 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:55:05,020 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,020 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-12 17:55:05,021 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,021 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-12 17:55:05,022 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,022 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 17:55:05,022 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,023 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-12 17:55:05,023 Line:1154 1整数 值：2
 [DEBUG] 2018-01-12 17:55:05,023 Line:1157 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,026 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:55:05,027 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 17:55:05,027 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-12 17:55:05,027 Line:1154 1整数 值：2
 [DEBUG] 2018-01-12 17:55:05,027 Line:1157 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,028 Line:1157 3值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,032 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:55:05,032 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-12 17:55:05,033 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-12 17:55:05,033 Line:1157 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,033 Line:1157 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,038 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:55:05,038 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-12 17:55:05,039 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-12 17:55:05,039 Line:1157 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,043 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:55:05,043 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 17:55:05,043 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-12 17:55:05,044 Line:1157 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,047 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:55:05,047 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 17:55:05,047 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-12 17:55:05,048 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,048 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-12 17:55:05,049 Line:1157 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,049 Line:1157 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,052 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:55:05,052 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 17:55:05,052 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'d3ba9294_1801121754562880227'.length>0
 [DEBUG] 2018-01-12 17:55:05,053 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,054 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set BuyOrderID=? where f_ref=? and len(isnull(BuyOrderID,''))=0
 [DEBUG] 2018-01-12 17:55:05,054 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:55:05,054 Line:1157 2值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,054 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 17:55:05,055 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-12 17:55:05,055 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-12 17:55:05,055 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,056 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-12 17:55:05,056 Line:1270 d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,056 Line:1270 add
 [DEBUG] 2018-01-12 17:55:05,130 Line:425 ************上述语句执行时间：74
 [DEBUG] 2018-01-12 17:55:05,130 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-12 17:55:05,131 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,131 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-12 17:55:05,132 Line:1157 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,140 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 17:55:05,140 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-12 17:55:05,141 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-12 17:55:05,141 Line:1157 1值：d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,149 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 17:55:05,150 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-12 17:55:05,150 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-12 17:55:05,151 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,151 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_updateStocksNotAudit(@GoodsCode=?,@StockCode=?,@BillType=?,@InstoreQty=?,@OutstoreQty=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-12 17:55:05,151 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-12 17:55:05,151 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-12 17:55:05,152 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-12 17:55:05,152 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-12 17:55:05,152 Line:1270 0
 [DEBUG] 2018-01-12 17:55:05,152 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-12 17:55:05,152 Line:1270 f_ref='d3ba9294_1801121755048680230'
 [DEBUG] 2018-01-12 17:55:05,173 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.GoodsCode),'tblBuyInStock',tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,tblBuyInStockDet.Qty,0,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)) from tblBuyInStockDet where f_ref='d3ba9294_1801121755048680230'
 [DEBUG] 2018-01-12 17:55:05,173 Line:425 ************上述语句执行时间：22
 [DEBUG] 2018-01-12 17:55:05,173 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-12 17:55:05,174 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,176 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_insertSeqOutInDet(?,?,?,?)}
 [DEBUG] 2018-01-12 17:55:05,176 Line:1270 d3ba9294_1801121755048680230
 [DEBUG] 2018-01-12 17:55:05,177 Line:1270 add
 [DEBUG] 2018-01-12 17:55:05,227 Line:425 ************上述语句执行时间：51
 [DEBUG] 2018-01-12 17:55:05,227 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' == '0' && false==false
 [DEBUG] 2018-01-12 17:55:05,228 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,228 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 17:55:05,229 Line:321 flag:true
 [DEBUG] 2018-01-12 17:55:05,234 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(http://fc.tz1288.com/fc.asmx/GetWebSiteCount,xst952700822,2018-12-20,2018-12-20,5,bc2731782e6b86b01303d9c6d6d22ff9,sessParamMap)
 [DEBUG] 2018-01-12 17:55:05,564 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2018-01-12 17:55:05,565 Line:443 ************上述语句执行时间：335
 [DEBUG] 2018-01-12 17:55:05,566 Line:313 exeCondition:tblBuyInStock_Add : '' == '-1009'
 [DEBUG] 2018-01-12 17:55:05,569 Line:321 flag:false
 [DEBUG] 2018-01-12 17:55:05,570 Line:313 exeCondition:tblBuyInStock_Add :  > 1 
 [ERROR] 2018-01-12 17:55:05,592 Line:318 DefineSQLBean.execute javaScript Error exeCondition= @SqlReturn:Hivecount > @ValueofDB:TotalAmount  :result=  > 1 
 [ERROR] 2018-01-12 17:55:05,593 Line:500 DefineSQLBean execute() 
 org.apache.bsf.BSFException: JavaScript Error: syntax error
	at org.apache.bsf.engines.javascript.JavaScriptEngine.handleError(JavaScriptEngine.java:195)
	at org.apache.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine.java:147)
	at org.apache.bsf.BSFManager$5.run(BSFManager.java:445)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.bsf.BSFManager.eval(BSFManager.java:442)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:316)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-12 17:55:05,593 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=JavaScript Error: syntax error
 [DEBUG] 2018-01-12 17:55:20,642 Line:215 ---------->SET Page 2 DEFAULT URL = /LogManageAction.do
 [DEBUG] 2018-01-12 17:55:43,255 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-12 17:55:43,256 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-12 17:55:43,257 Line:215 ---------->SET Page 3 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-12 17:55:44,094 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-12 17:55:44,094 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-12 17:55:44,891 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2018-01-12 17:55:44,891 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-12 17:55:44,891 Line:215 ---------->SET Page 4 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 17:55:48,799 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 17:55:48,799 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,];search=[采购入库,];
 [DEBUG] 2018-01-12 17:55:53,313 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93&popWinName=TablemgtDiv
 [DEBUG] 2018-01-12 17:55:53,313 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-12 17:55:53,504 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 17:55:53,504 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 17:55:54,074 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 17:56:00,391 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2018-01-12 17:56:00,391 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2018-01-12 17:56:06,612 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2018-01-12 17:56:06,612 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2018-01-12 17:56:06,797 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=72605E38543796700A251A50ED1C9C2C515D37BD82F33BD7F89A7F8950DF6C7E41819E04C55AC5F7AE6817BA4335A6990C98562ED3F03CD4
 [DEBUG] 2018-01-12 17:56:06,802 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2018-01-12 17:56:21,321 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=72605E38543796700A251A50ED1C9C2C515D37BD82F33BD7F89A7F8950DF6C7E41819E04C55AC5F795DD93A52D06A2B05038F594B7A91F37
 [ERROR] 2018-01-12 17:56:21,370 Line:119 ------保存成功
 [DEBUG] 2018-01-12 17:56:34,647 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-12 17:56:34,648 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[$winCurIndex,];popWinName=[PopPushMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[$saveDraft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936579370110,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801120010,];BillDate=[2018-01-12,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[d3ba9294_1801121754562880227,];BuyOrderNo=[BO1801120001,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[0,];CurAfterChangeAmt=[0,];CurChangeAmt=[0,];ass_OrderId=[d3ba9294_1801121754562880227,];ass_OrderBillNo=[BO1801120001,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[d3ba9294_1801121754562880227,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[d3ba9294_1801121754563110228,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[0,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-12 17:56:34,650 Line:3843 添加单据desingId=eae3edac_0906121936579370110工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-12 17:56:34,686 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 17:56:34,686 Line:5853 1:0.0
 [DEBUG] 2018-01-12 17:56:34,686 Line:5853 2:;1;
 [DEBUG] 2018-01-12 17:56:34,687 Line:5853 3:d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,687 Line:5853 4:0
 [DEBUG] 2018-01-12 17:56:34,687 Line:5853 5:notApprove
 [DEBUG] 2018-01-12 17:56:34,687 Line:5853 6:0.0
 [DEBUG] 2018-01-12 17:56:34,687 Line:5853 7:0
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 8:0.0
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 9:BI1801120010
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 10:2018-01-12
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 11:00003
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 12:00101
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 13:1
 [DEBUG] 2018-01-12 17:56:34,688 Line:5853 14:00001
 [DEBUG] 2018-01-12 17:56:34,689 Line:5853 15:3
 [DEBUG] 2018-01-12 17:56:34,689 Line:5853 16:0.0
 [DEBUG] 2018-01-12 17:56:34,689 Line:5853 17:0.0
 [DEBUG] 2018-01-12 17:56:34,689 Line:5853 18:0.0
 [DEBUG] 2018-01-12 17:56:34,689 Line:5853 19:0.0
 [DEBUG] 2018-01-12 17:56:34,689 Line:5853 20:
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 21:0.0
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 22:0.0
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 23:0.0
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 24:
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 25:0.0
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 26:0.0
 [DEBUG] 2018-01-12 17:56:34,690 Line:5853 27:0.0
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 28:
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 29:1
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 30:1
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 31:2018
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 32:
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 33:0.0
 [DEBUG] 2018-01-12 17:56:34,691 Line:5853 34:0.0
 [DEBUG] 2018-01-12 17:56:34,692 Line:5853 35:0.0
 [DEBUG] 2018-01-12 17:56:34,692 Line:5853 36:
 [DEBUG] 2018-01-12 17:56:34,692 Line:5853 37:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:56:34,692 Line:5853 38:BO1801120001
 [DEBUG] 2018-01-12 17:56:34,692 Line:5853 39:0.0
 [DEBUG] 2018-01-12 17:56:34,692 Line:5853 40:0.0
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 41:
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 42:
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 43:100.0
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 44:0.0
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 45:0.0
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 46:
 [DEBUG] 2018-01-12 17:56:34,693 Line:5853 47:1.0
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 48:1.0
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 49:1.0
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 50:0.0
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 51:1.0
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 52:
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 53:
 [DEBUG] 2018-01-12 17:56:34,694 Line:5853 54:0.0
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 55:0.0
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 56:0.0
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 57:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 58:BO1801120001
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 59:0
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 60:00001
 [DEBUG] 2018-01-12 17:56:34,695 Line:5853 61:0
 [DEBUG] 2018-01-12 17:56:34,696 Line:5853 62:
 [DEBUG] 2018-01-12 17:56:34,696 Line:5853 63:1
 [DEBUG] 2018-01-12 17:56:34,696 Line:5853 64:2018-01-12 17:56:34
 [DEBUG] 2018-01-12 17:56:34,696 Line:5853 65:1
 [DEBUG] 2018-01-12 17:56:34,696 Line:5853 66:2018-01-12 17:56:34
 [DEBUG] 2018-01-12 17:56:34,699 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 17:56:34,700 Line:5853 1:d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,700 Line:5853 2:d3ba9294_1801121756346990234
 [DEBUG] 2018-01-12 17:56:34,700 Line:5853 3:00001
 [DEBUG] 2018-01-12 17:56:34,700 Line:5853 4:d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:56:34,700 Line:5853 5:
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 6:
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 7:0000300001
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 8:
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 9:
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 10:
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 11:
 [DEBUG] 2018-01-12 17:56:34,701 Line:5853 12:
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 13:
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 14:
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 15:1.0
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 16:1.0
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 17:1.0
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 18:0.0
 [DEBUG] 2018-01-12 17:56:34,702 Line:5853 19:0
 [DEBUG] 2018-01-12 17:56:34,703 Line:5853 20:0.0
 [DEBUG] 2018-01-12 17:56:34,703 Line:5853 21:0.0
 [DEBUG] 2018-01-12 17:56:34,703 Line:5853 22:0.0
 [DEBUG] 2018-01-12 17:56:34,703 Line:5853 23:100.0
 [DEBUG] 2018-01-12 17:56:34,703 Line:5853 24:1.0
 [DEBUG] 2018-01-12 17:56:34,704 Line:5853 25:1.0
 [DEBUG] 2018-01-12 17:56:34,704 Line:5853 26:0.0
 [DEBUG] 2018-01-12 17:56:34,704 Line:5853 27:1.0
 [DEBUG] 2018-01-12 17:56:34,704 Line:5853 28:1.0
 [DEBUG] 2018-01-12 17:56:34,705 Line:5853 29:0.0
 [DEBUG] 2018-01-12 17:56:34,705 Line:5853 30:1.0
 [DEBUG] 2018-01-12 17:56:34,705 Line:5853 31:1.0
 [DEBUG] 2018-01-12 17:56:34,705 Line:5853 32:0.0
 [DEBUG] 2018-01-12 17:56:34,706 Line:5853 33:0.0
 [DEBUG] 2018-01-12 17:56:34,706 Line:5853 34:0.0
 [DEBUG] 2018-01-12 17:56:34,707 Line:5853 35:0.0
 [DEBUG] 2018-01-12 17:56:34,707 Line:5853 36:0.0
 [DEBUG] 2018-01-12 17:56:34,707 Line:5853 37:d3ba9294_1801121754563110228
 [DEBUG] 2018-01-12 17:56:34,707 Line:5853 38:0.0
 [DEBUG] 2018-01-12 17:56:34,707 Line:5853 39:0.0
 [DEBUG] 2018-01-12 17:56:34,707 Line:5853 40:0.0
 [DEBUG] 2018-01-12 17:56:34,708 Line:5853 41:0.0
 [DEBUG] 2018-01-12 17:56:34,708 Line:5853 42:0.0
 [DEBUG] 2018-01-12 17:56:34,708 Line:5853 43:0.0
 [DEBUG] 2018-01-12 17:56:34,708 Line:5853 44:0.0
 [DEBUG] 2018-01-12 17:56:34,708 Line:5853 45:0.0
 [DEBUG] 2018-01-12 17:56:34,708 Line:5853 46:0.0
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 47:0
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 48:0.0
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 49:0.0
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 50:0
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 51:
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 52:0.0
 [DEBUG] 2018-01-12 17:56:34,709 Line:5853 53:0.0
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 54:0.0
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 55:0
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 56:0
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 57:
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 58:0.0
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 59:0.0
 [DEBUG] 2018-01-12 17:56:34,710 Line:5853 60:
 [DEBUG] 2018-01-12 17:56:34,711 Line:5853 61:0.0
 [DEBUG] 2018-01-12 17:56:34,711 Line:5853 62:00001
 [DEBUG] 2018-01-12 17:56:34,725 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-12 17:56:34,729 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,729 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-12 17:56:34,730 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,730 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-12 17:56:34,731 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,731 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-12 17:56:34,732 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,733 Line:313 exeCondition:tblBuyInStock_Add :'d3ba9294_1801121754562880227'.length>0
 [DEBUG] 2018-01-12 17:56:34,734 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:34,734 Line:1081 自定义执行的语句显示： tblBuyInStock_Add:update tblBuyInStockDet set BuyOrderID=? where f_ref=? and len(isnull(BuyOrderID,''))=0
 [DEBUG] 2018-01-12 17:56:34,735 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:56:34,735 Line:1157 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,739 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add,  影响行数=0
 [DEBUG] 2018-01-12 17:56:34,740 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-12 17:56:34,740 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-12 17:56:34,741 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,741 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 17:56:34,742 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:34,743 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-12 17:56:34,744 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,744 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,745 Line:988 2值：2018-01-12
 [DEBUG] 2018-01-12 17:56:34,756 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-12 17:56:34,756 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:56:34,758 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,758 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-12 17:56:34,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,760 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,760 Line:988 2值：00003
 [DEBUG] 2018-01-12 17:56:34,780 Line:1043 ---上述语句时间---22
 [DEBUG] 2018-01-12 17:56:34,781 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:56:34,782 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,782 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-12 17:56:34,782 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,783 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,783 Line:988 2值：00003
 [DEBUG] 2018-01-12 17:56:34,790 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 17:56:34,791 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:56:34,792 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,792 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-12 17:56:34,792 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,792 Line:988 1值：false
 [DEBUG] 2018-01-12 17:56:34,792 Line:988 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,799 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-12 17:56:34,799 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-12 17:56:34,800 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-12 17:56:34,800 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,800 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-12 17:56:34,801 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,801 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,806 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-12 17:56:34,806 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,807 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,808 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-12 17:56:34,808 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,808 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,817 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-12 17:56:34,817 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,818 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,818 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-12 17:56:34,819 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,819 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,824 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-12 17:56:34,824 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,825 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,825 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-12 17:56:34,825 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,825 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,830 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-12 17:56:34,831 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,832 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,832 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,833 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,833 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-12 17:56:34,833 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,833 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,838 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-12 17:56:34,838 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,840 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,840 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-12 17:56:34,841 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,841 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-12 17:56:34,841 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,842 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,844 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:56:34,844 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,845 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,845 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-12 17:56:34,845 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,845 Line:988 1值：1
 [DEBUG] 2018-01-12 17:56:34,845 Line:988 2值：0
 [DEBUG] 2018-01-12 17:56:34,846 Line:988 3值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,875 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-12 17:56:34,876 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-12 17:56:34,876 Line:1043 ---上述语句时间---31
 [DEBUG] 2018-01-12 17:56:34,876 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-12 17:56:34,877 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,877 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-12 17:56:34,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,877 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,889 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-12 17:56:34,889 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,890 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,890 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-12 17:56:34,891 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,891 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,894 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:56:34,894 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-12 17:56:34,895 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,895 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-12 17:56:34,895 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,896 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,898 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 17:56:34,898 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-12 17:56:34,899 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,899 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-12 17:56:34,899 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,900 Line:988 1值：
 [DEBUG] 2018-01-12 17:56:34,900 Line:988 2值：00001
 [DEBUG] 2018-01-12 17:56:34,908 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-12 17:56:34,909 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-12 17:56:34,909 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 17:56:34,909 Line:988 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,909 Line:988 2值：
 [DEBUG] 2018-01-12 17:56:34,909 Line:988 3值：
 [DEBUG] 2018-01-12 17:56:34,910 Line:988 4值：
 [DEBUG] 2018-01-12 17:56:34,913 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 17:56:34,913 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-12 17:56:34,914 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,914 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 17:56:34,914 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,915 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-12 17:56:34,915 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,915 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-12 17:56:34,916 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:34,916 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 17:56:34,917 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:34,917 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-12 17:56:34,918 Line:1154 1整数 值：2
 [DEBUG] 2018-01-12 17:56:34,918 Line:1157 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,921 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:56:34,922 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-12 17:56:34,922 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-12 17:56:34,922 Line:1154 1整数 值：2
 [DEBUG] 2018-01-12 17:56:34,923 Line:1157 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,923 Line:1157 3值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,928 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:56:34,928 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-12 17:56:34,929 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-12 17:56:34,929 Line:1157 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,929 Line:1157 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,934 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:56:34,934 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-12 17:56:34,934 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-12 17:56:34,935 Line:1157 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,937 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:56:34,937 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 17:56:34,938 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-12 17:56:34,938 Line:1157 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,944 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:56:34,944 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-12 17:56:34,945 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-12 17:56:34,945 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:34,946 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-12 17:56:34,946 Line:1157 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,946 Line:1157 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,951 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 17:56:34,951 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-12 17:56:34,952 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'d3ba9294_1801121754562880227'.length>0
 [DEBUG] 2018-01-12 17:56:34,953 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:34,953 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set BuyOrderID=? where f_ref=? and len(isnull(BuyOrderID,''))=0
 [DEBUG] 2018-01-12 17:56:34,953 Line:1157 1值：d3ba9294_1801121754562880227
 [DEBUG] 2018-01-12 17:56:34,954 Line:1157 2值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,955 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 17:56:34,955 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-12 17:56:34,956 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-12 17:56:34,957 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:34,957 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-12 17:56:34,957 Line:1270 d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:34,958 Line:1270 add
 [DEBUG] 2018-01-12 17:56:35,026 Line:425 ************上述语句执行时间：69
 [DEBUG] 2018-01-12 17:56:35,027 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-12 17:56:35,027 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:35,028 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-12 17:56:35,028 Line:1157 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:35,037 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 17:56:35,037 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-12 17:56:35,037 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-12 17:56:35,038 Line:1157 1值：d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:35,047 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 17:56:35,048 Line:408 ************上述语句执行时间：11
 [DEBUG] 2018-01-12 17:56:35,048 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-12 17:56:35,060 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:35,061 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_updateStocksNotAudit(@GoodsCode=?,@StockCode=?,@BillType=?,@InstoreQty=?,@OutstoreQty=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-12 17:56:35,062 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-12 17:56:35,063 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-12 17:56:35,063 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-12 17:56:35,063 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-12 17:56:35,063 Line:1270 0
 [DEBUG] 2018-01-12 17:56:35,063 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-12 17:56:35,063 Line:1270 f_ref='d3ba9294_1801121756346670233'
 [DEBUG] 2018-01-12 17:56:35,082 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.GoodsCode),'tblBuyInStock',tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,tblBuyInStockDet.Qty,0,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)) from tblBuyInStockDet where f_ref='d3ba9294_1801121756346670233'
 [DEBUG] 2018-01-12 17:56:35,082 Line:425 ************上述语句执行时间：21
 [DEBUG] 2018-01-12 17:56:35,083 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-12 17:56:35,083 Line:321 flag:true
 [DEBUG] 2018-01-12 17:56:35,084 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_insertSeqOutInDet(?,?,?,?)}
 [DEBUG] 2018-01-12 17:56:35,084 Line:1270 d3ba9294_1801121756346670233
 [DEBUG] 2018-01-12 17:56:35,084 Line:1270 add
 [DEBUG] 2018-01-12 17:56:35,160 Line:425 ************上述语句执行时间：76
 [DEBUG] 2018-01-12 17:56:35,160 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' == '0' && false==false
 [DEBUG] 2018-01-12 17:56:35,161 Line:321 flag:false
 [DEBUG] 2018-01-12 17:56:35,190 Line:1064  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:35,194 Line:1064  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:35,196 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936579370110;tableName=tblBuyInStock;id=d3ba9294_1801121756346670233;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-12 17:56:35,244 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=d3ba9294_1801121756346670233&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblBuyInStock&designId=eae3edac_0906121936579370110&operation=82&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-12 17:56:35,244 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[d3ba9294_1801121756346670233,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblBuyInStock,];designId=[eae3edac_0906121936579370110,];operation=[82,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-12 17:56:35,247 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:56:35,285 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:35,289 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:35,351 Line:5242 GlobalsTool.js 生成js 时间8:/js/gen/fileUpload.vjs_zh_CN.js
 [DEBUG] 2018-01-12 17:56:36,555 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-12 17:56:36,556 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[$winCurIndex,$winCurIndex,];keyId=[d3ba9294_1801121756346670233,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936579370110,];currNode=[0,];department=[00101,];fromAdvice=[,];approveStatus=[,];noback=[false,];toPage=[,];fromPage=[,];tableName=[tblBuyInStock,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1515750832530,];checkPerson=[2cf86be0_1712291628149430079,];
 [DEBUG] 2018-01-12 17:56:36,558 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:56:36,568 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:56:36,593 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:36,596 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:37,870 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&parentCode=&f_brother=&keyId=d3ba9294_1801121756346670233&moduleType=&checkTab=Y&parentTableName=&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-12 17:56:37,871 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[d3ba9294_1801121756346670233,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-12 17:56:37,872 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:56:37,881 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:37,885 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:48,220 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:56:48,221 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 17:56:48,221 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:56:48,274 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:48,287 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:48,291 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 17:56:48,447 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 17:56:49,675 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:56:49,676 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:56:49,676 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:56:49,705 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:56:49,706 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 17:56:51,774 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:56:51,775 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:56:51,775 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:56:51,791 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:56:51,793 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121756346670233","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 17:56:52,683 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:56:52,684 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 17:56:52,684 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:56:52,687 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:52,689 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:56:52,690 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:56:52,789 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 17:57:04,077 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 17:57:04,078 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购订单,];moduleName=[采购订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];TradeType=[,];statusId=[0,];BillNo=[,];ComFullNamen=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 17:57:04,106 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 17:57:04,107 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 17:57:04,107 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-12 17:57:04,124 Line:689 通过SQL读原始数据：17
 [DEBUG] 2018-01-12 17:57:04,125 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 17:57:06,257 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 17:57:06,258 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购订单,];moduleName=[采购订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[123,];TradeType=[,];statusId=[,];BillNo=[,];ComFullNamen=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 17:57:06,271 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'                                                                                 and (tblBuyOrder.workFlowNodeName = 'notApprove' and tblBuyOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 17:57:06,272 Line:582 ReportDataMgt.getReportData 参数1:123
 [DEBUG] 2018-01-12 17:57:06,294 Line:689 通过SQL读原始数据：22
 [DEBUG] 2018-01-12 17:57:06,294 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 17:57:08,360 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 17:57:08,361 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购订单,];moduleName=[采购订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'                                                                                 and (tblBuyOrder.workFlowNodeName = 'notApprove' and tblBuyOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id@ParamList:123@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'                                                                                 and (tblBuyOrder.workFlowNodeName = 'notApprove' and tblBuyOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id@ParamList:123@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[all,];TradeType=[,];statusId=[,];BillNo=[,];ComFullNamen=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 17:57:08,372 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'                                                                                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 17:57:08,396 Line:689 通过SQL读原始数据：23
 [DEBUG] 2018-01-12 17:57:08,397 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 17:57:30,505 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-12 17:57:30,507 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2018-01-12 17:57:30,507 Line:243 AIOApi op=popup&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:57:30,520 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2018-01-12 17:57:30,541 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"财务审核","value":"1513322743692"},{"label":"预收金额","value":"1515461868057"}]}}
 [DEBUG] 2018-01-12 17:57:32,021 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2018-01-12 17:57:32,023 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2018-01-12T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2018-01-12 17:57:32,024 Line:243 AIOApi op=report&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:57:32,135 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2018-01-12 17:57:32,136 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2018-01-12 17:57:32,137 Line:582 ReportDataMgt.getReportData 参数2:2018-01-12T16:00:00.000Z
 [DEBUG] 2018-01-12 17:57:32,297 Line:689 通过SQL读原始数据：161
 [DEBUG] 2018-01-12 17:57:32,298 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 17:57:32,321 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2018-01-12T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2018-01-12 17:57:34,296 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 17:57:34,298 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 17:57:34,298 Line:243 AIOApi op=getSessEmp&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:57:34,299 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 17:57:34,318 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 17:57:34,319 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 17:57:34,320 Line:243 AIOApi op=getEnum&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:57:34,321 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 17:57:48,680 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:57:48,681 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 17:57:48,681 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:57:48,746 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:57:48,753 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:57:48,756 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:57:48,866 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 17:58:16,476 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 17:58:16,477 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 17:58:16,477 Line:243 AIOApi op=getSessEmp&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:16,477 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 17:58:16,494 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 17:58:16,496 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 17:58:16,496 Line:243 AIOApi op=getEnum&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:16,498 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 17:58:18,771 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:58:18,772 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:58:18,772 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:18,804 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:58:18,805 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 17:58:20,200 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:58:20,201 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:58:20,201 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:20,215 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:58:20,218 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121756346670233","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 17:58:21,922 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:58:21,923 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];
 [DEBUG] 2018-01-12 17:58:21,924 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:21,986 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:21,995 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:21,998 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 17:58:22,138 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-11 23:03:18","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801040006","Remark":"123","ass_OrderId":"e32398e4_1801041409311830002"等等！
 [DEBUG] 2018-01-12 17:58:24,286 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:58:24,287 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[e32398e4_1801041409311830002,];
 [DEBUG] 2018-01-12 17:58:24,288 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:24,329 Line:1525  select * from  tblSalesOrderDet where f_ref = 'e32398e4_1801041409311830002' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:24,337 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='e32398e4_1801041409311830002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-12 17:58:24,415 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"123","CurNotAmortDeposit":0.0,"ReceiveDate":"","TotalTaxAmount":14.00000000,"Currency":"","NoInvoiceAmount":14.00000000,"CurNeedReturnAmt":0.0,"id":"e32398e4_18010414093等等！
 [DEBUG] 2018-01-12 17:58:34,964 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:58:34,965 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 17:58:34,965 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:58:34,965 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:34,966 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 17:58:34,966 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:35,036 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:35,036 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:35,047 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:35,047 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:35,051 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:58:35,051 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:58:35,201 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 17:58:35,208 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 17:58:49,167 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:58:49,168 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:58:49,168 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:49,194 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:58:49,195 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 17:58:51,326 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 17:58:51,326 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 17:58:51,326 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:51,340 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 17:58:51,342 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121756346670233","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 17:58:52,718 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 17:58:52,720 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 17:58:52,721 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 17:58:52,774 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:52,781 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 17:58:52,784 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 17:58:52,891 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:00:11,487 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=5
 [DEBUG] 2018-01-12 18:00:11,488 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[5,];
 [DEBUG] 2018-01-12 18:00:11,489 Line:215 ---------->SET Page 5 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 18:00:19,595 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 18:00:19,596 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[5,];search=[采购订单,];Submit=[,];
 [DEBUG] 2018-01-12 18:00:33,920 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 18:00:33,924 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[77,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblBuyInStock,];oldtableName=[tblBuyInStock,];tableDisplay=[en:;zh_CN:采购入库单;,];tableDisplayDis=[采购入库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="tblBuyInStock_Add"><sql operation="delete" post="before" id="tblBuyInStock_Delete"><sql operation="update" post="before" id="tblBuyInStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="tblBuyInStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo">,];extendButton=[<button type="copy" operation="list">          <button type="quote" operation="add" value="tblBuyOrder:tblBuyInStock_quote_tblBuyOrder" name="BuyInStock">        <button type="billExport" operation="list">      <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportAskPrice&detTable_list=tblBuyAskPrice&id=@ValueofDB:BuyAskPriceID&BillNo=@ValueofDB:tblBuyInStockDet_tblBuyAskPrice_BillNo&StartDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="采购询价明细" >    <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblBuyOrderDet&detTable_list=tblBuyOrder&BillNo=@ValueofDB:BuyOrderNo|tblBuyInStockDet_tblBuyOrder_BillNo&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="采购订单明细" >          <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportBuyReturn&detTable_list=tblBuyOutStock&BuyInID=@ValueofDB:id&workFlowNodeName=all&BillDate_s=@ValueofDB:periodBegin" name="采购退货明细" >        <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblBuyReplaceDet&detTable_list=tblBuyReplace&BuyInStockID=@ValueofDB:id&detTable_list=tblBuyReplace&workFlowNodeName=all&startDate=@ValueofDB:periodBegin" name="采购换货明细" >        <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportBuyPayDet&detTable_list=tblPay&RefbillID=@ValueofDB:id&detTable_list=tblBuyInStock&workFlowNodeName=all&startDate=@ValueofDB:BillDate" name="付款明细" >                <button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" >                <button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyGlist&mainNumber=RptCompanyG&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName&Currency=@ValueofDB:Currency&tblCurrency.CurrencyName=@ValueofDB:tblSetExchange_CurrencyName" name="应付统计" >          <button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存" ><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" ><button type="quote" operation="add" value="tblBuyAskPrice:tblBuyInStock_quote_tblBuyAskPrice" name="BuyOrders">,];tableDesc=[,];PopDisSentence=[select b.id,tblCompany.[tblCompany_1], d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName, f.StockFullName as tblStock_StockFullName, s.StockFullName as tblStock_StockFullName1,tblGoods.[tblGoods],l.billNo as tblBuyOrder_BillNo,m.billNo as tblBuyAskPrice_BillNo,n.billNo as tblSalesOutStock_BillNo,j.CurrencyName as tblSetExchange_CurrencyName,tblProject.ProjectName AS tblProject_ProjectName,tblAccTypeInfo.AccName as tblAccTypeInfo_AccName from tblBuyInStock  left join tblBuyInStockDet b on tblBuyInStock.id=b.f_ref   left join tblCompany on tblCompany.classCode=tblBuyInStock.companyCode left join  tblDepartMent d on  tblBuyInStock.DepartmentCode=d.classCode left join  tblEmployee e on tblBuyInStock.EmployeeId=e.id  left join  tblStock f  on tblBuyInStock.stockCode=f.classCode  left join  tblStock s  on b.stockCode=s.classCode left join tblGoods on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblBuyInStock.Currency left join tblBuyOrder l on b.BuyOrderID=l.id left join tblBuyAskPrice m on b.BuyAskPriceID=m.id left join tblSalesOutStock n on b.SalesOutID=n.id LEFT JOIN tblProject ON tblBuyInStock.ProjectCode = tblProject.id left join tblAccTypeInfo on tblBuyInStock.freightAcc=tblAccTypeInfo.AccNumber,];fieldId=[37c513dd_1003171749306250054,e7f16d7e_0812132218376250688,53d5dd4a_0906151435524370105,2e80f665_0902281108080000047,5972374a_0901161930260310274,1071,1276,1274,1275,1277,de9c5998_0904271836495780104,093d77c7_0811302147547180042,2a7c495c_1106301526423902419,b12103b003021039245000307,b12103b003021039245000309,63b9eaf8_1407161103438150055,63b9eaf8_1407161103438160058,2837eec0_0902081716498591564,836fb033_0903101518143590095,80ceb173_0903171703260620834,1087,2e5afa72_0903131446584840463,5d40aa36_1111181359121090470,D10231FCD8014946A54F79D834BC,1283,1282,1281,b8a2d940_0811301613577650300,1965c9a3_1010191412001870190,f0ac3925_1108191800253356265,1085,5414fba8_1003181424129210058,1067,61aed2d9_0812251518300000123,2e5afa72_0903131446584840461,1084,077,5868d4ee_1011170936537960115,FA45A3779BD34A6881F89FC04122D1,3BB2806CB59F4525B8563F172BE707,1BEEFF37012C45EC9E69ECF267B6F8,22c94156_1312141029461870126,268436AC20874AFC9A5E4E6424F102,A3604512972946C099D5587DDEAA23,EE2A1E994F154820BBEC20E6297CBD,7BD7F93E12004B1994024B36736DFE,832DCE9D42F341689F16E5ACBD0492,1272,2c44409f_1212071654548890138,33420dd_1106061729496250061,8a40fb3c_1606281602514400928,8a40fb3c_1606281729438891071,d3ba9294_1801121751598590193,d3ba9294_1801121751598590196,];languageId=[717cf81e_1305071731119370230,717cf81e_1305071731119370231,717cf81e_1305071731119370232,717cf81e_1305071731119370233,717cf81e_1305071731119370234,717cf81e_1305071731119370235,717cf81e_1305071731119370236,717cf81e_1305071731119370237,717cf81e_1305071731119370238,717cf81e_1305071731119370239,717cf81e_1305071731119370240,717cf81e_1305071731119370243,717cf81e_1305071731119370247,717cf81e_1305071731119370248,717cf81e_1305071731119370249,63b9eaf8_1407161103438150056,63b9eaf8_1407161103438160059,717cf81e_1305071731119370250,717cf81e_1305071731119370251,717cf81e_1305071731119370254,717cf81e_1305071731119370256,717cf81e_1305071731119370257,717cf81e_1305071731119370261,1BEB9A120CE44E15AAAA1405BE7E,717cf81e_1305071731119370285,717cf81e_1305071731119370286,717cf81e_1305071731119370287,717cf81e_1305071731119370279,717cf81e_1305071731119370267,717cf81e_1305071731119370281,717cf81e_1305071731119370270,717cf81e_1305071731119370274,717cf81e_1305071731119370275,717cf81e_1305071731119370276,717cf81e_1305071731119370271,717cf81e_1305071731119370272,717cf81e_1305071731119370273,717cf81e_1305071731119370290,A70A8A91CD62430895A7821C7E85A1,463A9AC002EA4A2EB576A8A12847B7,5DE9F052973B4DB682053A80499D4C,22c94156_1312141029461870127,443CDFA31C2B43BABE610A35DC1D5E,49D6CDAA4E6042BCA677230405EE8F,4397233B3F3D4A07945F307B18D2C7,6146FF2BEC81423A912BB9E46DF2F0,ACB99F013A2A48B6BC62B99D1158A0,717cf81e_1305071731119370291,717cf81e_1305071731119370292,717cf81e_1305071731119370294,8a40fb3c_1606281602514400929,8a40fb3c_1606281729438891072,d3ba9294_1801121751598590194,d3ba9294_1801121751598590197,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,];isStat=[1,1,0,1,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,0,0,0,];isNull=[0,0,0,0,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[2,2,0,2,0,0,0,0,0,0,0,2,0,2,2,0,0,2,2,0,2,2,2,0,0,0,0,0,2,2,2,4,0,0,2,2,0,0,4,2,4,0,4,2,2,2,2,0,0,2,2,2,0,0,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,,,,,ProviderInVoiceWithPayDate:ProviderInVoiceWithPayDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,freightAcc:freightAcc,,,,CurrencyWithRate:CurrencyWithRate,,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,,,,,,,,@ValueOfDB:DiscountAmount;,,,@ValueOfDB:CurDiscountAmount;,{CurTotalAmount}=sum{tblBuyInStockDet_CurAmount}+{CurProceDureExp}-{CurDiscountAmount},,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblBuyInStockDet_CurAmount}+{CurProceDureExp}-{CurDiscountAmount};{tblBuyPayAccount_Amount}={tblBuyPayAccount_ExeBalFcAmt}*{CurrencyRate};{FactOutcome}=sum{tblBuyPayAccount_Amount};{PayAmount}=sum{tblBuyPayAccount_Amount};{AccAmt}=sum{tblBuyPayAccount_Amount};{CurAlrPayAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,];fieldSysType=[,currency,,,RowMarker,,,,,,BillTax,,,,,freightToCost,freightToCost,,,currency,currency,currency,currency,Project,,,,,,,currency,,,,currency,,,,BillDiscount,BillDiscount,BillTax,,currency,,,BillTax,currency,,,,,,,,];fieldIdentityStr=[AmountIdentifier,AmountIdentifier,,AmountIdentifier,BillNo,accendnotstart,Supplier,,,,,AmountIdentifier,,AmountIdentifier,AmountIdentifier,,Amount,AmountIdentifier,AmountIdentifier,,AmountIdentifier,AmountIdentifier,,,,,,,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,,AmountIdentifier,AmountIdentifier,,,,AmountIdentifier,,,Price,AmountIdentifier,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,,,,,,,,,,,,,,,,,,,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isLog=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];inputTypeOld=[100,3,100,0,0,0,2,2,2,2,1,3,3,8,3,2,0,0,0,2,8,0,3,2,0,0,0,0,3,100,3,100,0,0,3,0,0,0,0,8,0,0,0,8,8,8,8,0,3,0,0,0,0,0,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,2,,];fieldName=[ChangeAmt,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,];fieldDisplay=[en:;zh_CN:调价金额;,en:;zh_CN:外币待付金额;,en:;zh_CN:开票状态;,en:;zh_CN:待付金额;,en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:供应商;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:发票类型;,en:;zh_CN:本次结算金额;,en:;zh_CN:手续费;,en:;zh_CN:出账金额;,en:;zh_CN:实付金额;,zh_CN:运费科目;,zh_CN:运费金额;,en:;zh_CN:累计付款金额;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币已付金额;,en:;zh_CN:外币优惠金额;,en:;zh_CN:外币手续费;,en:;zh_CN:项目名称;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:备注;,en:;zh_CN:已开票金额;,en:;zh_CN:未开票金额;,en:;zh_CN:外币退货金额;,en:;zh_CN:采购询价ID;,en:;zh_CN:采购订单ID;,en:;zh_CN:采购订单编号;,en:;zh_CN:外币累计付款金额;,en:;zh_CN:退货金额;,en:;zh_CN:复核人;,en:;zh_CN:追踪单号;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:Payment date;zh_CN:付款日期;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:采购订单;,zh_CN:采购订单编号;,];fieldDisplayDis=[调价金额,外币待付金额,开票状态,待付金额,单据编号,单据日期,供应商,部门,经手人,仓库,发票类型,本次结算金额,手续费,出账金额,实付金额,运费科目,运费金额,累计付款金额,优惠金额,币种,外币已付金额,外币优惠金额,外币手续费,项目名称,会计期间,会计期间月,会计期间年,备注,已开票金额,未开票金额,外币退货金额,采购询价ID,采购订单ID,采购订单编号,外币累计付款金额,退货金额,复核人,追踪单号,折扣率%,折让金额,税率%,付款日期,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,调价后金额,外币调价后金额,外币调价金额,采购订单,采购订单编号,];fieldType=[1,1,2,1,2,5,2,2,2,2,0,1,1,1,1,2,1,1,1,2,1,1,1,2,0,0,0,3,1,1,1,2,2,2,1,1,2,2,1,1,1,5,1,1,1,1,1,14,2,1,1,1,2,2,];maxLength=[0,0,100,0,20,10,50,50,50,50,0,0,0,0,0,100,0,0,0,50,0,0,0,100,0,0,0,8000,0,0,0,100,30,30,0,0,500,200,0,0,0,10,0,0,0,0,0,0,100,0,0,0,100,100,];defaultValue=[0,0,0,0,,2009-11-16,,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,3,0,0,0,0,,0,0,0,,0,0,0,,,,,,0,0,0,,,,0,0,,,100,,0,,1,0,0,,0,,,,,,tblBuyOrder,,];width=[200,80,200,200,80,200,200,200,200,200,200,80,200,200,200,200,200,200,200,80,80,80,80,100,200,200,200,200,200,200,80,80,100,100,80,200,0,100,100,100,100,200,100,100,100,100,100,200,80,80,200,200,200,200,];inputType=[100,3,100,100,0,0,2,3,2,2,3,3,3,6,3,100,100,100,0,3,3,3,3,100,100,100,100,0,3,100,3,100,100,100,3,100,100,100,3,3,3,0,3,8,8,3,3,0,3,3,3,100,100,100,];isNullId=[1,1,1,1,1,];isUniqueId=[1,];moreInputId=[ProviderInVoiceWithPayDate,Department,Employee,Stock,1,freightAcc,CurrencyWithRate,SelectProjectInfo,];zhWidth=[200,];inputTypeOldId=[0,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 18:00:34,000 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 18:00:33' where tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:00:34,002 Line:1235  update tblDBFieldInfo set defaultValue='tblBuyOrder',groupName=null where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'ass_OrderId'
 [DEBUG] 2018-01-12 18:00:34,007 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='tblBuyInStock') and fieldName = 'ass_OrderBillNo'
 [DEBUG] 2018-01-12 18:00:34,011 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 18:00:34,531 Line:297  select * from tblDBTableInfo where tableName = 'tblBuyInStock'
 [DEBUG] 2018-01-12 18:00:34,534 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblBuyInStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 18:00:34,544 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 18:00:36,035 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 18:00:36,036 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 18:00:36,268 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:00:36,268 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:00:36,797 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:00:40,531 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:00:40,531 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:00:40,532 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:00:40,571 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:00:40,579 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:00:40,583 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:00:40,734 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:00:44,876 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:00:44,878 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:00:44,879 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:00:44,904 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:00:44,906 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 18:00:46,723 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:00:46,724 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:00:46,724 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:00:46,729 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:00:46,731 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 18:00:48,578 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:00:48,579 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:00:48,579 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:00:48,617 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:00:48,622 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121756346670233","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 18:00:49,977 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:00:49,978 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:00:49,979 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:00:50,038 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:00:50,048 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:00:50,052 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:00:50,168 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:00:53,349 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:00:53,350 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyOrder,];keyId=[d3ba9294_1801121754562880227,];
 [DEBUG] 2018-01-12 18:00:53,351 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:00:53,395 Line:1525  select * from  tblBuyOrderDet where f_ref = 'd3ba9294_1801121754562880227' order by detOrderNo
 [DEBUG] 2018-01-12 18:00:53,400 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121754562880227' and  a.tableName='tblBuyOrder'
 [DEBUG] 2018-01-12 18:00:53,427 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","Remark":"","CurNotAmortDeposit":0.0,"PayDate":"","TotalTaxAmount":1.00000000,"NoInvoiceAmount":1.00000000,"Currency":"","id":"d3ba9294_1801121754562880227","ApproveRec":0,"tblCompa等等！
 [DEBUG] 2018-01-12 18:02:11,527 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-12 18:02:11,530 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-12 18:02:11,531 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:02:11,701 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-12 18:02:11,702 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-12 18:02:11,714 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-12 18:02:11,714 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:02:11,715 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:02:11,723 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-12 18:02:11,723 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:02:11,724 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:02:11,728 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-12 18:02:11,728 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:02:11,729 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:02:11,734 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-12 18:02:11,734 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:02:11,735 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:02:16,891 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-12 18:02:16,891 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-12 18:02:16,892 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-12 18:02:16,947 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:02:16,948 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:02:16,994 Line:689 通过SQL读原始数据：46
 [DEBUG] 2018-01-12 18:02:16,995 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:02:17,058 Line:5242 GlobalsTool.js 生成js 时间23:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-12 18:02:18,809 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121756346670233&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:02:18,810 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:02:18,812 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:02:18,852 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:18,860 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:23,308 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileUpload
 [DEBUG] 2018-01-12 18:02:23,308 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileUpload,];
 [DEBUG] 2018-01-12 18:02:28,202 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121756346670233&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:02:28,202 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:02:28,202 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:02:28,206 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:28,207 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:33,903 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:02:33,904 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:02:33,904 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:02:33,907 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:33,910 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:33,911 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:02:34,009 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:02:38,593 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:02:38,594 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:02:38,594 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:02:38,616 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:02:38,619 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 18:02:40,576 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:02:40,577 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:02:40,577 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:02:40,593 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:02:40,595 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121756346670233","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 18:02:42,804 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:02:42,804 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:02:42,805 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:02:42,809 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:02:42,811 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 18:02:44,265 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:02:44,266 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:02:44,266 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:02:44,269 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:02:44,271 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121756346670233","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 18:02:45,633 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:02:45,635 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:02:45,636 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:02:45,650 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:45,659 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:02:45,664 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:02:45,764 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:03:19,752 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-12 18:03:19,753 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-12 18:03:19,753 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-12 18:03:20,452 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-12 18:03:20,452 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-12 18:03:21,177 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-12 18:03:21,178 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-12 18:03:21,178 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 18:03:26,146 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 18:03:26,147 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2018-01-12 18:03:27,794 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-12 18:03:27,795 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-12 18:03:27,998 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:03:27,999 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:03:28,532 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:06:11,298 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:06:11,299 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:06:11,299 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:06:11,390 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:06:11,401 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:06:11,404 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:06:11,540 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:06:52,142 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:06:52,142 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:06:52,143 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:06:52,230 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:06:52,240 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:06:52,244 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:06:52,371 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:08:52,833 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:08:52,834 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:08:52,834 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:08:52,981 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:08:53,004 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:08:53,014 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:08:53,210 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:09:17,476 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:09:17,477 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];
 [DEBUG] 2018-01-12 18:09:17,478 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:09:17,484 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:09:17,489 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:09:17,492 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:09:17,611 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120001","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_1801121754562880227","TABLENAME_tblBuyPayAccount":[],"等等！
 [DEBUG] 2018-01-12 18:10:09,172 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-12 18:10:09,175 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-12 18:10:09,177 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:10:09,337 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-12 18:10:09,339 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-12 18:10:09,352 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-12 18:10:09,352 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:10:09,353 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:10:09,362 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-12 18:10:09,362 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:10:09,362 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:10:09,369 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-12 18:10:09,369 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:10:09,370 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:10:09,376 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-12 18:10:09,376 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:10:09,377 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:10:11,495 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-12 18:10:11,495 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-12 18:10:11,495 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-12 18:10:11,545 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:10:11,545 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:10:11,604 Line:689 通过SQL读原始数据：59
 [DEBUG] 2018-01-12 18:10:11,604 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:10:12,851 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121756346670233&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:10:12,852 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:10:12,853 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:10:12,885 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:10:12,893 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:10:17,134 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileUpload
 [DEBUG] 2018-01-12 18:10:17,134 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileUpload,];
 [DEBUG] 2018-01-12 18:10:20,293 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121756346670233&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:10:20,294 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:10:20,296 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:10:20,323 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:10:20,327 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:10:28,372 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121756346670233&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:10:28,373 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121756346670233,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:10:28,373 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121756346670233' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:10:28,382 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:10:28,386 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121756346670233' order by detOrderNo
 [DEBUG] 2018-01-12 18:10:32,258 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 18:10:38,358 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyOrder&src=menu&winCurIndex=2
 [DEBUG] 2018-01-12 18:10:38,358 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-12 18:10:38,358 Line:215 ---------->SET Page 2 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyOrder
 [DEBUG] 2018-01-12 18:10:38,375 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:10:38,375 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:10:38,375 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-12 18:10:38,406 Line:689 通过SQL读原始数据：31
 [DEBUG] 2018-01-12 18:10:38,406 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:10:40,369 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=2&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:10:40,370 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[2,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:10:42,706 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-12&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-12 18:10:42,706 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-12,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-12 18:10:42,730 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=83e8760a_0811132128219840114&editable=&subSql=
 [DEBUG] 2018-01-12 18:10:42,730 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-12&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-12 18:10:42,730 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[83e8760a_0811132128219840114,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-12 18:10:42,731 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-12,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-12 18:10:42,731 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2018-01-12 18:10:42,735 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-12'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-12 18:10:50,343 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-12 18:10:50,343 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-12 18:10:50,372 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=83e8760a_0811132128219840114&editable=&subSql=
 [DEBUG] 2018-01-12 18:10:50,372 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-12 18:10:50,372 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132128219840114,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-12 18:10:50,374 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-12 18:10:50,374 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-12 18:10:50,377 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-12 18:10:52,841 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrderDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyOrderDet_BuyApplyID=&isMain=false&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-12 18:10:52,842 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrderDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyOrderDet_BuyApplyID=[,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-12 18:10:52,870 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=83e8760a_0811132128219840114&editable=&subSql=
 [DEBUG] 2018-01-12 18:10:52,870 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyOrderDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyOrderDet_BuyApplyID=&isMain=false&src=menu&MOID=83e8760a_0811132128219840114&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-12 18:10:52,870 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132128219840114,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-12 18:10:52,871 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyOrderDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyOrderDet_BuyApplyID=[,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132128219840114,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-12 18:10:52,871 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-12 18:10:52,876 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-12 18:10:57,330 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-12 18:10:57,330 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[2,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];BillNo=[BO1801120002,];checkPersons=[,];SCompanyID=[,];BillDate=[2018-01-12,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];PayDate=[,];Account=[,];tblAccTypeInfo_AccName=[,];AccountAmount=[0,];InVoiceType=[3,];TotalPayAmt=[0,];TradeType=[CreditBuy,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];Currency=[,];CurAccountAmount=[0,];ProjectCode=[,];PayStatus=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NotAmortDeposit=[0,];CurNotAmortDeposit=[,];CertificateNo=[,];RefBillID=[,];RefBillNo=[,];SalesOrderID=[,];CurTotalPayAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];BuyApplyID=[,];DiscountAmount=[,];BuyApplyNo=[,];BuyAskPriceID=[,];CheckPersont=[,];ApproveRec=[,];CurBackAmount=[0,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];ReceiveAmt=[,];CurReceiveAmt=[,];CurTotalAmount=[1,];finishTime=[,];workFlowNode=[,];workFlowNodeName=[,];printCount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-12 18:10:40,];createBy=[,];createTime=[2018-01-12 18:10:40,];tblBuyOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyOrderDet_tblGoods_GoodsNumber=[bl0001,];tblBuyOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyOrderDet_tblGoods_GoodsSpec=[,];tblBuyOrderDet_tblGoods_BaseUnit=[,];tblBuyOrderDet_Qty=[1,];tblBuyOrderDet_Price=[1,];tblBuyOrderDet_Amount=[1,];tblBuyOrderDet_Remark=[,];tblBuyOrderDet_StockCode=[,];tblBuyOrderDet_BuyAskPriceID=[,];tblBuyOrderDet_BuyApplyID=[,];tblBuyOrderDet_BuyAppTotalID=[,];tblBuyOrderDet_GoodsCode=[0000300001,];tblBuyOrderDet_BatchNo=[,];tblBuyOrderDet_Inch=[,];tblBuyOrderDet_Hue=[,];tblBuyOrderDet_yearNO=[,];tblBuyOrderDet_ProDate=[,];tblBuyOrderDet_Availably=[,];tblBuyOrderDet_InvoiceStatus=[0,];tblBuyOrderDet_Discount=[100,];tblBuyOrderDet_DisPrice=[1,];tblBuyOrderDet_DisBackAmt=[1,];tblBuyOrderDet_DisAmount=[0,];tblBuyOrderDet_TaxPrice=[1,];tblBuyOrderDet_TaxAmount=[1,];tblBuyOrderDet_CoTaxAmt=[0,];tblBuyOrderDet_CurPrice=[1,];tblBuyOrderDet_CurAmount=[1,];tblBuyOrderDet_ArriveDate=[,];tblBuyOrderDet_NeedPayAmt=[,];tblBuyOrderDet_SourceID=[,];tblBuyOrderDet_TotalPayAmt=[,];tblBuyOrderDet_SalesOrderID=[,];tblBuyOrderDet_PresentSampleType=[,];tblBuyOrderDet_SecQty=[0,];tblBuyOrderDet_PayQty=[,];tblBuyOrderDet_NotPayQty=[,];tblBuyOrderDet_InPayQty=[,];tblBuyOrderDet_BaseQty=[0,];tblBuyOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-12 18:10:57,331 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936570620008
 [DEBUG] 2018-01-12 18:10:57,350 Line:5847  INSERT INTO  tblBuyOrder(BillNo,checkPersons,id,SCompanyID,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,PayDate,Account,AccountAmount,InVoiceType,TotalPayAmt,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,Currency,CurAccountAmount,ProjectCode,PayStatus,Period,PeriodMonth,PeriodYear,NotAmortDeposit,CurNotAmortDeposit,CertificateNo,RefBillID,RefBillNo,Remark,SalesOrderID,CurTotalPayAmt,AutoBillMarker,BackAmount,BuyApplyID,DiscountAmount,BuyApplyNo,BuyAskPriceID,CheckPersont,ApproveRec,CurBackAmount,TrackNo,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,ReceiveAmt,CurReceiveAmt,CurTotalAmount,Attachment,finishTime,workFlowNode,workFlowNodeName,printCount,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 18:10:57,350 Line:5853 1:BO1801120002
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 2:
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 3:d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 4:00001
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 5:2018-01-12
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 6:00003
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 7:00101
 [DEBUG] 2018-01-12 18:10:57,351 Line:5853 8:1
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 9:00001
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 10:
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 11:
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 12:0.0
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 13:3
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 14:0.0
 [DEBUG] 2018-01-12 18:10:57,352 Line:5853 15:CreditBuy
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 16:0.0
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 17:0.0
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 18:0
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 19:
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 20:0.0
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 21:
 [DEBUG] 2018-01-12 18:10:57,353 Line:5853 22:0
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 23:1
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 24:1
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 25:2018
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 26:0.0
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 27:0.0
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 28:
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 29:
 [DEBUG] 2018-01-12 18:10:57,354 Line:5853 30:
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 31:
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 32:
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 33:0.0
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 34:0
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 35:0.0
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 36:
 [DEBUG] 2018-01-12 18:10:57,355 Line:5853 37:0.0
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 38:
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 39:
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 40:
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 41:0
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 42:0.0
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 43:
 [DEBUG] 2018-01-12 18:10:57,356 Line:5853 44:100.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 45:0.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 46:0.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 47:1.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 48:1.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 49:1.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 50:0.0
 [DEBUG] 2018-01-12 18:10:57,357 Line:5853 51:0.0
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 52:0.0
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 53:1.0
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 54:
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 55:2018-01-12 18:10:57
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 56:-1
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 57:finish
 [DEBUG] 2018-01-12 18:10:57,358 Line:5853 58:0
 [DEBUG] 2018-01-12 18:10:57,359 Line:5853 59:1
 [DEBUG] 2018-01-12 18:10:57,359 Line:5853 60:2018-01-12 18:10:40
 [DEBUG] 2018-01-12 18:10:57,359 Line:5853 61:1
 [DEBUG] 2018-01-12 18:10:57,359 Line:5853 62:2018-01-12 18:10:40
 [DEBUG] 2018-01-12 18:10:57,365 Line:5847  INSERT INTO  tblBuyOrderDet(f_ref,id,StockCode,BuyAskPriceID,BuyApplyID,BuyAppTotalID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,Qty,Price,Amount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ArriveDate,InQty,InvoiceQty,BackQty,NeedPayAmt,NotInQty,SCompanyID,FinishStatus,SourceID,TotalPayAmt,SalesOrderID,PresentSampleType,SecQty,PayQty,NotPayQty,InPayQty,BaseQty,Remark) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 18:10:57,365 Line:5853 1:d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,365 Line:5853 2:d3ba9294_1801121810573650296
 [DEBUG] 2018-01-12 18:10:57,366 Line:5853 3:
 [DEBUG] 2018-01-12 18:10:57,366 Line:5853 4:
 [DEBUG] 2018-01-12 18:10:57,366 Line:5853 5:
 [DEBUG] 2018-01-12 18:10:57,366 Line:5853 6:
 [DEBUG] 2018-01-12 18:10:57,366 Line:5853 7:0000300001
 [DEBUG] 2018-01-12 18:10:57,366 Line:5853 8:
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 9:
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 10:
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 11:
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 12:
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 13:
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 14:0.0
 [DEBUG] 2018-01-12 18:10:57,367 Line:5853 15:0.0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 16:0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 17:1.0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 18:1.0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 19:1.0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 20:0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 21:0.0
 [DEBUG] 2018-01-12 18:10:57,368 Line:5853 22:0.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 23:0.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 24:100.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 25:1.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 26:1.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 27:0.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 28:1.0
 [DEBUG] 2018-01-12 18:10:57,369 Line:5853 29:1.0
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 30:0.0
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 31:1.0
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 32:1.0
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 33:
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 34:0.0
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 35:0.0
 [DEBUG] 2018-01-12 18:10:57,370 Line:5853 36:0.0
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 37:0.0
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 38:0.0
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 39:00001
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 40:0
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 41:
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 42:0.0
 [DEBUG] 2018-01-12 18:10:57,371 Line:5853 43:
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 44:
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 45:0
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 46:0.0
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 47:0.0
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 48:0.0
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 49:0
 [DEBUG] 2018-01-12 18:10:57,372 Line:5853 50:
 [DEBUG] 2018-01-12 18:10:57,387 Line:313 exeCondition:tblBuyOrder_add :0!=0 && ''.length==0 
 [DEBUG] 2018-01-12 18:10:57,388 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,388 Line:313 exeCondition:tblBuyOrder_add :0<=0 && ''.length > 0 
 [DEBUG] 2018-01-12 18:10:57,389 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,389 Line:313 exeCondition:tblBuyOrder_add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-12 18:10:57,390 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,390 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyApplication where id=?
 [DEBUG] 2018-01-12 18:10:57,390 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,390 Line:988 1值：
 [DEBUG] 2018-01-12 18:10:57,393 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,393 Line:313 exeCondition:tblBuyOrder_add :''.length>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 18:10:57,394 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,394 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyAskPrice where id=?
 [DEBUG] 2018-01-12 18:10:57,395 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,395 Line:988 1值：
 [DEBUG] 2018-01-12 18:10:57,398 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 18:10:57,398 Line:313 exeCondition:tblBuyOrder_add :''.length>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 18:10:57,399 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,399 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblSalesOrder where id=?
 [DEBUG] 2018-01-12 18:10:57,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,400 Line:988 1值：
 [DEBUG] 2018-01-12 18:10:57,412 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-12 18:10:57,413 Line:313 exeCondition:tblBuyOrder_add :''.length>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 18:10:57,413 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,414 Line:921 自定义执行的语句显示： tblBuyOrder_add :select len(BuyAskPriceID) as BuyAskPriceID from tblBuyOrderDet where f_ref=?  and len(BuyAskPriceID)>0
 [DEBUG] 2018-01-12 18:10:57,414 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,414 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,417 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,417 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyAskPrice where id in(select BuyAskPriceID from tblBuyOrderDet where f_ref=?  and len(BuyAskPriceID)>0)  order by QuoteDate desc
 [DEBUG] 2018-01-12 18:10:57,417 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,417 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,424 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-12 18:10:57,424 Line:313 exeCondition:tblBuyOrder_add :'null'>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 18:10:57,425 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,425 Line:921 自定义执行的语句显示： tblBuyOrder_add :select len(BuyApplyID) as BuyApplyID from tblBuyOrderDet where f_ref=?  and len(BuyApplyID)>0
 [DEBUG] 2018-01-12 18:10:57,426 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,426 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,428 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,428 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyApplication where id in(select BuyApplyID as BuyApplyID from tblBuyOrderDet where f_ref=?  and len(BuyApplyID)>0)  order by QuoteDate desc
 [DEBUG] 2018-01-12 18:10:57,429 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,429 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,436 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-12 18:10:57,436 Line:313 exeCondition:tblBuyOrder_add :'null'>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 18:10:57,437 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,437 Line:921 自定义执行的语句显示： tblBuyOrder_add :select len(BuyAppTotalID) as BuyAppTotalID from tblBuyOrderDet where f_ref=? and len(BuyAppTotalID)>0
 [DEBUG] 2018-01-12 18:10:57,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,438 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,439 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-12 18:10:57,440 Line:921 自定义执行的语句显示： tblBuyOrder_add :select billDate as QuoteDate from tblBuyApplicationTotal where id in(select BuyAppTotalID from tblBuyOrderDet where f_ref=? and len(BuyAppTotalID)>0)  order by QuoteDate desc
 [DEBUG] 2018-01-12 18:10:57,440 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,440 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,451 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-12 18:10:57,451 Line:313 exeCondition:tblBuyOrder_add :'null'>0&&'2018-01-12' < 'null'
 [DEBUG] 2018-01-12 18:10:57,452 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,452 Line:921 自定义执行的语句显示： tblBuyOrder_add :select 'existsUpdate' as existsUpdateGood from tblBuyOrderDet a,tblBuyApplicationDet b where b.id=a.sourceID and a.f_ref=? and (a.goodsCode!=b.goodsCode or a.Hue!=b.Hue or a.Inch!=b.Inch or a.yearNO!=b.yearNO)
 [DEBUG] 2018-01-12 18:10:57,452 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,452 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,461 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-12 18:10:57,462 Line:313 exeCondition:tblBuyOrder_add :'null'!='null'
 [DEBUG] 2018-01-12 18:10:57,462 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,463 Line:921 自定义执行的语句显示： tblBuyOrder_add :select b.GoodsFullName as GoodsQ from tblBuyOrderDet a,tblGoods b where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and b.classCode=a.GoodsCode and a.f_ref=?
 [DEBUG] 2018-01-12 18:10:57,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,463 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,466 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,466 Line:313 exeCondition:tblBuyOrder_add :'null' != 'null'
 [DEBUG] 2018-01-12 18:10:57,467 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,467 Line:921 自定义执行的语句显示： tblBuyOrder_add :select ArriveDate as ArriveDate from tblBuyOrderDet a  where a.f_ref=? and len(a.ArriveDate)!=0 and a.ArriveDate < ? 
 [DEBUG] 2018-01-12 18:10:57,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,467 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,468 Line:988 2值：2018-01-12
 [DEBUG] 2018-01-12 18:10:57,470 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,470 Line:313 exeCondition:tblBuyOrder_add :'null'!='null'
 [DEBUG] 2018-01-12 18:10:57,470 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,472 Line:921 自定义执行的语句显示： tblBuyOrder_add :select tblGoods.GoodsFullName as GoodsQ,Qty from tblBuyOrderDet,tblGoods where f_ref=? and tblGoods.classCode=tblBuyOrderDet.GoodsCode and isnull(tblBuyOrderDet.Qty,0)<=0
 [DEBUG] 2018-01-12 18:10:57,472 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,472 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,475 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,475 Line:313 exeCondition:tblBuyOrder_add :'null' != 'null'
 [DEBUG] 2018-01-12 18:10:57,476 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,476 Line:921 自定义执行的语句显示： tblBuyOrder_add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyOrderDet a,tblGoods b where a.f_ref=? and a.PresentSampleType not in ('1','2') and b.classCode=a.GoodsCode and (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0))
 [DEBUG] 2018-01-12 18:10:57,476 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,476 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,480 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 18:10:57,481 Line:313 exeCondition:tblBuyOrder_add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-12 18:10:57,481 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,482 Line:313 exeCondition:tblBuyOrder_add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-12 18:10:57,482 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,483 Line:313 exeCondition:tblBuyOrder_add :false==true
 [DEBUG] 2018-01-12 18:10:57,483 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,484 Line:921 自定义执行的语句显示： tblBuyOrder_add :select tblGoods.GoodsFullName as GoodsSample from tblBuyOrderDet,tblGoods where f_ref=? and tblGoods.classCode=tblBuyOrderDet.GoodsCode and tblBuyOrderDet.PresentSampleType in ('1','2') and isnull(tblBuyOrderDet.Price,0)!=0
 [DEBUG] 2018-01-12 18:10:57,484 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,484 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,487 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,487 Line:313 exeCondition:tblBuyOrder_add :'null' != 'null'
 [DEBUG] 2018-01-12 18:10:57,488 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,489 Line:921 自定义执行的语句显示： tblBuyOrder_add :select dbo.getDigits('tblBuyOrderDet','TaxAmount',sum(tblBuyOrderDet.TaxAmount)) as SumDetAmt from tblBuyOrderDet where  tblBuyOrderDet.f_ref=?
 [DEBUG] 2018-01-12 18:10:57,489 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,489 Line:988 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,530 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-12 18:10:57,531 Line:1043 ---上述语句时间---42
 [DEBUG] 2018-01-12 18:10:57,531 Line:313 exeCondition:tblBuyOrder_add : 1.0 != 1
 [DEBUG] 2018-01-12 18:10:57,531 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,532 Line:921 自定义执行的语句显示： tblBuyOrder_add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-12 18:10:57,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,532 Line:988 1值：
 [DEBUG] 2018-01-12 18:10:57,532 Line:988 2值：00001
 [DEBUG] 2018-01-12 18:10:57,535 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:10:57,535 Line:313 exeCondition:tblBuyOrder_add :''.length != 0 && ''.length !=0 && !( '' == 'null' || ('null' =='' && 'null'=='1'  )  ) 
 [DEBUG] 2018-01-12 18:10:57,536 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,537 Line:313 exeCondition:tblBuyOrder_add :''.length == 0 && ''.length !=0 && ( 'null'.length != 0 && 'null' !=' '  && 'null' != 'null' && 'null' != 'NULL')  
 [DEBUG] 2018-01-12 18:10:57,538 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,538 Line:313 exeCondition:tblBuyOrder_add : (''.length == 0 && 1> 0 && 1!=1)
 [DEBUG] 2018-01-12 18:10:57,539 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,539 Line:313 exeCondition:tblBuyOrder_add :'false'=='false'
 [DEBUG] 2018-01-12 18:10:57,540 Line:321 flag:true
 [DEBUG] 2018-01-12 18:10:57,541 Line:1081 自定义执行的语句显示： tblBuyOrder_add:update tblBuyOrderDet set tblBuyOrderDet.StockCode=tblBuyOrder.StockCode from tblBuyOrder where tblBuyOrder.id=tblBuyOrderDet.f_ref and tblBuyOrder.id=? and len(tblBuyOrder.StockCode)>0 and tblBuyOrder.StockCode is not null
 [DEBUG] 2018-01-12 18:10:57,541 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,547 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=1
 [DEBUG] 2018-01-12 18:10:57,547 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-12 18:10:57,547 Line:313 exeCondition:tblBuyOrder_add :''.length>0
 [DEBUG] 2018-01-12 18:10:57,548 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,549 Line:313 exeCondition:tblBuyOrder_add :''.length>0
 [DEBUG] 2018-01-12 18:10:57,550 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,550 Line:313 exeCondition:tblBuyOrder_add :'true'=='true'
 [DEBUG] 2018-01-12 18:10:57,552 Line:321 flag:true
 [DEBUG] 2018-01-12 18:10:57,552 Line:1081 自定义执行的语句显示： tblBuyOrder_add:
			   update tblBuyOrderDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyOrder  a join tblBuyOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyOrderDet.id=a.id
 [DEBUG] 2018-01-12 18:10:57,552 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,560 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=0
 [DEBUG] 2018-01-12 18:10:57,561 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-12 18:10:57,561 Line:1081 自定义执行的语句显示： tblBuyOrder_add:
			   update tblBuyOrderDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyOrder a join tblBuyOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyOrderDet.id=a.id
 [DEBUG] 2018-01-12 18:10:57,561 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,568 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=0
 [DEBUG] 2018-01-12 18:10:57,569 Line:408 ************上述语句执行时间：8
 [DEBUG] 2018-01-12 18:10:57,569 Line:313 exeCondition:tblBuyOrder_add :true
 [DEBUG] 2018-01-12 18:10:57,570 Line:321 flag:true
 [DEBUG] 2018-01-12 18:10:57,570 Line:1081 自定义执行的语句显示： tblBuyOrder_add:update tblBuyOrderDet set NotInQty=Qty,InQty=0,FinishStatus=0,NotPayQty=Qty,PayQty=0,NoInvoiceAmount=TaxAmount,InvoiceAmount=0,InvoiceStatus=0 where f_ref=?
 [DEBUG] 2018-01-12 18:10:57,570 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,573 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=1
 [DEBUG] 2018-01-12 18:10:57,573 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 18:10:57,573 Line:1081 自定义执行的语句显示： tblBuyOrder_add:update tblBuyOrder set statusId=0,TotalPayAmt=AccountAmount,NotAmortDeposit=AccountAmount,CurTotalPayAmt=CurAccountAmount,CurNotAmortDeposit=CurAccountAmount,ReceiveAmt=0,CurReceiveAmt=0,CertificateNo='',NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0 where id=?
 [DEBUG] 2018-01-12 18:10:57,573 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,576 Line:1163 DefineSQLBean.execSql  define=tblBuyOrder_add,  影响行数=1
 [DEBUG] 2018-01-12 18:10:57,576 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 18:10:57,576 Line:313 exeCondition:tblBuyOrder_add :true
 [DEBUG] 2018-01-12 18:10:57,577 Line:321 flag:true
 [DEBUG] 2018-01-12 18:10:57,577 Line:1264 自定义执行的语句显示： tblBuyOrder_add:{call proc_BuyOrderBackFillApp(?,?,?,?)}
 [DEBUG] 2018-01-12 18:10:57,578 Line:1270 d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,578 Line:1270 add
 [DEBUG] 2018-01-12 18:10:57,641 Line:425 ************上述语句执行时间：64
 [DEBUG] 2018-01-12 18:10:57,642 Line:313 exeCondition:tblBuyOrder_add :true
 [DEBUG] 2018-01-12 18:10:57,642 Line:321 flag:true
 [DEBUG] 2018-01-12 18:10:57,642 Line:1264 自定义执行的语句显示： tblBuyOrder_add:{call proc_BuyOrderBackFillApplyTotal(?,?,?,?)}
 [DEBUG] 2018-01-12 18:10:57,643 Line:1270 d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,643 Line:1270 add
 [DEBUG] 2018-01-12 18:10:57,675 Line:425 ************上述语句执行时间：33
 [DEBUG] 2018-01-12 18:10:57,676 Line:313 exeCondition:tblBuyOrder_add :'0' == '0' && false==false
 [DEBUG] 2018-01-12 18:10:57,678 Line:321 flag:true
 [DEBUG] 2018-01-12 18:10:57,679 Line:313 exeCondition:tblBuyOrder_Add_One :0>0
 [DEBUG] 2018-01-12 18:10:57,681 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:57,681 Line:921 自定义执行的语句显示： tblBuyOrder_add :SELECT c.GoodsFullName,? as DifferPrice FROM tblBuyOrderDet a JOIN tblBuyOrderDet b ON a.GoodsCode = b.GoodsCode AND ISNULL(a.BatchNo,'') = ISNULL(b.BatchNo,'') AND ISNULL(a.Inch,'') = ISNULL(b.Inch,'') AND ISNULL(a.Hue,'') = ISNULL(b.Hue,'') AND ISNULL(a.yearNO,'') = ISNULL(b.yearNO,'') AND ISNULL(a.ProDate,'') = ISNULL(b.ProDate,'') AND ISNULL(a.Availably,'') = ISNULL(b.Availably,'') JOIN tblGoods c ON a.GoodsCode = c.classCode WHERE a.f_ref = ? AND b.f_ref!=? AND (CASE WHEN a.Price = 0 THEN 0 ELSE (a.Price - b.Price)/a.Price*100 END)>?
 [DEBUG] 2018-01-12 18:10:57,682 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:10:57,682 Line:988 1值：0
 [DEBUG] 2018-01-12 18:10:57,683 Line:988 2值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,683 Line:988 3值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:10:57,683 Line:988 4值：0
 [DEBUG] 2018-01-12 18:10:57,700 Line:1043 ---上述语句时间---19
 [DEBUG] 2018-01-12 18:10:57,701 Line:313 exeCondition:tblBuyOrder_add :'null'!='null'&&'null'.length!=0&&'0' == '0' && false==false&&null>0
 [DEBUG] 2018-01-12 18:10:57,703 Line:321 flag:false
 [DEBUG] 2018-01-12 18:10:59,191 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyOrder&operation=5&keyId=d3ba9294_1801121810573470295&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=2&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:10:59,192 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];operation=[5,];keyId=[d3ba9294_1801121810573470295,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[2,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:10:59,193 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121810573470295' and  a.tableName='tblBuyOrder'
 [DEBUG] 2018-01-12 18:10:59,255 Line:1525  select * from  tblBuyOrderDet where f_ref = 'd3ba9294_1801121810573470295' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:01,286 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentTableName=&sourceTableName=tblBuyOrder&sourceId=d3ba9294_1801121810573470295&operation=15&popWinName=PopPushMainOpdiv
 [DEBUG] 2018-01-12 18:11:01,287 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentTableName=[,];sourceTableName=[tblBuyOrder,];sourceId=[d3ba9294_1801121810573470295,];operation=[15,];popWinName=[PopPushMainOpdiv,];
 [DEBUG] 2018-01-12 18:11:01,289 Line:3434 DynDBManager.popSelect selectName=tblBuyInStockDet_quote_tblBuyOrderDet; sql=select viewbuyorder.id f1 ,tblGoods.GoodsNumber f2 ,tblGoods.GoodsFullName f3 ,tblGoods.GoodsSpec f4 ,tblGoods.BaseUnit f5 ,tblGoods.GoodsFullNamePYM f6 ,viewbuyorder.Qty f7 ,tblBuyOrderDet.Price f8 ,tblBuyOrderDet.InQty f9 ,tblBuyOrderDet.NotInQty f10 
from viewbuyorder 
				left join tblGoods on viewbuyorder.GoodsCode=tblGoods.classCode
				left join tblBuyOrderDet on tblBuyOrderDet.id=viewbuyorder.id where 1=1 and  viewbuyorder.f_ref='d3ba9294_1801121810573470295'   and viewbuyorder.FinishStatus=0 and tblGoods.workFlowNodeName='finish' order by tblGoods.GoodsNumber,tblGoods.GoodsFullName
 [DEBUG] 2018-01-12 18:11:01,319 Line:1525  select * from  tblBuyOrderDet where f_ref = 'd3ba9294_1801121810573470295' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:01,321 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrder' and childTable='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:01,329 Line:2014 DynDBManager.getRefSql:弹出窗ProviderInVoiceWithPayDate: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)
		 and tblCompany.classCode = '00003'
 [DEBUG] 2018-01-12 18:11:01,332 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-12 18:11:01,335 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-12 18:11:01,339 Line:2014 DynDBManager.getRefSql:弹出窗Stock: select tblStock.StockFullName from tblStock
      where 1=1 and tblStock.classCode = '00001'
 [DEBUG] 2018-01-12 18:11:01,340 Line:2014 DynDBManager.getRefSql:弹出窗CurrencyWithRate: select tblSetExchange.CurrencyName from tblSetExchange
      where 1=1 and tblSetExchange.Currency = ''
 [DEBUG] 2018-01-12 18:11:01,346 Line:2014 DynDBManager.getRefSql:弹出窗SelectProjectInfo: select tblProject.ProjectName from tblProject
      where 1=1 and tblProject.id = ''   and tblProject.workFlowNodeName='finish'
 [DEBUG] 2018-01-12 18:11:01,348 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrderDet' and childTable='tblBuyInStockDet'
 [DEBUG] 2018-01-12 18:11:01,351 Line:2014 DynDBManager.getRefSql:弹出窗BuyOrderGoods: select tblBuyOrder.BillNo from tblBuyOrderDet left join tblBuyOrder on tblBuyOrderDet.f_ref=tblBuyOrder.id
	    left join tblGoods on tblBuyOrderDet.goodsCode=tblGoods.classCode
		  left join tblProject on tblBuyOrder.ProjectCode=tblProject.id
      where 1=1  and (tblBuyOrder.InvoiceType='3' and tblBuyOrder.CompanyCode='00003' and tblBuyOrder.BillDate<='2018-01-12' and tblBuyOrder.workFlowNodeName = 'finish')  and 1=1
		 and tblBuyOrder.id = 'd3ba9294_1801121810573470295' and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-12 18:11:01,355 Line:2014 DynDBManager.getRefSql:弹出窗GoodsBuy: select tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblGoods.GoodsSpec,tblGoods.BaseUnit from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003')
      where 1=1 and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-12 18:11:01,360 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrderDet' and childTable='tblBuyPayAccount'
 [DEBUG] 2018-01-12 18:11:01,363 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrder' and childTable='tblBuyPayAccount'
 [DEBUG] 2018-01-12 18:11:05,475 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileUpload
 [DEBUG] 2018-01-12 18:11:05,477 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileUpload,];
 [DEBUG] 2018-01-12 18:11:08,703 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentTableName=&sourceTableName=tblBuyOrder&sourceId=d3ba9294_1801121810573470295&operation=15&popWinName=PopPushMainOpdiv
 [DEBUG] 2018-01-12 18:11:08,703 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentTableName=[,];sourceTableName=[tblBuyOrder,];sourceId=[d3ba9294_1801121810573470295,];operation=[15,];popWinName=[PopPushMainOpdiv,];
 [DEBUG] 2018-01-12 18:11:08,704 Line:3434 DynDBManager.popSelect selectName=tblBuyInStockDet_quote_tblBuyOrderDet; sql=select viewbuyorder.id f1 ,tblGoods.GoodsNumber f2 ,tblGoods.GoodsFullName f3 ,tblGoods.GoodsSpec f4 ,tblGoods.BaseUnit f5 ,tblGoods.GoodsFullNamePYM f6 ,viewbuyorder.Qty f7 ,tblBuyOrderDet.Price f8 ,tblBuyOrderDet.InQty f9 ,tblBuyOrderDet.NotInQty f10 
from viewbuyorder 
				left join tblGoods on viewbuyorder.GoodsCode=tblGoods.classCode
				left join tblBuyOrderDet on tblBuyOrderDet.id=viewbuyorder.id where 1=1 and  viewbuyorder.f_ref='d3ba9294_1801121810573470295'   and viewbuyorder.FinishStatus=0 and tblGoods.workFlowNodeName='finish' order by tblGoods.GoodsNumber,tblGoods.GoodsFullName
 [DEBUG] 2018-01-12 18:11:08,708 Line:1525  select * from  tblBuyOrderDet where f_ref = 'd3ba9294_1801121810573470295' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:08,710 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrder' and childTable='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:08,714 Line:2014 DynDBManager.getRefSql:弹出窗ProviderInVoiceWithPayDate: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)
		 and tblCompany.classCode = '00003'
 [DEBUG] 2018-01-12 18:11:08,715 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-12 18:11:08,716 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-12 18:11:08,716 Line:2014 DynDBManager.getRefSql:弹出窗Stock: select tblStock.StockFullName from tblStock
      where 1=1 and tblStock.classCode = '00001'
 [DEBUG] 2018-01-12 18:11:08,717 Line:2014 DynDBManager.getRefSql:弹出窗CurrencyWithRate: select tblSetExchange.CurrencyName from tblSetExchange
      where 1=1 and tblSetExchange.Currency = ''
 [DEBUG] 2018-01-12 18:11:08,718 Line:2014 DynDBManager.getRefSql:弹出窗SelectProjectInfo: select tblProject.ProjectName from tblProject
      where 1=1 and tblProject.id = ''   and tblProject.workFlowNodeName='finish'
 [DEBUG] 2018-01-12 18:11:08,719 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrderDet' and childTable='tblBuyInStockDet'
 [DEBUG] 2018-01-12 18:11:08,721 Line:2014 DynDBManager.getRefSql:弹出窗BuyOrderGoods: select tblBuyOrder.BillNo from tblBuyOrderDet left join tblBuyOrder on tblBuyOrderDet.f_ref=tblBuyOrder.id
	    left join tblGoods on tblBuyOrderDet.goodsCode=tblGoods.classCode
		  left join tblProject on tblBuyOrder.ProjectCode=tblProject.id
      where 1=1  and (tblBuyOrder.InvoiceType='3' and tblBuyOrder.CompanyCode='00003' and tblBuyOrder.BillDate<='2018-01-12' and tblBuyOrder.workFlowNodeName = 'finish')  and 1=1
		 and tblBuyOrder.id = 'd3ba9294_1801121810573470295' and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-12 18:11:08,722 Line:2014 DynDBManager.getRefSql:弹出窗GoodsBuy: select tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblGoods.GoodsSpec,tblGoods.BaseUnit from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003')
      where 1=1 and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-12 18:11:08,723 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrderDet' and childTable='tblBuyPayAccount'
 [DEBUG] 2018-01-12 18:11:08,724 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblBuyOrder' and childTable='tblBuyPayAccount'
 [DEBUG] 2018-01-12 18:11:13,992 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-12 18:11:13,993 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[$winCurIndex,];popWinName=[PopPushMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[$saveDraft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936579370110,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1801120011,];BillDate=[2018-01-12,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[d3ba9294_1801121810573470295,];BuyOrderNo=[BO1801120002,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[0,];CurAfterChangeAmt=[0,];CurChangeAmt=[0,];ass_OrderId=[d3ba9294_1801121810573470295,];ass_OrderBillNo=[BO1801120002,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[d3ba9294_1801121810573470295,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[d3ba9294_1801121810573650296,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[0,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Attachment=[9A34FFB12ADF6414771EF9F60B9BA85C_Attachment(3).jpg,];Remark=[,];
 [DEBUG] 2018-01-12 18:11:13,993 Line:3843 添加单据desingId=eae3edac_0906121936579370110工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2018-01-12 18:11:14,017 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 18:11:14,017 Line:5853 1:0.0
 [DEBUG] 2018-01-12 18:11:14,017 Line:5853 2:;1;
 [DEBUG] 2018-01-12 18:11:14,017 Line:5853 3:d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 4:0
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 5:notApprove
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 6:0.0
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 7:0
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 8:0.0
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 9:BI1801120011
 [DEBUG] 2018-01-12 18:11:14,018 Line:5853 10:2018-01-12
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 11:00003
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 12:00101
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 13:1
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 14:00001
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 15:3
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 16:0.0
 [DEBUG] 2018-01-12 18:11:14,019 Line:5853 17:0.0
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 18:0.0
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 19:0.0
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 20:
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 21:0.0
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 22:0.0
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 23:0.0
 [DEBUG] 2018-01-12 18:11:14,020 Line:5853 24:
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 25:0.0
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 26:0.0
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 27:0.0
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 28:
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 29:1
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 30:1
 [DEBUG] 2018-01-12 18:11:14,021 Line:5853 31:2018
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 32:
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 33:0.0
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 34:0.0
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 35:0.0
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 36:
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 37:d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:11:14,022 Line:5853 38:BO1801120002
 [DEBUG] 2018-01-12 18:11:14,023 Line:5853 39:0.0
 [DEBUG] 2018-01-12 18:11:14,023 Line:5853 40:0.0
 [DEBUG] 2018-01-12 18:11:14,023 Line:5853 41:
 [DEBUG] 2018-01-12 18:11:14,023 Line:5853 42:
 [DEBUG] 2018-01-12 18:11:14,023 Line:5853 43:100.0
 [DEBUG] 2018-01-12 18:11:14,023 Line:5853 44:0.0
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 45:0.0
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 46:
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 47:1.0
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 48:1.0
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 49:1.0
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 50:0.0
 [DEBUG] 2018-01-12 18:11:14,024 Line:5853 51:1.0
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 52:9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 53:
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 54:0.0
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 55:0.0
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 56:0.0
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 57:d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:11:14,025 Line:5853 58:BO1801120002
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 59:0
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 60:00001
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 61:0
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 62:
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 63:1
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 64:2018-01-12 18:11:14
 [DEBUG] 2018-01-12 18:11:14,026 Line:5853 65:1
 [DEBUG] 2018-01-12 18:11:14,027 Line:5853 66:2018-01-12 18:11:14
 [DEBUG] 2018-01-12 18:11:14,031 Line:5847  INSERT INTO  tblBuyInStockDet(f_ref,id,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-12 18:11:14,031 Line:5853 1:d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,031 Line:5853 2:d3ba9294_1801121811140310299
 [DEBUG] 2018-01-12 18:11:14,031 Line:5853 3:00001
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 4:d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 5:
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 6:
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 7:0000300001
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 8:
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 9:
 [DEBUG] 2018-01-12 18:11:14,032 Line:5853 10:
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 11:
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 12:
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 13:
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 14:
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 15:1.0
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 16:1.0
 [DEBUG] 2018-01-12 18:11:14,033 Line:5853 17:1.0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 18:0.0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 19:0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 20:0.0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 21:0.0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 22:0.0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 23:100.0
 [DEBUG] 2018-01-12 18:11:14,034 Line:5853 24:1.0
 [DEBUG] 2018-01-12 18:11:14,035 Line:5853 25:1.0
 [DEBUG] 2018-01-12 18:11:14,035 Line:5853 26:0.0
 [DEBUG] 2018-01-12 18:11:14,035 Line:5853 27:1.0
 [DEBUG] 2018-01-12 18:11:14,035 Line:5853 28:1.0
 [DEBUG] 2018-01-12 18:11:14,035 Line:5853 29:0.0
 [DEBUG] 2018-01-12 18:11:14,035 Line:5853 30:1.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 31:1.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 32:0.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 33:0.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 34:0.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 35:0.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 36:0.0
 [DEBUG] 2018-01-12 18:11:14,036 Line:5853 37:d3ba9294_1801121810573650296
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 38:0.0
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 39:0.0
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 40:0.0
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 41:0.0
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 42:0.0
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 43:0.0
 [DEBUG] 2018-01-12 18:11:14,037 Line:5853 44:0.0
 [DEBUG] 2018-01-12 18:11:14,038 Line:5853 45:0.0
 [DEBUG] 2018-01-12 18:11:14,038 Line:5853 46:0.0
 [DEBUG] 2018-01-12 18:11:14,038 Line:5853 47:0
 [DEBUG] 2018-01-12 18:11:14,038 Line:5853 48:0.0
 [DEBUG] 2018-01-12 18:11:14,038 Line:5853 49:0.0
 [DEBUG] 2018-01-12 18:11:14,038 Line:5853 50:0
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 51:
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 52:0.0
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 53:0.0
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 54:0.0
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 55:0
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 56:0
 [DEBUG] 2018-01-12 18:11:14,039 Line:5853 57:
 [DEBUG] 2018-01-12 18:11:14,040 Line:5853 58:0.0
 [DEBUG] 2018-01-12 18:11:14,040 Line:5853 59:0.0
 [DEBUG] 2018-01-12 18:11:14,040 Line:5853 60:
 [DEBUG] 2018-01-12 18:11:14,040 Line:5853 61:0.0
 [DEBUG] 2018-01-12 18:11:14,040 Line:5853 62:00001
 [DEBUG] 2018-01-12 18:11:14,046 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2018-01-12 18:11:14,048 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,048 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-12 18:11:14,049 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,049 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2018-01-12 18:11:14,050 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,050 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2018-01-12 18:11:14,051 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,051 Line:313 exeCondition:tblBuyInStock_Add :'d3ba9294_1801121810573470295'.length>0
 [DEBUG] 2018-01-12 18:11:14,052 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,052 Line:1081 自定义执行的语句显示： tblBuyInStock_Add:update tblBuyInStockDet set BuyOrderID=? where f_ref=? and len(isnull(BuyOrderID,''))=0
 [DEBUG] 2018-01-12 18:11:14,052 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:11:14,053 Line:1157 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,054 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add,  影响行数=0
 [DEBUG] 2018-01-12 18:11:14,055 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 18:11:14,055 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2018-01-12 18:11:14,056 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,056 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 18:11:14,057 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,058 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-12 18:11:14,058 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,059 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,059 Line:988 2值：2018-01-12
 [DEBUG] 2018-01-12 18:11:14,061 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:11:14,061 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 18:11:14,062 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,062 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-12 18:11:14,063 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,063 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,063 Line:988 2值：00003
 [DEBUG] 2018-01-12 18:11:14,066 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 18:11:14,067 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 18:11:14,067 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,068 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-12 18:11:14,068 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,068 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,068 Line:988 2值：00003
 [DEBUG] 2018-01-12 18:11:14,071 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:11:14,072 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-12 18:11:14,073 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,073 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-12 18:11:14,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,073 Line:988 1值：false
 [DEBUG] 2018-01-12 18:11:14,073 Line:988 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,078 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-12 18:11:14,079 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-12 18:11:14,079 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2018-01-12 18:11:14,079 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,080 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2018-01-12 18:11:14,080 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,080 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,085 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-12 18:11:14,085 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,086 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,086 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-12 18:11:14,086 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,087 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,089 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:11:14,089 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,090 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,090 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-12 18:11:14,090 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,091 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,093 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:11:14,094 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,094 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,095 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-12 18:11:14,095 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,095 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,099 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 18:11:14,099 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,100 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,100 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,101 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,101 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-12 18:11:14,101 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,101 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,104 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:11:14,105 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,106 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,106 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2018-01-12 18:11:14,106 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,107 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-12 18:11:14,107 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,107 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,110 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-12 18:11:14,110 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,111 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,111 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2018-01-12 18:11:14,111 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,112 Line:988 1值：1
 [DEBUG] 2018-01-12 18:11:14,112 Line:988 2值：0
 [DEBUG] 2018-01-12 18:11:14,112 Line:988 3值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,115 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-12 18:11:14,115 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-12 18:11:14,115 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 18:11:14,116 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2018-01-12 18:11:14,116 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,116 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-12 18:11:14,117 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,117 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,127 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-12 18:11:14,127 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,128 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,129 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2018-01-12 18:11:14,129 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,129 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,130 Line:1043 ---上述语句时间---1
 [DEBUG] 2018-01-12 18:11:14,131 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-12 18:11:14,131 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,132 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-12 18:11:14,132 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,132 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,134 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-12 18:11:14,135 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-12 18:11:14,135 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,135 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-12 18:11:14,136 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,136 Line:988 1值：
 [DEBUG] 2018-01-12 18:11:14,136 Line:988 2值：00001
 [DEBUG] 2018-01-12 18:11:14,137 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-12 18:11:14,137 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2018-01-12 18:11:14,137 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-12 18:11:14,137 Line:988 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,137 Line:988 2值：
 [DEBUG] 2018-01-12 18:11:14,138 Line:988 3值：
 [DEBUG] 2018-01-12 18:11:14,138 Line:988 4值：
 [DEBUG] 2018-01-12 18:11:14,141 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-12 18:11:14,141 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2018-01-12 18:11:14,142 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,142 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2018-01-12 18:11:14,143 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,143 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-12 18:11:14,144 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,144 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2018-01-12 18:11:14,144 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,145 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2018-01-12 18:11:14,145 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,146 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-12 18:11:14,146 Line:1154 1整数 值：2
 [DEBUG] 2018-01-12 18:11:14,146 Line:1157 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,149 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 18:11:14,150 Line:229 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 18:11:14,150 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-12 18:11:14,150 Line:1154 1整数 值：2
 [DEBUG] 2018-01-12 18:11:14,150 Line:1157 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,150 Line:1157 3值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,155 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 18:11:14,155 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-12 18:11:14,155 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2018-01-12 18:11:14,156 Line:1157 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,156 Line:1157 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,160 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 18:11:14,161 Line:229 ************上述语句执行时间：6
 [DEBUG] 2018-01-12 18:11:14,161 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2018-01-12 18:11:14,161 Line:1157 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,163 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 18:11:14,164 Line:229 ************上述语句执行时间：3
 [DEBUG] 2018-01-12 18:11:14,164 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2018-01-12 18:11:14,164 Line:1157 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,168 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 18:11:14,169 Line:229 ************上述语句执行时间：5
 [DEBUG] 2018-01-12 18:11:14,169 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-12 18:11:14,169 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,170 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2018-01-12 18:11:14,170 Line:1157 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,170 Line:1157 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,174 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-12 18:11:14,175 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-12 18:11:14,175 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'d3ba9294_1801121810573470295'.length>0
 [DEBUG] 2018-01-12 18:11:14,175 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,176 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set BuyOrderID=? where f_ref=? and len(isnull(BuyOrderID,''))=0
 [DEBUG] 2018-01-12 18:11:14,176 Line:1157 1值：d3ba9294_1801121810573470295
 [DEBUG] 2018-01-12 18:11:14,176 Line:1157 2值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,176 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 18:11:14,177 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-12 18:11:14,177 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2018-01-12 18:11:14,177 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,178 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-12 18:11:14,178 Line:1270 d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,178 Line:1270 add
 [DEBUG] 2018-01-12 18:11:14,252 Line:425 ************上述语句执行时间：74
 [DEBUG] 2018-01-12 18:11:14,252 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2018-01-12 18:11:14,253 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,253 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-12 18:11:14,253 Line:1157 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,262 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 18:11:14,262 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-12 18:11:14,262 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2018-01-12 18:11:14,263 Line:1157 1值：d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,271 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-12 18:11:14,271 Line:408 ************上述语句执行时间：9
 [DEBUG] 2018-01-12 18:11:14,272 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-12 18:11:14,272 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,273 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_updateStocksNotAudit(@GoodsCode=?,@StockCode=?,@BillType=?,@InstoreQty=?,@OutstoreQty=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-12 18:11:14,273 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2018-01-12 18:11:14,273 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2018-01-12 18:11:14,273 Line:1270 tblBuyInStock
 [DEBUG] 2018-01-12 18:11:14,273 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2018-01-12 18:11:14,274 Line:1270 0
 [DEBUG] 2018-01-12 18:11:14,274 Line:1270 tblBuyInStockDet
 [DEBUG] 2018-01-12 18:11:14,274 Line:1270 f_ref='d3ba9294_1801121811140100298'
 [DEBUG] 2018-01-12 18:11:14,293 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.GoodsCode),'tblBuyInStock',tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,tblBuyInStockDet.Qty,0,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)) from tblBuyInStockDet where f_ref='d3ba9294_1801121811140100298'
 [DEBUG] 2018-01-12 18:11:14,294 Line:425 ************上述语句执行时间：21
 [DEBUG] 2018-01-12 18:11:14,294 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-12 18:11:14,294 Line:321 flag:true
 [DEBUG] 2018-01-12 18:11:14,295 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_insertSeqOutInDet(?,?,?,?)}
 [DEBUG] 2018-01-12 18:11:14,295 Line:1270 d3ba9294_1801121811140100298
 [DEBUG] 2018-01-12 18:11:14,295 Line:1270 add
 [DEBUG] 2018-01-12 18:11:14,354 Line:425 ************上述语句执行时间：59
 [DEBUG] 2018-01-12 18:11:14,354 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'1' == '0' && false==false
 [DEBUG] 2018-01-12 18:11:14,355 Line:321 flag:false
 [DEBUG] 2018-01-12 18:11:14,371 Line:1064  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:14,374 Line:1064  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:14,377 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936579370110;tableName=tblBuyInStock;id=d3ba9294_1801121811140100298;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-12 18:11:14,399 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=d3ba9294_1801121811140100298&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblBuyInStock&designId=eae3edac_0906121936579370110&operation=82&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-12 18:11:14,399 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[d3ba9294_1801121811140100298,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblBuyInStock,];designId=[eae3edac_0906121936579370110,];operation=[82,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-12 18:11:14,401 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:14,412 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:14,417 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:15,791 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-12 18:11:15,791 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[$winCurIndex,$winCurIndex,];keyId=[d3ba9294_1801121811140100298,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936579370110,];currNode=[0,];department=[00101,];fromAdvice=[,];approveStatus=[,];noback=[false,];toPage=[,];fromPage=[,];tableName=[tblBuyInStock,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1515750832530,];checkPerson=[2cf86be0_1712291628149430079,];
 [DEBUG] 2018-01-12 18:11:15,792 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:15,799 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:15,804 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:15,807 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:16,947 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&parentCode=&f_brother=&keyId=d3ba9294_1801121811140100298&moduleType=&checkTab=Y&parentTableName=&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-12 18:11:16,947 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-12 18:11:16,948 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:16,954 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:16,957 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:17,156 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&parentCode=&f_brother=&keyId=d3ba9294_1801121811140100298&moduleType=&checkTab=Y&parentTableName=&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-12 18:11:17,156 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-12 18:11:17,157 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:17,162 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:17,164 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:20,077 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-12 18:11:20,078 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-12 18:11:20,080 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:11:20,235 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-12 18:11:20,235 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-12 18:11:20,245 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-12 18:11:20,245 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:11:20,245 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:11:20,252 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-12 18:11:20,252 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:11:20,253 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:11:20,260 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-12 18:11:20,260 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:11:20,261 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:11:20,265 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-12 18:11:20,266 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-12 18:11:20,266 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:11:23,452 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-12 18:11:23,453 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-12 18:11:23,453 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-12 18:11:23,482 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:11:23,482 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:11:23,511 Line:689 通过SQL读原始数据：29
 [DEBUG] 2018-01-12 18:11:23,511 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:11:24,861 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:11:24,862 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:11:24,863 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:24,872 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:24,876 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:25,048 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:11:25,048 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:11:25,048 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:25,054 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:25,056 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:31,576 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:11:31,578 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:11:31,578 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:11:31,613 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:11:31,615 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 18:11:33,010 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:11:33,011 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:11:33,011 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:11:33,016 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:11:33,017 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-12 18:11:33,955 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-12 18:11:33,956 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-12 18:11:33,956 Line:243 AIOApi op=myworkflow&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:11:33,969 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-12 18:11:33,971 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-12","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936579370110","templateName":"采购入库单","orderIndex":0,"billId":"d3ba9294_1801121811140100298","applyContent":"","currentNode":"1515750832530","nextNodeIds":"","tableName":"tblBuyInStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson等等！
 [DEBUG] 2018-01-12 18:11:35,201 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:11:35,202 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];
 [DEBUG] 2018-01-12 18:11:35,202 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:11:35,206 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:35,208 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:11:35,209 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:11:35,298 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120002","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_180112181057347等等！
 [DEBUG] 2018-01-12 18:12:03,586 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:12:03,587 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];
 [DEBUG] 2018-01-12 18:12:03,587 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:12:03,694 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:12:03,706 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:12:03,710 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:12:03,848 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120002","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_180112181057347等等！
 [DEBUG] 2018-01-12 18:15:11,980 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-12 18:15:11,981 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];
 [DEBUG] 2018-01-12 18:15:11,981 Line:243 AIOApi op=detail&sessionid=9788900E3823BF7A139C1B52ECE2B4A1
 [DEBUG] 2018-01-12 18:15:12,178 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:15:12,197 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:15:12,205 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:15:12,342 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120002","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_180112181057347等等！
 [DEBUG] 2018-01-12 18:15:46,231 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-12 18:15:46,232 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-12 18:15:46,232 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-12 18:15:47,130 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-12 18:15:47,130 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-12 18:15:51,002 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-12 18:15:51,003 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-12 18:15:51,003 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 18:15:55,907 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 18:15:55,908 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库,];
 [DEBUG] 2018-01-12 18:15:58,103 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93&popWinName=TablemgtDiv
 [DEBUG] 2018-01-12 18:15:58,103 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-12 18:15:58,304 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:15:58,304 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:15:58,813 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:17:40,233 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 18:17:40,238 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[77,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblBuyInStock,];oldtableName=[tblBuyInStock,];tableDisplay=[en:;zh_CN:采购入库单;,];tableDisplayDis=[采购入库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="tblBuyInStock_Add"><sql operation="delete" post="before" id="tblBuyInStock_Delete"><sql operation="update" post="before" id="tblBuyInStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="tblBuyInStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo">,];extendButton=[<button type="copy" operation="list">          <button type="quote" operation="add" value="tblBuyOrder:tblBuyInStock_quote_tblBuyOrder" name="BuyInStock">        <button type="billExport" operation="list">      <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportAskPrice&detTable_list=tblBuyAskPrice&id=@ValueofDB:BuyAskPriceID&BillNo=@ValueofDB:tblBuyInStockDet_tblBuyAskPrice_BillNo&StartDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="采购询价明细" >    <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblBuyOrderDet&detTable_list=tblBuyOrder&BillNo=@ValueofDB:BuyOrderNo|tblBuyInStockDet_tblBuyOrder_BillNo&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="采购订单明细" >          <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportBuyReturn&detTable_list=tblBuyOutStock&BuyInID=@ValueofDB:id&workFlowNodeName=all&BillDate_s=@ValueofDB:periodBegin" name="采购退货明细" >        <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblBuyReplaceDet&detTable_list=tblBuyReplace&BuyInStockID=@ValueofDB:id&detTable_list=tblBuyReplace&workFlowNodeName=all&startDate=@ValueofDB:periodBegin" name="采购换货明细" >        <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportBuyPayDet&detTable_list=tblPay&RefbillID=@ValueofDB:id&detTable_list=tblBuyInStock&workFlowNodeName=all&startDate=@ValueofDB:BillDate" name="付款明细" >                <button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" >                <button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyGlist&mainNumber=RptCompanyG&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName&Currency=@ValueofDB:Currency&tblCurrency.CurrencyName=@ValueofDB:tblSetExchange_CurrencyName" name="应付统计" >          <button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存" ><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" ><button type="quote" operation="add" value="tblBuyAskPrice:tblBuyInStock_quote_tblBuyAskPrice" name="BuyOrders">,];tableDesc=[,];PopDisSentence=[select b.id,tblCompany.[tblCompany_1], d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName, f.StockFullName as tblStock_StockFullName, s.StockFullName as tblStock_StockFullName1,tblGoods.[tblGoods],l.billNo as tblBuyOrder_BillNo,m.billNo as tblBuyAskPrice_BillNo,n.billNo as tblSalesOutStock_BillNo,j.CurrencyName as tblSetExchange_CurrencyName,tblProject.ProjectName AS tblProject_ProjectName,tblAccTypeInfo.AccName as tblAccTypeInfo_AccName from tblBuyInStock  left join tblBuyInStockDet b on tblBuyInStock.id=b.f_ref   left join tblCompany on tblCompany.classCode=tblBuyInStock.companyCode left join  tblDepartMent d on  tblBuyInStock.DepartmentCode=d.classCode left join  tblEmployee e on tblBuyInStock.EmployeeId=e.id  left join  tblStock f  on tblBuyInStock.stockCode=f.classCode  left join  tblStock s  on b.stockCode=s.classCode left join tblGoods on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblBuyInStock.Currency left join tblBuyOrder l on b.BuyOrderID=l.id left join tblBuyAskPrice m on b.BuyAskPriceID=m.id left join tblSalesOutStock n on b.SalesOutID=n.id LEFT JOIN tblProject ON tblBuyInStock.ProjectCode = tblProject.id left join tblAccTypeInfo on tblBuyInStock.freightAcc=tblAccTypeInfo.AccNumber,];fieldId=[37c513dd_1003171749306250054,e7f16d7e_0812132218376250688,53d5dd4a_0906151435524370105,2e80f665_0902281108080000047,5972374a_0901161930260310274,1071,1276,1274,1275,1277,de9c5998_0904271836495780104,093d77c7_0811302147547180042,2a7c495c_1106301526423902419,b12103b003021039245000307,b12103b003021039245000309,63b9eaf8_1407161103438150055,63b9eaf8_1407161103438160058,2837eec0_0902081716498591564,836fb033_0903101518143590095,80ceb173_0903171703260620834,1087,2e5afa72_0903131446584840463,5d40aa36_1111181359121090470,D10231FCD8014946A54F79D834BC,1283,1282,1281,b8a2d940_0811301613577650300,1965c9a3_1010191412001870190,f0ac3925_1108191800253356265,1085,5414fba8_1003181424129210058,1067,61aed2d9_0812251518300000123,2e5afa72_0903131446584840461,1084,077,5868d4ee_1011170936537960115,FA45A3779BD34A6881F89FC04122D1,3BB2806CB59F4525B8563F172BE707,1BEEFF37012C45EC9E69ECF267B6F8,22c94156_1312141029461870126,268436AC20874AFC9A5E4E6424F102,A3604512972946C099D5587DDEAA23,EE2A1E994F154820BBEC20E6297CBD,7BD7F93E12004B1994024B36736DFE,832DCE9D42F341689F16E5ACBD0492,1272,2c44409f_1212071654548890138,33420dd_1106061729496250061,8a40fb3c_1606281602514400928,8a40fb3c_1606281729438891071,d3ba9294_1801121751598590193,d3ba9294_1801121751598590196,,,];languageId=[717cf81e_1305071731119370230,717cf81e_1305071731119370231,717cf81e_1305071731119370232,717cf81e_1305071731119370233,717cf81e_1305071731119370234,717cf81e_1305071731119370235,717cf81e_1305071731119370236,717cf81e_1305071731119370237,717cf81e_1305071731119370238,717cf81e_1305071731119370239,717cf81e_1305071731119370240,717cf81e_1305071731119370243,717cf81e_1305071731119370247,717cf81e_1305071731119370248,717cf81e_1305071731119370249,63b9eaf8_1407161103438150056,63b9eaf8_1407161103438160059,717cf81e_1305071731119370250,717cf81e_1305071731119370251,717cf81e_1305071731119370254,717cf81e_1305071731119370256,717cf81e_1305071731119370257,717cf81e_1305071731119370261,1BEB9A120CE44E15AAAA1405BE7E,717cf81e_1305071731119370285,717cf81e_1305071731119370286,717cf81e_1305071731119370287,717cf81e_1305071731119370279,717cf81e_1305071731119370267,717cf81e_1305071731119370281,717cf81e_1305071731119370270,717cf81e_1305071731119370274,717cf81e_1305071731119370275,717cf81e_1305071731119370276,717cf81e_1305071731119370271,717cf81e_1305071731119370272,717cf81e_1305071731119370273,717cf81e_1305071731119370290,A70A8A91CD62430895A7821C7E85A1,463A9AC002EA4A2EB576A8A12847B7,5DE9F052973B4DB682053A80499D4C,22c94156_1312141029461870127,443CDFA31C2B43BABE610A35DC1D5E,49D6CDAA4E6042BCA677230405EE8F,4397233B3F3D4A07945F307B18D2C7,6146FF2BEC81423A912BB9E46DF2F0,ACB99F013A2A48B6BC62B99D1158A0,717cf81e_1305071731119370291,717cf81e_1305071731119370292,717cf81e_1305071731119370294,8a40fb3c_1606281602514400929,8a40fb3c_1606281729438891072,d3ba9294_1801121751598590194,d3ba9294_1801121751598590197,,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,];isStat=[1,1,0,1,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,0,0,0,0,,];isNull=[0,0,0,0,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[2,2,0,2,0,0,0,0,0,0,0,2,0,2,2,0,0,2,2,0,2,2,2,0,0,0,0,0,2,2,2,4,0,0,2,2,0,0,4,2,4,0,4,2,2,2,2,0,0,2,2,2,0,0,,,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,,,,,ProviderInVoiceWithPayDate:ProviderInVoiceWithPayDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,freightAcc:freightAcc,,,,CurrencyWithRate:CurrencyWithRate,,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,,,,,,,,@ValueOfDB:DiscountAmount;,,,@ValueOfDB:CurDiscountAmount;,{CurTotalAmount}=sum{tblBuyInStockDet_CurAmount}+{CurProceDureExp}-{CurDiscountAmount},,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblBuyInStockDet_CurAmount}+{CurProceDureExp}-{CurDiscountAmount};{tblBuyPayAccount_Amount}={tblBuyPayAccount_ExeBalFcAmt}*{CurrencyRate};{FactOutcome}=sum{tblBuyPayAccount_Amount};{PayAmount}=sum{tblBuyPayAccount_Amount};{AccAmt}=sum{tblBuyPayAccount_Amount};{CurAlrPayAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,,,];fieldSysType=[,currency,,,RowMarker,,,,,,BillTax,,,,,freightToCost,freightToCost,,,currency,currency,currency,currency,Project,,,,,,,currency,,,,currency,,,,BillDiscount,BillDiscount,BillTax,,currency,,,BillTax,currency,,,,,,,,,,];fieldIdentityStr=[AmountIdentifier,AmountIdentifier,,AmountIdentifier,BillNo,accendnotstart,Supplier,,,,,AmountIdentifier,,AmountIdentifier,AmountIdentifier,,Amount,AmountIdentifier,AmountIdentifier,,AmountIdentifier,AmountIdentifier,,,,,,,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,,AmountIdentifier,AmountIdentifier,,,,AmountIdentifier,,,Price,AmountIdentifier,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,AmountIdentifier,AmountIdentifier,AmountIdentifier,,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,zh_CN:;,,,,,,,,,,,,,zh_CN:;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[100,3,100,0,0,0,2,2,2,2,1,3,3,8,3,2,0,0,0,2,8,0,3,2,0,0,0,0,3,100,3,100,0,0,3,0,0,0,0,8,0,0,0,8,8,8,8,0,3,0,0,0,0,0,,,];isMobile=[,2,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,2,2,];fieldName=[ChangeAmt,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,tupian,,];fieldDisplay=[en:;zh_CN:调价金额;,en:;zh_CN:外币待付金额;,en:;zh_CN:开票状态;,en:;zh_CN:待付金额;,en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:供应商;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:发票类型;,en:;zh_CN:本次结算金额;,en:;zh_CN:手续费;,en:;zh_CN:出账金额;,en:;zh_CN:实付金额;,zh_CN:运费科目;,zh_CN:运费金额;,en:;zh_CN:累计付款金额;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币已付金额;,en:;zh_CN:外币优惠金额;,en:;zh_CN:外币手续费;,en:;zh_CN:项目名称;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:备注;,en:;zh_CN:已开票金额;,en:;zh_CN:未开票金额;,en:;zh_CN:外币退货金额;,en:;zh_CN:采购询价ID;,en:;zh_CN:采购订单ID;,en:;zh_CN:采购订单编号;,en:;zh_CN:外币累计付款金额;,en:;zh_CN:退货金额;,en:;zh_CN:复核人;,en:;zh_CN:追踪单号;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:Payment date;zh_CN:付款日期;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:采购订单;,zh_CN:采购订单编号;,zh_CN:图片;,,];fieldDisplayDis=[调价金额,外币待付金额,开票状态,待付金额,单据编号,单据日期,供应商,部门,经手人,仓库,发票类型,本次结算金额,手续费,出账金额,实付金额,运费科目,运费金额,累计付款金额,优惠金额,币种,外币已付金额,外币优惠金额,外币手续费,项目名称,会计期间,会计期间月,会计期间年,备注,已开票金额,未开票金额,外币退货金额,采购询价ID,采购订单ID,采购订单编号,外币累计付款金额,退货金额,复核人,追踪单号,折扣率%,折让金额,税率%,付款日期,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,调价后金额,外币调价后金额,外币调价金额,采购订单,采购订单编号,图片,,];fieldType=[1,1,2,1,2,5,2,2,2,2,0,1,1,1,1,2,1,1,1,2,1,1,1,2,0,0,0,3,1,1,1,2,2,2,1,1,2,2,1,1,1,5,1,1,1,1,1,14,2,1,1,1,2,2,13,2,];maxLength=[0,0,100,0,20,10,50,50,50,50,0,0,0,0,0,100,0,0,0,50,0,0,0,100,0,0,0,8000,0,0,0,100,30,30,0,0,500,200,0,0,0,10,0,0,0,0,0,0,100,0,0,0,100,100,100,,];defaultValue=[0,0,0,0,,2009-11-16,,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,3,0,0,0,0,,0,0,0,,0,0,0,,,,,,0,0,0,,,,0,0,,,100,,0,,1,0,0,,0,,,,,,tblBuyOrder,,,,];width=[200,80,200,200,80,200,200,200,200,200,200,80,200,200,200,200,200,200,200,80,80,80,80,100,200,200,200,200,200,200,80,80,100,100,80,200,0,100,100,100,100,200,100,100,100,100,100,200,80,80,200,200,200,200,200,,];inputType=[100,3,100,100,0,0,2,3,2,2,3,3,3,6,3,100,100,100,0,3,3,3,3,100,100,100,100,0,3,100,3,100,100,100,3,100,100,100,3,3,3,0,3,8,8,3,3,0,3,3,3,100,100,100,0,0,];isNullId=[1,1,1,1,1,];isUniqueId=[1,];moreInputId=[ProviderInVoiceWithPayDate,Department,Employee,Stock,1,freightAcc,CurrencyWithRate,SelectProjectInfo,];zhWidth=[200,];inputTypeOldId=[,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 18:17:40,303 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 18:17:40' where tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:17:40,305 Line:1235 ALTER TABLE tblBuyInStock ADD  tupian varchar(1000) null 
 [DEBUG] 2018-01-12 18:17:40,329 Line:1235 insert into tblDBFieldInfo(tableId,id,fieldName,isCopy,listOrder,isNull,isReAudit,isUnique,isStat,defaultValue,fieldType,maxLength,width,inputType,inputTypeOld,refEnumerationName,inputValue,digits,calculate,logicValidate,udType,fieldSysType,fieldIdentityStr,copyType,statusId,popupType,languageId,groupName,insertTable,isLog) values('77','d3ba9294_1801121817402950360','tupian','1','54','0','0','0','0','','13','100','200','0','0','','','0','','','0','','','','0','','d3ba9294_1801121817402950361','','','0')
 [DEBUG] 2018-01-12 18:17:40,336 Line:1235 insert into tblLanguage(zh_CN,id) values('图片','d3ba9294_1801121817402950361')
 [DEBUG] 2018-01-12 18:17:40,338 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 18:17:40,883 Line:297  select * from tblDBTableInfo where tableName = 'tblBuyInStock'
 [DEBUG] 2018-01-12 18:17:40,885 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblBuyInStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 18:17:40,905 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 18:17:42,414 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 18:17:42,415 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 18:17:42,639 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:17:42,639 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:17:43,121 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:17:59,813 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-12 18:17:59,814 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购入库,];moduleName=[采购入库,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate2=[2018-01-01,];BillDate3=[,];workFlowNodeName=[all,];BillNo=[,];ComFullNamen=[,];EmpFullName=[,];DeptFullName=[,];BuyOrderNo=[,];EmpFullName2=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-12 18:17:59,853 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:17:59,853 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:17:59,914 Line:689 通过SQL读原始数据：61
 [DEBUG] 2018-01-12 18:17:59,915 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 18:18:02,604 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:18:02,605 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:18:02,606 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:18:02,668 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:18:02,676 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:18:02,879 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:18:02,879 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:18:02,880 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-12 18:18:02,884 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-12 18:18:02,885 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [ERROR] 2018-01-12 18:18:02,965 Line:144 文件：../../fileServer_v7/pic/tblBuyInStock/9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg-不存在
 [ERROR] 2018-01-12 18:18:09,452 Line:144 文件：../../fileServer_v7/pic/tblBuyInStock/9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg-不存在
 [DEBUG] 2018-01-12 18:18:51,815 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2018-01-12 18:18:51,815 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-12 18:18:51,815 Line:215 ---------->SET Page 4 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-12 18:18:57,959 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-12 18:18:57,960 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,];search=[销售出库单,];
 [DEBUG] 2018-01-12 18:18:59,834 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&search=%E9%94%80%E5%94%AE%E5%87%BA%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-12 18:18:59,834 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];search=[é??????????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-12 18:19:00,063 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:19:00,063 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:19:00,084 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-12 18:19:00,084 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-12 18:19:00,595 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:19:00,605 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:21:41,461 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 18:21:41,465 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[3977b668_0811062208378590351,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblSalesOutStock,];oldtableName=[tblSalesOutStock,];tableDisplay=[en:;zh_CN:销售出库单;,];tableDisplayDis=[销售出库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="SalesOutStock_Add"><sql operation="delete" post="before" id="SalesOutStock_Delete"><sql operation="update" post="before" id="SalesOutStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="SalesOutStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="auditing" id="SalesOutStock_confirm"><sql operation="reverse" id="SalesOutStock_reverse">,];extendButton=[<button type="copy" operation="list">  <button type="quote" operation="add" value="tblSalesOrder:quote_SalesOrder" name="SalesOutStock"><button type="billExport" operation="list"><button type="quote" operation="add" value="tblBuyInStock:tblSalesOutStock_quote_buyinStock" name="BuyOutStock"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyClist&mainNumber=RptCompanyC&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName" name="往来应收"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|@ValueofDB:StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存"><button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" ><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblSalesReplaceDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReplace&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售换货明细"> <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesReturnStockDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReturnStock&BillDate1=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售退货明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSaleReceiveDet&RefbillNo=@ValueofDB:BillNo&detTable_list=tblSaleReceive&BillDate1=@ValueofDB:BillDate&workFlowNodeName=all" name="收款明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesOrderDet&id=@ValueofDB:tblSalesOutStockDet_SalesOrderID&detTable_list=tblSalesOrder&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售订单明细"><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" >,];tableDesc=[,];PopDisSentence=[select tblCompany.[tblCompany_2],(select top 1 (isnull(b.Credit,0)-(b.ReceiveTotalRemain-b.PayTotalRemain+b.PrePayTotalRemain-b.PreReceiveTotalRemain))from tblCompany b where tblSalesOutStock.CompanyCode=b.classCode)+isnull((select Credit from tblTempCreditApply where tblSalesOutStock.BillDate >=tblTempCreditApply.StartDate and tblSalesOutStock.BillDate <= tblTempCreditApply.EndDate and tblSalesOutStock.CompanyCode = tblTempCreditApply.CompanyCode),0) AS ViewCompanyTotal_usableCredit, b.id,isnull(tblCompany.ReceiveTotalRemain,0)-isnull(tblCompany.PreReceiveTotalRemain,0) AS tblCompany_CompanyleaveAmt,d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName,f.StockFullName as tblStock_StockFullName,s.StockFullName as tblStock_StockFullName1,tblFreightCom.ComFullName as tblFreightCom_ComFullName,tblFreightCom.ComContactor as tblFreightCom_ComContactor,tblFreightCom.ComContactorTel as tblFreightCom_ComContactorTel,tblGoods.[tblGoods],j.CurrencyName as tblSetExchange_CurrencyName,so.BillNo as tblSalesOrder_BillNo,tblProject.ProjectName AS tblProject_ProjectName  from tblSalesOutStock  left join tblSalesOutStockDet b on tblSalesOutStock.id=b.f_ref   left join tblCompany  on tblCompany.classCode=tblSalesOutStock.companyCode   left join  tblDepartMent d on  tblSalesOutStock.DepartmentCode=d.classCode   left join  tblEmployee e on tblSalesOutStock.EmployeeId=e.id    left join tblStock f  on tblSalesOutStock.stockCode=f.classCode left join tblStock s  on b.stockCode=s.classCode left join tblGoods  on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblSalesOutStock.Currency  left join tblFreightCom on tblFreightCom.id=tblSalesOutStock.FreightCom left join tblSalesOrder so on b.SalesOrderID=so.id LEFT JOIN tblProject ON tblProject.id = tblSalesOutStock.ProjectCode,];fieldId=[d56fb40a_0912061751164060249,3977b668_0811062208378590359,3977b668_0811062208378590367,3977b668_0811062208378590363,191714eb_0811252114253750071,3977b668_0811062208378590369,342cc104_0901171533170620092,3977b668_0811062208378590385,b12103b0_1103021039245000307,b12103b0_1103021039245000309,3977b668_0811062208378590361,e2d1183d_0903110926150620047,80ceb173_0903171502499530103,3977b668_0811062208378590393,5d40aa36_1111181359121090473,2558e45d_0903191734579060119,61e23f20_1304251556371670261,5bf12750_0907171544039370061,61e23f20_1304251556371670263,8a40fb3c_1606281208599380533,05072AD2EAAE4E4F882DFEFA80B0,9667724e_1207262354598590327,bb8d748f_0901201642303750327,b6e7171b_0811212209125930067,a86e7804_0901071619075460116,a86e7804_0901071619075460114,ec688797_150943202810001,8c64eab3_0901102133235150188,e9331305_0908011608594680075,e9331305_0908011608594680073,3977b668_0811062208378590383,4ad4e571_1003061534047340076,03977b668_0811062208378590351,19878827_1206271007427760075,1a4b84c9_0903131855418900281,3977b668_0811062208378590395,1a4b84c9_0903131855418900277,3977b668_0811062208378590391,e0629724_0812221507593120464,f0ac3925_1108192100253356265,26017417_0811271452110930041,26017417_0811271452110930039,26017417_0811271452110930037,f0ac3925_0912181312252650145,4d3ffa25_0906171101547960054,FB9E66110B034F22B96E32FD703C38,31BB131DBD5543C285C1FC04697CB2,AB5BCD61B2E94E1F82E1680A3F6BAA,2FE359DE14964E38A12CB690CD9FB5,00DBCFEE01E9444882B602D1DBB9F7,1CEDD254846C4E53BCE581FCE8672D,802287B24AA54A33AE704028981BDD,F740899A7B5C468ABCCB456AE109DE,3017305DEABF4094B6EAEB1EFDE0D2,bb8d748f_0901201642303750329,2c44409f_121207235457890138,61e23f20_1304251602478420357,8a40fb3c_1606281208599510575,33420dde_1106061729496250061,6d824300_1607041834259401033,6d824300_1607051625524871957,d37bf934_1801112154018400068,d37bf934_1801112154018410071,,,];languageId=[717cf81e_1305071743153590306,717cf81e_1305071743153590307,717cf81e_1305071743153590308,717cf81e_1305071743153590309,717cf81e_1305071743153590311,717cf81e_1305071743153590312,717cf81e_1305071743153590313,717cf81e_1305071743153590316,717cf81e_1305071743153590317,717cf81e_1305071743153590318,717cf81e_1305071743153590320,717cf81e_1305071743153590322,717cf81e_1305071743153590324,717cf81e_1305071743153590326,717cf81e_1305071743153590327,717cf81e_1305071743153590328,717cf81e_1305071743153590333,717cf81e_1305071743153590334,717cf81e_1305071743153590335,8a40fb3c_1606281208599380534,F438B07315A54D2881C65E52598C,717cf81e_1305071743153590344,717cf81e_1305071743153590373,717cf81e_1305071743153590374,717cf81e_1305071743153590375,717cf81e_1305071743153590376,717cf81e_1305071743153590383,717cf81e_1305071743153590381,717cf81e_1305071743153590347,717cf81e_1305071743153590348,717cf81e_1305071743153590355,717cf81e_1305071743153590346,717cf81e_1305071743153590356,717cf81e_1305071743153590358,717cf81e_1305071743153590351,717cf81e_1305071743153590352,717cf81e_1305071743153590353,717cf81e_1305071743153590349,717cf81e_1305071743153590367,717cf81e_1305071743153590368,717cf81e_1305071743153590362,717cf81e_1305071743153590363,717cf81e_1305071743153590364,717cf81e_1305071743153590371,717cf81e_1305071743153590372,D3839F6C1253443C82E57CC2E795A4,298F3FC2E8FB4B9FA906A1D594643B,79388A192328463FB985350409292A,2E42E6C45CAF45B7B9E39DD5A979F0,7D9A732BC3F148568DD4F6FF9097B7,2E2E4895D6284C17B00D2A9BE7DF7E,206FE8005CBE41B9AE3031FA553CF1,258763946ADB4DFC9D1FF5FA2E6E5D,81E2C0DDECF346989B0536E80C17DC,717cf81e_1305071743153590385,717cf81e_1305071743153590386,717cf81e_1305071743153590388,8a40fb3c_1606281208599510576,717cf81e_1305071743153590389,6d824300_1607041834259411034,6d824300_1607051625524871958,d37bf934_1801112154018410069,d37bf934_1801112154018410072,,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,];isStat=[0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,0,,];isNull=[1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,2,2,2,0,2,0,2,2,2,0,0,2,2,0,2,0,0,0,0,0,2,0,0,2,2,0,0,2,2,2,2,2,2,0,0,0,2,0,2,4,2,4,4,2,2,2,2,0,0,0,0,2,2,2,0,0,,,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,CheckCompany,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,ClientInVoiceWithAcceptDate:ClientInVoiceWithAcceptDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,,CurrencyWithRate:CurrencyWithRate,,,,,FreightCom:FreightCom,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,@ValueOfDB:DiscountAmount;,,,{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp},@ValueOfDB:CurDiscountAmount;,,,{CurDeputyReceAmt}={deputyReceAmt}/{CurrencyRate};,{deputyReceAmt}={CurDeputyReceAmt}*{CurrencyRate};,,,,,,,,,,,,,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp};{tblSalesRecAccount_Amount}={tblSalesRecAccount_ExeBalFcAmt}*{CurrencyRate};{FactIncome}=sum{tblSalesRecAccount_Amount};{AlrAccAmt}=sum{tblSalesRecAccount_Amount};{AccAmt}=sum{tblSalesRecAccount_Amount};{CurAlrAccAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,,,,,];fieldSysType=[RowMarker,,,,,,,,,,BillTax,,currency,currency,currency,currency,,,,,Project,,,,,,,,,,,,,,currency,currency,currency,currency,,,,,,,,,BillDiscount,BillDiscount,BillTax,currency,,,BillTax,currency,,,,,,,,,,,,];fieldIdentityStr=[BillNo,accendnotstart,Customer,,,,,SAmountIdentifier,SAmountIdentifier,Amount,,SAmountIdentifier,,SAmountIdentifier,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,SAmountIdentifier,,,,,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,,SAmountIdentifier,Amount,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,SAmountIdentifier,,SAmountIdentifier,Price,SAmountIdentifier,Price,Price,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[0,0,2,2,2,2,0,3,8,3,1,0,2,8,3,0,5,2,0,0,2,0,0,0,0,0,0,0,100,100,0,3,0,100,3,3,3,3,0,100,0,0,0,100,100,3,0,8,0,0,8,8,8,8,0,3,3,0,0,0,0,100,100,,,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,2,2,2,];fieldName=[BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,tupian,,];fieldDisplay=[en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:客户;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:收款日期;,en:;zh_CN:本次结算金额;,en:;zh_CN:账户金额;,en:;zh_CN:实收金额;,en:;zh_CN:发票类型;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币收款金额;,en:;zh_CN:外币手续费;,en:;zh_CN:外币优惠金额;,en:;zh_CN:代收款;,en:;zh_CN:物流公司;,en:;zh_CN:代收金额;,zh_CN:外币代收金额;,en:;zh_CN:项目名称;,en:;zh_CN:赠(样)品总额;,en:;zh_CN:备注;,en:;zh_CN:销售出库单类型;,en:;zh_CN:associatedOrder;,en:;zh_CN:associatedOrderBillNo;,en:;zh_CN:追踪单号;,en:;zh_CN:累计收款金额;,en:;zh_CN:审核时间;,en:;zh_CN:审核人;,en:;zh_CN:退货金额;,en:;zh_CN:调价金额;,en:;zh_CN:复核人;,en:;zh_CN:采购单ID;,en:;zh_CN:外币待收款金额;,en:;zh_CN:外币预收订金;,en:;zh_CN:外币累计收款金额;,en:;zh_CN:外币销售退货金额;,en:;zh_CN:待收款金额;,en:;zh_CN:未开票金额;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:已开票金额;,en:;zh_CN:开票状态;,en:;zh_CN:多经手人结算金额;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:已代收金额;,zh_CN:外币已代收金额;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:销售订单;,zh_CN:销售订单编号;,zh_CN:图片;,,];fieldDisplayDis=[单据编号,单据日期,客户,部门,经手人,仓库,收款日期,本次结算金额,账户金额,实收金额,发票类型,优惠金额,币种,外币收款金额,外币手续费,外币优惠金额,代收款,物流公司,代收金额,外币代收金额,项目名称,赠(样)品总额,备注,销售出库单类型,associatedOrder,associatedOrderBillNo,追踪单号,累计收款金额,审核时间,审核人,退货金额,调价金额,复核人,采购单ID,外币待收款金额,外币预收订金,外币累计收款金额,外币销售退货金额,待收款金额,未开票金额,会计期间,会计期间月,会计期间年,已开票金额,开票状态,多经手人结算金额,折扣率%,折让金额,税率%,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,已代收金额,外币已代收金额,调价后金额,外币调价后金额,外币调价金额,销售订单,销售订单编号,图片,,];fieldType=[2,5,2,2,2,2,5,1,1,1,0,1,2,1,1,1,2,2,1,1,2,1,3,2,2,2,2,1,6,2,1,1,2,2,1,1,1,1,1,1,0,0,0,1,2,1,1,1,1,1,1,1,1,1,14,2,1,1,1,1,1,2,2,13,2,];maxLength=[100,10,100,100,30,100,10,0,0,0,0,0,50,0,0,0,10,50,0,0,100,9999999,8000,50,50,50,100,0,0,50,0,0,500,30,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,100,100,,,];defaultValue=[,2009-12-06,@Sess:CompanyCode;@Sess:ComFullName,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,,0,0,0,3,0,,0,0,0,,,0,,,0,,,tblSalesOrder,,,0,2009-12-06 16:59:42,,0,0,,,0,0,0,0,0,0,,,,0,0,,100,,0,1,0,0,,0,,,0,,,,,tblSalesOrder,,,,];isNullId=[1,1,1,1,1,1,];isUniqueId=[1,];width=[80,200,200,200,200,200,200,80,200,200,200,200,80,80,80,80,224,200,224,200,100,80,200,200,200,200,200,200,0,200,200,200,0,100,80,80,80,80,200,200,100,100,100,200,200,200,100,100,100,100,100,100,100,100,200,80,224,200,80,200,200,200,200,200,,];inputType=[0,0,2,3,2,2,0,3,6,3,3,0,3,3,3,3,6,6,6,6,100,6,0,100,100,100,100,3,100,100,100,3,100,100,3,3,3,3,100,100,100,100,100,100,100,3,3,3,3,3,8,8,3,3,0,3,3,3,3,3,100,100,100,0,0,];moreInputId=[ClientInVoiceWithAcceptDate,Department,Employee,Stock,1,CurrencyWithRate,1,FreightCom,SelectProjectInfo,];zhWidth=[200,200,];inputTypeOldId=[,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 18:21:41,524 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 18:21:41' where tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 18:21:41,528 Line:1235 ALTER TABLE tblSalesOutStock ADD  tupian varchar(1000) null 
 [DEBUG] 2018-01-12 18:21:41,548 Line:1235 insert into tblDBFieldInfo(tableId,id,fieldName,isCopy,listOrder,isNull,isReAudit,isUnique,isStat,defaultValue,fieldType,maxLength,width,inputType,inputTypeOld,refEnumerationName,inputValue,digits,calculate,logicValidate,udType,fieldSysType,fieldIdentityStr,copyType,statusId,popupType,languageId,groupName,insertTable,isLog) values('3977b668_0811062208378590351','d3ba9294_1801121821415200429','tupian','1','63','0','0','0','0','','13','0','200','0','0','','','0','','','0','','','','0','','d3ba9294_1801121821415200430','','','0')
 [DEBUG] 2018-01-12 18:21:41,555 Line:1235 insert into tblLanguage(zh_CN,id) values('图片','d3ba9294_1801121821415200430')
 [DEBUG] 2018-01-12 18:21:41,556 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 18:21:45,639 Line:297  select * from tblDBTableInfo where tableName = 'tblSalesOutStock'
 [DEBUG] 2018-01-12 18:21:45,647 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblSalesOutStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 18:21:45,670 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 18:21:47,170 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 18:21:47,171 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 18:21:47,433 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:21:47,433 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:21:47,455 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-12 18:21:47,456 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-12 18:21:47,943 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:21:47,944 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:22:28,539 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 18:22:28,543 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[3977b668_0811062208378590351,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblSalesOutStock,];oldtableName=[tblSalesOutStock,];tableDisplay=[en:;zh_CN:销售出库单;,];tableDisplayDis=[销售出库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="SalesOutStock_Add"><sql operation="delete" post="before" id="SalesOutStock_Delete"><sql operation="update" post="before" id="SalesOutStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="SalesOutStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="auditing" id="SalesOutStock_confirm"><sql operation="reverse" id="SalesOutStock_reverse">,];extendButton=[<button type="copy" operation="list">  <button type="quote" operation="add" value="tblSalesOrder:quote_SalesOrder" name="SalesOutStock"><button type="billExport" operation="list"><button type="quote" operation="add" value="tblBuyInStock:tblSalesOutStock_quote_buyinStock" name="BuyOutStock"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyClist&mainNumber=RptCompanyC&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName" name="往来应收"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|@ValueofDB:StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存"><button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" ><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblSalesReplaceDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReplace&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售换货明细"> <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesReturnStockDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReturnStock&BillDate1=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售退货明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSaleReceiveDet&RefbillNo=@ValueofDB:BillNo&detTable_list=tblSaleReceive&BillDate1=@ValueofDB:BillDate&workFlowNodeName=all" name="收款明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesOrderDet&id=@ValueofDB:tblSalesOutStockDet_SalesOrderID&detTable_list=tblSalesOrder&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售订单明细"><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" >,];tableDesc=[,];PopDisSentence=[select tblCompany.[tblCompany_2],(select top 1 (isnull(b.Credit,0)-(b.ReceiveTotalRemain-b.PayTotalRemain+b.PrePayTotalRemain-b.PreReceiveTotalRemain))from tblCompany b where tblSalesOutStock.CompanyCode=b.classCode)+isnull((select Credit from tblTempCreditApply where tblSalesOutStock.BillDate >=tblTempCreditApply.StartDate and tblSalesOutStock.BillDate <= tblTempCreditApply.EndDate and tblSalesOutStock.CompanyCode = tblTempCreditApply.CompanyCode),0) AS ViewCompanyTotal_usableCredit, b.id,isnull(tblCompany.ReceiveTotalRemain,0)-isnull(tblCompany.PreReceiveTotalRemain,0) AS tblCompany_CompanyleaveAmt,d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName,f.StockFullName as tblStock_StockFullName,s.StockFullName as tblStock_StockFullName1,tblFreightCom.ComFullName as tblFreightCom_ComFullName,tblFreightCom.ComContactor as tblFreightCom_ComContactor,tblFreightCom.ComContactorTel as tblFreightCom_ComContactorTel,tblGoods.[tblGoods],j.CurrencyName as tblSetExchange_CurrencyName,so.BillNo as tblSalesOrder_BillNo,tblProject.ProjectName AS tblProject_ProjectName  from tblSalesOutStock  left join tblSalesOutStockDet b on tblSalesOutStock.id=b.f_ref   left join tblCompany  on tblCompany.classCode=tblSalesOutStock.companyCode   left join  tblDepartMent d on  tblSalesOutStock.DepartmentCode=d.classCode   left join  tblEmployee e on tblSalesOutStock.EmployeeId=e.id    left join tblStock f  on tblSalesOutStock.stockCode=f.classCode left join tblStock s  on b.stockCode=s.classCode left join tblGoods  on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblSalesOutStock.Currency  left join tblFreightCom on tblFreightCom.id=tblSalesOutStock.FreightCom left join tblSalesOrder so on b.SalesOrderID=so.id LEFT JOIN tblProject ON tblProject.id = tblSalesOutStock.ProjectCode,];fieldId=[d56fb40a_0912061751164060249,3977b668_0811062208378590359,3977b668_0811062208378590367,3977b668_0811062208378590363,191714eb_0811252114253750071,3977b668_0811062208378590369,342cc104_0901171533170620092,3977b668_0811062208378590385,b12103b0_1103021039245000307,b12103b0_1103021039245000309,3977b668_0811062208378590361,e2d1183d_0903110926150620047,80ceb173_0903171502499530103,3977b668_0811062208378590393,5d40aa36_1111181359121090473,2558e45d_0903191734579060119,61e23f20_1304251556371670261,5bf12750_0907171544039370061,61e23f20_1304251556371670263,8a40fb3c_1606281208599380533,05072AD2EAAE4E4F882DFEFA80B0,9667724e_1207262354598590327,bb8d748f_0901201642303750327,b6e7171b_0811212209125930067,a86e7804_0901071619075460116,a86e7804_0901071619075460114,ec688797_150943202810001,8c64eab3_0901102133235150188,e9331305_0908011608594680075,e9331305_0908011608594680073,3977b668_0811062208378590383,4ad4e571_1003061534047340076,03977b668_0811062208378590351,19878827_1206271007427760075,1a4b84c9_0903131855418900281,3977b668_0811062208378590395,1a4b84c9_0903131855418900277,3977b668_0811062208378590391,e0629724_0812221507593120464,f0ac3925_1108192100253356265,26017417_0811271452110930041,26017417_0811271452110930039,26017417_0811271452110930037,f0ac3925_0912181312252650145,4d3ffa25_0906171101547960054,FB9E66110B034F22B96E32FD703C38,31BB131DBD5543C285C1FC04697CB2,AB5BCD61B2E94E1F82E1680A3F6BAA,2FE359DE14964E38A12CB690CD9FB5,00DBCFEE01E9444882B602D1DBB9F7,1CEDD254846C4E53BCE581FCE8672D,802287B24AA54A33AE704028981BDD,F740899A7B5C468ABCCB456AE109DE,3017305DEABF4094B6EAEB1EFDE0D2,bb8d748f_0901201642303750329,2c44409f_121207235457890138,61e23f20_1304251602478420357,8a40fb3c_1606281208599510575,33420dde_1106061729496250061,6d824300_1607041834259401033,6d824300_1607051625524871957,d37bf934_1801112154018400068,d37bf934_1801112154018410071,d3ba9294_1801121821415200429,];languageId=[717cf81e_1305071743153590306,717cf81e_1305071743153590307,717cf81e_1305071743153590308,717cf81e_1305071743153590309,717cf81e_1305071743153590311,717cf81e_1305071743153590312,717cf81e_1305071743153590313,717cf81e_1305071743153590316,717cf81e_1305071743153590317,717cf81e_1305071743153590318,717cf81e_1305071743153590320,717cf81e_1305071743153590322,717cf81e_1305071743153590324,717cf81e_1305071743153590326,717cf81e_1305071743153590327,717cf81e_1305071743153590328,717cf81e_1305071743153590333,717cf81e_1305071743153590334,717cf81e_1305071743153590335,8a40fb3c_1606281208599380534,F438B07315A54D2881C65E52598C,717cf81e_1305071743153590344,717cf81e_1305071743153590373,717cf81e_1305071743153590374,717cf81e_1305071743153590375,717cf81e_1305071743153590376,717cf81e_1305071743153590383,717cf81e_1305071743153590381,717cf81e_1305071743153590347,717cf81e_1305071743153590348,717cf81e_1305071743153590355,717cf81e_1305071743153590346,717cf81e_1305071743153590356,717cf81e_1305071743153590358,717cf81e_1305071743153590351,717cf81e_1305071743153590352,717cf81e_1305071743153590353,717cf81e_1305071743153590349,717cf81e_1305071743153590367,717cf81e_1305071743153590368,717cf81e_1305071743153590362,717cf81e_1305071743153590363,717cf81e_1305071743153590364,717cf81e_1305071743153590371,717cf81e_1305071743153590372,D3839F6C1253443C82E57CC2E795A4,298F3FC2E8FB4B9FA906A1D594643B,79388A192328463FB985350409292A,2E42E6C45CAF45B7B9E39DD5A979F0,7D9A732BC3F148568DD4F6FF9097B7,2E2E4895D6284C17B00D2A9BE7DF7E,206FE8005CBE41B9AE3031FA553CF1,258763946ADB4DFC9D1FF5FA2E6E5D,81E2C0DDECF346989B0536E80C17DC,717cf81e_1305071743153590385,717cf81e_1305071743153590386,717cf81e_1305071743153590388,8a40fb3c_1606281208599510576,717cf81e_1305071743153590389,6d824300_1607041834259411034,6d824300_1607051625524871958,d37bf934_1801112154018410069,d37bf934_1801112154018410072,d3ba9294_1801121821415200430,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,];isStat=[0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,0,];isNull=[1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,2,2,2,0,2,0,2,2,2,0,0,2,2,0,2,0,0,0,0,0,2,0,0,2,2,0,0,2,2,2,2,2,2,0,0,0,2,0,2,4,2,4,4,2,2,2,2,0,0,0,0,2,2,2,0,0,0,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,CheckCompany,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,ClientInVoiceWithAcceptDate:ClientInVoiceWithAcceptDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,,CurrencyWithRate:CurrencyWithRate,,,,,FreightCom:FreightCom,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,@ValueOfDB:DiscountAmount;,,,{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp},@ValueOfDB:CurDiscountAmount;,,,{CurDeputyReceAmt}={deputyReceAmt}/{CurrencyRate};,{deputyReceAmt}={CurDeputyReceAmt}*{CurrencyRate};,,,,,,,,,,,,,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp};{tblSalesRecAccount_Amount}={tblSalesRecAccount_ExeBalFcAmt}*{CurrencyRate};{FactIncome}=sum{tblSalesRecAccount_Amount};{AlrAccAmt}=sum{tblSalesRecAccount_Amount};{AccAmt}=sum{tblSalesRecAccount_Amount};{CurAlrAccAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,,,,];fieldSysType=[RowMarker,,,,,,,,,,BillTax,,currency,currency,currency,currency,,,,,Project,,,,,,,,,,,,,,currency,currency,currency,currency,,,,,,,,,BillDiscount,BillDiscount,BillTax,currency,,,BillTax,currency,,,,,,,,,,,];fieldIdentityStr=[BillNo,accendnotstart,Customer,,,,,SAmountIdentifier,SAmountIdentifier,Amount,,SAmountIdentifier,,SAmountIdentifier,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,SAmountIdentifier,,,,,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,,SAmountIdentifier,Amount,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,SAmountIdentifier,,SAmountIdentifier,Price,SAmountIdentifier,Price,Price,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isLog=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];inputTypeOld=[0,0,2,2,2,2,0,3,8,3,1,0,2,8,3,0,5,2,0,0,2,0,0,0,0,0,0,0,100,100,0,3,0,100,3,3,3,3,0,100,0,0,0,100,100,3,0,8,0,0,8,8,8,8,0,3,3,0,0,0,0,100,100,0,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];fieldName=[BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,ass_OrderId,ass_OrderBillNo,tupian,];fieldDisplay=[en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:客户;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:收款日期;,en:;zh_CN:本次结算金额;,en:;zh_CN:账户金额;,en:;zh_CN:实收金额;,en:;zh_CN:发票类型;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币收款金额;,en:;zh_CN:外币手续费;,en:;zh_CN:外币优惠金额;,en:;zh_CN:代收款;,en:;zh_CN:物流公司;,en:;zh_CN:代收金额;,zh_CN:外币代收金额;,en:;zh_CN:项目名称;,en:;zh_CN:赠(样)品总额;,en:;zh_CN:备注;,en:;zh_CN:销售出库单类型;,en:;zh_CN:associatedOrder;,en:;zh_CN:associatedOrderBillNo;,en:;zh_CN:追踪单号;,en:;zh_CN:累计收款金额;,en:;zh_CN:审核时间;,en:;zh_CN:审核人;,en:;zh_CN:退货金额;,en:;zh_CN:调价金额;,en:;zh_CN:复核人;,en:;zh_CN:采购单ID;,en:;zh_CN:外币待收款金额;,en:;zh_CN:外币预收订金;,en:;zh_CN:外币累计收款金额;,en:;zh_CN:外币销售退货金额;,en:;zh_CN:待收款金额;,en:;zh_CN:未开票金额;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:已开票金额;,en:;zh_CN:开票状态;,en:;zh_CN:多经手人结算金额;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:已代收金额;,zh_CN:外币已代收金额;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,zh_CN:销售订单;,zh_CN:销售订单编号;,zh_CN:图片;,];fieldDisplayDis=[单据编号,单据日期,客户,部门,经手人,仓库,收款日期,本次结算金额,账户金额,实收金额,发票类型,优惠金额,币种,外币收款金额,外币手续费,外币优惠金额,代收款,物流公司,代收金额,外币代收金额,项目名称,赠(样)品总额,备注,销售出库单类型,associatedOrder,associatedOrderBillNo,追踪单号,累计收款金额,审核时间,审核人,退货金额,调价金额,复核人,采购单ID,外币待收款金额,外币预收订金,外币累计收款金额,外币销售退货金额,待收款金额,未开票金额,会计期间,会计期间月,会计期间年,已开票金额,开票状态,多经手人结算金额,折扣率%,折让金额,税率%,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,已代收金额,外币已代收金额,调价后金额,外币调价后金额,外币调价金额,销售订单,销售订单编号,图片,];fieldType=[2,5,2,2,2,2,5,1,1,1,0,1,2,1,1,1,2,2,1,1,2,1,3,2,2,2,2,1,6,2,1,1,2,2,1,1,1,1,1,1,0,0,0,1,2,1,1,1,1,1,1,1,1,1,14,2,1,1,1,1,1,2,2,13,];maxLength=[100,10,100,100,30,100,10,0,0,0,0,0,50,0,0,0,10,50,0,0,100,9999999,8000,50,50,50,100,0,0,50,0,0,500,30,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,100,100,8000,];defaultValue=[,2009-12-06,@Sess:CompanyCode;@Sess:ComFullName,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,,0,0,0,3,0,,0,0,0,,,0,,,0,,,tblSalesOrder,,,0,2009-12-06 16:59:42,,0,0,,,0,0,0,0,0,0,,,,0,0,,100,,0,1,0,0,,0,,,0,,,,,tblSalesOrder,,,];isNullId=[1,1,1,1,1,1,];isUniqueId=[1,];width=[80,200,200,200,200,200,200,80,200,200,200,200,80,80,80,80,224,200,224,200,100,80,200,200,200,200,200,200,0,200,200,200,0,100,80,80,80,80,200,200,100,100,100,200,200,200,100,100,100,100,100,100,100,100,200,80,224,200,80,200,200,200,200,200,];inputType=[0,0,2,3,2,2,0,3,6,3,3,0,3,3,3,3,6,6,6,6,100,6,0,100,100,100,100,3,100,100,100,3,100,100,3,3,3,3,100,100,100,100,100,100,100,3,3,3,3,3,8,8,3,3,0,3,3,3,3,3,100,100,100,0,];moreInputId=[ClientInVoiceWithAcceptDate,Department,Employee,Stock,1,CurrencyWithRate,1,FreightCom,SelectProjectInfo,];zhWidth=[200,200,];inputTypeOldId=[,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];
 [DEBUG] 2018-01-12 18:22:28,648 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 18:22:28' where tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 18:22:28,650 Line:1235  update tblDBFieldInfo set maxLength='8000',groupName=null where tableid=(select id from tblDBTableInfo where tableName='tblSalesOutStock') and fieldName = 'tupian'
 [DEBUG] 2018-01-12 18:22:28,653 Line:1235 ALTER TABLE tblSalesOutStock alter column  tupian varchar(1000) null 
 [DEBUG] 2018-01-12 18:22:28,660 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 18:22:29,048 Line:297  select * from tblDBTableInfo where tableName = 'tblSalesOutStock'
 [DEBUG] 2018-01-12 18:22:29,053 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblSalesOutStock') order by tableId,listOrder
 [DEBUG] 2018-01-12 18:22:29,060 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 18:22:30,551 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-12 18:22:30,552 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-12 18:22:33,296 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-12 18:22:33,296 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-12 18:22:33,315 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-12 18:22:33,316 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-12 18:22:33,605 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:22:33,610 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:22:54,510 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&src=menu&winCurIndex=5
 [DEBUG] 2018-01-12 18:22:54,511 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];src=[menu,];winCurIndex=[5,];
 [DEBUG] 2018-01-12 18:22:54,511 Line:215 ---------->SET Page 5 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOutStock
 [DEBUG] 2018-01-12 18:22:54,555 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:22:54,556 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:22:54,661 Line:689 通过SQL读原始数据：105
 [DEBUG] 2018-01-12 18:22:54,662 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:22:56,403 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOutStock&keyId=d37bf934_1801112303271320532&moduleType=&f_brother=&operation=5&winCurIndex=5&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:22:56,403 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];keyId=[d37bf934_1801112303271320532,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[5,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:22:56,406 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d37bf934_1801112303271320532' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-12 18:22:56,456 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 18:22:56,463 Line:1525  select * from  tblSalesRecAccount where f_ref = 'd37bf934_1801112303271320532' order by detOrderNo
 [DEBUG] 2018-01-12 18:23:18,957 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalseQuote&src=menu&winCurIndex=6
 [DEBUG] 2018-01-12 18:23:18,957 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalseQuote,];src=[menu,];winCurIndex=[6,];
 [DEBUG] 2018-01-12 18:23:18,958 Line:215 ---------->SET Page 6 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalseQuote
 [DEBUG] 2018-01-12 18:23:18,975 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,Remark,id,sysName,TotalTaxAmount,CurTotalTaxAmount,workFlowNodeName from ( select tblSalseQuote.id as keyId,tblSalseQuote.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalseQuote.createBy) as deptCodeR,tblSalseQuote.employeeId as employeeId,tblSalseQuote.departmentCode as deptCodeRE, tblSalseQuote.workFlowNodeName as workFlowNodeName,       tblSalseQuote.BillDate as BillDate,     tblSalseQuote.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalseQuote.Remark as Remark,     tblSalseQuote.id as id,     tblEmployee2.EmpFullName as sysName,     tblSalseQuote.TotalTaxAmount as TotalTaxAmount,     tblSalseQuote.CurTotalAmount as CurTotalTaxAmount   ,ROW_NUMBER() over(order by     tblSalseQuote.BillDate desc,    tblSalseQuote.BillNo desc) as row_id  from tblSalseQuote left join tblCompany on tblSalseQuote.CompanyCode=tblCompany.classCode left join tblEmployee on tblSalseQuote.EmployeeID=tblEmployee.id left join tblDepartment on tblSalseQuote.DepartmentCode=tblDepartment.classCode left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalseQuote.createBy where 1=1 and isNull(tblSalseQuote.workFlowNodeName,'')!='print'        and (tblSalseQuote.BillDate >= ?)                                        )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-12 18:23:18,976 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-12 18:23:18,987 Line:689 通过SQL读原始数据：11
 [DEBUG] 2018-01-12 18:23:18,987 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:23:19,030 Line:5242 GlobalsTool.js 生成js 时间23:/js/gen/defineList.vjstblSalseQuote_zh_CN.js
 [DEBUG] 2018-01-12 18:23:20,503 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalseQuote&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=6&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:23:20,504 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalseQuote,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[6,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:23:20,612 Line:5242 GlobalsTool.js 生成js 时间99:/js/gen/define.vjstblSalseQuote_zh_CN.js
 [DEBUG] 2018-01-12 18:40:51,661 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 18:44:16,603 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do?src=menu&winCurIndex=7
 [DEBUG] 2018-01-12 18:44:16,603 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[7,];
 [DEBUG] 2018-01-12 18:44:16,603 Line:215 ---------->SET Page 7 DEFAULT URL = /ReportSetQueryAction.do
 [DEBUG] 2018-01-12 18:44:22,147 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do
 [DEBUG] 2018-01-12 18:44:22,148 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[7,7,];styleType=[,];reportNames=[库存查询,];statusIds=[0,];reportType=[,];reportModule=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-12 18:45:10,817 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 18:45:10,818 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 18:45:10,818 Line:243 AIOApi op=getSessEmp&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:45:10,818 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 18:45:12,158 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-12 18:45:12,158 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 18:45:12,158 Line:243 AIOApi op=LOGIN&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:45:12,190 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:45:12,222 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 18:45:12,237 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 18:45:12,276 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-12 18:45:12,710 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 18:45:12,711 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 18:45:12,712 Line:243 AIOApi op=getSessEmp&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:45:12,713 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 18:45:12,732 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 18:45:12,732 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 18:45:12,732 Line:243 AIOApi op=getEnum&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:45:12,733 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 18:45:15,159 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-12 18:45:15,160 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-12 18:45:15,160 Line:243 AIOApi op=report&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:45:15,204 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-12 18:45:15,204 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-12 18:45:15,204 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-12 18:45:15,205 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-12 18:45:15,205 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-12 18:45:15,205 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-12 18:45:15,205 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-12 18:45:15,205 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-12 18:45:15,205 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-12 18:45:15,205 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-12 18:45:15,205 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-12 18:45:15,206 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-12 18:45:15,207 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-12 18:45:15,302 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-12 18:45:15,302 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-12 18:45:15,302 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:45:15,302 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:45:15,303 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-12 18:45:15,303 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:45:15,303 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-12 18:45:15,303 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-12 18:45:15,304 Line:689 通过SQL读原始数据：100
 [DEBUG] 2018-01-12 18:45:15,304 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 18:45:15,312 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-12 18:45:16,662 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-12 18:45:16,664 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-12 18:45:16,665 Line:243 AIOApi op=report&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:45:16,699 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-12 18:45:16,700 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-12 18:45:16,701 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-12 18:45:16,702 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-12 18:45:16,702 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-12 18:45:16,703 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-12 18:45:16,704 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-12 18:45:16,704 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-12 18:45:16,705 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-12 18:45:16,705 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-12 18:45:16,706 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-12 18:45:16,707 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-12 18:45:16,707 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-12 18:45:16,708 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-12 18:45:16,709 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-12 18:45:16,709 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-12 18:45:16,710 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-12 18:45:16,710 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-12 18:45:16,711 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-12 18:45:16,719 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-12 18:45:16,720 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-12 18:45:16,720 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:45:16,721 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:45:16,721 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-12 18:45:16,721 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:45:16,721 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-12 18:45:16,722 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-12 18:45:16,723 Line:689 通过SQL读原始数据：23
 [DEBUG] 2018-01-12 18:45:16,724 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 18:45:16,737 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-12 18:47:13,286 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-12 18:47:13,287 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-12 18:47:13,288 Line:243 AIOApi op=report&sessionid=273CD28F1CB8F266F35C1691B5312189
 [DEBUG] 2018-01-12 18:47:13,351 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-12 18:47:13,352 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-12 18:47:13,353 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-12 18:47:13,353 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-12 18:47:13,353 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-12 18:47:13,353 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-12 18:47:13,354 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-12 18:47:13,355 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-12 18:47:13,355 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-12 18:47:13,355 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-12 18:47:13,355 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-12 18:47:13,355 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-12 18:47:13,355 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-12 18:47:13,516 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-12 18:47:13,517 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-12 18:47:13,518 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:47:13,519 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:47:13,519 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-12 18:47:13,519 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 18:47:13,520 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-12 18:47:13,520 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-12 18:47:13,521 Line:689 通过SQL读原始数据：169
 [DEBUG] 2018-01-12 18:47:13,522 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 18:47:13,531 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [ERROR] 2018-01-12 18:47:25,710 Line:144 文件：../../fileServer_v7/pic/tblBuyInStock/9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg-不存在
 [DEBUG] 2018-01-12 18:48:16,838 Line:135 BaseAction.execute 请求地址：/OAWorkFlowCreateAction.do?operation=4&src=menu&winCurIndex=8
 [DEBUG] 2018-01-12 18:48:16,839 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];src=[menu,];winCurIndex=[8,];
 [DEBUG] 2018-01-12 18:48:16,839 Line:215 ---------->SET Page 8 DEFAULT URL = /OAWorkFlowCreateAction.do?operation=4
 [DEBUG] 2018-01-12 18:48:16,840 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 18:48:20,040 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblexpenseaccount&src=menu&operation=6&designId=991f3893_1601041454545821750&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:48:20,040 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblexpenseaccount,];src=[menu,];operation=[6,];designId=[991f3893_1601041454545821750,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:48:20,041 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblexpenseaccount
 [DEBUG] 2018-01-12 18:48:20,152 Line:5242 GlobalsTool.js 生成js 时间65:/js/gen/define.vjstblexpenseaccount_zh_CN.js
 [DEBUG] 2018-01-12 18:48:29,007 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=9
 [DEBUG] 2018-01-12 18:48:29,008 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[9,];
 [DEBUG] 2018-01-12 18:48:29,008 Line:215 ---------->SET Page 9 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2018-01-12 18:48:29,053 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2018-01-12 18:48:29,053 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2018-01-12 18:48:29,053 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2018-01-12 18:48:29,053 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2018-01-12 18:48:29,054 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2018-01-12 18:48:34,126 Line:135 BaseAction.execute 请求地址：/WorkFlowTableAction.do?operation=7&designId=991f3893_1601041454545821750&keyId=tblexpenseaccount&type=simple
 [DEBUG] 2018-01-12 18:48:34,127 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];designId=[991f3893_1601041454545821750,];keyId=[tblexpenseaccount,];type=[simple,];
 [DEBUG] 2018-01-12 18:49:03,714 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 18:49:03,716 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[,];tableId=[16498250_1107300945503685461,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[0,];relationTable=[,];classCount=[6,];tableName=[tblexpenseaccount,];oldtableName=[tblexpenseaccount,];tableDisplay=[zh_CN:费用报销单;,];tableDisplayDis=[费用报销单,];MainModule=[0,];sysParameter=[CommonFunction,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];fieldCalculate=[,];extendButton=[<button type="copy" operation="list">,];tableDesc=[,];PopDisSentence=[,];fieldId=[16498250_1107300945503685467,16498250_1107300945503685469,16498250_1107300945503685471,16498250_1107301038124806020,fe9c7752_1712201033438551368,16498250_1107300945503685473,16498250_1107301058088856138,16498250_1107300945503695495,16498250_1108021942363562023,16498250_1108021942363562025,16498250_1107300945503695487,16498250_1107300945503695483,16498250_1107300945503695489,16498250_1107300945503695491,16498250_1107300945503695493,d37e18c8_1108041937079020024,016498250_1107300945503685461,,,];languageId=[d37e18c8_1108041937079010007,d37e18c8_1108041937079010008,d37e18c8_1108041937079010009,d37e18c8_1108041937079010010,fe9c7752_1712201033438551369,d37e18c8_1108041937079010011,d37e18c8_1108041937079010012,d37e18c8_1108041937079010013,d37e18c8_1108041937079010014,d37e18c8_1108041937079020015,702f761a_1109221159024491333,d37e18c8_1108041937079020016,d37e18c8_1108041937079020019,d37e18c8_1108041937079020020,d37e18c8_1108041937079020021,d37e18c8_1108041937079020025,016498250_1107300945503685461,,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,];isStat=[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,,];isNull=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,];isUnique=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,,];refEnumerationName=[,,,,,,,,,,,,,,,,,,,];inputValue=[,,Department:Department,Employee:Employee,Employee:Employee,,,,,,,,,,,,,,,];calculate=[,,,,,,,,{backBlance}=' ';if({originalBorrow}>=0.01){backBlance}=Number({originalBorrow})-Number(sum{tblexpenseaccountDet_Business});,,,,,,,,,,,];fieldSysType=[,,,,,,,,,,,,,,,,,,,];fieldIdentityStr=[BillNo,,,,,,,,,,,,,,,,,,,];copyType=[,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,zh_CN:;,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,,,,,,,];isCopy=[1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[0,0,2,2,2,0,0,0,0,8,0,100,100,100,100,100,0,,,];isMobile=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,];fieldName=[BillNo,oaTitle,DepartmentCode,EmployeeCode,EmployeeID,ApplyDate,appendixno,accessories,originalBorrow,backBlance,remark,AuditingAttitude,approve1,approve2,approve3,createtime,CheckPersont,tupian,,];fieldDisplay=[zh_CN:单据编号;,zh_CN:主题;,zh_CN:报销部门;,zh_CN:报销人;,zh_CN:报销人;,zh_CN:申请日期;,zh_CN:附件数量;,zh_CN:附件;,zh_CN:原借款;,zh_CN:应退余款;,zh_CN:报销说明;,zh_CN:审核意见;,zh_CN:部门领导签批;,zh_CN:公司领导审批;,zh_CN:三级审核意见;,zh_CN:创建时间;,zh_CN:复核人;,zh_CN:图片;,,];fieldDisplayDis=[单据编号,主题,报销部门,报销人,报销人,申请日期,附件数量,附件,原借款,应退余款,报销说明,审核意见,部门领导签批,公司领导审批,三级审核意见,创建时间,复核人,图片,,];fieldType=[2,18,2,2,2,5,2,14,1,1,18,3,3,3,3,6,2,13,2,];maxLength=[100,200,100,100,100,20,20,500,0,0,5000,500,30,30,30,19,500,1000,,];defaultValue=[,,@Sess:DepartmentCode;@Sess:DepartmentName,,@Sess:UserId;@Sess:UserName,2017-12-27,,,,,,,,,,,,,,];isNullId=[1,1,1,];isUniqueId=[1,];width=[200,200,200,200,200,200,200,500,200,200,200,500,200,200,200,200,0,200,,];inputType=[0,100,3,3,2,0,0,0,0,8,0,100,100,100,100,100,100,0,0,];moreInputId=[Department,Employee,Employee,];zhWidth=[200,];inputTypeOldId=[,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 18:49:03,732 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 18:49:03' where tableName='tblexpenseaccount'
 [DEBUG] 2018-01-12 18:49:03,733 Line:1235 ALTER TABLE tblexpenseaccount ADD  tupian varchar(1000) null 
 [ERROR] 2018-01-12 18:49:03,739 Line:1245 alter Table Error :ALTER TABLE tblexpenseaccount ADD  tupian varchar(1000) null 
 com.microsoft.sqlserver.jdbc.SQLServerException: 找不到对象 "tblexpenseaccount"，因为它不存在或者您没有所需的权限。
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.doExecuteStatement(SQLServerStatement.java:775)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement$StmtExecCmd.doExecute(SQLServerStatement.java:676)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.execute(SQLServerStatement.java:649)
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
	at com.menyi.aio.dyndb.DDLOperation$5$1.execute(DDLOperation.java:1236)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DDLOperation$5.exec(DDLOperation.java:1227)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DDLOperation.alter(DDLOperation.java:1225)
	at com.menyi.aio.web.customize.CustomizeAction.update(CustomizeAction.java:1789)
	at com.menyi.aio.web.customize.CustomizeAction.exe(CustomizeAction.java:136)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2018-01-12 18:49:34,093 Line:135 BaseAction.execute 请求地址：/WorkFlowTableAction.do?operation=7&designId=d7068534_1712271714503740050&keyId=FlowNqingjiadan2&type=simple
 [DEBUG] 2018-01-12 18:49:34,094 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];designId=[d7068534_1712271714503740050,];keyId=[FlowNqingjiadan2,];type=[simple,];
 [DEBUG] 2018-01-12 18:49:34,365 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=duty
 [DEBUG] 2018-01-12 18:49:34,365 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[duty,];
 [DEBUG] 2018-01-12 18:49:34,370 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=LeavebillType
 [DEBUG] 2018-01-12 18:49:34,370 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[LeavebillType,];
 [DEBUG] 2018-01-12 18:49:34,377 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=Spyj
 [DEBUG] 2018-01-12 18:49:34,378 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[Spyj,];
 [DEBUG] 2018-01-12 18:49:35,033 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:49:35,100 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:49:35,177 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:00,576 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-12 18:50:00,577 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[,];tableId=[d7068534_1712271715161770051,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[0,];relationTable=[,];classCount=[6,];tableName=[FlowNqingjiadan2,];oldtableName=[FlowNqingjiadan2,];tableDisplay=[zh_CN:请假申请;,];tableDisplayDis=[请假申请,];MainModule=[2,];sysParameter=[CommonFunction,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];isLayout=[1,];fieldCalculate=[,];extendButton=[,];tableDesc=[,];PopDisSentence=[,];fieldId=[d7068534_1712271715161780058,d7068534_1712271715161780060,d7068534_1712271719515420100,d7068534_1712271719515420103,d7068534_1712271719515420106,d7068534_1712271719515420109,d7068534_1712271719515430112,d7068534_1712271719515430115,d7068534_1712271719515430118,d7068534_1712271719515430121,d7068534_1712271719515430124,,,];languageId=[d7068534_1712271715161780059,d7068534_1712271715161780061,d7068534_1712271719515420101,d7068534_1712271719515420104,d7068534_1712271719515420107,d7068534_1712271719515420110,d7068534_1712271719515430113,d7068534_1712271719515430116,d7068534_1712271719515430119,d7068534_1712271719515430122,d7068534_1712271719515430125,,,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,];isStat=[0,0,0,0,0,0,0,0,0,0,0,0,,];isNull=[0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,0,0,0,0,,,];refEnumerationName=[,,duty,LeavebillType,,,,Spyj,,,,,,];inputValue=[,Employee:Employee,,,,,,,,,,,,];calculate=[,,,,,,,,,,,,,];fieldSysType=[,,,,,,,,,,,,,];fieldIdentityStr=[,,,,,,,,,,,,,];copyType=[,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,];groupName=[,,,,,,,,,,zh_CN:;,zh_CN:;,,];insertTable=[,,,,,,,,,,,,,];isCopy=[0,1,1,1,1,1,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,,];isLog=[0,0,0,0,0,0,0,0,0,0,0,0,,];inputTypeOld=[0,2,1,1,0,0,0,1,0,0,0,,,];isMobile=[0,0,,,,,,,,,2,2,2,];fieldName=[DepartmentCode,EmployeeID,duty,LeavebillType,due,Kstime,Jstime,PF,mark,Hhtime,qjtime,tupian,,];fieldDisplay=[zh_CN:申请部门;,zh_CN:申请人;,zh_CN:职务;,zh_CN:请假类别;,zh_CN:请假事由;,zh_CN:开始时间;,zh_CN:结束时间;,zh_CN:批复;,zh_CN:备注;,zh_CN:回岗时间;,zh_CN:请假小时;,zh_CN:图片;,,];fieldDisplayDis=[申请部门,申请人,职务,请假类别,请假事由,开始时间,结束时间,批复,备注,回岗时间,请假小时,图片,,];fieldType=[2,2,2,2,3,6,6,2,3,6,2,13,2,];maxLength=[100,100,100,100,1000,100,100,100,1000,100,100,1000,,];defaultValue=[@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,,,,,,,,,,,,];width=[200,200,200,200,200,200,200,200,200,200,200,200,,];inputType=[3,2,1,1,0,0,0,1,0,0,0,0,0,];moreInputId=[Employee,11,1,1,];inputTypeOldId=[,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-12 18:50:00,590 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-12 18:50:00' where tableName='FlowNqingjiadan2'
 [DEBUG] 2018-01-12 18:50:00,592 Line:1235 ALTER TABLE FlowNqingjiadan2 ADD  tupian varchar(1000) null 
 [DEBUG] 2018-01-12 18:50:00,606 Line:1235 insert into tblDBFieldInfo(tableId,id,fieldName,isCopy,listOrder,isNull,isReAudit,isUnique,isStat,defaultValue,fieldType,maxLength,width,inputType,inputTypeOld,refEnumerationName,inputValue,digits,calculate,logicValidate,udType,fieldSysType,fieldIdentityStr,copyType,statusId,popupType,languageId,groupName,insertTable,isLog) values('d7068534_1712271715161770051','d3ba9294_1801121850005900535','tupian','1','11','0','0','0','0','','13','1000','200','0','0','','','0','','','0','','','','0','','d3ba9294_1801121850005900536','','','0')
 [DEBUG] 2018-01-12 18:50:00,612 Line:1235 insert into tblLanguage(zh_CN,id) values('图片','d3ba9294_1801121850005900536')
 [DEBUG] 2018-01-12 18:50:00,613 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-12 18:50:01,187 Line:297  select * from tblDBTableInfo where tableName = 'FlowNqingjiadan2'
 [DEBUG] 2018-01-12 18:50:01,190 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='FlowNqingjiadan2') order by tableId,listOrder
 [DEBUG] 2018-01-12 18:50:01,200 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-12 18:50:02,675 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=FlowNqingjiadan2&popWinName=&winCurIndex=
 [DEBUG] 2018-01-12 18:50:02,676 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[FlowNqingjiadan2,];popWinName=[,];winCurIndex=[,];
 [DEBUG] 2018-01-12 18:50:02,842 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=duty
 [DEBUG] 2018-01-12 18:50:02,843 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[duty,];
 [DEBUG] 2018-01-12 18:50:02,848 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=LeavebillType
 [DEBUG] 2018-01-12 18:50:02,849 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[LeavebillType,];
 [DEBUG] 2018-01-12 18:50:02,857 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=Spyj
 [DEBUG] 2018-01-12 18:50:02,858 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[Spyj,];
 [DEBUG] 2018-01-12 18:50:03,207 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:03,229 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:03,229 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:14,600 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=FlowNqingjiadan2&src=menu&operation=6&designId=d7068534_1712271714503740050&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-12 18:50:14,601 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[FlowNqingjiadan2,];src=[menu,];operation=[6,];designId=[d7068534_1712271714503740050,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-12 18:50:14,601 Line:220 ---------->SET DEFAULT URL = /UserFunctionQueryAction.do?tableName=FlowNqingjiadan2
 [DEBUG] 2018-01-12 18:50:14,695 Line:5242 GlobalsTool.js 生成js 时间67:/js/gen/define.vjsFlowNqingjiadan2_zh_CN.js
 [DEBUG] 2018-01-12 18:50:30,317 Line:135 BaseAction.execute 请求地址：/BillNoAction.do?src=menu&winCurIndex=11
 [DEBUG] 2018-01-12 18:50:30,317 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[11,];
 [DEBUG] 2018-01-12 18:50:30,317 Line:215 ---------->SET Page 11 DEFAULT URL = /BillNoAction.do
 [DEBUG] 2018-01-12 18:50:30,318 Line:49 BillNoMgt.query SELECT [ID],[KEY],[PATTERN],[START],[STEP],[ISFILLBACK],[RESET],[LASTSTAMP],[EXPLAIN],[BILLNAME],[ISADDBEFORM],[STATUSID],ROW_NUMBER() OVER(ORDER BY [ID] DESC) AS row_id FROM tblBillNo WHERE ISNULL([STATUSID],0) != -1
 [DEBUG] 2018-01-12 18:50:36,840 Line:135 BaseAction.execute 请求地址：/WorkFlowTableAction.do?operation=7&designId=d7068534_1712271714503740050&keyId=FlowNqingjiadan2&type=simple
 [DEBUG] 2018-01-12 18:50:36,841 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];designId=[d7068534_1712271714503740050,];keyId=[FlowNqingjiadan2,];type=[simple,];
 [DEBUG] 2018-01-12 18:50:37,129 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=duty
 [DEBUG] 2018-01-12 18:50:37,129 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[duty,];
 [DEBUG] 2018-01-12 18:50:37,136 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=LeavebillType
 [DEBUG] 2018-01-12 18:50:37,136 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[LeavebillType,];
 [DEBUG] 2018-01-12 18:50:37,143 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=Spyj
 [DEBUG] 2018-01-12 18:50:37,144 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[Spyj,];
 [DEBUG] 2018-01-12 18:50:37,754 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:37,774 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:37,791 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-12 18:50:40,796 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTML&designId=d7068534_1712271715161770051&tableName=FlowNqingjiadan2&tableCHName=%E8%AF%B7%E5%81%87%E7%94%B3%E8%AF%B7&type=simple
 [DEBUG] 2018-01-12 18:50:40,797 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTML,];designId=[d7068534_1712271715161770051,];tableName=[FlowNqingjiadan2,];tableCHName=[è?・??????è?・,];type=[simple,];
 [DEBUG] 2018-01-12 18:50:41,574 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTableAction.do?operation=7&turnType=layoutHTMLData&tableName=FlowNqingjiadan2
 [DEBUG] 2018-01-12 18:50:41,574 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];turnType=[layoutHTMLData,];tableName=[FlowNqingjiadan2,];
 [DEBUG] 2018-01-12 19:11:13,563 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-12 19:12:42,636 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-12 19:12:42,637 Line:3004 MobileAjax 操作人:;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-12 19:12:42,638 Line:243 AIOApi op=report&sessionid=33E7948A076729D5D2987C0A198B2353
 [DEBUG] 2018-01-12 19:12:42,640 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-12 19:12:49,312 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-12 19:12:49,313 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-12 19:12:49,313 Line:243 AIOApi op=LOGIN&sessionid=33E7948A076729D5D2987C0A198B2353
 [DEBUG] 2018-01-12 19:12:49,349 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-12 19:12:49,382 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-12 19:12:49,397 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-12 19:12:49,440 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-12 19:12:49,932 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-12 19:12:49,933 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-12 19:12:49,933 Line:243 AIOApi op=getSessEmp&sessionid=33E7948A076729D5D2987C0A198B2353
 [DEBUG] 2018-01-12 19:12:49,934 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-12 19:12:49,963 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-12 19:12:49,964 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-12 19:12:49,964 Line:243 AIOApi op=getEnum&sessionid=33E7948A076729D5D2987C0A198B2353
 [DEBUG] 2018-01-12 19:12:49,965 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-12 19:12:51,540 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-12 19:12:51,541 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-12 19:12:51,541 Line:243 AIOApi op=report&sessionid=33E7948A076729D5D2987C0A198B2353
 [DEBUG] 2018-01-12 19:12:51,650 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-12 19:12:51,650 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-12 19:12:51,650 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-12 19:12:51,650 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-12 19:12:51,651 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-12 19:12:51,651 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-12 19:12:51,651 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-12 19:12:51,651 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-12 19:12:51,651 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-12 19:12:51,651 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-12 19:12:51,651 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-12 19:12:51,651 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-12 19:12:51,652 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-12 19:12:51,743 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-12 19:12:51,744 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-12 19:12:51,744 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 19:12:51,744 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 19:12:51,744 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-12 19:12:51,744 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 19:12:51,745 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-12 19:12:51,745 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-12 19:12:51,745 Line:689 通过SQL读原始数据：95
 [DEBUG] 2018-01-12 19:12:51,746 Line:1391 整理数据：0
 [DEBUG] 2018-01-12 19:12:51,753 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-12 19:12:53,049 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-12 19:12:53,051 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-12 19:12:53,051 Line:243 AIOApi op=report&sessionid=33E7948A076729D5D2987C0A198B2353
 [DEBUG] 2018-01-12 19:12:53,085 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-12 19:12:53,086 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-12 19:12:53,087 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-12 19:12:53,087 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-12 19:12:53,087 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-12 19:12:53,088 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-12 19:12:53,088 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-12 19:12:53,088 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-12 19:12:53,089 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-12 19:12:53,089 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-12 19:12:53,090 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-12 19:12:53,090 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-12 19:12:53,090 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-12 19:12:53,091 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-12 19:12:53,091 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-12 19:12:53,091 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-12 19:12:53,092 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-12 19:12:53,092 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-12 19:12:53,092 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-12 19:12:53,096 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-12 19:12:53,097 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-12 19:12:53,097 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 19:12:53,098 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 19:12:53,098 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-12 19:12:53,098 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-12 19:12:53,099 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-12 19:12:53,099 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-12 19:12:53,100 Line:689 通过SQL读原始数据：14
 [DEBUG] 2018-01-12 19:12:53,102 Line:1391 整理数据：1
 [DEBUG] 2018-01-12 19:12:53,117 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 