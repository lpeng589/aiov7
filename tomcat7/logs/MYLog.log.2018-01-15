[INFO ] 2018-01-15 08:58:20,312 Line:206 系统开始启动，最大内存：1792;目前总内存：250;目前空闲内存：157
 [INFO ] 2018-01-15 08:58:20,531 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-15 08:58:24,768 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-15 08:58:25,018 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-15 08:58:25,049 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-15 08:58:25,049 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-15 08:58:25,064 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-15 08:58:25,080 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-15 08:58:25,096 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-15 08:58:26,846 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 08:58:26,865 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-15 08:58:26,912 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-15 08:58:26,928 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-15 08:58:27,944 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-15 08:58:27,944 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-15 08:58:29,061 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-15 08:58:29,244 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-15 08:58:30,150 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-15 08:58:30,171 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-15 08:58:30,187 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-15 08:58:30,203 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-15 08:58:30,203 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-15 08:58:30,218 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-15 08:58:30,250 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-15 08:58:33,578 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-15 08:58:33,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,851 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,866 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,866 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,866 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,866 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,866 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,913 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,944 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:33,960 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,038 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,038 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,038 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,038 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,069 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,069 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,085 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,085 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,085 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,085 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,116 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,179 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,179 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,210 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,210 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,210 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,241 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,257 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,288 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,304 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,304 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 08:58:34,319 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-15 08:58:34,335 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-15 08:58:34,366 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-15 08:58:34,585 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-15 08:58:34,585 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-15 08:58:35,736 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-15 00:00:00
 [INFO ] 2018-01-15 08:58:35,736 Line:144 SAFE 备份任务开始执行，时间2018-01-15 08:58:35
 [INFO ] 2018-01-15 08:58:35,740 Line:137 SAFE 碎片任务启动，时间2018-01-21 00:00:00
 [INFO ] 2018-01-15 08:58:40,520 Line:148 SAFE 备份任务执行成功，时间2018-01-15 08:58:40
 [DEBUG] 2018-01-15 08:59:03,222 Line:5242 GlobalsTool.js 生成js 时间57:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-15 08:59:03,309 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 08:59:03,311 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 08:59:03,630 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515977943599
 [DEBUG] 2018-01-15 08:59:03,656 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515977943599,];
 [DEBUG] 2018-01-15 08:59:03,798 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 08:59:03,798 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 08:59:05,951 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515977945949
 [DEBUG] 2018-01-15 08:59:05,952 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515977945949,];
 [DEBUG] 2018-01-15 08:59:06,014 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515977946011
 [DEBUG] 2018-01-15 08:59:06,014 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515977946011,];
 [DEBUG] 2018-01-15 08:59:06,087 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-15 08:59:06,087 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 08:59:06,137 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 08:59:06,150 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 08:59:06,265 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 08:59:06,265 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 08:59:06,298 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 08:59:06,503 Line:5242 GlobalsTool.js 生成js 时间34:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-15 08:59:06,765 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 08:59:06,766 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 08:59:06,766 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 08:59:06,766 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 08:59:06,767 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 08:59:06,784 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 08:59:06,784 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 08:59:06,785 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 08:59:06,795 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 08:59:06,795 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 08:59:06,796 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 08:59:06,806 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 08:59:06,806 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 08:59:06,807 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 08:59:12,161 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 08:59:12,161 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 08:59:12,162 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-15 08:59:12,652 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-15 08:59:12,662 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-15 08:59:12,662 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-15 08:59:12,698 Line:689 通过SQL读原始数据：37
 [DEBUG] 2018-01-15 08:59:12,699 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 08:59:12,879 Line:5242 GlobalsTool.js 生成js 时间34:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-15 08:59:12,934 Line:5242 GlobalsTool.js 生成js 时间54:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-15 08:59:34,984 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 08:59:52,400 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 08:59:52,404 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 08:59:52,404 Line:243 AIOApi op=getSessEmp&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 08:59:52,421 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 08:59:52,528 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 08:59:52,529 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 08:59:52,530 Line:243 AIOApi op=getEnum&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 08:59:52,538 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 09:29:54,050 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 10:00:11,304 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 10:22:19,973 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 10:22:19,974 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 10:22:19,974 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:22:20,034 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 10:22:20,044 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 10:22:21,497 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 10:22:21,498 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 10:22:21,498 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:22:21,525 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 10:22:21,539 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 10:22:22,628 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:22:22,629 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 10:22:22,629 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:22:23,076 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 10:22:23,082 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 10:22:23,083 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 10:22:23,086 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 10:22:23,106 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 10:22:23,377 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 10:22:23,447 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 10:22:23,449 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 10:22:23,450 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:22:23,484 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 10:22:23,488 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 10:22:23,489 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 10:30:27,952 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 10:39:20,496 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:39:20,497 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 10:39:20,497 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:20,980 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:20,986 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 10:39:20,986 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 10:39:20,990 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:20,999 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 10:39:21,175 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 10:39:21,213 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 10:39:21,215 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 10:39:21,216 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:21,218 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 10:39:21,222 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 10:39:21,223 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 10:39:29,473 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:39:29,474 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[0cb36313_1801142137591530134,];
 [DEBUG] 2018-01-15 10:39:29,475 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:29,586 Line:1525  select * from  tblSalesOutStockDet where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:29,595 Line:1525  select * from  tblSalesRecAccount where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:29,598 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142137591530134' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-15 10:39:29,817 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-14 21:37:57","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801140010","Remark":"","ass_OrderId":"0cb36313_1801141834346580120","C等等！
 [DEBUG] 2018-01-15 10:39:37,245 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 10:39:37,247 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 10:39:37,247 Line:243 AIOApi op=getSessEmp&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:37,248 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 10:39:37,469 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:39:37,470 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[0cb36313_1801141834346580120,];
 [DEBUG] 2018-01-15 10:39:37,470 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:37,512 Line:1525  select * from  tblSalesOrderDet where f_ref = '0cb36313_1801141834346580120' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:37,522 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141834346580120' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-15 10:39:37,670 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","CRMpactID":"","TotalTaxAmount":1.00000000,"Currency":"","NoInvoiceAmount":1.00000000,"CurNeedReturnAmt等等！
 [DEBUG] 2018-01-15 10:39:48,374 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:39:48,375 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 10:39:48,375 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:48,665 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:48,669 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 10:39:48,669 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 10:39:48,672 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 10:39:48,683 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 10:39:48,748 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 10:39:48,809 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 10:39:48,810 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 10:39:48,810 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:39:48,812 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 10:39:48,816 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 10:39:48,817 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 10:43:15,635 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 10:43:15,636 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 10:43:15,636 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:15,675 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 10:43:15,678 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 10:43:17,315 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 10:43:17,316 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 10:43:17,317 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:17,336 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 10:43:17,339 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 10:43:18,503 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:43:18,503 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:43:18,504 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblPay,];keyId=[0cb36313_1801141800327450108,];
 [DEBUG] 2018-01-15 10:43:18,505 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblPay,];keyId=[0cb36313_1801141800327450108,];
 [DEBUG] 2018-01-15 10:43:18,506 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:18,507 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:18,669 Line:1525  select * from  tblPayAccountDet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:18,671 Line:1525  select * from  tblPayAccountDet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:18,674 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:18,674 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:18,674 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:18,674 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:18,680 Line:1525  select * from  tblPaydet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:18,680 Line:1525  select * from  tblPaydet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:18,687 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141800327450108' and  a.tableName='tblPay'
 [DEBUG] 2018-01-15 10:43:18,687 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141800327450108' and  a.tableName='tblPay'
 [DEBUG] 2018-01-15 10:43:18,773 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":30.00000000,"TABLENAME_tblPaydet":[{"BuyOrderNo":"","Account":"","CurWexeBalAmt":0.0,"BackAmt":0.0,"CurSettledAmt":0.0,"BuyOrderID":"","BillName":"采购入库单","PayBillType":"tblBuyInStock","BillAmt":30.00000000,"SCompanyID":"00001","Remark":"","Currency":"","id":"等等！
 [DEBUG] 2018-01-15 10:43:18,777 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":30.00000000,"TABLENAME_tblPaydet":[{"BuyOrderNo":"","Account":"","CurWexeBalAmt":0.0,"BackAmt":0.0,"CurSettledAmt":0.0,"BuyOrderID":"","BillName":"采购入库单","PayBillType":"tblBuyInStock","BillAmt":30.00000000,"SCompanyID":"00001","Remark":"","Currency":"","id":"等等！
 [DEBUG] 2018-01-15 10:43:18,861 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 10:43:18,862 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141305167130051,];
 [DEBUG] 2018-01-15 10:43:18,864 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:18,865 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141305167130051') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 10:43:18,868 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 10:43:18,868 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"李总"}]}}
 [DEBUG] 2018-01-15 10:43:49,688 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:43:49,689 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblPay,];keyId=[0cb36313_1801141800327450108,];
 [DEBUG] 2018-01-15 10:43:49,689 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:49,690 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:43:49,691 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblPay,];keyId=[0cb36313_1801141800327450108,];
 [DEBUG] 2018-01-15 10:43:49,691 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:49,833 Line:1525  select * from  tblPayAccountDet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:49,833 Line:1525  select * from  tblPayAccountDet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:49,841 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:49,841 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:49,841 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:49,841 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 10:43:49,844 Line:1525  select * from  tblPaydet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:49,844 Line:1525  select * from  tblPaydet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 10:43:49,849 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141800327450108' and  a.tableName='tblPay'
 [DEBUG] 2018-01-15 10:43:49,849 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141800327450108' and  a.tableName='tblPay'
 [DEBUG] 2018-01-15 10:43:49,943 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":30.00000000,"TABLENAME_tblPaydet":[{"BuyOrderNo":"","Account":"","CurWexeBalAmt":0.0,"BackAmt":0.0,"CurSettledAmt":0.0,"BuyOrderID":"","BillName":"采购入库单","PayBillType":"tblBuyInStock","BillAmt":30.00000000,"SCompanyID":"00001","Remark":"","Currency":"","id":"等等！
 [DEBUG] 2018-01-15 10:43:49,949 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":30.00000000,"TABLENAME_tblPaydet":[{"BuyOrderNo":"","Account":"","CurWexeBalAmt":0.0,"BackAmt":0.0,"CurSettledAmt":0.0,"BuyOrderID":"","BillName":"采购入库单","PayBillType":"tblBuyInStock","BillAmt":30.00000000,"SCompanyID":"00001","Remark":"","Currency":"","id":"等等！
 [DEBUG] 2018-01-15 10:43:49,975 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 10:43:49,976 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141305167130051,];
 [DEBUG] 2018-01-15 10:43:49,976 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:43:49,977 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141305167130051') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 10:43:49,982 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 10:43:49,983 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"李总"}]}}
 [DEBUG] 2018-01-15 10:47:30,343 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:47:30,345 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 10:47:30,345 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];
 [DEBUG] 2018-01-15 10:47:30,346 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:47:30,346 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];
 [DEBUG] 2018-01-15 10:47:30,347 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:47:30,463 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 10:47:30,463 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 10:47:30,474 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 10:47:30,474 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 10:47:30,477 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-15 10:47:30,477 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-15 10:47:30,741 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120002","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_180112181057347等等！
 [DEBUG] 2018-01-15 10:47:30,743 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"BuyOrderNo":"BO1801120002","CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg","freightAcc":"","ProceDureExp":0.0,"Remark":"","ass_OrderId":"d3ba9294_180112181057347等等！
 [DEBUG] 2018-01-15 10:54:43,621 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 10:54:43,622 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[consignation,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 10:54:43,622 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:54:43,657 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and exists(select id from OAWorkConsignation where state=1 and CongignUserID='1' and CHARINDEX(';'+userId+';',a.checkPerson)>0 and (CHARINDEX((select sameFlow+';' from OAWorkFlowTemplate where id=a.applyType),flowName)>0 or len(ISNULL(flowName,''))=0) and substring(convert(varchar,GETDATE(),120),0,11)>=beginTime  and substring(convert(varchar,GETDATE(),120),0,11)<=endTime ) ) k
 [DEBUG] 2018-01-15 10:54:43,658 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":0,"list":[]}}
 [DEBUG] 2018-01-15 10:54:50,367 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 10:54:50,369 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 10:54:50,371 Line:243 AIOApi op=getEnum&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:54:50,374 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 10:54:56,886 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 10:54:56,887 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 10:54:56,887 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:54:56,943 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 10:54:56,944 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 10:54:56,945 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 10:54:56,945 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 10:54:56,945 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 10:54:56,945 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 10:54:56,945 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 10:54:56,946 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 10:54:56,946 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 10:54:56,946 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 10:54:56,946 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 10:54:56,946 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 10:54:56,946 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 10:54:56,947 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 10:54:56,947 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 10:54:56,947 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 10:54:56,947 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 10:54:56,947 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 10:54:56,947 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 10:54:57,098 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 10:54:57,098 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 10:54:57,098 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:54:57,098 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:54:57,099 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 10:54:57,099 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:54:57,099 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 10:54:57,099 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 10:54:57,100 Line:689 通过SQL读原始数据：156
 [DEBUG] 2018-01-15 10:54:57,102 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 10:54:57,124 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 10:54:58,393 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 10:54:58,394 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 10:54:58,395 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:54:58,426 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 10:54:58,427 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 10:54:58,428 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 10:54:58,428 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 10:54:58,429 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 10:54:58,429 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 10:54:58,430 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 10:54:58,430 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 10:54:58,431 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 10:54:58,431 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 10:54:58,432 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 10:54:58,432 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 10:54:58,433 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 10:54:58,433 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 10:54:58,434 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 10:54:58,434 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 10:54:58,435 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 10:54:58,435 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 10:54:58,436 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 10:54:58,443 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 10:54:58,444 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 10:54:58,444 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:54:58,445 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:54:58,445 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 10:54:58,446 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:54:58,446 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 10:54:58,447 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 10:54:58,449 Line:689 通过SQL读原始数据：22
 [DEBUG] 2018-01-15 10:54:58,453 Line:1391 整理数据：4
 [DEBUG] 2018-01-15 10:54:58,464 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 10:55:07,124 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 10:55:07,125 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00003,];StockCode=[,];
 [DEBUG] 2018-01-15 10:55:07,125 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:55:07,136 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 10:55:07,137 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 10:55:07,137 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 10:55:07,137 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 10:55:07,138 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 10:55:07,138 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 10:55:07,138 Line:582 ReportDataMgt.getReportData 参数6:00003
 [DEBUG] 2018-01-15 10:55:07,138 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 10:55:07,139 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 10:55:07,139 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 10:55:07,139 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 10:55:07,139 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 10:55:07,140 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 10:55:07,140 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 10:55:07,140 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 10:55:07,142 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 10:55:07,142 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 10:55:07,142 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 10:55:07,142 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 10:55:07,163 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 10:55:07,164 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 10:55:07,164 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:55:07,164 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:55:07,164 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 10:55:07,164 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:55:07,164 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 10:55:07,165 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00003_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00003%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 10:55:07,165 Line:689 通过SQL读原始数据：28
 [DEBUG] 2018-01-15 10:55:07,166 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 10:55:07,171 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 10:55:12,157 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 10:55:12,158 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 10:55:12,158 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:55:12,174 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 10:55:12,174 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 10:55:12,174 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 10:55:12,174 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 10:55:12,174 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 10:55:12,175 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 10:55:12,175 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 10:55:12,175 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 10:55:12,175 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 10:55:12,175 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 10:55:12,176 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 10:55:12,176 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 10:55:12,176 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 10:55:12,177 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 10:55:12,177 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 10:55:12,177 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 10:55:12,178 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 10:55:12,178 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 10:55:12,178 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 10:55:12,180 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 10:55:12,180 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 10:55:12,180 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:55:12,181 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:55:12,181 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 10:55:12,181 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 10:55:12,181 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 10:55:12,181 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 10:55:12,182 Line:689 通过SQL读原始数据：8
 [DEBUG] 2018-01-15 10:55:12,184 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 10:55:12,198 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 10:55:59,523 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 10:55:59,524 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2018-01-15 10:55:59,524 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:55:59,525 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2018-01-15 10:55:59,542 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"部门主管","value":"1515926119185"}]}}
 [DEBUG] 2018-01-15 10:56:01,029 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2018-01-15 10:56:01,029 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2018-01-15T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2018-01-15 10:56:01,030 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 10:56:01,076 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2018-01-15 10:56:01,076 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2018-01-15 10:56:01,076 Line:582 ReportDataMgt.getReportData 参数2:2018-01-15T16:00:00.000Z
 [DEBUG] 2018-01-15 10:56:01,212 Line:689 通过SQL读原始数据：136
 [DEBUG] 2018-01-15 10:56:01,214 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 10:56:01,226 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2018-01-15T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2018-01-15 11:00:45,171 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 11:12:42,690 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 11:12:42,692 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 11:12:42,693 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:12:42,753 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 11:12:42,753 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 11:12:42,754 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 11:12:42,754 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 11:12:42,754 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 11:12:42,754 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 11:12:42,754 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 11:12:42,754 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 11:12:42,754 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 11:12:42,756 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 11:12:42,757 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 11:12:42,757 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 11:12:42,757 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 11:12:42,884 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 11:12:42,884 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 11:12:42,885 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:42,885 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:42,885 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 11:12:42,885 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:42,885 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 11:12:42,885 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 11:12:42,886 Line:689 通过SQL读原始数据：133
 [DEBUG] 2018-01-15 11:12:42,887 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 11:12:42,904 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 11:12:47,900 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 11:12:47,901 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00004,];StockCode=[,];
 [DEBUG] 2018-01-15 11:12:47,901 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:12:47,909 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 11:12:47,911 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 11:12:47,911 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 11:12:47,911 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 11:12:47,912 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 11:12:47,912 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 11:12:47,912 Line:582 ReportDataMgt.getReportData 参数6:00004
 [DEBUG] 2018-01-15 11:12:47,912 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 11:12:47,913 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 11:12:47,913 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 11:12:47,913 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 11:12:47,913 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 11:12:47,914 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 11:12:47,914 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 11:12:47,914 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 11:12:47,914 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 11:12:47,914 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 11:12:47,914 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 11:12:47,915 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 11:12:47,934 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 11:12:47,935 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00004_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00004%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00004%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00004%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 11:12:47,936 Line:689 通过SQL读原始数据：25
 [DEBUG] 2018-01-15 11:12:47,936 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 11:12:47,938 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 11:12:54,830 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 11:12:54,831 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 11:12:54,832 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:12:54,845 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 11:12:54,846 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 11:12:54,846 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 11:12:54,846 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 11:12:54,847 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 11:12:54,847 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 11:12:54,847 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 11:12:54,847 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 11:12:54,847 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 11:12:54,847 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 11:12:54,847 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 11:12:54,848 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 11:12:54,848 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 11:12:54,848 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 11:12:54,848 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 11:12:54,848 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 11:12:54,849 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 11:12:54,849 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 11:12:54,849 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 11:12:54,853 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 11:12:54,853 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 11:12:54,853 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:54,853 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:54,854 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 11:12:54,854 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:12:54,854 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 11:12:54,854 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 11:12:54,854 Line:689 通过SQL读原始数据：8
 [DEBUG] 2018-01-15 11:12:54,855 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 11:12:54,869 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 11:13:00,037 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 11:13:00,038 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[00001,];
 [DEBUG] 2018-01-15 11:13:00,038 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:13:00,052 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 11:13:00,053 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 11:13:00,053 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 11:13:00,053 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 11:13:00,053 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 11:13:00,053 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数7:00001
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 11:13:00,054 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 11:13:00,055 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 11:13:00,055 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 11:13:00,055 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 11:13:00,055 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 11:13:00,055 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 11:13:00,055 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 11:13:00,075 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 11:13:00,075 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 11:13:00,076 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:13:00,076 Line:587 ReportDataMgt.getReportData warn  and ( b.StockCode like '00001'+'%' )
 [DEBUG] 2018-01-15 11:13:00,076 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 11:13:00,076 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:13:00,076 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 11:13:00,076 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and ( b.StockCode like '00001'+'%' ) union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and ( b.StockCode like '00001'+'%' ) union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and ( b.StockCode like '00001'+'%' )) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 11:13:00,077 Line:689 通过SQL读原始数据：24
 [DEBUG] 2018-01-15 11:13:00,078 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 11:13:00,084 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode","00001"],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-15 11:13:21,700 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 11:13:21,704 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 11:13:21,706 Line:243 AIOApi op=report&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:13:21,726 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 11:13:21,727 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 11:13:21,727 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 11:13:21,728 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 11:13:21,729 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 11:13:21,731 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 11:13:21,732 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 11:13:21,733 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 11:13:21,734 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 11:13:21,734 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 11:13:21,735 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 11:13:21,735 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 11:13:21,736 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 11:13:21,737 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 11:13:21,739 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 11:13:21,739 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 11:13:21,740 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 11:13:21,740 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 11:13:21,740 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 11:13:21,743 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 11:13:21,744 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 11:13:21,745 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:13:21,746 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:13:21,748 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 11:13:21,749 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 11:13:21,750 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 11:13:21,750 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 11:13:21,751 Line:689 通过SQL读原始数据：24
 [DEBUG] 2018-01-15 11:13:21,755 Line:1391 整理数据：3
 [DEBUG] 2018-01-15 11:13:21,769 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 11:27:57,508 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 11:27:57,509 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 11:27:57,510 Line:243 AIOApi op=getSessEmp&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:27:57,510 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 11:27:57,764 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 11:27:57,765 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 11:27:57,765 Line:243 AIOApi op=getEnum&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:27:57,766 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 11:28:00,327 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 11:28:00,327 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 11:28:00,328 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:28:00,366 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 11:28:00,367 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 11:28:01,589 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 11:28:01,590 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 11:28:01,591 Line:243 AIOApi op=myworkflow&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:28:01,615 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 11:28:01,617 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 11:28:04,303 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:28:04,306 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 11:28:04,306 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:28:04,746 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:28:04,750 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:28:04,750 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:28:04,754 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:28:04,761 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 11:28:04,875 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 11:28:04,924 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 11:28:04,925 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 11:28:04,925 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:28:04,925 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 11:28:04,928 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 11:28:04,929 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 11:28:36,359 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:28:36,360 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblPay,];keyId=[0cb36313_1801141800327450108,];
 [DEBUG] 2018-01-15 11:28:36,360 Line:243 AIOApi op=detail&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:28:36,448 Line:1525  select * from  tblPayAccountDet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 11:28:36,455 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 11:28:36,455 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100201'
 [DEBUG] 2018-01-15 11:28:36,459 Line:1525  select * from  tblPaydet where f_ref = '0cb36313_1801141800327450108' order by detOrderNo
 [DEBUG] 2018-01-15 11:28:36,469 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141800327450108' and  a.tableName='tblPay'
 [DEBUG] 2018-01-15 11:28:36,524 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"FactOutcome":30.00000000,"TABLENAME_tblPaydet":[{"BuyOrderNo":"","Account":"","CurWexeBalAmt":0.0,"BackAmt":0.0,"CurSettledAmt":0.0,"BuyOrderID":"","BillName":"采购入库单","PayBillType":"tblBuyInStock","BillAmt":30.00000000,"SCompanyID":"00001","Remark":"","Currency":"","id":"等等！
 [DEBUG] 2018-01-15 11:28:36,557 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 11:28:36,558 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141305167130051,];
 [DEBUG] 2018-01-15 11:28:36,558 Line:243 AIOApi op=popup&sessionid=D3FE5A9167E015A796749D38EBD9E80C
 [DEBUG] 2018-01-15 11:28:36,560 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141305167130051') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 11:28:36,564 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 11:28:36,564 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"李总"}]}}
 [DEBUG] 2018-01-15 11:28:56,951 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 11:28:56,952 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 11:28:56,952 Line:243 AIOApi op=getSessEmp&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:28:56,952 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 11:29:03,052 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 11:29:03,054 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 11:29:03,055 Line:243 AIOApi op=LOGIN&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:03,081 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 11:29:03,096 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 11:29:03,101 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 11:29:03,124 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 11:29:03,561 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 11:29:03,561 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 11:29:03,561 Line:243 AIOApi op=getSessEmp&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:03,562 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 11:29:03,568 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 11:29:03,568 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 11:29:03,568 Line:243 AIOApi op=getEnum&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:03,569 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 11:29:06,142 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 11:29:06,143 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 11:29:06,143 Line:243 AIOApi op=myworkflow&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:06,167 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 11:29:06,168 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 11:29:08,627 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 11:29:08,627 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 11:29:08,627 Line:243 AIOApi op=myworkflow&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:08,642 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 11:29:08,645 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 11:29:11,116 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:29:11,117 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 11:29:11,117 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:11,353 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:29:11,358 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:29:11,358 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:29:11,361 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:29:11,365 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 11:29:11,435 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 11:29:11,473 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 11:29:11,474 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 11:29:11,474 Line:243 AIOApi op=popup&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:29:11,475 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 11:29:11,477 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 11:29:11,478 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 11:31:02,424 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 11:31:04,594 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-15 11:31:04,594 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-15 11:31:04,595 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-15 11:31:05,361 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-15 11:31:05,362 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-15 11:31:06,366 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-15 11:31:06,366 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-15 11:31:06,366 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-15 11:31:18,287 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-15 11:31:18,288 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[收款单,];
 [DEBUG] 2018-01-15 11:31:21,583 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSaleReceive&search=%E6%94%B6%E6%AC%BE%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-15 11:31:21,583 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSaleReceive,];search=[?????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-15 11:31:21,726 Line:5242 GlobalsTool.js 生成js 时间11:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-15 11:31:22,171 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=AcceptType
 [DEBUG] 2018-01-15 11:31:22,172 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[AcceptType,];
 [DEBUG] 2018-01-15 11:31:22,811 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 11:31:31,204 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSaleReceiveDet&popWinName=TableChildmgtDiv
 [DEBUG] 2018-01-15 11:31:31,205 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSaleReceiveDet,];popWinName=[TableChildmgtDiv,];
 [DEBUG] 2018-01-15 11:31:50,293 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-15 11:31:50,296 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TableChildmgtDiv,];tableId=[96a4587a_0811072136223320001,];tableType=[1,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[0,];relationTable=[,];classCount=[6,];tableName=[tblSaleReceiveDet,];oldtableName=[tblSaleReceiveDet,];tableDisplay=[en:;zh_CN:收款单明细;,];tableDisplayDis=[收款单明细,];perantTableName=[tblSaleReceive;,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];defRowCount=[1,];isUsed=[1,];triggerExpress=[1,];fieldCalculate=[,];extendButton=[,];tableDesc=[,];PopDisSentence=[,];fieldId=[2fb30c60_1109261005355460124,c7451e64_0901061120481400280,96a4587a_0811072136223320004,6a67f872_1003081503259530043,96a4587a_0811072136223320012,93956583_0903072215278280044,96a4587a_0811072136223320014,96a4587a_0811072136223320008,96a4587a_0811072136223320006,96a4587a_0811072136223320016,9db8b69a_0903132034308900161,96a4587a_0811072136223320018,96a4587a_0811072136223320010,540d9162_1206062015519220028,0cff0d6b_1206071926439510030,96a4587a_0811072136223320026,28e1e580_0906101801278430680,28e1e580_0906101801278430678,277e2e3e_0901051026517650032,277e2e3e_0901051026517650030,be9ac2f4_1303111027178260053,40C0A9D246E744DEAD81A75BF98D4C,56de56af_0908201119145930294,bd63a4a6_1104081339071400093,f0d66329_1003081201086400281,8226b6ae_1105061101194060037,c7451e64_0901061122455000297,36b5d1a7_1311080939211710054,6d824300_1607041418574520475,];languageId=[36b5d1a7_1311080939211710023,36b5d1a7_1311080939211710022,36b5d1a7_1311080939211710029,36b5d1a7_1311080939211710030,36b5d1a7_1311080939211710031,36b5d1a7_1311080939211710032,36b5d1a7_1311080939211710033,36b5d1a7_1311080939211710034,36b5d1a7_1311080939211710035,36b5d1a7_1311080939211710036,36b5d1a7_1311080939211710037,36b5d1a7_1311080939211710038,36b5d1a7_1311080939211710039,36b5d1a7_1311080939211710040,36b5d1a7_1311080939211710041,36b5d1a7_1311080939211710042,36b5d1a7_1311080939211710043,36b5d1a7_1311080939211710044,36b5d1a7_1311080939211710045,36b5d1a7_1311080939211710046,36b5d1a7_1311080939211710047,36b5d1a7_1311080939211710051,36b5d1a7_1311080939211710053,36b5d1a7_1311080939211710052,36b5d1a7_1311080939211710048,36b5d1a7_1311080939211710049,36b5d1a7_1311080939211710050,36b5d1a7_1311080939211710055,6d824300_1607041418574520476,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,];isStat=[0,0,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isNull=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,];isUnique=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,2,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];refEnumerationName=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,SaleReceiveViewSelect:SaleReceiveViewSelect,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,{tblSaleReceiveDet_ExeBalFcAmt}={tblSaleReceiveDet_ExeBalAmt}/{CurrencyRate};,,,,,{tblSaleReceiveDet_ExeBalAmt}={tblSaleReceiveDet_ExeBalFcAmt}*{CurrencyRate};,,,,,,,,,,,,,,,,,];fieldSysType=[,,,,,,,,currency,currency,currency,currency,currency,,,,,,,,,,,,,,,,,];fieldIdentityStr=[,,SAmountIdentifier,,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,Amount,Amount,Amount,Amount,SAmountIdentifier,,,,,,,,,,,,,,,,,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,zh_CN:;,,,,,,,,,,,,,,,,,,,,,,,,,,,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isLog=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];inputTypeOld=[3,2,8,8,8,8,8,0,3,3,3,3,0,3,3,0,100,100,0,0,3,0,3,3,3,3,0,3,0,];isMobile=[,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,];fieldName=[ItemName,RefbillNo,BillAmt,BillName,SettledAmt,BackAmt,WexeBalAmt,ExeBalAmt,CurBillAmt,CurSettledAmt,CurBackAmt,CurWexeBalAmt,ExeBalFcAmt,EmployeeID,DepartmentCode,Remark,SaleOutBillID,SaleOutBillNo,SalesOrderID,SalesOrderNo,SourceID,detOrderNo,BankRecordID,CompanyCode,ReceiveBillType,RefBillDate,RefbillID,SubCode,Currency,];fieldDisplay=[en:;zh_CN:项目名称;,en:;zh_CN:关联单据;,en:;zh_CN:单据金额;,en:;zh_CN:模块名称;,en:;zh_CN:已结算金额;,en:;zh_CN:退货金额;,en:;zh_CN:待结算金额;,en:;zh_CN:本次结算金额;,en:;zh_CN:外币单据金额;,en:;zh_CN:外币已结算金额;,en:;zh_CN:外币退货金额;,en:;zh_CN:外币待结算金额;,en:;zh_CN:外币结算金额;,en:;zh_CN:经手人;,en:;zh_CN:部门;,en:;zh_CN:备注;,en:;zh_CN:出库单ID;,en:;zh_CN:出库单号;,en:;zh_CN:销售订单ID;,en:;zh_CN:销售订单编号;,en:;zh_CN:SourceID;,en:;zh_CN:detOrderNo;,en:;zh_CN:银行到账记录ID;,en:;zh_CN:往来单位;,en:;zh_CN:收款单据类型;,en:;zh_CN:单据日期;,en:;zh_CN:关联单据ID;,en:;zh_CN:科目编号;,zh_CN:币种;,];fieldDisplayDis=[项目名称,关联单据,单据金额,模块名称,已结算金额,退货金额,待结算金额,本次结算金额,外币单据金额,外币已结算金额,外币退货金额,外币待结算金额,外币结算金额,经手人,部门,备注,出库单ID,出库单号,销售订单ID,销售订单编号,SourceID,detOrderNo,银行到账记录ID,往来单位,收款单据类型,单据日期,关联单据ID,科目编号,币种,];fieldType=[2,2,1,2,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,0,2,2,2,5,2,2,2,];maxLength=[100,80,0,100,0,0,0,0,0,0,0,0,0,100,100,8000,60,60,80,80,50,0,30,50,100,10,80,100,50,];defaultValue=[,,,,,,,,0,0,0,0,0,,,,,,,,,,,,,,,,,];width=[100,100,100,100,100,100,100,100,80,80,80,80,80,80,80,150,200,200,0,0,224,0,0,200,200,200,0,224,200,];inputType=[3,2,8,3,8,3,8,0,3,3,3,3,3,3,3,0,100,100,3,3,3,100,3,3,3,3,3,3,3,];moreInputId=[SaleReceiveViewSelect,];isNullId=[1,];inputTypeOldId=[2,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];isCopyId=[1,];
 [DEBUG] 2018-01-15 11:31:50,306 Line:1841 tblSaleReceiveDet_ExeBalFcAmt
 [DEBUG] 2018-01-15 11:31:50,307 Line:1841 tblSaleReceiveDet_ExeBalAmt
 [DEBUG] 2018-01-15 11:31:50,307 Line:1841 CurrencyRate
 [DEBUG] 2018-01-15 11:31:50,307 Line:1841 tblSaleReceiveDet_ExeBalAmt
 [DEBUG] 2018-01-15 11:31:50,307 Line:1841 tblSaleReceiveDet_ExeBalFcAmt
 [DEBUG] 2018-01-15 11:31:50,307 Line:1841 CurrencyRate
 [DEBUG] 2018-01-15 11:31:50,320 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-15 11:31:50' where tableName='tblSaleReceiveDet'
 [DEBUG] 2018-01-15 11:31:50,323 Line:1235 update tblLanguage set zh_CN='关联单据' where id='36b5d1a7_1311080939211710022'
 [DEBUG] 2018-01-15 11:31:50,324 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='tblSaleReceiveDet') and fieldName = 'Currency'
 [DEBUG] 2018-01-15 11:31:50,328 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-15 11:31:50,896 Line:297  select * from tblDBTableInfo where tableName = 'tblSaleReceiveDet'
 [DEBUG] 2018-01-15 11:31:50,904 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblSaleReceiveDet') order by tableId,listOrder
 [DEBUG] 2018-01-15 11:31:50,915 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-15 11:31:52,427 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSaleReceiveDet&popWinName=TableChildmgtDiv&winCurIndex=
 [DEBUG] 2018-01-15 11:31:52,427 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSaleReceiveDet,];popWinName=[TableChildmgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-15 11:31:57,606 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:31:57,606 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 11:31:57,607 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:31:57,983 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:31:57,999 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:31:58,000 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:31:58,005 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:31:58,018 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 11:31:58,204 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 11:31:58,289 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 11:31:58,291 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 11:31:58,292 Line:243 AIOApi op=popup&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:31:58,293 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 11:31:58,299 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 11:31:58,300 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 11:41:20,057 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:41:20,057 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[0cb36313_1801142137591530134,];
 [DEBUG] 2018-01-15 11:41:20,057 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:41:20,188 Line:1525  select * from  tblSalesOutStockDet where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 11:41:20,199 Line:1525  select * from  tblSalesRecAccount where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 11:41:20,202 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142137591530134' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-15 11:41:20,355 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-14 21:37:57","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801140010","Remark":"","ass_OrderId":"0cb36313_1801141834346580120","C等等！
 [DEBUG] 2018-01-15 11:43:09,173 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:43:09,173 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 11:43:09,174 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:43:09,669 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:43:09,674 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:43:09,674 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:43:09,676 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:43:09,683 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 11:43:09,773 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 11:43:09,807 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 11:43:09,808 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 11:43:09,808 Line:243 AIOApi op=popup&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:43:09,808 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 11:43:09,810 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 11:43:09,811 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 11:43:51,016 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:43:51,017 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[0cb36313_1801142137591530134,];
 [DEBUG] 2018-01-15 11:43:51,018 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:43:51,086 Line:1525  select * from  tblSalesOutStockDet where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 11:43:51,100 Line:1525  select * from  tblSalesRecAccount where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 11:43:51,104 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142137591530134' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-15 11:43:51,233 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-14 21:37:57","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801140010","Remark":"","ass_OrderId":"0cb36313_1801141834346580120","C等等！
 [DEBUG] 2018-01-15 11:43:54,369 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:43:54,370 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[0cb36313_1801141834346580120,];
 [DEBUG] 2018-01-15 11:43:54,371 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:43:54,409 Line:1525  select * from  tblSalesOrderDet where f_ref = '0cb36313_1801141834346580120' order by detOrderNo
 [DEBUG] 2018-01-15 11:43:54,416 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801141834346580120' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-15 11:43:54,514 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","CRMpactID":"","TotalTaxAmount":1.00000000,"Currency":"","NoInvoiceAmount":1.00000000,"CurNeedReturnAmt等等！
 [DEBUG] 2018-01-15 11:44:00,112 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 11:44:00,113 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 11:44:00,113 Line:243 AIOApi op=detail&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:44:00,117 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:44:00,118 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:44:00,118 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 11:44:00,119 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 11:44:00,121 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 11:44:00,170 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 11:44:00,201 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 11:44:00,202 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 11:44:00,202 Line:243 AIOApi op=popup&sessionid=0035B10BAA09A7EC8B6BBF1246A16E7F
 [DEBUG] 2018-01-15 11:44:00,204 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 11:44:00,206 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 11:44:00,207 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 12:01:19,859 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [INFO ] 2018-01-15 12:52:23,069 Line:206 系统开始启动，最大内存：1792;目前总内存：305;目前空闲内存：212
 [INFO ] 2018-01-15 12:52:23,248 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-15 12:52:28,089 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-15 12:52:28,425 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-15 12:52:28,454 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-15 12:52:28,459 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-15 12:52:28,465 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-15 12:52:28,483 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-15 12:52:28,500 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-15 12:52:30,114 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 12:52:30,151 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-15 12:52:30,186 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-15 12:52:30,200 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-15 12:52:31,253 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-15 12:52:31,254 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-15 12:52:31,912 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-15 12:52:31,997 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-15 12:52:33,531 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-15 12:52:33,594 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-15 12:52:33,607 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-15 12:52:33,628 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-15 12:52:33,664 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-15 12:52:33,675 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-15 12:52:33,741 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-15 12:52:38,009 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-15 12:52:38,354 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,356 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,358 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,360 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,362 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,365 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,367 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,369 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,371 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,373 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,429 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,449 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,477 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,553 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,555 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,557 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,560 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,601 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,604 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,607 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,610 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,613 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,616 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,644 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,705 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,710 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,712 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,716 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,719 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,722 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,753 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,755 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,757 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,809 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,845 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,907 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,929 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,932 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 12:52:38,957 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-15 12:52:38,977 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-15 12:52:39,044 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-15 12:52:39,778 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-15 12:52:39,778 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-15 12:52:41,387 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-16 00:00:00
 [INFO ] 2018-01-15 12:52:41,387 Line:137 SAFE 碎片任务启动，时间2018-01-21 00:00:00
 [DEBUG] 2018-01-15 12:53:07,563 Line:5242 GlobalsTool.js 生成js 时间54:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-15 12:53:07,649 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 12:53:07,650 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 12:53:07,862 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515991987847
 [DEBUG] 2018-01-15 12:53:07,869 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515991987847,];
 [DEBUG] 2018-01-15 12:53:08,019 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 12:53:08,020 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 12:53:12,415 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515991992412
 [DEBUG] 2018-01-15 12:53:12,416 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515991992412,];
 [DEBUG] 2018-01-15 12:53:12,498 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515991992498
 [DEBUG] 2018-01-15 12:53:12,499 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515991992498,];
 [DEBUG] 2018-01-15 12:53:12,597 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-15 12:53:12,598 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 12:53:12,660 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 12:53:12,674 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 12:53:12,876 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 12:53:12,877 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 12:53:12,902 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 12:53:13,581 Line:5242 GlobalsTool.js 生成js 时间91:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-15 12:53:13,834 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 12:53:13,834 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 12:53:13,834 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 12:53:13,834 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 12:53:13,835 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 12:53:13,849 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 12:53:13,850 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 12:53:13,850 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 12:53:13,860 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 12:53:13,860 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 12:53:13,861 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 12:53:13,872 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 12:53:13,873 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 12:53:13,874 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 12:53:18,732 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 12:53:18,732 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 12:53:18,732 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-15 12:53:19,744 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-15 12:53:19,745 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-15 12:53:21,118 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=popupQuery&from=adv&src=menu&winCurIndex=2
 [DEBUG] 2018-01-15 12:53:21,118 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[popupQuery,];from=[adv,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-15 12:53:21,118 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomAction.do?type=popupQuery&from=adv
 [DEBUG] 2018-01-15 12:53:27,107 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=popupQuery
 [DEBUG] 2018-01-15 12:53:27,107 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[popupQuery,];from=[adv,];keyword=[手机,];
 [DEBUG] 2018-01-15 12:53:39,870 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 13:02:25,205 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 13:02:25,207 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 13:02:25,207 Line:243 AIOApi op=getSessEmp&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:25,239 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 13:02:35,713 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 13:02:35,715 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 13:02:35,715 Line:243 AIOApi op=LOGIN&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:35,727 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 13:02:35,733 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 13:02:35,735 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 13:02:35,745 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 13:02:36,171 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 13:02:36,173 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 13:02:36,174 Line:243 AIOApi op=getSessEmp&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:36,194 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 13:02:36,209 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 13:02:36,210 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 13:02:36,211 Line:243 AIOApi op=getEnum&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:36,216 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 13:02:38,044 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 13:02:38,046 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 13:02:38,047 Line:243 AIOApi op=myworkflow&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:38,095 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 13:02:38,104 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 13:02:39,562 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 13:02:39,563 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[FlowNwaichushenqingdan2,];keyId=[bb257563_1712312211290680028,];
 [DEBUG] 2018-01-15 13:02:39,563 Line:243 AIOApi op=detail&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:39,605 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004'
 [DEBUG] 2018-01-15 13:02:39,606 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=FlowNwaichushenqingdan2;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004'
 [DEBUG] 2018-01-15 13:02:39,618 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='bb257563_1712312211290680028' and  a.tableName='FlowNwaichushenqingdan2'
 [DEBUG] 2018-01-15 13:02:39,765 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":false,"values":{"lastUpdateByName":"李灿豪","tblDepartment.DeptFullName":"AIO组","Fhtime":"2017-12-31 22:11:00","SCompanyID":"00001","tblEmployee.EmpFullName":"李灿豪","printCount":0,"workFlowNode":"1514367705927","id":"bb257563_1712312211290680028","workFlowNodeName":"notApprove","OutStytle":"1","isCatalog":0,"DepartmentCode":"","finishTi等等！
 [DEBUG] 2018-01-15 13:02:42,876 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 13:02:42,877 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 13:02:42,877 Line:243 AIOApi op=myworkflow&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:42,896 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 13:02:42,910 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 13:02:44,009 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 13:02:44,011 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 13:02:44,012 Line:243 AIOApi op=detail&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:44,326 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 13:02:44,332 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 13:02:44,334 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 13:02:44,338 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 13:02:44,346 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 13:02:44,515 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 13:02:44,564 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 13:02:44,564 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 13:02:44,565 Line:243 AIOApi op=popup&sessionid=FFD7FE514CA2E0E2AC8BD91B698F299C
 [DEBUG] 2018-01-15 13:02:44,588 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 13:02:44,594 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 13:02:44,595 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 13:24:00,367 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 13:41:00,501 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 13:41:00,502 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 13:41:00,503 Line:243 AIOApi op=detail&sessionid=69CC5205F4C08A97F592B91BA35A9664
 [DEBUG] 2018-01-15 13:41:00,504 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 13:41:02,513 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 13:41:02,513 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 13:41:02,514 Line:243 AIOApi op=LOGIN&sessionid=69CC5205F4C08A97F592B91BA35A9664
 [DEBUG] 2018-01-15 13:41:02,518 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 13:41:02,524 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 13:41:02,527 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 13:41:02,534 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 13:41:02,961 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 13:41:02,961 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 13:41:02,961 Line:243 AIOApi op=getSessEmp&sessionid=69CC5205F4C08A97F592B91BA35A9664
 [DEBUG] 2018-01-15 13:41:02,962 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 13:41:06,172 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 13:41:06,173 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 13:41:06,173 Line:243 AIOApi op=detail&sessionid=69CC5205F4C08A97F592B91BA35A9664
 [DEBUG] 2018-01-15 13:41:06,183 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 13:41:06,188 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 13:41:06,188 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 13:41:06,191 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 13:41:06,199 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 13:41:06,337 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 13:41:06,371 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 13:41:06,372 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 13:41:06,373 Line:243 AIOApi op=popup&sessionid=69CC5205F4C08A97F592B91BA35A9664
 [DEBUG] 2018-01-15 13:41:06,373 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 13:41:06,375 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 13:41:06,376 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 13:44:17,879 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 13:44:17,880 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 13:44:17,880 Line:243 AIOApi op=detail&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:17,881 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 13:44:19,514 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 13:44:19,515 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 13:44:19,515 Line:243 AIOApi op=LOGIN&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:19,518 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 13:44:19,521 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 13:44:19,522 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 13:44:19,531 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 13:44:19,998 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 13:44:19,999 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 13:44:20,000 Line:243 AIOApi op=getSessEmp&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:20,001 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 13:44:20,027 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 13:44:20,027 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 13:44:20,028 Line:243 AIOApi op=getEnum&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:20,029 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 13:44:21,917 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 13:44:21,918 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 13:44:21,918 Line:243 AIOApi op=myworkflow&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:21,924 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 13:44:21,928 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 13:44:23,602 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 13:44:23,603 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 13:44:23,603 Line:243 AIOApi op=myworkflow&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:23,606 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 13:44:23,611 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 13:44:24,684 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 13:44:24,684 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 13:44:24,684 Line:243 AIOApi op=detail&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:24,690 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 13:44:24,691 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 13:44:24,692 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 13:44:24,693 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 13:44:24,695 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 13:44:24,761 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 13:44:24,801 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 13:44:24,801 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 13:44:24,802 Line:243 AIOApi op=popup&sessionid=74061397DC5E60B513C5FFE8C70DFBA9
 [DEBUG] 2018-01-15 13:44:24,802 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 13:44:24,806 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 13:44:24,808 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 13:54:35,451 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 13:54:57,814 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2018-01-15 13:54:57,815 Line:146 BaseAction.execute 操作人:;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-15 13:54:57,816 Line:215 ---------->SET Page 4 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-15 13:54:59,080 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 13:54:59,081 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 13:54:59,081 Line:243 AIOApi op=LOGIN&sessionid=46AEC313B8FDB888D09E549CD710A787
 [DEBUG] 2018-01-15 13:54:59,085 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 13:54:59,090 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 13:54:59,091 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 13:54:59,097 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 13:54:59,107 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2018-01-15 13:54:59,108 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,menu,];winCurIndex=[4,4,];
 [DEBUG] 2018-01-15 13:54:59,108 Line:215 ---------->SET Page 4 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-15 13:55:03,862 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-15 13:55:03,863 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,];search=[付款单,];
 [DEBUG] 2018-01-15 13:55:10,983 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblPay&search=%E4%BB%98%E6%AC%BE%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-15 13:55:10,983 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblPay,];search=[?????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-15 13:55:11,319 Line:5242 GlobalsTool.js 生成js 时间19:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-15 13:55:11,765 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=Paytype
 [DEBUG] 2018-01-15 13:55:11,765 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[Paytype,];
 [DEBUG] 2018-01-15 13:55:12,372 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 13:55:15,931 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblPayAccountDet&popWinName=TableChildmgtDiv
 [DEBUG] 2018-01-15 13:55:15,932 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblPayAccountDet,];popWinName=[TableChildmgtDiv,];
 [DEBUG] 2018-01-15 13:55:16,036 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=PayMethod
 [DEBUG] 2018-01-15 13:55:16,036 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[PayMethod,];
 [DEBUG] 2018-01-15 13:55:16,354 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 13:55:19,668 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblPaydet&popWinName=TableChildmgtDiv
 [DEBUG] 2018-01-15 13:55:19,668 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblPaydet,];popWinName=[TableChildmgtDiv,];
 [DEBUG] 2018-01-15 13:55:51,008 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblPayAccountDet&popWinName=TableChildmgtDiv
 [DEBUG] 2018-01-15 13:55:51,009 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblPayAccountDet,];popWinName=[TableChildmgtDiv,];
 [DEBUG] 2018-01-15 13:55:51,091 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=PayMethod
 [DEBUG] 2018-01-15 13:55:51,092 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[PayMethod,];
 [DEBUG] 2018-01-15 13:55:51,391 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 13:56:30,243 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblPaydet&popWinName=TableChildmgtDiv
 [DEBUG] 2018-01-15 13:56:30,245 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblPaydet,];popWinName=[TableChildmgtDiv,];
 [DEBUG] 2018-01-15 14:24:55,434 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 14:42:57,115 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 14:42:57,116 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 14:42:57,193 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 14:42:57,194 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 14:42:57,320 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515998577316
 [DEBUG] 2018-01-15 14:42:57,320 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515998577316,];
 [DEBUG] 2018-01-15 14:43:13,287 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getHome
 [DEBUG] 2018-01-15 14:43:13,288 Line:3004 MobileAjax 操作人:;请求数据：op=[getHome,];
 [DEBUG] 2018-01-15 14:43:13,288 Line:243 AIOApi op=getHome&sessionid=E6EBCE34B985F57DFC0F07732F9BE42A
 [DEBUG] 2018-01-15 14:43:13,289 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 14:43:19,070 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 14:43:19,070 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 14:43:19,071 Line:243 AIOApi op=LOGIN&sessionid=E6EBCE34B985F57DFC0F07732F9BE42A
 [DEBUG] 2018-01-15 14:43:19,096 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 14:43:19,133 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 14:43:19,150 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 14:43:19,198 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 14:55:26,110 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 15:03:08,674 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-15 15:03:08,674 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-15 15:03:08,684 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-15 15:03:16,799 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：206
 [INFO ] 2018-01-15 15:03:16,997 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-15 15:03:21,188 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-15 15:03:21,356 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-15 15:03:21,368 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-15 15:03:21,371 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-15 15:03:21,374 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-15 15:03:21,383 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-15 15:03:21,393 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-15 15:03:23,222 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 15:03:23,248 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-15 15:03:23,284 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-15 15:03:23,297 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-15 15:03:24,253 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-15 15:03:24,253 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-15 15:03:24,800 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-15 15:03:24,880 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-15 15:03:25,644 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-15 15:03:25,671 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-15 15:03:25,677 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-15 15:03:25,692 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-15 15:03:25,704 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-15 15:03:25,711 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-15 15:03:25,742 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-15 15:03:29,094 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-15 15:03:29,222 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,224 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,225 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,226 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,227 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,229 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,230 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,231 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,232 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,233 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,277 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,301 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,328 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,390 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,393 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,396 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,398 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,435 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,437 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,440 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,443 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,445 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,448 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,473 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,522 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,525 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,527 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,530 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,532 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,535 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,566 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,570 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,574 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,634 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,665 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,722 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,742 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,745 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:03:29,769 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-15 15:03:29,789 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-15 15:03:29,843 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-15 15:03:30,522 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-15 15:03:30,522 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-15 15:03:31,838 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-16 00:00:00
 [INFO ] 2018-01-15 15:03:31,838 Line:137 SAFE 碎片任务启动，时间2018-01-21 00:00:00
 [DEBUG] 2018-01-15 15:03:46,109 Line:5242 GlobalsTool.js 生成js 时间92:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-15 15:03:46,166 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 15:03:46,168 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 15:03:46,652 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 15:03:46,653 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 15:03:47,072 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515999827069
 [DEBUG] 2018-01-15 15:03:47,073 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515999827069,];
 [DEBUG] 2018-01-15 15:03:48,529 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515999828527
 [DEBUG] 2018-01-15 15:03:48,529 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515999828527,];
 [DEBUG] 2018-01-15 15:03:48,593 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515999828592
 [DEBUG] 2018-01-15 15:03:48,593 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515999828592,];
 [DEBUG] 2018-01-15 15:03:48,669 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-15 15:03:48,670 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 15:03:48,724 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 15:03:48,739 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 15:03:48,867 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 15:03:48,868 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 15:03:48,877 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:03:49,169 Line:5242 GlobalsTool.js 生成js 时间38:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-15 15:03:49,412 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 15:03:49,413 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 15:03:49,413 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 15:03:49,413 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:03:49,415 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:03:49,435 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 15:03:49,436 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:03:49,437 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:03:49,448 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 15:03:49,448 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:03:49,449 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:03:49,460 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 15:03:49,460 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:03:49,461 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:04:30,655 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 15:05:57,320 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-15 15:05:57,321 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-15 15:05:57,327 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2018-01-15 15:06:05,485 Line:206 系统开始启动，最大内存：1792;目前总内存：300;目前空闲内存：201
 [INFO ] 2018-01-15 15:06:05,649 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-15 15:06:11,263 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-15 15:06:11,577 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-15 15:06:11,580 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-15 15:06:11,582 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-15 15:06:11,585 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-15 15:06:11,602 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-15 15:06:11,605 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-15 15:06:12,492 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 15:06:12,519 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-15 15:06:12,547 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-15 15:06:12,559 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-15 15:06:13,299 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-15 15:06:13,299 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-15 15:06:14,036 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-15 15:06:14,196 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-15 15:06:15,882 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-15 15:06:15,925 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-15 15:06:15,929 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-15 15:06:15,943 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-15 15:06:15,967 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-15 15:06:15,971 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-15 15:06:16,012 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-15 15:06:19,216 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-15 15:06:19,496 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,498 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,501 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,503 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,505 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,508 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,510 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,512 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,515 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,517 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,549 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,572 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,592 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,622 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,623 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,624 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,625 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,639 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,640 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,641 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,642 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,643 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,644 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,658 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,680 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,681 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,682 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,683 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,684 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,686 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,698 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,699 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,700 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,726 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,741 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,770 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,780 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,782 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 15:06:19,797 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-15 15:06:19,805 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-15 15:06:19,831 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-15 15:06:20,175 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-15 15:06:20,175 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-15 15:06:21,284 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-16 00:00:00
 [INFO ] 2018-01-15 15:06:21,284 Line:137 SAFE 碎片任务启动，时间2018-01-21 00:00:00
 [DEBUG] 2018-01-15 15:06:35,773 Line:5242 GlobalsTool.js 生成js 时间200:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-15 15:06:35,923 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 15:06:35,925 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 15:06:36,515 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515999996495
 [DEBUG] 2018-01-15 15:06:36,537 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515999996495,];
 [DEBUG] 2018-01-15 15:06:37,119 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 15:06:37,120 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 15:06:38,838 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 15:06:38,838 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2018-01-15 15:06:38,839 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2018-01-15 15:06:38,902 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 15:06:38,903 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 15:06:38,920 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 15:06:38,921 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 15:06:38,986 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515999998984
 [DEBUG] 2018-01-15 15:06:38,988 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515999998984,];
 [DEBUG] 2018-01-15 15:06:40,733 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1516000000732
 [DEBUG] 2018-01-15 15:06:40,733 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1516000000732,];
 [DEBUG] 2018-01-15 15:06:40,793 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1516000000792
 [DEBUG] 2018-01-15 15:06:40,793 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1516000000792,];
 [DEBUG] 2018-01-15 15:06:40,863 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-15 15:06:40,863 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 15:06:40,901 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 15:06:40,912 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 15:06:41,013 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 15:06:41,013 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 15:06:41,022 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:06:41,268 Line:5242 GlobalsTool.js 生成js 时间35:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-15 15:06:41,418 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 15:06:41,418 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 15:06:41,418 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 15:06:41,418 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:06:41,420 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:06:41,443 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 15:06:41,443 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:06:41,444 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:06:41,457 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 15:06:41,457 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:06:41,458 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:06:41,564 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 15:06:41,565 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 15:06:41,566 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 15:06:52,178 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 15:06:52,178 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 15:06:52,179 Line:243 AIOApi op=getSessEmp&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:06:52,217 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 15:06:52,298 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 15:06:52,299 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 15:06:52,299 Line:243 AIOApi op=getEnum&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:06:52,304 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 15:07:01,908 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 15:07:01,909 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 15:07:01,909 Line:243 AIOApi op=myworkflow&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:07:01,942 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 15:07:01,948 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 15:07:03,372 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 15:07:03,373 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 15:07:03,373 Line:243 AIOApi op=myworkflow&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:07:03,397 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 15:07:03,409 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-14","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936591560241","templateName":"收款单","orderIndex":0,"billId":"0cb36313_1801142140043120151","applyContent":"","currentNode":"1515905877250","nextNodeIds":"","tableName":"tblSaleReceive","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckperson"等等！
 [DEBUG] 2018-01-15 15:07:04,754 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 15:07:04,754 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSaleReceive,];keyId=[0cb36313_1801142140043120151,];
 [DEBUG] 2018-01-15 15:07:04,754 Line:243 AIOApi op=detail&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:07:05,116 Line:1525  select * from  tblReceiveAccountDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 15:07:05,122 Line:2014 DynDBManager.getRefSql:弹出窗SaleReceiveManyAccInfo: select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 15:07:05,123 Line:1791  select tblAccTypeInfo.AccName from tblAccTypeInfo
      where 1=1  and (tblAccTypeInfo.isCalculate !=1 OR tblAccTypeInfo.isCalculate IS NULL)
		 and tblAccTypeInfo.AccNumber = '100202'
 [DEBUG] 2018-01-15 15:07:05,128 Line:1525  select * from  tblSaleReceiveDet where f_ref = '0cb36313_1801142140043120151' order by detOrderNo
 [DEBUG] 2018-01-15 15:07:05,142 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142140043120151' and  a.tableName='tblSaleReceive'
 [DEBUG] 2018-01-15 15:07:05,419 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Attachment":"","PayBankAcc":"","FCcurrentlyreceive":0.0,"Remark":"","BillFcAmt":1.00000000,"ContractNo":"","TABLENAME_tblReceiveAccountDet":[{"f_ref":"0cb36313_1801142140043120151","Account":"100202","Amount":1.0000000等等！
 [DEBUG] 2018-01-15 15:07:05,485 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 15:07:05,485 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[mobile_tblLanguagebyid,];pageNo=[1,];pageSize=[10,];langageid=[be7879e7_1801141548464000108,];
 [DEBUG] 2018-01-15 15:07:05,485 Line:243 AIOApi op=popup&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:07:05,501 Line:3434 DynDBManager.popSelect selectName=mobile_tblLanguagebyid; sql=select *  from (select tblLanguage.zh_CN f1 
,ROW_NUMBER() over( order by tblLanguage.zh_CN) as row_id from tblLanguage where id = 'be7879e7_1801141548464000108') a where  row_id between 1 and 10 order by row_id 
 [INFO ] 2018-01-15 15:07:05,505 Line:1182 --------------弹出窗调试信息：弹出窗mobile_tblLanguagebyid返回字段'tblLanguage.zh_CN'在表构中不存，且未指定parentName或display
 [DEBUG] 2018-01-15 15:07:05,507 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"zhcn":"舒总"}]}}
 [DEBUG] 2018-01-15 15:07:09,923 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 15:07:09,924 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[0cb36313_1801142137591530134,];
 [DEBUG] 2018-01-15 15:07:09,924 Line:243 AIOApi op=detail&sessionid=BD8A1D1EC89619E3E09A2BDF025EBA61
 [DEBUG] 2018-01-15 15:07:09,967 Line:1525  select * from  tblSalesOutStockDet where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 15:07:09,974 Line:1525  select * from  tblSalesRecAccount where f_ref = '0cb36313_1801142137591530134' order by detOrderNo
 [DEBUG] 2018-01-15 15:07:09,978 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='0cb36313_1801142137591530134' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-15 15:07:10,250 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":true,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-14 21:37:57","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801140010","Remark":"","ass_OrderId":"0cb36313_1801141834346580120","C等等！
 [DEBUG] 2018-01-15 15:07:20,302 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 15:37:43,852 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 15:57:52,180 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 15:57:52,181 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 15:57:52,274 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 15:57:52,275 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 15:57:52,491 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1516003072490
 [DEBUG] 2018-01-15 15:57:52,492 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[valpwd,];time=[1516003072490,];
 [DEBUG] 2018-01-15 16:08:11,946 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 16:32:18,354 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 16:32:18,356 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[0cb36313_1801141834346580120,];
 [DEBUG] 2018-01-15 16:32:18,357 Line:243 AIOApi op=detail&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:32:18,361 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 16:32:18,592 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 16:32:18,593 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 16:32:18,594 Line:243 AIOApi op=getSessEmp&sessionid=8AFC2B111E82788246173E5D8FDFDFC0
 [DEBUG] 2018-01-15 16:32:18,595 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 16:33:23,815 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 16:33:23,816 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 16:33:23,816 Line:243 AIOApi op=LOGIN&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:23,859 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 16:33:23,895 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 16:33:23,910 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 16:33:23,961 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 16:33:24,443 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 16:33:24,443 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 16:33:24,443 Line:243 AIOApi op=getSessEmp&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:24,444 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 16:33:24,466 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 16:33:24,466 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 16:33:24,467 Line:243 AIOApi op=getEnum&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:24,471 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 16:33:26,652 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 16:33:26,653 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 16:33:26,653 Line:243 AIOApi op=myworkflow&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:26,688 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 16:33:26,691 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 16:33:30,147 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2018-01-15 16:33:30,151 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblexpenseaccount,];
 [DEBUG] 2018-01-15 16:33:30,152 Line:243 AIOApi op=addPrepare&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:30,367 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"tblexpenseaccount"},"childTableList":["tblexpenseaccountDet"],"fieldList":[{"id":"16498250_1107300945503685467","tableName":"tblexpenseaccount","fieldName":"BillNo","isNull":1,"defaultValue":"SS1801150010","fieldType":2,等等！
 [DEBUG] 2018-01-15 16:33:40,495 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 16:33:40,497 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2018-01-15 16:33:40,497 Line:243 AIOApi op=popup&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:40,498 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2018-01-15 16:33:40,509 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"0000","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"Boos","tblEmployee_TitleID":"","EmployeeID":"2cf86be0_1712291628149430079","tblEmployee_EmpFullName":"Boos","tblEmployee_Mobile":""},{"DepartmentCode":"00102","tblEmployee_EmpNumber":"1","tblDepartment_DeptFullName":"AIO组","tblDepartment_DeptFullNamePYM":"AIOz","tblEmployee_EmpFullNamePYM":"lch","t等等！
 [DEBUG] 2018-01-15 16:33:48,015 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2018-01-15 16:33:48,016 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[tblexpenseaccount,];saveType=[,];values=[{"remark":"123","BillNo":"","showDate":"2018-01-14T16:00:00.000Z","EmployeeCode":"02dabeed_1712302027382450004","tblEmployee.EmpFullName":"李灿豪","DepartmentCode":"00102","ApplyDate":"2018-01-15","appendixno":0,"originalBorrow":0,"backBlance":0,"TABLENAME_tblexpenseaccountDet":[{"EmployeeCode":"123","Business":"123","ExpenseaccountType":"1","_timestamp":1516005210069}],"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"updateRight":false,"createByName":null,"createTime":null,"workFlowNode":null,"opType":"add"},];defineInfo=[,];
 [DEBUG] 2018-01-15 16:33:48,016 Line:243 AIOApi op=add&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:33:48,050 Line:5847  INSERT INTO  tblexpenseaccount(BillNo,checkPersons,id,workFlowNode,workFlowNodeName,DepartmentCode,EmployeeCode,ApplyDate,appendixno,originalBorrow,backBlance,remark,createBy,finishTime,SCompanyID,lastUpdateBy,lastUpdateTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-15 16:33:48,051 Line:5853 1:
 [DEBUG] 2018-01-15 16:33:48,051 Line:5853 2:;1;
 [DEBUG] 2018-01-15 16:33:48,051 Line:5853 3:dc58aad8_1801151633480450003
 [DEBUG] 2018-01-15 16:33:48,051 Line:5853 4:0
 [DEBUG] 2018-01-15 16:33:48,051 Line:5853 5:notApprove
 [DEBUG] 2018-01-15 16:33:48,051 Line:5853 6:00102
 [DEBUG] 2018-01-15 16:33:48,052 Line:5853 7:02dabeed_1712302027382450004
 [DEBUG] 2018-01-15 16:33:48,052 Line:5853 8:2018-01-15
 [DEBUG] 2018-01-15 16:33:48,052 Line:5853 9:0.0
 [DEBUG] 2018-01-15 16:33:48,052 Line:5853 10:0.0
 [DEBUG] 2018-01-15 16:33:48,052 Line:5853 11:0.0
 [DEBUG] 2018-01-15 16:33:48,053 Line:5853 12:123
 [DEBUG] 2018-01-15 16:33:48,053 Line:5853 13:1
 [DEBUG] 2018-01-15 16:33:48,053 Line:5853 14:0.0
 [DEBUG] 2018-01-15 16:33:48,053 Line:5853 15:00001
 [DEBUG] 2018-01-15 16:33:48,053 Line:5853 16:1
 [DEBUG] 2018-01-15 16:33:48,053 Line:5853 17:2018-01-15 16:33:48
 [ERROR] 2018-01-15 16:33:48,062 Line:5869 DynDBManager.execInert Error
 com.microsoft.sqlserver.jdbc.SQLServerException: 对象名 'tblexpenseaccount' 无效。
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:390)
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:340)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.execute(SQLServerPreparedStatement.java:322)
	at org.apache.tomcat.dbcp.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172)
	at org.apache.tomcat.dbcp.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:172)
	at com.menyi.aio.dyndb.DynDBManager.execInert(DynDBManager.java:5855)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3812)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.web.util.AIOConnect.add(AIOConnect.java:1014)
	at com.menyi.aio.web.mobile.AIOApi.add(AIOApi.java:2171)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:269)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2018-01-15 16:33:48,062 Line:3814 DynDBManager.execAdd Insert Table tblexpenseaccount Info: 对象名 'tblexpenseaccount' 无效。
 [DEBUG] 2018-01-15 16:33:48,069 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"ERROR","msg":"对象名 \u0027tblexpenseaccount\u0027 无效。"}
 [DEBUG] 2018-01-15 16:35:31,409 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 16:35:31,410 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 16:35:31,491 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 16:35:31,491 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 16:35:31,607 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1516005331604
 [DEBUG] 2018-01-15 16:35:31,607 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1516005331604,];
 [DEBUG] 2018-01-15 16:35:33,211 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1516005333208
 [DEBUG] 2018-01-15 16:35:33,212 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1516005333208,];
 [DEBUG] 2018-01-15 16:35:33,220 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1516005333213
 [DEBUG] 2018-01-15 16:35:33,220 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1516005333213,];
 [DEBUG] 2018-01-15 16:35:33,227 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-15 16:35:33,228 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 16:35:33,273 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 16:35:33,282 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 16:35:33,342 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 16:35:33,342 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 16:35:33,343 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 16:35:33,495 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 16:35:33,495 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 16:35:33,516 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 16:35:33,516 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 16:35:33,517 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 16:35:33,526 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 16:35:33,527 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 16:35:33,528 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 16:35:33,535 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 16:35:33,535 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 16:35:33,536 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 16:35:33,542 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 16:35:33,542 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 16:35:33,543 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 16:35:37,970 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?moduleType=sys&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 16:35:37,970 Line:146 BaseAction.execute 操作人:admin;请求数据：moduleType=[sys,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 16:35:37,970 Line:215 ---------->SET Page 1 DEFAULT URL = /OAWorkFlowTempQueryAction.do?moduleType=sys
 [DEBUG] 2018-01-15 16:35:37,991 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?actionType=toTree&moduleType=sys
 [DEBUG] 2018-01-15 16:35:37,991 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempQueryAction.do?operation=4&selectType=status&val=1&moduleType=sys
 [DEBUG] 2018-01-15 16:35:37,992 Line:146 BaseAction.execute 操作人:admin;请求数据：actionType=[toTree,];moduleType=[sys,];
 [DEBUG] 2018-01-15 16:35:37,992 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];selectType=[status,];val=[1,];moduleType=[sys,];
 [DEBUG] 2018-01-15 16:35:38,000 Line:388 OAWorkFlowTempMgt.query 查询工作流sql =select work.id,work.templateName,templateType,a.moduleName,templateStatus,work.templateClass,work.statusId,work.flowOrder,templateFile,work.designType,work.workflowFile,work.fileFinish from OAWorkFlowTemplate work left join  tblWorkFlowType a  on work.templateClass=a.classCode  where  work.statusId=0 and templateStatus = ?  and ( a.classCode like '00001%'   OR a.classCode like '00002%'   OR a.classCode like '00003%'  ) order by work.templateStatus desc
 [DEBUG] 2018-01-15 16:37:06,766 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 16:37:06,766 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 16:37:06,767 Line:243 AIOApi op=getSessEmp&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:06,767 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 16:37:06,780 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 16:37:06,781 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 16:37:06,782 Line:243 AIOApi op=getEnum&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:06,784 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 16:37:08,895 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2018-01-15 16:37:08,895 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblexpenseaccount,];
 [DEBUG] 2018-01-15 16:37:08,895 Line:243 AIOApi op=addPrepare&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:08,928 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"DepartmentCode":"","tblEmployee.EmpFullName":"admin","f_brother":"","EmployeeID":"1","tableName":"tblexpenseaccount"},"childTableList":["tblexpenseaccountDet"],"fieldList":[{"id":"16498250_1107300945503685467","tableName":"tblexpenseaccount","fieldName":"BillNo","isNull":1,"defaultValue":"SS1801150011","fieldType":2,等等！
 [DEBUG] 2018-01-15 16:37:12,499 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 16:37:12,501 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[Employee,];pageNo=[1,];pageSize=[999,];
 [DEBUG] 2018-01-15 16:37:12,501 Line:243 AIOApi op=popup&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:12,503 Line:3434 DynDBManager.popSelect selectName=Employee; sql=select *  from (select tblEmployee.id f1 ,tblEmployee.DepartmentCode f2 ,tblEmployee.EmpNumber f3 ,tblEmployee.EmpFullName f4 ,tblEmployee.EmpFullNamePYM f5 ,tblEmployee.TitleID f6 ,tblDepartment.DeptFullName f7 ,tblDepartment.DeptFullNamePYM f8 ,tblEmployee.Mobile f9 
,ROW_NUMBER() over( order by tblEmployee.EmpNumber,tblEmployee.EmpFullName) as row_id from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish') and ( tblEmployee.EmpNumber like '%%' or  ( tblEmployee.EmpFullName like '%%' or tblEmployee.EmpFullNamePYM like '%%' or tblEmployee.TitleID = '' or tblDepartment.DeptFullName like '%%' or tblDepartment.DeptFullNamePYM like '%%'))) a where  row_id between 1 and 999 order by row_id 
 [DEBUG] 2018-01-15 16:37:12,530 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"DepartmentCode":"00101","tblEmployee_EmpNumber":"0000","tblDepartment_DeptFullName":"默认部门","tblDepartment_DeptFullNamePYM":"mrbm","tblEmployee_EmpFullNamePYM":"Boos","tblEmployee_TitleID":"","EmployeeID":"2cf86be0_1712291628149430079","tblEmployee_EmpFullName":"Boos","tblEmployee_Mobile":""},{"DepartmentCode":"00102","tblEmployee_EmpNumber":"1","tblDepartment_DeptFullName":"AIO组","tblDepartment_DeptFullNamePYM":"AIOz","tblEmployee_EmpFullNamePYM":"lch","t等等！
 [DEBUG] 2018-01-15 16:37:19,704 Line:2993 MobileAjax 请求地址：/MobileAjax?op=add
 [DEBUG] 2018-01-15 16:37:19,705 Line:3004 MobileAjax 操作人:admin;请求数据：op=[add,];tableName=[tblexpenseaccount,];saveType=[,];values=[{"remark":"123","BillNo":"","showDate":"2018-01-14T16:00:00.000Z","EmployeeCode":"02dabeed_1712302027382450004","tblEmployee.EmpFullName":"李灿豪","DepartmentCode":"00102","ApplyDate":"2018-01-15","appendixno":0,"originalBorrow":0,"backBlance":0,"TABLENAME_tblexpenseaccountDet":[{"EmployeeCode":"123","Business":"123","ExpenseaccountType":"1","_timestamp":1516005428815}],"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"updateRight":false,"createByName":null,"createTime":null,"workFlowNode":null,"opType":"add"},];defineInfo=[,];
 [DEBUG] 2018-01-15 16:37:19,705 Line:243 AIOApi op=add&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:19,710 Line:5847  INSERT INTO  tblexpenseaccount(BillNo,checkPersons,id,workFlowNode,workFlowNodeName,DepartmentCode,EmployeeCode,ApplyDate,appendixno,originalBorrow,backBlance,remark,createBy,finishTime,SCompanyID,lastUpdateBy,lastUpdateTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-15 16:37:19,710 Line:5853 1:
 [DEBUG] 2018-01-15 16:37:19,710 Line:5853 2:;1;
 [DEBUG] 2018-01-15 16:37:19,710 Line:5853 3:dc58aad8_1801151637197100005
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 4:0
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 5:notApprove
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 6:00102
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 7:02dabeed_1712302027382450004
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 8:2018-01-15
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 9:0.0
 [DEBUG] 2018-01-15 16:37:19,711 Line:5853 10:0.0
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 11:0.0
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 12:123
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 13:1
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 14:0.0
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 15:00001
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 16:1
 [DEBUG] 2018-01-15 16:37:19,712 Line:5853 17:2018-01-15 16:37:19
 [DEBUG] 2018-01-15 16:37:19,967 Line:5847  INSERT INTO  tblexpenseaccountDet(f_ref,id,EmployeeCode,Business) values(?,?,?,?) 
 [DEBUG] 2018-01-15 16:37:19,967 Line:5853 1:dc58aad8_1801151637197100005
 [DEBUG] 2018-01-15 16:37:19,967 Line:5853 2:dc58aad8_1801151637199670006
 [DEBUG] 2018-01-15 16:37:19,967 Line:5853 3:123
 [DEBUG] 2018-01-15 16:37:19,967 Line:5853 4:123.0
 [DEBUG] 2018-01-15 16:37:19,989 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:19,989 Line:1004  select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:19,991 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:19,992 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:19,995 Line:1064  select * from  tblexpenseaccountDet where f_ref = 'dc58aad8_1801151637197100005' order by detOrderNo
 [DEBUG] 2018-01-15 16:37:19,997 Line:108 插入OAMyWorkFlow表开始 designId=991f3893_1601041454545821750;tableName=tblexpenseaccount;id=dc58aad8_1801151637197100005;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-15 16:37:19,998 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:19,999 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:20,026 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"添加成功","obj":{"msg":"添加成功","keyId":"dc58aad8_1801151637197100005"}}
 [DEBUG] 2018-01-15 16:37:20,472 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverToPrepare
 [DEBUG] 2018-01-15 16:37:20,473 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverToPrepare,];tableName=[tblexpenseaccount,];keyId=[dc58aad8_1801151637197100005,];
 [DEBUG] 2018-01-15 16:37:20,473 Line:243 AIOApi op=deliverToPrepare&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:20,473 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc58aad8_1801151637197100005' and  a.tableName='tblexpenseaccount'
 [DEBUG] 2018-01-15 16:37:20,511 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:20,512 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblexpenseaccount;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:20,512 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:20,513 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblexpenseaccount;字段=EmployeeCode;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:20,514 Line:1525  select * from  tblexpenseaccountDet where f_ref = 'dc58aad8_1801151637197100005' order by detOrderNo
 [DEBUG] 2018-01-15 16:37:20,555 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"nextNodes":[{"keyId":"1514729576221","zAction":"CHECK","display":"部门主管","useAllApprove":false,"forwardTime":false,"approvePeople":"","checkPeople":[["2cf86be0_1712291628149430079","Boos"]]}],"currNode":{"keyId":"0","zAction":"START","display":"开始","useAllApprove":false,"forwardTime":false,"approvePeople":"","checkPeople":[]},"moduleName":"费用报销单V1.0","designId":"991f3893_1601041454545821750","keyId":"dc58aad8_1801151637197100005","dispenseWake":"","tableName":"tblexp等等！
 [DEBUG] 2018-01-15 16:37:22,793 Line:2993 MobileAjax 请求地址：/MobileAjax?op=deliverTo
 [DEBUG] 2018-01-15 16:37:22,794 Line:3004 MobileAjax 操作人:admin;请求数据：op=[deliverTo,];tableName=[tblexpenseaccount,];keyId=[dc58aad8_1801151637197100005,];type=[,];nextStep=[1514729576221,];currNode=[0,];designId=[991f3893_1601041454545821750,];checkPerson=[2cf86be0_1712291628149430079,];deliverance=[,];
 [DEBUG] 2018-01-15 16:37:22,795 Line:243 AIOApi op=deliverTo&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:22,795 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc58aad8_1801151637197100005' and  a.tableName='tblexpenseaccount'
 [DEBUG] 2018-01-15 16:37:22,799 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc58aad8_1801151637197100005' and  a.tableName='tblexpenseaccount'
 [DEBUG] 2018-01-15 16:37:22,802 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:22,802 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblexpenseaccount;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:22,803 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:22,804 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblexpenseaccount;字段=EmployeeCode;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:22,806 Line:1525  select * from  tblexpenseaccountDet where f_ref = 'dc58aad8_1801151637197100005' order by detOrderNo
 [DEBUG] 2018-01-15 16:37:22,884 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"审批成功！"}
 [DEBUG] 2018-01-15 16:37:24,419 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 16:37:24,421 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 16:37:24,421 Line:243 AIOApi op=myworkflow&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:24,448 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 16:37:24,450 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2017-12-31","applyBy":"李灿豪","createBy":"02dabeed_1712302027382450004","checkPerson":";1;","department":"AIO组","applyType":"d7068534_1712271733359840128","templateName":"外出申请单","orderIndex":0,"billId":"bb257563_1712312211290680028","applyContent":"","currentNode":"1514367705927","nextNodeIds":"","tableName":"FlowNwaichushenqingdan2","departmentCode":"00102","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeChe等等！
 [DEBUG] 2018-01-15 16:37:26,381 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-15 16:37:26,381 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-15 16:37:26,381 Line:243 AIOApi op=myworkflow&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:26,398 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-15 16:37:26,402 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":2,"list":[{"applyDate":"2018-01-15","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"991f3893_1601041454545821750","templateName":"费用报销单V1.0","orderIndex":0,"billId":"dc58aad8_1801151637197100005","applyContent":"123,AIO组,李灿豪","currentNode":"1514729576221","nextNodeIds":"","tableName":"tblexpenseaccount","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始",等等！
 [DEBUG] 2018-01-15 16:37:27,405 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-15 16:37:27,406 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblexpenseaccount,];keyId=[dc58aad8_1801151637197100005,];
 [DEBUG] 2018-01-15 16:37:27,406 Line:243 AIOApi op=detail&sessionid=47A89A3E5E32AFF25A1B19B19390ACED
 [DEBUG] 2018-01-15 16:37:27,408 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:27,409 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblexpenseaccount;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00102'
 [DEBUG] 2018-01-15 16:37:27,411 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:27,411 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblexpenseaccount;字段=EmployeeCode;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '02dabeed_1712302027382450004' and tblEmployee.DepartmentCode = '00102'
 [DEBUG] 2018-01-15 16:37:27,413 Line:1525  select * from  tblexpenseaccountDet where f_ref = 'dc58aad8_1801151637197100005' order by detOrderNo
 [DEBUG] 2018-01-15 16:37:27,414 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='dc58aad8_1801151637197100005' and  a.tableName='tblexpenseaccount'
 [DEBUG] 2018-01-15 16:37:27,444 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"lastUpdateByName":"admin","tblDepartment.DeptFullName":"AIO组","remark":"123","SCompanyID":"00001","appendixno":"0.0","BillNo":"","tblEmployee.EmpFullName":"李灿豪","workFlowNode":"1514729576221","id":"dc58aad8_1801151637197100005","workFlowNodeName":"notApprove","DepartmentCode":"00102","finishTime":0.0,"createByName"等等！
 [DEBUG] 2018-01-15 16:38:31,884 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 17:05:16,723 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 17:05:16,725 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 17:05:16,727 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:05:16,927 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 17:05:16,927 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 17:05:16,941 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 17:05:16,941 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:05:16,942 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:05:16,952 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 17:05:16,952 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:05:16,953 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:05:16,959 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 17:05:16,959 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:05:16,960 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:05:16,967 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 17:05:16,967 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:05:16,968 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:06:13,842 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=fca2035a_0910281034230930020&name=%E8%B4%A2%E5%8A%A1&operation=0
 [DEBUG] 2018-01-15 17:06:13,843 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[fca2035a_0910281034230930020,];name=[è?????,];operation=[0,];
 [DEBUG] 2018-01-15 17:08:53,000 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 17:08:54,343 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2018-01-15 17:08:54,344 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2018-01-15 17:08:54,345 Line:3004 MobileAjax 操作人:;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2018-01-15 17:08:54,345 Line:3004 MobileAjax 操作人:;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2018-01-15 17:08:54,346 Line:243 AIOApi op=report&sessionid=B1E3411497616E8A6D7A781B9B30A037
 [DEBUG] 2018-01-15 17:08:54,346 Line:243 AIOApi op=report&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:08:54,348 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 17:08:54,348 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 17:08:55,791 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 17:08:55,791 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 17:08:55,792 Line:243 AIOApi op=LOGIN&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:08:55,812 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:08:55,839 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 17:08:55,848 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 17:08:55,895 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 17:08:56,316 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 17:08:56,316 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 17:08:56,316 Line:243 AIOApi op=getSessEmp&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:08:56,317 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 17:08:58,385 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 17:08:58,385 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 17:08:58,386 Line:243 AIOApi op=getSessEmp&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:08:58,386 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 17:08:58,399 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 17:08:58,399 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 17:08:58,400 Line:243 AIOApi op=getEnum&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:08:58,401 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 17:09:00,367 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2018-01-15 17:09:00,367 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2018-01-15 17:09:00,368 Line:243 AIOApi op=report&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:09:00,372 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2018-01-15 17:09:00,375 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[10,];src=[menu,];
 [DEBUG] 2018-01-15 17:09:00,376 Line:243 AIOApi op=report&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:09:00,745 Line:2395 取总页数时间19
 [DEBUG] 2018-01-15 17:09:00,745 Line:2395 取总页数时间19
 [DEBUG] 2018-01-15 17:09:00,746 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2018-01-15 17:09:00,746 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2018-01-15 17:09:00,769 Line:689 通过SQL读原始数据：10
 [DEBUG] 2018-01-15 17:09:00,769 Line:689 通过SQL读原始数据：10
 [DEBUG] 2018-01-15 17:09:00,772 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 17:09:00,772 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 17:09:00,810 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2018-01-15 17:09:00,810 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2018-01-15 17:09:02,643 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblOutAttendance
 [DEBUG] 2018-01-15 17:09:02,644 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblOutAttendance,];pageNo=[1,];pageSize=[1,];src=[menu,];
 [DEBUG] 2018-01-15 17:09:02,644 Line:243 AIOApi op=report&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:09:02,666 Line:2395 取总页数时间3
 [DEBUG] 2018-01-15 17:09:02,667 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,sysName,ClientName,Type,SignInAddress,SignInTime,SignInDistance,SignOutAddress,SignOutDistance,SignOutTime,Status,UnSignout from ( select tblOutAttendance.id as keyId,tblOutAttendance.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.createBy) as deptCodeR,tblOutAttendance.employeeId as employeeId,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblOutAttendance.employeeId) as deptCodeRE,      tblEmployee.EmpFullName as sysName,     CRMClientInfo.ClientName as ClientName,     tblOutAttendance.Type as Type,     tblOutAttendance.SignInAddress as SignInAddress,     tblOutAttendance.SignInTime as SignInTime,     tblOutAttendance.SignInDistance as SignInDistance,     tblOutAttendance.SignOutAddress as SignOutAddress,     tblOutAttendance.SignOutDistance as SignOutDistance,     tblOutAttendance.SignOutTime as SignOutTime,     tblOutAttendance.Status as Status,     temp.UnSignout as UnSignout   ,ROW_NUMBER() over(order by     tblOutAttendance.Status,tblOutAttendance.createTime desc) as row_id  from tblOutAttendance  left join tblEmployee  on tblEmployee.id = tblOutAttendance.createBy left join CRMClientInfo on CRMClientInfo.id = tblOutAttendance.ClientId left join (select count(*) UnSignout from tblOutAttendance where tblOutAttendance.status =1 and createBy = '1') as temp on 1=1 where 1=1                      and ('admin' = 'admin' or tblOutAttendance.createBy = '1'             or '1' = tblEmployee.DirectBoss or charindex('1'+';',';'+tblOutAttendance.EmployeeID+';') > 0)  )  a  where row_id between 1 and 2 order by row_id
 [DEBUG] 2018-01-15 17:09:02,674 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-15 17:09:02,675 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 17:09:02,676 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["ClientId",""],["Type",""]],"cols":[["职员全称","50","string","","sysName"],["客户名称","50","string","","ClientName"],["类型","50","other","","Type"],["签入地址","200","string","","SignInAddress"],["签入时间","100","date","","SignInTime"],["签入距离","50","float","","SignInDistance"],["签出地址","200","string","","SignOutAddress"],["签出距离","50","float","","SignOutDistance"],["签出时间","100","date","","SignOutTime"],["状态","50","int","","Status"],["未签出数量","100","string","","UnSignou等等！
 [DEBUG] 2018-01-15 17:09:03,098 Line:2993 MobileAjax 请求地址：/MobileAjax?op=addPrepare
 [DEBUG] 2018-01-15 17:09:03,099 Line:3004 MobileAjax 操作人:admin;请求数据：op=[addPrepare,];tableName=[tblOutAttendance,];
 [DEBUG] 2018-01-15 17:09:03,100 Line:243 AIOApi op=addPrepare&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:09:03,100 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=tblOutAttendanceType
 [DEBUG] 2018-01-15 17:09:03,101 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[tblOutAttendanceType,];
 [DEBUG] 2018-01-15 17:09:03,102 Line:243 AIOApi op=getEnum&sessionid=6A13B9CD3E347E10D3D405CBA826D03B
 [DEBUG] 2018-01-15 17:09:03,103 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"约谈需求","value":"1"},{"name":"回访","value":"2"},{"name":"协助上线","value":"3"},{"name":"收款","value":"4"},{"name":"续签合同","value":"5"},{"name":"外派","value":"6"},{"name":"测试","value":"7"},{"name":"其他","value":"8"}]}
 [DEBUG] 2018-01-15 17:09:03,117 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":false,"hasCancel":false,"opType":"add","updateRight":false,"deleteRight":false,"values":{"f_brother":"","tableName":"tblOutAttendance"},"childTableList":[],"fieldList":[{"id":"52567310_1701181445427860125","tableName":"tblOutAttendance","fieldName":"checkPersons","isNull":0,"fieldType":2,"maxLength":8000,"width":0,"inputType":100,"inputTypeOld":0,"digits":0,"udType":0,"display":"checkPersons"},{"id":"5256等等！
 [DEBUG] 2018-01-15 17:22:09,731 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 17:22:09,732 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 17:22:09,733 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-15 17:22:09,786 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-15 17:22:09,786 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-15 17:22:09,888 Line:689 通过SQL读原始数据：102
 [DEBUG] 2018-01-15 17:22:09,892 Line:1391 整理数据：4
 [DEBUG] 2018-01-15 17:22:10,331 Line:5242 GlobalsTool.js 生成js 时间110:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-15 17:22:10,482 Line:5242 GlobalsTool.js 生成js 时间150:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-15 17:22:17,501 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-15 17:22:17,502 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-15 17:22:17,504 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-15 17:22:17,581 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 17:22:17,588 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 17:22:18,404 Line:5242 GlobalsTool.js 生成js 时间21:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-15 17:22:18,417 Line:5242 GlobalsTool.js 生成js 时间13:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-15 17:22:19,717 Line:5242 GlobalsTool.js 生成js 时间1298:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-15 17:22:20,685 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-15 17:22:20,685 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-15 17:22:20,686 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-15 17:22:20,716 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 17:22:20,723 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [ERROR] 2018-01-15 17:22:20,838 Line:144 文件：../../fileServer_v7/pic/tblBuyInStock/9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg-不存在
 [DEBUG] 2018-01-15 17:22:34,716 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 17:22:34,717 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 17:22:34,718 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:22:34,845 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 17:22:34,846 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 17:22:34,857 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 17:22:34,858 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:22:34,859 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:22:34,876 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 17:22:34,877 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:22:34,878 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:22:34,884 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 17:22:34,884 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:22:34,885 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:22:34,892 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 17:22:34,892 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 17:22:34,893 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 17:22:37,419 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 17:22:37,419 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 17:22:37,419 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-15 17:22:37,442 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNode as workFlowNode,tblBuyInStock.workFlowNodeName as workFlowNodeName,tblBuyInStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblBuyInStock.id and OAMyWorkFlow.tableName='tblBuyInStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblBuyInStock.workFlowNode!='-1' ) as lastNodeID,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-15 17:22:37,442 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-15 17:22:37,469 Line:689 通过SQL读原始数据：27
 [DEBUG] 2018-01-15 17:22:37,471 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 17:22:39,195 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-15 17:22:39,196 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-15 17:22:39,197 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-15 17:22:39,203 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 17:22:39,207 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 17:22:39,401 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&keyId=d3ba9294_1801121811140100298&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-15 17:22:39,402 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];keyId=[d3ba9294_1801121811140100298,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-15 17:22:39,402 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='d3ba9294_1801121811140100298' and  a.tableName='tblBuyInStock'
 [DEBUG] 2018-01-15 17:22:39,407 Line:1525  select * from  tblBuyInStockDet where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [DEBUG] 2018-01-15 17:22:39,409 Line:1525  select * from  tblBuyPayAccount where f_ref = 'd3ba9294_1801121811140100298' order by detOrderNo
 [ERROR] 2018-01-15 17:22:39,479 Line:144 文件：../../fileServer_v7/pic/tblBuyInStock/9A34FFB12ADF6414771EF9F60B9BA85C(3).jpg-不存在
 [DEBUG] 2018-01-15 17:22:45,919 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-15 17:22:45,919 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-15 17:22:45,919 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-15 17:22:46,967 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-15 17:22:46,967 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-15 17:22:48,936 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-15 17:22:48,936 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-15 17:22:48,936 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-15 17:22:53,408 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-15 17:22:53,408 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2018-01-15 17:22:55,029 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-15 17:22:55,030 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-15 17:22:55,580 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-15 17:22:55,581 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-15 17:22:56,220 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 17:39:12,663 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 18:09:32,543 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 18:11:39,254 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 18:11:39,255 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 18:11:39,255 Line:243 AIOApi op=getSessEmp&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:11:39,257 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-15 18:11:41,520 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-15 18:11:41,521 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 18:11:41,521 Line:243 AIOApi op=LOGIN&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:11:41,560 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:11:41,602 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 18:11:41,619 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 18:11:41,668 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-15 18:11:42,095 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 18:11:42,095 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 18:11:42,096 Line:243 AIOApi op=getSessEmp&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:11:42,096 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 18:11:42,103 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 18:11:42,104 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 18:11:42,104 Line:243 AIOApi op=getEnum&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:11:42,105 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 18:23:56,344 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-15 18:23:56,345 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-15 18:23:56,421 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-15 18:23:56,421 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-15 18:23:56,545 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1516011836539
 [DEBUG] 2018-01-15 18:23:56,546 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1516011836539,];
 [DEBUG] 2018-01-15 18:23:58,125 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1516011838123
 [DEBUG] 2018-01-15 18:23:58,126 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1516011838123,];
 [DEBUG] 2018-01-15 18:23:58,130 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1516011838128
 [DEBUG] 2018-01-15 18:23:58,131 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1516011838128,];
 [DEBUG] 2018-01-15 18:23:58,138 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-15 18:23:58,138 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-15 18:23:58,181 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-15 18:23:58,188 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-15 18:23:58,253 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 18:23:58,254 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 18:23:58,254 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:23:58,413 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 18:23:58,414 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 18:23:58,435 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 18:23:58,436 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:23:58,437 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:23:58,449 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 18:23:58,450 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:23:58,451 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:23:58,458 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 18:23:58,459 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:23:58,459 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:23:58,464 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 18:23:58,465 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:23:58,465 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:24:05,995 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=tblVirtualStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 18:24:05,996 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[tblVirtualStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 18:24:05,996 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:24:06,123 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=fc26a1c0_0911091930102960206&editable=&subSql=
 [DEBUG] 2018-01-15 18:24:06,123 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=tblVirtualStock&src=menu&winCurIndex=1&checkTab=Y
 [DEBUG] 2018-01-15 18:24:06,124 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[fc26a1c0_0911091930102960206,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-15 18:24:06,125 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[tblVirtualStock,];src=[menu,];winCurIndex=[1,];checkTab=[Y,];
 [DEBUG] 2018-01-15 18:24:06,125 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:24:06,126 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-15 18:24:06,433 Line:5242 GlobalsTool.js 生成js 时间13:/js/gen/report.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:24:07,899 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:24:07,899 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[1,];src=[,];parentCode=[,];queryChannel=[normal,];SQLSave=[@SQL:@ParamList:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:24:07,914 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:24:07,914 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:24:07,915 Line:568 ReportDataMgt.getReportData 参数2:100
 [DEBUG] 2018-01-15 18:24:07,915 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:24:07,915 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:24:07,915 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:24:07,915 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:24:07,915 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:24:07,916 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:24:07,917 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:24:07,917 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:24:07,917 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:24:07,917 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:24:08,016 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:24:08,017 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:24:08,017 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:24:08,017 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:24:08,017 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:24:08,017 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:24:08,018 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:24:08,018 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:24:08,019 Line:689 通过SQL读原始数据：105
 [DEBUG] 2018-01-15 18:24:08,020 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:24:20,168 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-15 18:24:20,169 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-15 18:24:20,169 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-15 18:24:21,035 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-15 18:24:21,036 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-15 18:24:26,233 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-15 18:24:26,233 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-15 18:24:26,234 Line:215 ---------->SET Page 3 DEFAULT URL = /ReportSetQueryAction.do
 [DEBUG] 2018-01-15 18:24:46,645 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do
 [DEBUG] 2018-01-15 18:24:46,645 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,3,];styleType=[,];reportNames=[虚拟,];statusIds=[0,];reportType=[,];reportModule=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:24:50,408 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do?operation=7&keyId=fc26a1c0_0911091911043430204&winCurIndex=3&reportNames=%E8%99%9A%E6%8B%9F
 [DEBUG] 2018-01-15 18:24:50,409 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[fc26a1c0_0911091911043430204,];winCurIndex=[3,];reportNames=[è?????,];
 [DEBUG] 2018-01-15 18:25:10,159 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do
 [DEBUG] 2018-01-15 18:25:10,159 Line:146 BaseAction.execute 操作人:admin;请求数据：id=[fc26a1c0_0911091911043430204,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];reportNumber=[tblVirtualStock,];reportName_lan=[虚拟库存查询,];reportName=[en:;zh_CN:虚拟库存查询;zh_TW:;,];endClassNumber=[,];parentLinkReport=[,];moduleType=[,];fixNumberCol=[0,];crossColNum=[0,];pageSize=[10,];tempFormat=[,];formatFileName=[Default Format,虚拟库存默认样式,M齑婺J邮,];reportTypeName=[存储过程报表,];reportType=[PROCLIST,];billTable=[,];procName=[report_VirtualStock,];defaultNoshow=[0,];showCondition=[1,];colTitleSort=[1,];showTotalPage=[0,];listType=[1,];showHead=[1,];showRowNumber=[1,];statusId=[0,];extendsBut=[,];
 [DEBUG] 2018-01-15 18:25:11,770 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do?winCurIndex=3
 [DEBUG] 2018-01-15 18:25:11,770 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[3,];
 [DEBUG] 2018-01-15 18:25:16,572 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:25:16,572 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[1,];src=[,];parentCode=[00005,];queryChannel=[normal,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[true,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:25:16,607 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:25:16,607 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:25:16,607 Line:568 ReportDataMgt.getReportData 参数2:100
 [DEBUG] 2018-01-15 18:25:16,607 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:25:16,608 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:25:16,608 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:25:16,608 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:25:16,608 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:25:16,608 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:25:16,608 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:25:16,609 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:25:16,610 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:25:16,610 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:25:16,726 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:25:16,727 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:25:16,727 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:25:16,727 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:25:16,727 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:25:16,728 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:25:16,728 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:25:16,728 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:25:16,729 Line:689 通过SQL读原始数据：122
 [DEBUG] 2018-01-15 18:25:16,731 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 18:25:19,633 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:25:19,633 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[1,];src=[,];parentCode=[00005,];queryChannel=[normal,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:00005@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:25:19,647 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:25:19,648 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:25:19,648 Line:568 ReportDataMgt.getReportData 参数2:100
 [DEBUG] 2018-01-15 18:25:19,648 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:25:19,648 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:25:19,649 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:25:19,649 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:25:19,649 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:25:19,649 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:25:19,649 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:25:19,649 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:25:19,649 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:25:19,650 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:25:19,650 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:25:19,650 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:25:19,650 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:25:19,650 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:25:19,650 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:25:19,651 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:25:19,653 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:25:19,653 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:25:19,653 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:25:19,653 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:25:19,653 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:25:19,655 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:25:19,655 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:25:19,655 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:25:19,655 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-15 18:25:19,658 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:26:04,750 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:26:04,751 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[1,];src=[,];parentCode=[00005,];queryChannel=[normal,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:00005@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:26:04,772 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:26:04,773 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:26:04,773 Line:568 ReportDataMgt.getReportData 参数2:100
 [DEBUG] 2018-01-15 18:26:04,773 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:26:04,773 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:26:04,774 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:26:04,774 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:26:04,774 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:26:04,774 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:26:04,774 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:26:04,774 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:26:04,775 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:26:04,776 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:26:04,785 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:26:04,785 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:26:04,786 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:26:04,786 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:26:04,786 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:26:04,786 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:26:04,786 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:26:04,787 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:26:04,787 Line:689 通过SQL读原始数据：14
 [DEBUG] 2018-01-15 18:26:04,789 Line:1391 整理数据：2
 [DEBUG] 2018-01-15 18:26:43,458 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do
 [DEBUG] 2018-01-15 18:26:43,459 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,3,];styleType=[,];reportNames=[虚拟库存,];statusIds=[0,];reportType=[,];reportModule=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:26:49,322 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getTablList&SESSION=1F8D77B9411440F2DE94F2DDD1D488EA66BF8CA5C9DDD2FE843FD4635C95B52EA60F69F612183A3655121CC0F27A18161E744B5FB9F213DE
 [DEBUG] 2018-01-15 18:26:49,403 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getSQLFile&fileName=tblVirtualStockSQL.xml&SESSION=1F8D77B9411440F2DE94F2DDD1D488EA66BF8CA5C9DDD2FE843FD4635C95B52EA60F69F612183A3655121CC0F27A18161E744B5FB9F213DE
 [DEBUG] 2018-01-15 18:26:50,210 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getSysType&SESSION=1F8D77B9411440F2DE94F2DDD1D488EA66BF8CA5C9DDD2FE843FD4635C95B52EA60F69F612183A3618FC9EA5A4FBA2ED8AD219FA989EC390&SESSION=1F8D77B9411440F2DE94F2DDD1D488EA66BF8CA5C9DDD2FE843FD4635C95B52EA60F69F612183A3618FC9EA5A4FBA2ED8AD219FA989EC390
 [DEBUG] 2018-01-15 18:27:02,451 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do?operation=7&keyId=fc26a1c0_0911091911043430204&winCurIndex=3&reportNames=%E8%99%9A%E6%8B%9F%E5%BA%93%E5%AD%98
 [DEBUG] 2018-01-15 18:27:02,452 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[fc26a1c0_0911091911043430204,];winCurIndex=[3,];reportNames=[è???????????,];
 [DEBUG] 2018-01-15 18:27:26,699 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do
 [DEBUG] 2018-01-15 18:27:26,700 Line:146 BaseAction.execute 操作人:admin;请求数据：id=[fc26a1c0_0911091911043430204,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];reportNumber=[tblVirtualStock,];reportName_lan=[虚拟库存查询,];reportName=[en:;zh_CN:虚拟库存查询;zh_TW:;,];endClassNumber=[,];parentLinkReport=[,];moduleType=[,];fixNumberCol=[0,];crossColNum=[0,];pageSize=[10,];tempFormat=[,];formatFileName=[Default Format,虚拟库存默认样式,M齑婺J邮,];reportTypeName=[存储过程报表,];reportType=[PROCLIST,];billTable=[,];procName=[report_VirtualStock,];defaultNoshow=[0,];showCondition=[1,];colTitleSort=[1,];showTotalPage=[0,];listType=[1,];showHead=[1,];showRowNumber=[1,];statusId=[0,];extendsBut=[,];
 [DEBUG] 2018-01-15 18:27:28,215 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do?winCurIndex=3
 [DEBUG] 2018-01-15 18:27:28,216 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[3,];
 [DEBUG] 2018-01-15 18:27:29,717 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=refresh
 [DEBUG] 2018-01-15 18:27:29,718 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[refresh,];
 [DEBUG] 2018-01-15 18:27:29,737 Line:1203 ------Init SystemSetting record:211
 [DEBUG] 2018-01-15 18:27:29,739 Line:127 --------AdvanceAction.restart 刷新系统配置initSystemSettingInformation 成功-----------
 [DEBUG] 2018-01-15 18:27:30,264 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 18:27:30,264 Line:138 --------AdvanceAction.restart 刷新枚举initEnumerationInformation 成功-----------
 [DEBUG] 2018-01-15 18:27:30,681 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-15 18:27:30,682 Line:147 --------AdvanceAction.restart 刷新模块initModuleList 成功-----------
 [DEBUG] 2018-01-15 18:27:30,688 Line:157 --------AdvanceAction.restart 刷新自定义列名initModuleColLanuage 成功-----------
 [DEBUG] 2018-01-15 18:27:30,694 Line:168 --------AdvanceAction.restart 刷新自定义列宽initUserColWidth 成功-----------
 [DEBUG] 2018-01-15 18:27:30,698 Line:178 --------AdvanceAction.restart 刷新自定义列名initUserLanuageInfo 成功-----------
 [DEBUG] 2018-01-15 18:27:31,298 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-15 18:27:31,334 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-15 18:27:31,846 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-15 18:27:31,855 Line:188 --------AdvanceAction.restart 刷新表结构initDBInformation 成功-----------
 [DEBUG] 2018-01-15 18:27:31,857 Line:197 --------AdvanceAction.restart 刷新列配置initUserColConfig 成功-----------
 [DEBUG] 2018-01-15 18:27:31,865 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-15 18:27:31,867 Line:207 --------AdvanceAction.restart 刷新模块字段initModuleField 成功-----------
 [DEBUG] 2018-01-15 18:27:31,868 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-15 18:27:31,875 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-15 18:27:31,876 Line:216 --------AdvanceAction.restart 刷新弹出框显示语句initPopDisSen 成功-----------
 [DEBUG] 2018-01-15 18:27:31,892 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-15 18:27:31,893 Line:228 --------AdvanceAction.restart 刷新商品属性initPropInformation 成功-----------
 [DEBUG] 2018-01-15 18:27:31,898 Line:238 --------AdvanceAction.restart 刷新商品属性initAttInformation 成功-----------
 [DEBUG] 2018-01-15 18:27:32,827 Line:244 --------AdvanceAction.restart 刷新配置文件initConfigFile 成功-----------
 [ERROR] 2018-01-15 18:27:32,858 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,859 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,859 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,860 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,861 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,861 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,862 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,863 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,863 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,864 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,892 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,898 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,907 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,929 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,929 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,930 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,931 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,940 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,941 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,942 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,943 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,943 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,944 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,952 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,965 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,966 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,968 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,968 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,969 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,970 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,982 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,983 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:32,984 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:33,002 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:33,014 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:33,035 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:33,043 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:33,044 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:27:33,051 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-15 18:27:33,052 Line:254 --------AdvanceAction.restart 刷新已启用工作流initWorkFlowInfo 成功-----------
 [DEBUG] 2018-01-15 18:27:33,059 Line:266 --------AdvanceAction.restart 刷新报表显示配置initReportShowSet 成功-----------
 [DEBUG] 2018-01-15 18:27:33,093 Line:275 --------AdvanceAction.restart 刷新KK缓存  成功-----------
 [DEBUG] 2018-01-15 18:27:34,546 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index&winCurIndex=null
 [DEBUG] 2018-01-15 18:27:34,547 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];winCurIndex=[null,];
 [DEBUG] 2018-01-15 18:27:34,877 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 18:27:34,878 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 18:27:34,880 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:27:34,926 Line:5242 GlobalsTool.js 生成js 时间18:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:27:34,953 Line:5242 GlobalsTool.js 生成js 时间27:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:27:35,066 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 18:27:35,067 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 18:27:35,079 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 18:27:35,080 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:27:35,081 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:27:35,091 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 18:27:35,091 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:27:35,092 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:27:35,098 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 18:27:35,099 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:27:35,099 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:27:35,105 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 18:27:35,105 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:27:35,106 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:27:37,962 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=ViewStoreDetail&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 18:27:37,963 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[ViewStoreDetail,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 18:27:37,963 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=ViewStoreDetail
 [DEBUG] 2018-01-15 18:27:38,093 Line:5242 GlobalsTool.js 生成js 时间98:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:27:38,112 Line:5242 GlobalsTool.js 生成js 时间18:/js/gen/report.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:27:40,998 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=tblVirtualStock&src=menu&winCurIndex=2
 [DEBUG] 2018-01-15 18:27:40,999 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[tblVirtualStock,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-15 18:27:40,999 Line:215 ---------->SET Page 2 DEFAULT URL = /ReportDataAction.do?reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:27:41,037 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=fc26a1c0_0911091930102960206&editable=&subSql=
 [DEBUG] 2018-01-15 18:27:41,038 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[fc26a1c0_0911091930102960206,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-15 18:27:41,039 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-15 18:27:41,039 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=tblVirtualStock&src=menu&winCurIndex=2&checkTab=Y
 [DEBUG] 2018-01-15 18:27:41,040 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[tblVirtualStock,];src=[menu,];winCurIndex=[2,];checkTab=[Y,];
 [DEBUG] 2018-01-15 18:27:41,040 Line:215 ---------->SET Page 2 DEFAULT URL = /ReportDataAction.do?reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:27:43,045 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:27:43,046 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[2,];src=[,];parentCode=[,];queryChannel=[normal,];SQLSave=[@SQL:@ParamList:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[10,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:27:43,059 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:27:43,060 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:27:43,060 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:27:43,060 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:27:43,060 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:27:43,060 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:27:43,061 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:27:43,061 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:27:43,061 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:27:43,061 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:27:43,061 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:27:43,061 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:27:43,062 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:27:43,123 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:27:43,123 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:27:43,123 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:43,124 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:43,124 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:27:43,124 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:43,124 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:27:43,124 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:27:43,125 Line:689 通过SQL读原始数据：65
 [DEBUG] 2018-01-15 18:27:43,125 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:27:44,538 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:27:44,539 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[2,];src=[,];parentCode=[00005,];queryChannel=[normal,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[true,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[10,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:27:44,558 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:27:44,559 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:27:44,559 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:27:44,560 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:27:44,560 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:27:44,561 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:27:44,561 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:27:44,561 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:27:44,562 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:27:44,562 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:27:44,562 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:27:44,563 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:27:44,564 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:27:44,564 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:27:44,565 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:27:44,565 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:27:44,565 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:27:44,566 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:27:44,566 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:27:44,585 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:27:44,585 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:27:44,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:44,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:44,586 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:27:44,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:44,586 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:27:44,587 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:27:44,587 Line:689 通过SQL读原始数据：29
 [DEBUG] 2018-01-15 18:27:44,589 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:27:52,130 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:27:52,131 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[2,];src=[,];parentCode=[00005,];queryChannel=[normal,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:00005@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[10,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:27:52,143 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:27:52,143 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:27:52,143 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:27:52,144 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:27:52,144 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:27:52,144 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:27:52,144 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:27:52,144 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:27:52,144 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:27:52,144 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:27:52,145 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:27:52,146 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:27:52,146 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:27:52,148 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:27:52,148 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:27:52,148 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:52,148 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:52,148 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:27:52,148 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:52,149 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:27:52,149 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:27:52,149 Line:689 通过SQL读原始数据：6
 [DEBUG] 2018-01-15 18:27:52,150 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:27:57,753 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:27:57,754 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[2,];src=[,];parentCode=[00005,];queryChannel=[,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:00005@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[30,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:27:57,764 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:27:57,765 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:27:57,765 Line:568 ReportDataMgt.getReportData 参数2:30
 [DEBUG] 2018-01-15 18:27:57,765 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:27:57,765 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:27:57,765 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:27:57,765 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:27:57,766 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:27:57,766 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:27:57,766 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:27:57,766 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:27:57,766 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:27:57,766 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:27:57,767 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:27:57,767 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:27:57,767 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:27:57,768 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:27:57,768 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:27:57,768 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:27:57,771 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:27:57,772 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:27:57,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:57,773 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:57,773 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:27:57,773 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:27:57,773 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:27:57,773 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:27:57,774 Line:689 通过SQL读原始数据：9
 [DEBUG] 2018-01-15 18:27:57,776 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:28:01,333 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:28:01,334 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[2,];src=[,];parentCode=[00005,];queryChannel=[,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:00005@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:28:01,344 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:28:01,344 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:28:01,345 Line:568 ReportDataMgt.getReportData 参数2:100
 [DEBUG] 2018-01-15 18:28:01,345 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:28:01,345 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:28:01,345 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:28:01,345 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:28:01,345 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:28:01,346 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:28:01,347 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:28:01,347 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:28:01,347 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:28:01,347 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:28:01,349 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:28:01,350 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:28:01,351 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:01,351 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:01,352 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:28:01,352 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:01,352 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:28:01,352 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:28:01,353 Line:689 通过SQL读原始数据：9
 [DEBUG] 2018-01-15 18:28:01,353 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:28:07,434 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-15 18:28:07,435 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-15 18:28:07,435 Line:215 ---------->SET Page 3 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-15 18:28:08,357 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-15 18:28:08,357 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-15 18:28:10,634 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2018-01-15 18:28:10,634 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-15 18:28:10,635 Line:215 ---------->SET Page 4 DEFAULT URL = /ReportSetQueryAction.do
 [DEBUG] 2018-01-15 18:28:14,831 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do
 [DEBUG] 2018-01-15 18:28:14,832 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,4,];styleType=[,];reportNames=[虚拟库存,];statusIds=[0,];reportType=[,];reportModule=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:28:16,804 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do?operation=7&keyId=fc26a1c0_0911091911043430204&winCurIndex=4&reportNames=%E8%99%9A%E6%8B%9F%E5%BA%93%E5%AD%98
 [DEBUG] 2018-01-15 18:28:16,804 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[fc26a1c0_0911091911043430204,];winCurIndex=[4,];reportNames=[è???????????,];
 [DEBUG] 2018-01-15 18:28:22,231 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do
 [DEBUG] 2018-01-15 18:28:22,232 Line:146 BaseAction.execute 操作人:admin;请求数据：id=[fc26a1c0_0911091911043430204,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,];reportNumber=[tblVirtualStock,];reportName_lan=[虚拟库存查询,];reportName=[en:;zh_CN:虚拟库存查询;zh_TW:;,];endClassNumber=[,];parentLinkReport=[,];moduleType=[,];fixNumberCol=[0,];crossColNum=[0,];pageSize=[5,];tempFormat=[,];formatFileName=[Default Format,虚拟库存默认样式,M齑婺J邮,];reportTypeName=[存储过程报表,];reportType=[PROCLIST,];billTable=[,];procName=[report_VirtualStock,];defaultNoshow=[0,];showCondition=[1,];colTitleSort=[1,];showTotalPage=[0,];listType=[1,];showHead=[1,];showRowNumber=[1,];statusId=[0,];extendsBut=[,];
 [DEBUG] 2018-01-15 18:28:23,754 Line:135 BaseAction.execute 请求地址：/ReportSetQueryAction.do?winCurIndex=4
 [DEBUG] 2018-01-15 18:28:23,755 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[4,];
 [DEBUG] 2018-01-15 18:28:27,367 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=refresh
 [DEBUG] 2018-01-15 18:28:27,368 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[refresh,];
 [DEBUG] 2018-01-15 18:28:27,387 Line:1203 ------Init SystemSetting record:211
 [DEBUG] 2018-01-15 18:28:27,388 Line:127 --------AdvanceAction.restart 刷新系统配置initSystemSettingInformation 成功-----------
 [DEBUG] 2018-01-15 18:28:27,948 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-15 18:28:27,948 Line:138 --------AdvanceAction.restart 刷新枚举initEnumerationInformation 成功-----------
 [DEBUG] 2018-01-15 18:28:28,348 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-15 18:28:28,349 Line:147 --------AdvanceAction.restart 刷新模块initModuleList 成功-----------
 [DEBUG] 2018-01-15 18:28:28,355 Line:157 --------AdvanceAction.restart 刷新自定义列名initModuleColLanuage 成功-----------
 [DEBUG] 2018-01-15 18:28:28,359 Line:168 --------AdvanceAction.restart 刷新自定义列宽initUserColWidth 成功-----------
 [DEBUG] 2018-01-15 18:28:28,364 Line:178 --------AdvanceAction.restart 刷新自定义列名initUserLanuageInfo 成功-----------
 [DEBUG] 2018-01-15 18:28:28,909 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-15 18:28:28,977 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-15 18:28:29,546 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-15 18:28:29,555 Line:188 --------AdvanceAction.restart 刷新表结构initDBInformation 成功-----------
 [DEBUG] 2018-01-15 18:28:29,557 Line:197 --------AdvanceAction.restart 刷新列配置initUserColConfig 成功-----------
 [DEBUG] 2018-01-15 18:28:29,564 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-15 18:28:29,566 Line:207 --------AdvanceAction.restart 刷新模块字段initModuleField 成功-----------
 [DEBUG] 2018-01-15 18:28:29,567 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-15 18:28:29,574 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-15 18:28:29,574 Line:216 --------AdvanceAction.restart 刷新弹出框显示语句initPopDisSen 成功-----------
 [DEBUG] 2018-01-15 18:28:29,593 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-15 18:28:29,594 Line:228 --------AdvanceAction.restart 刷新商品属性initPropInformation 成功-----------
 [DEBUG] 2018-01-15 18:28:29,599 Line:238 --------AdvanceAction.restart 刷新商品属性initAttInformation 成功-----------
 [DEBUG] 2018-01-15 18:28:30,297 Line:244 --------AdvanceAction.restart 刷新配置文件initConfigFile 成功-----------
 [ERROR] 2018-01-15 18:28:30,322 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,323 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,324 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,324 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,325 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,327 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,328 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,328 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,329 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,330 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,354 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,361 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,371 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,390 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,391 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,392 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,393 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,404 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,405 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,406 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,406 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,407 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,408 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,416 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,443 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,444 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,445 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,446 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,446 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,447 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,455 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,456 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,457 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,475 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,489 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,510 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,517 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,518 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-15 18:28:30,526 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-15 18:28:30,526 Line:254 --------AdvanceAction.restart 刷新已启用工作流initWorkFlowInfo 成功-----------
 [DEBUG] 2018-01-15 18:28:30,533 Line:266 --------AdvanceAction.restart 刷新报表显示配置initReportShowSet 成功-----------
 [DEBUG] 2018-01-15 18:28:30,563 Line:275 --------AdvanceAction.restart 刷新KK缓存  成功-----------
 [DEBUG] 2018-01-15 18:28:32,019 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index&winCurIndex=null
 [DEBUG] 2018-01-15 18:28:32,019 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];winCurIndex=[null,];
 [DEBUG] 2018-01-15 18:28:32,397 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-15 18:28:32,398 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-15 18:28:32,399 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:28:32,455 Line:5242 GlobalsTool.js 生成js 时间18:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:28:32,479 Line:5242 GlobalsTool.js 生成js 时间24:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:28:32,597 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-15 18:28:32,598 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-15 18:28:32,607 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-15 18:28:32,607 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:28:32,608 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:28:32,617 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-15 18:28:32,617 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:28:32,617 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:28:32,622 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-15 18:28:32,622 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:28:32,623 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:28:32,629 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-15 18:28:32,629 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-15 18:28:32,630 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-15 18:28:37,178 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=tblVirtualStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-15 18:28:37,178 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[tblVirtualStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-15 18:28:37,179 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:28:37,226 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=fc26a1c0_0911091930102960206&editable=&subSql=
 [DEBUG] 2018-01-15 18:28:37,226 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[fc26a1c0_0911091930102960206,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-15 18:28:37,226 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=tblVirtualStock&src=menu&winCurIndex=1&checkTab=Y
 [DEBUG] 2018-01-15 18:28:37,227 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-15 18:28:37,227 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[tblVirtualStock,];src=[menu,];winCurIndex=[1,];checkTab=[Y,];
 [DEBUG] 2018-01-15 18:28:37,228 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:28:37,362 Line:5242 GlobalsTool.js 生成js 时间112:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:28:37,382 Line:5242 GlobalsTool.js 生成js 时间20:/js/gen/report.vjs_zh_CN.js
 [DEBUG] 2018-01-15 18:28:39,052 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:28:39,052 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[1,];src=[,];parentCode=[,];queryChannel=[normal,];SQLSave=[@SQL:@ParamList:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[5,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:28:39,063 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:28:39,064 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:28:39,064 Line:568 ReportDataMgt.getReportData 参数2:5
 [DEBUG] 2018-01-15 18:28:39,064 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:28:39,064 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:28:39,064 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:28:39,065 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:28:39,066 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:28:39,066 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:28:39,066 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:28:39,066 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:28:39,066 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:28:39,066 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:28:39,133 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:28:39,133 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:28:39,134 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:39,134 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:39,134 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:28:39,134 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:39,134 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:28:39,134 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:28:39,135 Line:689 通过SQL读原始数据：71
 [DEBUG] 2018-01-15 18:28:39,135 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:28:41,356 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do
 [DEBUG] 2018-01-15 18:28:41,358 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];reportNumber=[tblVirtualStock,];reportName=[虚拟库存查询,虚拟库存查询,];isClickQuery=[true,];isAllListQuery=[,];winCurIndex=[1,];src=[,];parentCode=[00005,];queryChannel=[normal,];SQLSave=[@SQL:{call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}@ParamList:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:@Param:0@Param:tblGoods@Param:@Param:@end:,];query=[,];NoButton=[,];backParent=[true,];checkTab=[Y,];defineOrderBy=[,];export=[,];noback=[false,];mainNumber=[,];detTable_list=[,];moduleType=[,];popWinName=[,];upperQtyQ=[,];StockCode=[,];hide_StockCode=[,];tblStock.StockFullName=[,];GoodsCode=[,];hide_GoodsCode=[,];tblGoods.GoodsNumber=[,];tblGoods.GoodsFullName=[,];tblGoods.GoodsSpec=[,];tblGoods.BaseUnit=[,];NumberType=[0,];DataType=[tblGoods,];mobileGoodsFullName=[,];pageSize=[5,];pageNo=[1,];
 [DEBUG] 2018-01-15 18:28:41,369 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:28:41,369 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:28:41,369 Line:568 ReportDataMgt.getReportData 参数2:5
 [DEBUG] 2018-01-15 18:28:41,370 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:28:41,370 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:28:41,370 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:28:41,370 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:28:41,370 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:28:41,370 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:28:41,371 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:28:41,372 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:28:41,372 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:28:41,372 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:28:41,394 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:28:41,394 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:28:41,394 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:41,394 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:41,395 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:28:41,395 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:28:41,395 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:28:41,395 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:28:41,396 Line:689 通过SQL读原始数据：27
 [DEBUG] 2018-01-15 18:28:41,396 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:29:09,596 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:29:09,597 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:29:09,597 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:29:09,609 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:29:09,609 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:29:09,610 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:29:09,610 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:29:09,610 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:29:09,610 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:29:09,611 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:29:09,612 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:29:09,612 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:29:09,612 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:29:09,612 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:29:09,612 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:29:09,612 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:29:09,615 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:29:09,615 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:29:09,615 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:09,615 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:09,615 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:29:09,616 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:09,616 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:29:09,616 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:29:09,616 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-15 18:29:09,617 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:29:09,627 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:29:10,896 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:29:10,896 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:29:10,896 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:29:10,905 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:29:10,906 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:29:10,906 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:29:10,906 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:29:10,906 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:29:10,906 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:29:10,906 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:29:10,907 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:29:10,908 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:29:10,908 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:29:10,908 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:29:10,908 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:29:10,910 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:29:10,910 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:29:10,910 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:10,910 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:10,910 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:29:10,911 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:10,911 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:29:10,911 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:29:10,911 Line:689 通过SQL读原始数据：5
 [DEBUG] 2018-01-15 18:29:10,912 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:29:10,926 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:29:11,097 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:29:11,099 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 18:29:11,100 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:29:11,130 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:29:11,131 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 18:29:11,131 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:29:11,132 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:29:11,132 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:29:11,132 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:29:11,133 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:29:11,133 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:29:11,133 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:29:11,134 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:29:11,134 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:29:11,134 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:29:11,135 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:29:11,135 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:29:11,135 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:29:11,135 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:29:11,136 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:29:11,136 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:29:11,136 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:29:11,140 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:29:11,140 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:29:11,140 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:11,141 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:11,141 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:29:11,141 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:11,142 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:29:11,142 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:29:11,143 Line:689 通过SQL读原始数据：12
 [DEBUG] 2018-01-15 18:29:11,144 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:29:11,158 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:29:27,520 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:29:27,520 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:29:27,520 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:29:27,543 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:29:27,543 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:29:27,543 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:29:27,544 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:29:27,544 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:29:27,544 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:29:27,544 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:29:27,544 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:29:27,544 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:29:27,544 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:29:27,545 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:29:27,545 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:29:27,545 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:29:27,545 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:29:27,545 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:29:27,545 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:29:27,546 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:29:27,546 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:29:27,546 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:29:27,585 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:29:27,585 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:29:27,585 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:27,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:27,586 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:29:27,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:29:27,586 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:29:27,586 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:29:27,587 Line:689 通过SQL读原始数据：44
 [DEBUG] 2018-01-15 18:29:27,587 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:29:27,611 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:31:31,793 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:31:31,794 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:31:31,795 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:31:31,822 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:31:31,822 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:31:31,823 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:31:31,823 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:31:31,823 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:31:31,823 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:31:31,823 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:31:31,824 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:31:31,824 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:31:31,824 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:31:31,824 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:31:31,825 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:31:31,825 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:31:31,825 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:31:31,825 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:31:31,826 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:31:31,826 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:31:31,826 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:31:31,826 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:31:31,888 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:31:31,888 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:31:31,888 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:31,888 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:31,888 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:31:31,889 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:31,889 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:31:31,889 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:31:31,889 Line:689 通过SQL读原始数据：67
 [DEBUG] 2018-01-15 18:31:31,890 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:31:31,899 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:31:33,295 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:31:33,296 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 18:31:33,297 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:31:33,324 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:31:33,324 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 18:31:33,325 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:31:33,325 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:31:33,325 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:31:33,326 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:31:33,326 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:31:33,326 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:31:33,326 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:31:33,327 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:31:33,327 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:31:33,327 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:31:33,328 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:31:33,328 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:31:33,328 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:31:33,328 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:31:33,329 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:31:33,329 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:31:33,329 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:31:33,333 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:31:33,334 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:31:33,334 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:33,334 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:33,335 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:31:33,335 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:33,335 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:31:33,336 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:31:33,336 Line:689 通过SQL读原始数据：12
 [DEBUG] 2018-01-15 18:31:33,337 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:31:33,358 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:31:39,141 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:31:39,142 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:31:39,142 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:31:39,168 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:31:39,168 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:31:39,168 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:31:39,168 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:31:39,169 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:31:39,169 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:31:39,169 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:31:39,169 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:31:39,169 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:31:39,169 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:31:39,169 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:31:39,170 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:31:39,171 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:31:39,211 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:31:39,212 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:31:39,212 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:39,212 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:39,212 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:31:39,213 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:31:39,213 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:31:39,213 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:31:39,214 Line:689 通过SQL读原始数据：46
 [DEBUG] 2018-01-15 18:31:39,215 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:31:39,227 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:32:11,575 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:32:11,575 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:32:11,576 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:32:11,599 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:32:11,599 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:32:11,599 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:32:11,599 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:32:11,599 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:32:11,600 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:32:11,600 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:32:11,600 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:32:11,600 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:32:11,600 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:32:11,600 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:32:11,600 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:32:11,601 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:32:11,646 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:32:11,647 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:32:11,647 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:11,647 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:11,647 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:32:11,647 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:11,648 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:32:11,648 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:32:11,649 Line:689 通过SQL读原始数据：50
 [DEBUG] 2018-01-15 18:32:11,649 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:32:11,657 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:32:12,656 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:32:12,657 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 18:32:12,657 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:32:12,666 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:32:12,667 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 18:32:12,667 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:32:12,667 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:32:12,667 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:32:12,667 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:32:12,668 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:32:12,668 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:32:12,668 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:32:12,668 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:32:12,668 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:32:12,668 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:32:12,669 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:32:12,672 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:32:12,673 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:32:12,673 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:12,673 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:12,673 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:32:12,673 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:12,674 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:32:12,674 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:32:12,674 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-15 18:32:12,675 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:32:12,681 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:32:21,070 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:32:21,071 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:32:21,071 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:32:21,083 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:32:21,084 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:32:21,084 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:32:21,085 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:32:21,085 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:32:21,086 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:32:21,086 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:32:21,087 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:32:21,087 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:32:21,087 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:32:21,087 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:32:21,088 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:32:21,088 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:32:21,088 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:32:21,088 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:32:21,088 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:32:21,088 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:32:21,089 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:32:21,089 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:32:21,110 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:32:21,111 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:32:21,111 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:21,111 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:21,111 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:32:21,111 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:32:21,111 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:32:21,112 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:32:21,112 Line:689 通过SQL读原始数据：28
 [DEBUG] 2018-01-15 18:32:21,113 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:32:21,129 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:36:08,070 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:36:08,070 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:36:08,071 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:08,119 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:36:08,120 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:36:08,120 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:36:08,120 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:36:08,120 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:36:08,120 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:36:08,120 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:36:08,121 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:36:08,122 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:36:08,122 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:36:08,122 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:36:08,122 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:36:08,122 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:36:08,186 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:36:08,187 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:36:08,188 Line:689 通过SQL读原始数据：68
 [DEBUG] 2018-01-15 18:36:08,188 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:36:08,194 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:36:09,565 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:36:09,566 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 18:36:09,566 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:09,575 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:36:09,576 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 18:36:09,576 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:36:09,576 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:36:09,576 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:36:09,576 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:36:09,576 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:36:09,576 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:36:09,577 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:36:09,578 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:36:09,578 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:36:09,578 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:36:09,578 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:36:09,579 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:36:09,580 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:36:09,580 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:09,580 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:09,580 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:36:09,581 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:09,581 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:36:09,581 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:36:09,582 Line:689 通过SQL读原始数据：6
 [DEBUG] 2018-01-15 18:36:09,582 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:36:09,591 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:36:13,814 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:36:13,815 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:36:13,815 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:13,830 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:36:13,831 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:36:13,831 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:36:13,831 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:36:13,831 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:36:13,832 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:36:13,832 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:36:13,832 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:36:13,832 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:36:13,832 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:36:13,832 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:36:13,832 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:36:13,833 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:36:13,857 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:36:13,858 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:36:13,858 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:13,858 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:13,858 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:36:13,858 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:13,858 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:36:13,859 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:36:13,859 Line:689 通过SQL读原始数据：28
 [DEBUG] 2018-01-15 18:36:13,860 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:36:13,873 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:36:27,459 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-15 18:36:27,459 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-15 18:36:27,460 Line:243 AIOApi op=getSessEmp&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:27,461 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-15 18:36:27,475 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-15 18:36:27,476 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-15 18:36:27,476 Line:243 AIOApi op=getEnum&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:27,477 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-15 18:36:30,214 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:36:30,215 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:36:30,215 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:30,226 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:36:30,226 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:36:30,226 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:36:30,227 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:36:30,227 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:36:30,227 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:36:30,227 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:36:30,227 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:36:30,227 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:36:30,227 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:36:30,227 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:36:30,228 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:36:30,229 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:36:30,234 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:36:30,234 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:36:30,234 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:30,235 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:30,235 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:36:30,235 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:30,235 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:36:30,235 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:36:30,235 Line:689 通过SQL读原始数据：9
 [DEBUG] 2018-01-15 18:36:30,236 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:36:30,243 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:36:33,414 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:36:33,415 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:36:33,415 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:36:33,435 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:36:33,436 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:36:33,436 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:36:33,436 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:36:33,436 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:36:33,436 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:36:33,436 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:36:33,436 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:36:33,437 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:36:33,438 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:36:33,438 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:36:33,438 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:36:33,438 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:36:33,440 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:36:33,440 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:36:33,440 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:33,440 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:33,440 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:36:33,441 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:36:33,441 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:36:33,441 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:36:33,442 Line:689 通过SQL读原始数据：6
 [DEBUG] 2018-01-15 18:36:33,443 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:36:33,456 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:39:52,800 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-15 18:40:54,741 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-15 18:40:54,741 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2018-01-15 18:40:54,742 Line:243 AIOApi op=popup&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:40:54,742 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2018-01-15 18:40:54,775 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"部门主管","value":"1515926119185"}]}}
 [DEBUG] 2018-01-15 18:40:56,253 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2018-01-15 18:40:56,254 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2018-01-15T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2018-01-15 18:40:56,255 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:40:56,362 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2018-01-15 18:40:56,363 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2018-01-15 18:40:56,364 Line:582 ReportDataMgt.getReportData 参数2:2018-01-15T16:00:00.000Z
 [DEBUG] 2018-01-15 18:40:56,505 Line:689 通过SQL读原始数据：142
 [DEBUG] 2018-01-15 18:40:56,506 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:40:56,510 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2018-01-15T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2018-01-15 18:43:25,839 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:43:25,840 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:43:25,841 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:43:25,892 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:43:25,893 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:43:25,893 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:43:25,893 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:43:25,893 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:43:25,894 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:43:25,894 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:43:25,894 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:43:25,894 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:43:25,894 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:43:25,894 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:43:25,894 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:43:25,895 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:43:25,895 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:43:25,895 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:43:25,895 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:43:25,895 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:43:25,896 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:43:25,896 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:43:25,993 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:43:25,993 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:43:25,993 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:25,993 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:25,993 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:43:25,993 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:25,994 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:43:25,994 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:43:25,994 Line:689 通过SQL读原始数据：101
 [DEBUG] 2018-01-15 18:43:25,995 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:43:26,001 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:43:27,343 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:43:27,344 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 18:43:27,345 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:43:27,362 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:43:27,363 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 18:43:27,363 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:43:27,363 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:43:27,364 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:43:27,364 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:43:27,364 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:43:27,365 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:43:27,365 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:43:27,365 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:43:27,366 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:43:27,366 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:43:27,366 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:43:27,367 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:43:27,367 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:43:27,367 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:43:27,368 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:43:27,368 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:43:27,369 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:43:27,372 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:43:27,373 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:43:27,373 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:27,374 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:27,375 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:43:27,375 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:27,376 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:43:27,376 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:43:27,377 Line:689 通过SQL读原始数据：14
 [DEBUG] 2018-01-15 18:43:27,378 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:43:27,395 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:43:35,391 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:43:35,391 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:43:35,391 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:43:35,400 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:43:35,400 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:43:35,400 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:43:35,400 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:43:35,400 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:43:35,401 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:43:35,401 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:43:35,401 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:43:35,401 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:43:35,401 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:43:35,401 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:43:35,401 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:43:35,402 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:43:35,424 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:43:35,424 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:43:35,424 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:35,431 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:35,431 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:43:35,431 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:43:35,431 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:43:35,432 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:43:35,432 Line:689 通过SQL读原始数据：32
 [DEBUG] 2018-01-15 18:43:35,433 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:43:35,448 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:44:20,637 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:44:20,638 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-15 18:44:20,639 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:44:20,695 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:44:20,695 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:44:20,696 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:44:20,696 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:44:20,696 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:44:20,696 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:44:20,696 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:44:20,697 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:44:20,697 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:44:20,697 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:44:20,697 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:44:20,698 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:44:20,699 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:44:20,771 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:44:20,772 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:44:20,773 Line:689 通过SQL读原始数据：78
 [DEBUG] 2018-01-15 18:44:20,774 Line:1391 整理数据：1
 [DEBUG] 2018-01-15 18:44:20,781 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:44:22,134 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:44:22,135 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-15 18:44:22,135 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:44:22,144 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:44:22,144 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-15 18:44:22,145 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:44:22,145 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:44:22,145 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:44:22,145 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:44:22,145 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-15 18:44:22,145 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:44:22,145 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:44:22,146 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:44:22,147 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:44:22,147 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:44:22,147 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:22,149 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:44:22,151 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:44:22,151 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-15 18:44:22,151 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:44:22,157 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-15 18:44:23,355 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-15 18:44:23,356 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[00005,];StockCode=[,];
 [DEBUG] 2018-01-15 18:44:23,356 Line:243 AIOApi op=report&sessionid=B4004F6138A778932C847AE583D98CC8
 [DEBUG] 2018-01-15 18:44:23,365 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-15 18:44:23,365 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-15 18:44:23,366 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-15 18:44:23,366 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-15 18:44:23,366 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-15 18:44:23,469 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-15 18:44:23,469 Line:582 ReportDataMgt.getReportData 参数6:00005
 [DEBUG] 2018-01-15 18:44:23,469 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-15 18:44:23,469 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-15 18:44:23,470 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-15 18:44:23,471 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-15 18:44:23,471 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-15 18:44:23,489 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-15 18:44:23,489 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-15 18:44:23,489 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:23,489 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:23,490 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-15 18:44:23,490 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-15 18:44:23,490 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-15 18:44:23,490 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '00005_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%') union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' and (b.GoodsCode like '00005%')) as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-15 18:44:23,491 Line:689 通过SQL读原始数据：126
 [DEBUG] 2018-01-15 18:44:23,491 Line:1391 整理数据：0
 [DEBUG] 2018-01-15 18:44:23,505 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 