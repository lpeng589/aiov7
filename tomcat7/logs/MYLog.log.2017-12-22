[INFO ] 2017-12-22 13:38:52,499 Line:206 系统开始启动，最大内存：1792;目前总内存：251;目前空闲内存：161
 [INFO ] 2017-12-22 13:38:52,612 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-22 13:38:57,643 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-22 13:38:58,114 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-22 13:38:58,152 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-22 13:38:58,158 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-22 13:38:58,164 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-22 13:38:58,184 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-22 13:38:58,199 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-22 13:39:00,288 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 13:39:00,359 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-22 13:39:00,401 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-22 13:39:00,416 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-22 13:39:01,447 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-22 13:39:01,448 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-22 13:39:02,030 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-22 13:39:02,125 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-22 13:39:02,933 Line:538 ------Init TableInfo record:634
 [DEBUG] 2017-12-22 13:39:02,963 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-22 13:39:02,970 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-22 13:39:02,983 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-22 13:39:02,998 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-22 13:39:03,005 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-22 13:39:03,043 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-22 13:39:06,392 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-22 13:39:06,559 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-22 13:39:06,567 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-22 13:39:06,595 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-22 13:39:06,963 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-22 13:39:06,964 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-22 13:39:08,246 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-22 00:00:00
 [INFO ] 2017-12-22 13:39:08,247 Line:144 SAFE 备份任务开始执行，时间2017-12-22 13:39:08
 [INFO ] 2017-12-22 13:39:08,249 Line:137 SAFE 碎片任务启动，时间2017-12-24 00:00:00
 [INFO ] 2017-12-22 13:39:13,684 Line:148 SAFE 备份任务执行成功，时间2017-12-22 13:39:13
 [DEBUG] 2017-12-22 13:40:07,163 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 13:42:05,800 Line:5227 GlobalsTool.js 生成js 时间58:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-22 13:42:05,901 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 13:42:05,902 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 13:42:06,196 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513921326170
 [DEBUG] 2017-12-22 13:42:06,202 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513921326170,];
 [DEBUG] 2017-12-22 13:42:06,289 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 13:42:06,289 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 13:42:08,063 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1513921328061
 [DEBUG] 2017-12-22 13:42:08,063 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1513921328061,];
 [DEBUG] 2017-12-22 13:42:08,135 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1513921328131
 [DEBUG] 2017-12-22 13:42:08,135 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1513921328131,];
 [DEBUG] 2017-12-22 13:42:08,217 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-22 13:42:08,217 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-22 13:42:08,291 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-22 13:42:08,311 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-22 13:42:08,503 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 13:42:08,504 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 13:42:08,519 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 13:42:08,727 Line:5227 GlobalsTool.js 生成js 时间28:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-22 13:42:09,084 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-22 13:42:09,084 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-22 13:42:09,084 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-22 13:42:09,085 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-22 13:42:09,085 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 13:42:09,100 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-22 13:42:09,100 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-22 13:42:09,101 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 13:42:09,111 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-22 13:42:09,111 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-22 13:42:09,112 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 13:42:09,121 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-22 13:42:09,121 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-22 13:42:09,122 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 13:42:17,662 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-22 13:42:17,663 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-22 13:42:17,664 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-22 13:42:18,185 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 13:42:18,195 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 13:42:18,235 Line:689 通过SQL读原始数据：40
 [DEBUG] 2017-12-22 13:42:18,240 Line:1391 整理数据：4
 [DEBUG] 2017-12-22 13:42:18,420 Line:5227 GlobalsTool.js 生成js 时间29:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-22 13:42:18,467 Line:5227 GlobalsTool.js 生成js 时间46:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 14:10:28,147 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 14:35:18,848 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-22 14:35:18,850 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-22 14:35:18,851 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-12-22 14:35:19,819 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-12-22 14:35:19,820 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-12-22 14:35:21,130 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2017-12-22 14:35:21,132 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-12-22 14:35:21,132 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-12-22 14:35:26,375 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-12-22 14:35:26,376 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库单,];
 [DEBUG] 2017-12-22 14:35:28,034 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2017-12-22 14:35:28,035 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-12-22 14:35:28,202 Line:5227 GlobalsTool.js 生成js 时间12:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 14:35:28,664 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2017-12-22 14:35:28,664 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2017-12-22 14:35:29,516 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 14:35:34,412 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2017-12-22 14:35:34,413 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2017-12-22 14:35:44,828 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2017-12-22 14:35:44,829 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2017-12-22 14:40:46,696 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 14:41:17,333 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 14:41:17,335 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 14:41:17,338 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:41:17,521 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-22 14:41:17,521 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-22 14:41:17,534 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-22 14:41:17,534 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:41:17,535 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:41:17,549 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-22 14:41:17,549 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:41:17,550 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:41:17,557 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-22 14:41:17,558 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:41:17,559 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:41:17,569 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-22 14:41:17,570 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:41:17,570 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:42:47,924 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 14:42:47,925 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-22 14:42:47,925 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-22 14:42:48,027 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 14:42:48,028 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 14:42:48,525 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 14:42:48,526 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 14:42:48,813 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513924968805
 [DEBUG] 2017-12-22 14:42:48,814 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513924968805,];
 [DEBUG] 2017-12-22 14:42:51,305 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 14:42:51,305 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 14:42:51,414 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 14:42:51,414 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 14:42:51,479 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513924971472
 [DEBUG] 2017-12-22 14:42:51,479 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513924971472,];
 [DEBUG] 2017-12-22 14:42:52,212 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 14:42:52,213 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 14:42:52,319 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 14:42:52,319 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 14:42:52,365 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513924972360
 [DEBUG] 2017-12-22 14:42:52,366 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513924972360,];
 [DEBUG] 2017-12-22 14:43:01,739 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1513924981737
 [DEBUG] 2017-12-22 14:43:01,739 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1513924981737,];
 [DEBUG] 2017-12-22 14:43:01,750 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1513924981748
 [DEBUG] 2017-12-22 14:43:01,751 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1513924981748,];
 [DEBUG] 2017-12-22 14:43:01,762 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-22 14:43:01,762 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-22 14:43:01,826 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-22 14:43:01,840 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-22 14:43:01,948 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 14:43:01,949 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 14:43:01,951 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:43:02,182 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-22 14:43:02,183 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-22 14:43:02,201 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-22 14:43:02,201 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:43:02,204 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:43:02,214 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-22 14:43:02,215 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:43:02,215 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:43:02,222 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-22 14:43:02,222 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:43:02,223 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:43:02,231 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-22 14:43:02,231 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-22 14:43:02,231 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 14:43:09,833 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2017-12-22 14:43:09,834 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-22 14:43:09,834 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-12-22 14:43:10,729 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-12-22 14:43:10,729 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-12-22 14:43:11,402 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-12-22 14:43:11,402 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-12-22 14:43:11,403 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-12-22 14:43:21,734 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-12-22 14:43:21,734 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[采购入库,];
 [DEBUG] 2017-12-22 14:43:24,595 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93&popWinName=TablemgtDiv
 [DEBUG] 2017-12-22 14:43:24,596 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-12-22 14:43:24,822 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2017-12-22 14:43:24,822 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2017-12-22 14:43:25,455 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 14:43:30,599 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineOp
 [DEBUG] 2017-12-22 14:43:30,600 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineOp,];
 [DEBUG] 2017-12-22 14:43:58,875 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2017-12-22 14:43:58,875 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2017-12-22 14:43:58,939 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA6F98E565E3F5698017BB8C487E591A94
 [DEBUG] 2017-12-22 14:43:58,942 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2017-12-22 14:47:56,956 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA7E63123B2DD3E7AB0C98562ED3F03CD4
 [ERROR] 2017-12-22 14:47:56,998 Line:60 -----------SqlConfig parse file ../temp/defineBuy_bak.xml error----------------
 org.xml.sax.SAXParseException; systemId: file:///D:/Project/aio/tomcat7/temp/defineBuy_bak.xml; lineNumber: 646; columnNumber: 4; 元素类型 "define" 必须由匹配的结束标记 "</define>" 终止。
	at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:257)
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)
	at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:177)
	at com.menyi.web.util.SqlConfig.parse(SqlConfig.java:48)
	at com.menyi.web.util.ReportServlet.saveDefineFile(ReportServlet.java:1733)
	at com.menyi.web.util.ReportServlet.service(ReportServlet.java:223)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-22 14:47:56,999 Line:119 ------上传文件内容错误，请检查文件格式和内容
 [DEBUG] 2017-12-22 14:48:20,736 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA6F2BFF9E25DB75498AD219FA989EC390
 [ERROR] 2017-12-22 14:48:20,749 Line:60 -----------SqlConfig parse file ../temp/defineBuy_bak.xml error----------------
 org.xml.sax.SAXParseException; systemId: file:///D:/Project/aio/tomcat7/temp/defineBuy_bak.xml; lineNumber: 647; columnNumber: 4; 元素类型 "define" 必须由匹配的结束标记 "</define>" 终止。
	at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:257)
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)
	at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:177)
	at com.menyi.web.util.SqlConfig.parse(SqlConfig.java:48)
	at com.menyi.web.util.ReportServlet.saveDefineFile(ReportServlet.java:1733)
	at com.menyi.web.util.ReportServlet.service(ReportServlet.java:223)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-22 14:48:20,750 Line:119 ------上传文件内容错误，请检查文件格式和内容
 [DEBUG] 2017-12-22 14:48:31,843 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA5951785062BC72165038F594B7A91F37
 [ERROR] 2017-12-22 14:48:31,861 Line:60 -----------SqlConfig parse file ../temp/defineBuy_bak.xml error----------------
 org.xml.sax.SAXParseException; systemId: file:///D:/Project/aio/tomcat7/temp/defineBuy_bak.xml; lineNumber: 644; columnNumber: 4; 元素类型 "define" 必须由匹配的结束标记 "</define>" 终止。
	at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:257)
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)
	at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:177)
	at com.menyi.web.util.SqlConfig.parse(SqlConfig.java:48)
	at com.menyi.web.util.ReportServlet.saveDefineFile(ReportServlet.java:1733)
	at com.menyi.web.util.ReportServlet.service(ReportServlet.java:223)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-12-22 14:48:31,861 Line:119 ------上传文件内容错误，请检查文件格式和内容
 [DEBUG] 2017-12-22 14:48:44,425 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=defineFile&id=tblBuyInStock_Add
 [DEBUG] 2017-12-22 14:48:44,425 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[defineFile,];id=[tblBuyInStock_Add,];
 [DEBUG] 2017-12-22 14:48:44,441 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA1E81566B30C65FAC1A9149AA833C7396
 [DEBUG] 2017-12-22 14:48:44,442 Line:1653 ReportServlet 读define文件:D:\Project\aio\tomcat7\bin\..\..\config_v7\define\defineBuy.xml
 [DEBUG] 2017-12-22 14:48:48,493 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA1E81566B30C65FAC17BB8C487E591A94
 [ERROR] 2017-12-22 14:48:48,560 Line:119 ------保存成功
 [DEBUG] 2017-12-22 14:49:12,415 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEACADB4F6766F8970E5622FDE4212056BC
 [ERROR] 2017-12-22 14:49:12,454 Line:119 ------保存成功
 [DEBUG] 2017-12-22 14:49:19,235 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEACADB4F6766F8970E1E744B5FB9F213DE
 [ERROR] 2017-12-22 14:49:19,288 Line:119 ------保存成功
 [DEBUG] 2017-12-22 14:49:27,131 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=3
 [DEBUG] 2017-12-22 14:49:27,131 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-12-22 14:49:27,131 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-22 14:49:27,186 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 14:49:27,187 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 14:49:27,265 Line:689 通过SQL读原始数据：78
 [DEBUG] 2017-12-22 14:49:27,267 Line:1391 整理数据：2
 [DEBUG] 2017-12-22 14:49:30,547 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=3&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 14:49:30,548 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 14:49:30,921 Line:5227 GlobalsTool.js 生成js 时间274:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 14:49:34,682 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 14:49:34,682 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 14:49:34,811 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 14:49:34,811 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 14:49:34,811 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 14:49:34,811 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 14:49:34,812 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-22 14:49:34,845 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-22'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 14:49:34,927 Line:5227 GlobalsTool.js 生成js 时间14:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-22 14:49:34,939 Line:5227 GlobalsTool.js 生成js 时间12:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 14:49:37,771 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 14:49:37,772 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 14:49:37,802 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 14:49:37,803 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 14:49:37,803 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-22 14:49:37,803 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 14:49:37,804 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 14:49:37,809 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 14:49:40,717 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-22 14:49:40,718 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-22 14:49:40,760 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 14:49:40,760 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 14:49:40,761 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-22 14:49:40,761 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-22 14:49:40,761 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 14:49:40,772 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 14:49:46,867 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 14:49:46,869 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 14:49:46,871 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 14:49:46,898 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 14:49:46,898 Line:5853 1:0.0
 [DEBUG] 2017-12-22 14:49:46,898 Line:5853 2:
 [DEBUG] 2017-12-22 14:49:46,898 Line:5853 3:ed4ea0d3_1712221449468910006
 [DEBUG] 2017-12-22 14:49:46,898 Line:5853 4:-1
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 5:finish
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 6:0.0
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 7:0
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 8:0.0
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 9:BI1712220005
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 11:00003
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 12:00101
 [DEBUG] 2017-12-22 14:49:46,899 Line:5853 13:1
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 14:00001
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 15:3
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 16:0.0
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 17:0.0
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 18:0.0
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 19:0.0
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 20:
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 21:0.0
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 22:0.0
 [DEBUG] 2017-12-22 14:49:46,900 Line:5853 23:0.0
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 24:
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 25:0.0
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 26:0.0
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 27:0.0
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 28:
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 29:12
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 30:12
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 31:2017
 [DEBUG] 2017-12-22 14:49:46,901 Line:5853 32:
 [DEBUG] 2017-12-22 14:49:46,902 Line:5853 33:0.0
 [DEBUG] 2017-12-22 14:49:46,902 Line:5853 34:0.0
 [DEBUG] 2017-12-22 14:49:46,902 Line:5853 35:0.0
 [DEBUG] 2017-12-22 14:49:46,902 Line:5853 36:
 [DEBUG] 2017-12-22 14:49:46,902 Line:5853 37:
 [DEBUG] 2017-12-22 14:49:46,902 Line:5853 38:
 [DEBUG] 2017-12-22 14:49:46,903 Line:5853 39:0.0
 [DEBUG] 2017-12-22 14:49:46,903 Line:5853 40:0.0
 [DEBUG] 2017-12-22 14:49:46,903 Line:5853 41:
 [DEBUG] 2017-12-22 14:49:46,903 Line:5853 42:
 [DEBUG] 2017-12-22 14:49:46,903 Line:5853 43:100.0
 [DEBUG] 2017-12-22 14:49:46,904 Line:5853 44:0.0
 [DEBUG] 2017-12-22 14:49:46,904 Line:5853 45:0.0
 [DEBUG] 2017-12-22 14:49:46,904 Line:5853 46:
 [DEBUG] 2017-12-22 14:49:46,904 Line:5853 47:1.0
 [DEBUG] 2017-12-22 14:49:46,904 Line:5853 48:1.0
 [DEBUG] 2017-12-22 14:49:46,905 Line:5853 49:1.0
 [DEBUG] 2017-12-22 14:49:46,905 Line:5853 50:0.0
 [DEBUG] 2017-12-22 14:49:46,905 Line:5853 51:1.0
 [DEBUG] 2017-12-22 14:49:46,905 Line:5853 52:
 [DEBUG] 2017-12-22 14:49:46,905 Line:5853 53:
 [DEBUG] 2017-12-22 14:49:46,905 Line:5853 54:0.0
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 55:0.0
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 56:0.0
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 57:0
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 58:00001
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 59:0
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 60:2017-12-22 14:49:46
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 61:1
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 62:2017-12-22 14:49:46
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 63:1
 [DEBUG] 2017-12-22 14:49:46,906 Line:5853 64:2017-12-22 14:49:46
 [DEBUG] 2017-12-22 14:49:46,922 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 14:49:46,922 Line:5853 1:ed4ea0d3_1712221449469220007
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 2:ed4ea0d3_1712221449468910006
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 3:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 4:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 5:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 6:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 8:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 9:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 10:
 [DEBUG] 2017-12-22 14:49:46,923 Line:5853 11:
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 12:
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 13:
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 14:
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 15:1.0
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 16:1.0
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 17:1.0
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 18:0.0
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 19:0
 [DEBUG] 2017-12-22 14:49:46,924 Line:5853 20:0.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 21:0.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 22:0.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 23:100.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 24:1.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 25:1.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 26:0.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 27:1.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 28:1.0
 [DEBUG] 2017-12-22 14:49:46,925 Line:5853 29:0.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 30:1.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 31:1.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 32:0.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 33:0.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 34:0.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 35:0.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 36:0.0
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 37:
 [DEBUG] 2017-12-22 14:49:46,926 Line:5853 38:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 39:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 40:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 41:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 42:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 43:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 44:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 45:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 46:0.0
 [DEBUG] 2017-12-22 14:49:46,927 Line:5853 47:0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 48:0.0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 49:0.0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 50:0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 51:
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 52:0.0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 53:0.0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 54:0.0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 55:0
 [DEBUG] 2017-12-22 14:49:46,928 Line:5853 56:0
 [DEBUG] 2017-12-22 14:49:46,929 Line:5853 57:
 [DEBUG] 2017-12-22 14:49:46,929 Line:5853 58:0.0
 [DEBUG] 2017-12-22 14:49:46,929 Line:5853 59:0.0
 [DEBUG] 2017-12-22 14:49:46,929 Line:5853 60:
 [DEBUG] 2017-12-22 14:49:46,929 Line:5853 61:0.0
 [DEBUG] 2017-12-22 14:49:46,929 Line:5853 62:00001
 [DEBUG] 2017-12-22 14:49:47,154 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 14:49:47,409 Line:321 flag:true
 [DEBUG] 2017-12-22 14:49:47,410 Line:372 ---error，返回信息：123url=
 [ERROR] 2017-12-22 14:49:47,410 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2017-12-22 15:06:52,221 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA1CE2176F228BAD9D5622FDE4212056BC
 [ERROR] 2017-12-22 15:06:52,263 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:08:06,923 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA52A9736FCBD502B70C98562ED3F03CD4
 [ERROR] 2017-12-22 15:08:06,959 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:08:11,148 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:08:11,151 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:08:11,153 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 15:08:11,178 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:08:11,178 Line:5853 1:0.0
 [DEBUG] 2017-12-22 15:08:11,178 Line:5853 2:
 [DEBUG] 2017-12-22 15:08:11,178 Line:5853 3:ed4ea0d3_1712221508111550010
 [DEBUG] 2017-12-22 15:08:11,178 Line:5853 4:-1
 [DEBUG] 2017-12-22 15:08:11,178 Line:5853 5:finish
 [DEBUG] 2017-12-22 15:08:11,178 Line:5853 6:0.0
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 7:0
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 8:0.0
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 9:BI1712220005
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 11:00003
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 12:00101
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 13:1
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 14:00001
 [DEBUG] 2017-12-22 15:08:11,179 Line:5853 15:3
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 16:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 17:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 19:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 20:
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 23:0.0
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 24:
 [DEBUG] 2017-12-22 15:08:11,180 Line:5853 25:0.0
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 27:0.0
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 28:
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 29:12
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 30:12
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 31:2017
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 32:
 [DEBUG] 2017-12-22 15:08:11,181 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:08:11,183 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:08:11,183 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:08:11,183 Line:5853 36:
 [DEBUG] 2017-12-22 15:08:11,183 Line:5853 37:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 38:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 41:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 42:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 43:100.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 46:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 47:1.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 48:1.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 49:1.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 50:0.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 51:1.0
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 52:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 53:
 [DEBUG] 2017-12-22 15:08:11,184 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 55:0.0
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 56:0.0
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 57:0
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 58:00001
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 59:0
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 60:2017-12-22 15:08:11
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 61:1
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 62:2017-12-22 15:08:11
 [DEBUG] 2017-12-22 15:08:11,185 Line:5853 63:1
 [DEBUG] 2017-12-22 15:08:11,187 Line:5853 64:2017-12-22 15:08:11
 [DEBUG] 2017-12-22 15:08:11,190 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:08:11,190 Line:5853 1:ed4ea0d3_1712221508111900011
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 2:ed4ea0d3_1712221508111550010
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 3:
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 4:
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 5:
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 6:
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 8:
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 9:
 [DEBUG] 2017-12-22 15:08:11,191 Line:5853 10:
 [DEBUG] 2017-12-22 15:08:11,196 Line:5853 11:
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 12:
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 13:
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 14:
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:08:11,197 Line:5853 19:0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:08:11,198 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 37:
 [DEBUG] 2017-12-22 15:08:11,199 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:08:11,200 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 47:0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 50:0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 51:
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 52:0.0
 [DEBUG] 2017-12-22 15:08:11,201 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 55:0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 56:0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 57:
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 59:0.0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 60:
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 61:0.0
 [DEBUG] 2017-12-22 15:08:11,202 Line:5853 62:00001
 [DEBUG] 2017-12-22 15:08:11,214 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:08:11,220 Line:321 flag:true
 [DEBUG] 2017-12-22 15:08:11,220 Line:372 ---error，返回信息：123url=
 [ERROR] 2017-12-22 15:08:11,220 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2017-12-22 15:08:17,756 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEAF5F53B07E53D5DEB7686458C02F7B7F6
 [ERROR] 2017-12-22 15:08:17,790 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:08:39,022 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEAFDABF48D1BD191411E744B5FB9F213DE
 [ERROR] 2017-12-22 15:08:39,060 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:08:56,466 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:08:56,467 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:08:56,469 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 15:08:56,473 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:08:56,473 Line:5853 1:0.0
 [DEBUG] 2017-12-22 15:08:56,474 Line:5853 2:
 [DEBUG] 2017-12-22 15:08:56,474 Line:5853 3:ed4ea0d3_1712221508564710014
 [DEBUG] 2017-12-22 15:08:56,474 Line:5853 4:-1
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 5:finish
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 6:0.0
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 7:0
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 8:0.0
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 9:BI1712220005
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 11:00003
 [DEBUG] 2017-12-22 15:08:56,475 Line:5853 12:00101
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 13:1
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 14:00001
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 15:3
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 16:0.0
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 17:0.0
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:08:56,476 Line:5853 19:0.0
 [DEBUG] 2017-12-22 15:08:56,477 Line:5853 20:
 [DEBUG] 2017-12-22 15:08:56,477 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:08:56,477 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:08:56,477 Line:5853 23:0.0
 [DEBUG] 2017-12-22 15:08:56,478 Line:5853 24:
 [DEBUG] 2017-12-22 15:08:56,478 Line:5853 25:0.0
 [DEBUG] 2017-12-22 15:08:56,478 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 27:0.0
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 28:
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 29:12
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 30:12
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 31:2017
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 32:
 [DEBUG] 2017-12-22 15:08:56,479 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 36:
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 37:
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 38:
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:08:56,480 Line:5853 41:
 [DEBUG] 2017-12-22 15:08:56,481 Line:5853 42:
 [DEBUG] 2017-12-22 15:08:56,481 Line:5853 43:100.0
 [DEBUG] 2017-12-22 15:08:56,481 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:08:56,481 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:08:56,481 Line:5853 46:
 [DEBUG] 2017-12-22 15:08:56,481 Line:5853 47:1.0
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 48:1.0
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 49:1.0
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 50:0.0
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 51:1.0
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 52:
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 53:
 [DEBUG] 2017-12-22 15:08:56,482 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 55:0.0
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 56:0.0
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 57:0
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 58:00001
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 59:0
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 60:2017-12-22 15:08:56
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 61:1
 [DEBUG] 2017-12-22 15:08:56,483 Line:5853 62:2017-12-22 15:08:56
 [DEBUG] 2017-12-22 15:08:56,484 Line:5853 63:1
 [DEBUG] 2017-12-22 15:08:56,484 Line:5853 64:2017-12-22 15:08:56
 [DEBUG] 2017-12-22 15:08:56,487 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:08:56,487 Line:5853 1:ed4ea0d3_1712221508564870015
 [DEBUG] 2017-12-22 15:08:56,488 Line:5853 2:ed4ea0d3_1712221508564710014
 [DEBUG] 2017-12-22 15:08:56,488 Line:5853 3:
 [DEBUG] 2017-12-22 15:08:56,488 Line:5853 4:
 [DEBUG] 2017-12-22 15:08:56,489 Line:5853 5:
 [DEBUG] 2017-12-22 15:08:56,489 Line:5853 6:
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 8:
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 9:
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 10:
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 11:
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 12:
 [DEBUG] 2017-12-22 15:08:56,490 Line:5853 13:
 [DEBUG] 2017-12-22 15:08:56,491 Line:5853 14:
 [DEBUG] 2017-12-22 15:08:56,491 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:08:56,491 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:08:56,491 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:08:56,492 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:08:56,492 Line:5853 19:0
 [DEBUG] 2017-12-22 15:08:56,492 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:08:56,492 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:08:56,492 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:08:56,492 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:08:56,493 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 37:
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:08:56,494 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 47:0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:08:56,495 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 50:0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 51:
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 52:0.0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 55:0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 56:0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 57:
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:08:56,496 Line:5853 59:0.0
 [DEBUG] 2017-12-22 15:08:56,497 Line:5853 60:
 [DEBUG] 2017-12-22 15:08:56,497 Line:5853 61:0.0
 [DEBUG] 2017-12-22 15:08:56,497 Line:5853 62:00001
 [DEBUG] 2017-12-22 15:08:56,498 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:08:56,499 Line:321 flag:true
 [DEBUG] 2017-12-22 15:08:56,524 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:09:52,587 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 50 more
[ERROR] 2017-12-22 15:09:52,588 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=
 [DEBUG] 2017-12-22 15:11:07,611 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 15:16:05,091 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:16:05,093 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:16:05,094 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 15:16:05,115 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:16:05,116 Line:5853 1:0.0
 [DEBUG] 2017-12-22 15:16:05,116 Line:5853 2:
 [DEBUG] 2017-12-22 15:16:05,117 Line:5853 3:ed4ea0d3_1712221516050960016
 [DEBUG] 2017-12-22 15:16:05,117 Line:5853 4:-1
 [DEBUG] 2017-12-22 15:16:05,117 Line:5853 5:finish
 [DEBUG] 2017-12-22 15:16:05,117 Line:5853 6:0.0
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 7:0
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 8:0.0
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 9:BI1712220005
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 11:00003
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 12:00101
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 13:1
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 14:00001
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 15:3
 [DEBUG] 2017-12-22 15:16:05,118 Line:5853 16:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 17:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 19:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 20:
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 23:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 24:
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 25:0.0
 [DEBUG] 2017-12-22 15:16:05,119 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 27:0.0
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 28:
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 29:12
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 30:12
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 31:2017
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 32:
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:16:05,120 Line:5853 36:
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 37:
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 38:
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 41:
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 42:
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 43:100.0
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:16:05,121 Line:5853 46:
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 47:1.0
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 48:1.0
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 49:1.0
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 50:0.0
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 51:1.0
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 52:
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 53:
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:16:05,122 Line:5853 55:0.0
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 56:0.0
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 57:0
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 58:00001
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 59:0
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 60:2017-12-22 15:16:05
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 61:1
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 62:2017-12-22 15:16:05
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 63:1
 [DEBUG] 2017-12-22 15:16:05,123 Line:5853 64:2017-12-22 15:16:05
 [DEBUG] 2017-12-22 15:16:05,127 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:16:05,127 Line:5853 1:ed4ea0d3_1712221516051270017
 [DEBUG] 2017-12-22 15:16:05,127 Line:5853 2:ed4ea0d3_1712221516050960016
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 3:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 4:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 5:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 6:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 8:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 9:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 10:
 [DEBUG] 2017-12-22 15:16:05,128 Line:5853 11:
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 12:
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 13:
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 14:
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 19:0
 [DEBUG] 2017-12-22 15:16:05,129 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:16:05,130 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 37:
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:16:05,131 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:16:05,132 Line:5853 47:0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 50:0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 51:
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 52:0.0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 55:0
 [DEBUG] 2017-12-22 15:16:05,133 Line:5853 56:0
 [DEBUG] 2017-12-22 15:16:05,134 Line:5853 57:
 [DEBUG] 2017-12-22 15:16:05,134 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:16:05,134 Line:5853 59:0.0
 [DEBUG] 2017-12-22 15:16:05,134 Line:5853 60:
 [DEBUG] 2017-12-22 15:16:05,134 Line:5853 61:0.0
 [DEBUG] 2017-12-22 15:16:05,134 Line:5853 62:00001
 [DEBUG] 2017-12-22 15:16:05,145 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:16:05,150 Line:321 flag:true
 [DEBUG] 2017-12-22 15:16:05,150 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:16:12,542 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 50 more
[ERROR] 2017-12-22 15:16:12,544 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=
 [DEBUG] 2017-12-22 15:18:04,687 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA3BA1FC0E4BF9F8A31A9149AA833C7396
 [ERROR] 2017-12-22 15:18:04,731 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:18:45,208 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEADC0E04C62B7D70F50A1BB597E5395919
 [ERROR] 2017-12-22 15:18:45,248 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:20:42,047 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA8CB9E0FDCEA650B55622FDE4212056BC
 [ERROR] 2017-12-22 15:20:42,086 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:27:00,418 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA7F883A1EF79EDFF18AD219FA989EC390
 [ERROR] 2017-12-22 15:27:00,461 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:27:14,198 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:27:14,199 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:27:14,200 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 15:27:14,215 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:27:14,215 Line:5853 1:0.0
 [DEBUG] 2017-12-22 15:27:14,215 Line:5853 2:
 [DEBUG] 2017-12-22 15:27:14,215 Line:5853 3:ed4ea0d3_1712221527142030022
 [DEBUG] 2017-12-22 15:27:14,215 Line:5853 4:-1
 [DEBUG] 2017-12-22 15:27:14,215 Line:5853 5:finish
 [DEBUG] 2017-12-22 15:27:14,216 Line:5853 6:0.0
 [DEBUG] 2017-12-22 15:27:14,216 Line:5853 7:0
 [DEBUG] 2017-12-22 15:27:14,216 Line:5853 8:0.0
 [DEBUG] 2017-12-22 15:27:14,216 Line:5853 9:BI1712220005
 [DEBUG] 2017-12-22 15:27:14,217 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 15:27:14,217 Line:5853 11:00003
 [DEBUG] 2017-12-22 15:27:14,217 Line:5853 12:00101
 [DEBUG] 2017-12-22 15:27:14,217 Line:5853 13:1
 [DEBUG] 2017-12-22 15:27:14,217 Line:5853 14:00001
 [DEBUG] 2017-12-22 15:27:14,217 Line:5853 15:3
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 16:0.0
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 17:0.0
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 19:0.0
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 20:
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:27:14,218 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:27:14,219 Line:5853 23:0.0
 [DEBUG] 2017-12-22 15:27:14,219 Line:5853 24:
 [DEBUG] 2017-12-22 15:27:14,219 Line:5853 25:0.0
 [DEBUG] 2017-12-22 15:27:14,226 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:27:14,227 Line:5853 27:0.0
 [DEBUG] 2017-12-22 15:27:14,228 Line:5853 28:
 [DEBUG] 2017-12-22 15:27:14,229 Line:5853 29:12
 [DEBUG] 2017-12-22 15:27:14,229 Line:5853 30:12
 [DEBUG] 2017-12-22 15:27:14,230 Line:5853 31:2017
 [DEBUG] 2017-12-22 15:27:14,230 Line:5853 32:
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 36:
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 37:
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 38:
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:27:14,231 Line:5853 41:
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 42:
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 43:100.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 46:
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 47:1.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 48:1.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 49:1.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 50:0.0
 [DEBUG] 2017-12-22 15:27:14,232 Line:5853 51:1.0
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 52:
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 53:
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 55:0.0
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 56:0.0
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 57:0
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 58:00001
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 59:0
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 60:2017-12-22 15:27:14
 [DEBUG] 2017-12-22 15:27:14,233 Line:5853 61:1
 [DEBUG] 2017-12-22 15:27:14,234 Line:5853 62:2017-12-22 15:27:14
 [DEBUG] 2017-12-22 15:27:14,234 Line:5853 63:1
 [DEBUG] 2017-12-22 15:27:14,234 Line:5853 64:2017-12-22 15:27:14
 [DEBUG] 2017-12-22 15:27:14,238 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:27:14,238 Line:5853 1:ed4ea0d3_1712221527142380023
 [DEBUG] 2017-12-22 15:27:14,238 Line:5853 2:ed4ea0d3_1712221527142030022
 [DEBUG] 2017-12-22 15:27:14,238 Line:5853 3:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 4:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 5:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 6:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 8:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 9:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 10:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 11:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 12:
 [DEBUG] 2017-12-22 15:27:14,239 Line:5853 13:
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 14:
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 19:0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:27:14,240 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:27:14,241 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 37:
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:27:14,242 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 47:0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 50:0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 51:
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 52:0.0
 [DEBUG] 2017-12-22 15:27:14,243 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 55:0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 56:0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 57:
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 59:0.0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 60:
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 61:0.0
 [DEBUG] 2017-12-22 15:27:14,244 Line:5853 62:00001
 [DEBUG] 2017-12-22 15:27:14,250 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:27:14,255 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:14,255 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:27:14,255 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager.execAdd(DynDBManager.java:3862)
	at com.menyi.aio.dyndb.DynDBManager$21$1.execute(DynDBManager.java:4151)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$21.exec(DynDBManager.java:4070)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.add(DynDBManager.java:4068)
	at com.menyi.aio.web.userFunction.UserFunctionAction.add(UserFunctionAction.java:3888)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:198)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 50 more
[ERROR] 2017-12-22 15:27:14,256 Line:3872 DynDBManager After add defineSql Error code = -2104 Msg=
 [DEBUG] 2017-12-22 15:27:45,407 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA9CE16CFC5E12238D0A1BB597E5395919
 [ERROR] 2017-12-22 15:27:45,445 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:27:50,513 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:27:50,514 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:27:50,516 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 15:27:50,522 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:27:50,522 Line:5853 1:0.0
 [DEBUG] 2017-12-22 15:27:50,522 Line:5853 2:
 [DEBUG] 2017-12-22 15:27:50,523 Line:5853 3:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,523 Line:5853 4:-1
 [DEBUG] 2017-12-22 15:27:50,523 Line:5853 5:finish
 [DEBUG] 2017-12-22 15:27:50,524 Line:5853 6:0.0
 [DEBUG] 2017-12-22 15:27:50,524 Line:5853 7:0
 [DEBUG] 2017-12-22 15:27:50,524 Line:5853 8:0.0
 [DEBUG] 2017-12-22 15:27:50,525 Line:5853 9:BI1712220005
 [DEBUG] 2017-12-22 15:27:50,525 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 15:27:50,525 Line:5853 11:00003
 [DEBUG] 2017-12-22 15:27:50,525 Line:5853 12:00101
 [DEBUG] 2017-12-22 15:27:50,526 Line:5853 13:1
 [DEBUG] 2017-12-22 15:27:50,526 Line:5853 14:00001
 [DEBUG] 2017-12-22 15:27:50,526 Line:5853 15:3
 [DEBUG] 2017-12-22 15:27:50,526 Line:5853 16:0.0
 [DEBUG] 2017-12-22 15:27:50,526 Line:5853 17:0.0
 [DEBUG] 2017-12-22 15:27:50,527 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:27:50,527 Line:5853 19:0.0
 [DEBUG] 2017-12-22 15:27:50,527 Line:5853 20:
 [DEBUG] 2017-12-22 15:27:50,527 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:27:50,527 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 23:0.0
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 24:
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 25:0.0
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 27:0.0
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 28:
 [DEBUG] 2017-12-22 15:27:50,528 Line:5853 29:12
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 30:12
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 31:2017
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 32:
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 36:
 [DEBUG] 2017-12-22 15:27:50,529 Line:5853 37:
 [DEBUG] 2017-12-22 15:27:50,530 Line:5853 38:
 [DEBUG] 2017-12-22 15:27:50,530 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:27:50,530 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:27:50,530 Line:5853 41:
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 42:
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 43:100.0
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 46:
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 47:1.0
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 48:1.0
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 49:1.0
 [DEBUG] 2017-12-22 15:27:50,531 Line:5853 50:0.0
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 51:1.0
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 52:
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 53:
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 55:0.0
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 56:0.0
 [DEBUG] 2017-12-22 15:27:50,532 Line:5853 57:0
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 58:00001
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 59:0
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 60:2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 61:1
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 62:2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 63:1
 [DEBUG] 2017-12-22 15:27:50,533 Line:5853 64:2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:27:50,547 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 1:ed4ea0d3_1712221527505400026
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 2:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 3:
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 4:
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 5:
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 6:
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 8:
 [DEBUG] 2017-12-22 15:27:50,548 Line:5853 9:
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 10:
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 11:
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 12:
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 13:
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 14:
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 19:0
 [DEBUG] 2017-12-22 15:27:50,549 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:27:50,550 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 37:
 [DEBUG] 2017-12-22 15:27:50,551 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 47:0
 [DEBUG] 2017-12-22 15:27:50,552 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 50:0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 51:
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 52:0.0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 55:0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 56:0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 57:
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:27:50,553 Line:5853 59:0.0
 [DEBUG] 2017-12-22 15:27:50,554 Line:5853 60:
 [DEBUG] 2017-12-22 15:27:50,554 Line:5853 61:0.0
 [DEBUG] 2017-12-22 15:27:50,554 Line:5853 62:00001
 [DEBUG] 2017-12-22 15:27:50,561 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-22 15:27:50,569 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,569 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:27:50,571 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,572 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:27:50,573 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,573 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:27:50,573 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,574 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:27:50,575 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,575 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:27:50,576 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,576 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:27:50,577 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,578 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:27:50,578 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,578 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,578 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:27:50,597 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-12-22 15:27:50,597 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:27:50,598 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,598 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:27:50,599 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,599 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,599 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:27:50,613 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-12-22 15:27:50,613 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:27:50,614 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,615 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:27:50,615 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,615 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,616 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:27:50,640 Line:1043 ---上述语句时间---25
 [DEBUG] 2017-12-22 15:27:50,641 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:27:50,642 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,642 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:27:50,642 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,642 Line:988 1值：false
 [DEBUG] 2017-12-22 15:27:50,643 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,656 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:27:50,656 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-12-22 15:27:50,656 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:27:50,657 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,658 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:27:50,658 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,658 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,664 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:27:50,664 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,665 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,665 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:27:50,665 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,666 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,674 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:27:50,674 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,675 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,675 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:27:50,675 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,676 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,679 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:27:50,680 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,681 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,682 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:27:50,682 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,682 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,685 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:27:50,685 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,687 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,687 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,688 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,688 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:27:50,688 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,688 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,691 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:27:50,692 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,694 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,694 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:27:50,695 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,695 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:27:50,695 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,695 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,697 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:27:50,698 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,699 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,699 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:27:50,699 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,699 Line:988 1值：1
 [DEBUG] 2017-12-22 15:27:50,700 Line:988 2值：0
 [DEBUG] 2017-12-22 15:27:50,700 Line:988 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,735 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-22 15:27:50,735 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-22 15:27:50,735 Line:1043 ---上述语句时间---36
 [DEBUG] 2017-12-22 15:27:50,736 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-22 15:27:50,737 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,738 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:27:50,738 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,738 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,749 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-12-22 15:27:50,750 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,750 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,751 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:27:50,751 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,752 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,753 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:27:50,753 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:27:50,754 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,754 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:27:50,754 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,754 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,757 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:27:50,757 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:27:50,758 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,758 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:27:50,758 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,758 Line:988 1值：
 [DEBUG] 2017-12-22 15:27:50,759 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:27:50,768 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-22 15:27:50,768 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:27:50,768 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:50,768 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,769 Line:988 2值：
 [DEBUG] 2017-12-22 15:27:50,769 Line:988 3值：
 [DEBUG] 2017-12-22 15:27:50,769 Line:988 4值：
 [DEBUG] 2017-12-22 15:27:50,772 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:27:50,772 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:27:50,773 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,773 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:27:50,774 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,774 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:27:50,775 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,775 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:27:50,775 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,776 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:27:50,776 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,777 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:27:50,777 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:27:50,777 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,780 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,780 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:27:50,781 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:27:50,781 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:27:50,781 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,781 Line:1157 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,785 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,785 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:27:50,786 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:27:50,786 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,786 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,791 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,791 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:27:50,791 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:27:50,792 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,795 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,796 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:27:50,796 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:27:50,796 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,800 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,801 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:27:50,801 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:27:50,802 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,802 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:27:50,802 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,802 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,805 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,805 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:27:50,805 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:27:50,806 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,806 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:27:50,807 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,807 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:27:50,808 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,808 Line:1270 add
 [DEBUG] 2017-12-22 15:27:50,875 Line:425 ************上述语句执行时间：68
 [DEBUG] 2017-12-22 15:27:50,875 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:27:50,877 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,877 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:27:50,877 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,885 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:27:50,885 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:27:50,885 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:27:50,885 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,893 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:27:50,894 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-22 15:27:50,894 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:27:50,895 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,895 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:27:50,896 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,896 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:27:50,897 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,937 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:27:50,938 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,938 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:27:50,939 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,939 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:27:50,940 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,940 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:27:50,941 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,941 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:27:50,942 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:50,942 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:27:50,943 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,943 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:27:50,943 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,946 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:27:50,946 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:27:50,946 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:27:50,947 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:50,947 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:27:50,948 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:50,948 Line:1270 add
 [DEBUG] 2017-12-22 15:27:50,999 Line:425 ************上述语句执行时间：52
 [DEBUG] 2017-12-22 15:27:51,000 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:27:51,000 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:51,001 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:27:51,001 Line:1270 12
 [DEBUG] 2017-12-22 15:27:51,001 Line:1270 2017
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 12
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 BI1712220005
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:27:51,002 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 1
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 1
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 00001
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:27:51,003 Line:1270 00003
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 1
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 00101
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 0
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:27:51,004 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:27:51,005 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:27:51,005 Line:1270 f_ref='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:27:51,191 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ed4ea0d3_1712221527505180025','2017-12-22','BI1712220005','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:27:50','2017-12-22 15:27:50','00001' from tblBuyInStockDet where f_ref='ed4ea0d3_1712221527505180025' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:27:51,192 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:27:51,192 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:27:51,192 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:27:51,192 Line:425 ************上述语句执行时间：191
 [DEBUG] 2017-12-22 15:27:51,192 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:27:51,193 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,193 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:27:51,193 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:51,194 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:27:51,194 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:51,196 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:27:51,196 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:27:51,197 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,197 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:27:51,197 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,198 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-22 15:27:51,198 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,198 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:27:51,199 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:51,199 Line:988 1值：1
 [DEBUG] 2017-12-22 15:27:51,199 Line:988 2值：0
 [DEBUG] 2017-12-22 15:27:51,199 Line:988 3值：1
 [DEBUG] 2017-12-22 15:27:51,199 Line:988 4值：0
 [DEBUG] 2017-12-22 15:27:51,199 Line:988 5值：0
 [DEBUG] 2017-12-22 15:27:51,199 Line:988 6值：1
 [DEBUG] 2017-12-22 15:27:51,200 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:27:51,201 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:27:51,201 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:27:51,201 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:27:51,201 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:27:51,202 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:51,254 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:27:51,261 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:27:51,272 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,280 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,286 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,294 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,301 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,307 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,319 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:27:51,329 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:27:51,452 Line:434 ************上述语句执行时间：250
 [DEBUG] 2017-12-22 15:27:51,453 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-22 15:27:51,453 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:51,454 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:27:51,454 Line:1270 1ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:51,454 Line:1270 00003
 [DEBUG] 2017-12-22 15:27:51,454 Line:1270 1
 [DEBUG] 2017-12-22 15:27:51,454 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:27:51,454 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ed4ea0d3_1712221527505180025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:27:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:27:50@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:27:51,510 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ed4ea0d3_1712221527505180025',4,'00003','2017-12-22','12','2017','12','0','1','ed4ea0d3_1712221527505180025','','1','0','1','1','2017-12-22 15:27:50','1','2017-12-22 15:27:50','00001','tblBuyInStock','BI1712220005','1','00101','0','')
 [DEBUG] 2017-12-22 15:27:51,511 Line:425 ************上述语句执行时间：57
 [DEBUG] 2017-12-22 15:27:51,511 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:27:51,512 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,512 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:27:51,513 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,514 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:27:51,514 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,515 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-22 15:27:51,516 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,516 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:27:51,517 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,517 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:27:51,519 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,519 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:27:51,519 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:27:51,520 Line:988 1值：1
 [DEBUG] 2017-12-22 15:27:51,520 Line:988 2值：0
 [DEBUG] 2017-12-22 15:27:51,520 Line:988 3值：1
 [DEBUG] 2017-12-22 15:27:51,520 Line:988 4值：0
 [DEBUG] 2017-12-22 15:27:51,520 Line:988 5值：0
 [DEBUG] 2017-12-22 15:27:51,520 Line:988 6值：0
 [DEBUG] 2017-12-22 15:27:51,521 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:27:51,521 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:27:51,521 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:27:51,522 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:27:51,522 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:27:51,522 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,522 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:27:51,523 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,523 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:27:51,524 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,524 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:27:51,525 Line:321 flag:false
 [DEBUG] 2017-12-22 15:27:51,525 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:27:51,526 Line:321 flag:true
 [DEBUG] 2017-12-22 15:27:51,526 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:27:51,527 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:27:51,527 Line:1270 add
 [DEBUG] 2017-12-22 15:27:51,536 Line:425 ************上述语句执行时间：10
 [DEBUG] 2017-12-22 15:27:53,035 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=ed4ea0d3_1712221527505180025&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=3&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 15:27:53,036 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[ed4ea0d3_1712221527505180025,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[3,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 15:27:53,037 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ed4ea0d3_1712221527505180025' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-22 15:27:53,099 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:27:53,108 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:29:46,370 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA7D716E92EE0646770C98562ED3F03CD4
 [ERROR] 2017-12-22 15:29:46,411 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:31:30,621 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA981183C8C6795DE18AD219FA989EC390
 [ERROR] 2017-12-22 15:31:30,662 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:32:28,211 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=saveDefineFile&fileName=config_v7\define\defineBuy.xml&SESSION=90A58A4796127255CE564B66141F9291F9C05D7A00DE55C51DFC27D68060CCCFA8D74D7AB1F30CEA46E1431B4E9CA35417BB8C487E591A94
 [ERROR] 2017-12-22 15:32:28,252 Line:119 ------保存成功
 [DEBUG] 2017-12-22 15:33:07,703 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:33:07,705 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ed4ea0d3_1712221527505180025,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ed4ea0d3_1712221527505180025,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ed4ea0d3_1712221527505180025,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-22 15:27:50,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-22 15:27:50,];createBy=[1,];createTime=[2017-12-22 15:27:50,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ed4ea0d3_1712221527505400026,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:33:07,828 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:33:07,836 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:33:07,866 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,875 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-22 15:33:07,876 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:07,876 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:07,877 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,877 Line:1270 delete
 [DEBUG] 2017-12-22 15:33:07,951 Line:425 ************上述语句执行时间：75
 [DEBUG] 2017-12-22 15:33:07,951 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-22 15:33:07,952 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,952 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-22 15:33:07,953 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:07,953 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-22 15:33:07,953 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,961 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-22 15:33:07,961 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:33:07,961 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:33:07,962 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:07,963 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-22 15:33:07,963 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,963 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:07,964 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:07,964 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,972 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:33:07,973 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:07,973 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,974 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-22 15:33:07,974 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:07,974 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,976 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:33:07,976 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:07,977 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,977 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:07,977 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:07,977 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,984 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:33:07,984 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:07,985 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,985 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:07,985 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:07,985 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,991 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:33:07,991 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:07,992 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,992 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-22 15:33:07,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:07,992 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:07,996 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:07,996 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:07,997 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:07,997 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:07,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:07,997 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,003 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:33:08,003 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,004 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,004 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:08,004 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,004 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,012 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:33:08,012 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,013 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,013 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:08,013 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,013 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,019 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:33:08,019 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,020 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,020 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:08,020 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,020 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,027 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:33:08,027 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,028 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,028 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:33:08,028 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,028 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,032 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:08,032 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,033 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,033 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-22 15:33:08,033 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,033 Line:988 1值：0
 [DEBUG] 2017-12-22 15:33:08,033 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,037 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:08,037 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,038 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,038 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-22 15:33:08,039 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,039 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,040 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-22 15:33:08,040 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-22 15:33:08,040 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:33:08,040 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-22 15:33:08,041 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-22 15:33:08,041 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,041 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-22 15:33:08,041 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,042 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:33:08,042 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,043 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,043 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,043 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:33:08,043 Line:1270 1
 [DEBUG] 2017-12-22 15:33:08,159 Line:425 ************上述语句执行时间：116
 [DEBUG] 2017-12-22 15:33:08,159 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-22 15:33:08,160 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,160 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:33:08,160 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,161 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,161 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,161 Line:1270 delete
 [DEBUG] 2017-12-22 15:33:08,205 Line:425 ************上述语句执行时间：44
 [DEBUG] 2017-12-22 15:33:08,206 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:33:08,206 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,207 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,207 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:33:08,207 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-22 15:33:08,207 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-22 15:33:08,253 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-22 15:33:08,253 Line:425 ************上述语句执行时间：46
 [DEBUG] 2017-12-22 15:33:08,253 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-22 15:33:08,253 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,253 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,253 Line:1270 0
 [DEBUG] 2017-12-22 15:33:08,254 Line:1270 update
 [DEBUG] 2017-12-22 15:33:08,254 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,345 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:33:08,345 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:33:08,345 Line:425 ************上述语句执行时间：92
 [DEBUG] 2017-12-22 15:33:08,345 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-22 15:33:08,346 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,346 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:33:08,346 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,348 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,348 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:33:08,348 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-22 15:33:08,349 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,349 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:33:08,349 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,350 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,350 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,350 Line:1270 delete
 [DEBUG] 2017-12-22 15:33:08,361 Line:425 ************上述语句执行时间：11
 [DEBUG] 2017-12-22 15:33:08,363 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-22 15:33:08,363 Line:5993 1:1.0
 [DEBUG] 2017-12-22 15:33:08,363 Line:5993 2:BI1712220005
 [DEBUG] 2017-12-22 15:33:08,363 Line:5993 3:2017-12-22
 [DEBUG] 2017-12-22 15:33:08,363 Line:5993 4:00003
 [DEBUG] 2017-12-22 15:33:08,363 Line:5993 5:00101
 [DEBUG] 2017-12-22 15:33:08,363 Line:5993 6:1
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 7:00001
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 8:3
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 9:0.0
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 10:0.0
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 11:0.0
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 12:0.0
 [DEBUG] 2017-12-22 15:33:08,364 Line:5993 13:0.0
 [DEBUG] 2017-12-22 15:33:08,365 Line:5993 14:
 [DEBUG] 2017-12-22 15:33:08,365 Line:5993 15:0.0
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 16:0.0
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 17:0.0
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 18:12
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 19:12
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 20:2017
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 21:
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 22:0.0
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 23:0.0
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 24:0.0
 [DEBUG] 2017-12-22 15:33:08,366 Line:5993 25:100.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 26:0.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 27:0.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 28:
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 29:1.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 30:1.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 31:1.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 32:0.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 33:1.0
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 34:
 [DEBUG] 2017-12-22 15:33:08,367 Line:5993 35:0ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,368 Line:5993 36:1.0
 [DEBUG] 2017-12-22 15:33:08,368 Line:5993 37:1.0
 [DEBUG] 2017-12-22 15:33:08,368 Line:5993 38:1
 [DEBUG] 2017-12-22 15:33:08,368 Line:5993 39:2017-12-22 15:33:07
 [DEBUG] 2017-12-22 15:33:08,374 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:33:08,376 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 1:ed4ea0d3_1712221533083760033
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 2:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 3:00001
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 4:
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 5:
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 6:
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 8:
 [DEBUG] 2017-12-22 15:33:08,377 Line:5853 9:
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 10:
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 11:
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 12:
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 13:
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 14:
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:33:08,378 Line:5853 19:0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:33:08,379 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 37:
 [DEBUG] 2017-12-22 15:33:08,380 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 47:0
 [DEBUG] 2017-12-22 15:33:08,381 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 50:
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 51:0.0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 52:1.0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 54:0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 55:0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 56:
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 57:0.0
 [DEBUG] 2017-12-22 15:33:08,382 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:33:08,383 Line:5853 59:
 [DEBUG] 2017-12-22 15:33:08,383 Line:5853 60:0.0
 [DEBUG] 2017-12-22 15:33:08,383 Line:5853 61:00001
 [DEBUG] 2017-12-22 15:33:08,386 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:33:08,388 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-22 15:33:08,389 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,389 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:33:08,390 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,390 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:33:08,390 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,391 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:33:08,391 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,391 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:33:08,392 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,392 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:33:08,393 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,393 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:33:08,393 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,394 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:33:08,394 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,394 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,395 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:33:08,397 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,397 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,398 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,398 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:33:08,398 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,398 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,398 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:33:08,402 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:08,402 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,403 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,403 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:33:08,403 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,403 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,403 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:33:08,407 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:08,407 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,407 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,408 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:33:08,408 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,408 Line:988 1值：false
 [DEBUG] 2017-12-22 15:33:08,408 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,412 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:33:08,412 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:08,412 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:33:08,413 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,413 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:33:08,413 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,413 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,422 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:33:08,422 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,423 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,423 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:33:08,423 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,424 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,426 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,426 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,427 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,427 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:33:08,427 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,427 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,430 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,430 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,432 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,432 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:33:08,432 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,432 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,436 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:33:08,436 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,437 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,437 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,438 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,438 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:33:08,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,438 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,441 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,441 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,442 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,442 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:33:08,442 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,442 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:33:08,443 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,443 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,445 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,445 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,445 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,446 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:33:08,446 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,446 Line:988 1值：1
 [DEBUG] 2017-12-22 15:33:08,446 Line:988 2值：0
 [DEBUG] 2017-12-22 15:33:08,446 Line:988 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,454 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-22 15:33:08,454 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-22 15:33:08,455 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:33:08,455 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-22 15:33:08,455 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,456 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:33:08,456 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,456 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,465 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:33:08,465 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,466 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,467 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:33:08,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,467 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,468 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-22 15:33:08,468 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,469 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,469 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:33:08,469 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,469 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,472 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,472 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:33:08,473 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,473 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:33:08,473 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,473 Line:988 1值：
 [DEBUG] 2017-12-22 15:33:08,473 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:33:08,476 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:33:08,476 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:33:08,476 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,477 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,477 Line:988 2值：
 [DEBUG] 2017-12-22 15:33:08,477 Line:988 3值：
 [DEBUG] 2017-12-22 15:33:08,477 Line:988 4值：
 [DEBUG] 2017-12-22 15:33:08,482 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:33:08,482 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:33:08,483 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,483 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:33:08,484 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,484 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:33:08,485 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,485 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:33:08,486 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,486 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:33:08,486 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,487 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:33:08,487 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:33:08,488 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,490 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,491 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:33:08,491 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:33:08,491 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:33:08,491 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,491 Line:1157 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,495 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,496 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:33:08,496 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:33:08,496 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,496 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,501 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,502 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-22 15:33:08,502 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:33:08,502 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,504 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,505 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:33:08,505 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:33:08,505 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,508 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,508 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:33:08,509 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:33:08,509 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,510 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:33:08,510 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,510 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,513 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,513 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:33:08,514 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:33:08,514 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,514 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:33:08,515 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,515 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,515 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,516 Line:1270 add
 [DEBUG] 2017-12-22 15:33:08,516 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-22 15:33:08,516 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:33:08,517 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,517 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:33:08,518 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,525 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:33:08,525 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:33:08,526 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:33:08,526 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,534 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:33:08,534 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:33:08,534 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:33:08,535 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,535 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:33:08,536 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,537 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:33:08,538 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,550 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:33:08,551 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,551 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:33:08,552 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,552 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:33:08,553 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,553 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:33:08,553 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,554 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:33:08,554 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,554 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:33:08,555 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,555 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:33:08,555 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,557 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:33:08,557 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:33:08,557 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:33:08,558 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,558 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,558 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,558 Line:1270 add
 [DEBUG] 2017-12-22 15:33:08,560 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:33:08,560 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:33:08,561 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,562 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 12
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 2017
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 12
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:33:08,562 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 BI1712220005
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 1
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 1
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 2017-12-22 15:33:07
 [DEBUG] 2017-12-22 15:33:08,563 Line:1270 00001
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 00003
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 1
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 00101
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:33:08,564 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:33:08,565 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:33:08,565 Line:1270 0
 [DEBUG] 2017-12-22 15:33:08,565 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:33:08,565 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:33:08,565 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:33:08,565 Line:1270 f_ref='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:33:08,682 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ed4ea0d3_1712221527505180025','2017-12-22','BI1712220005','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:27:50','2017-12-22 15:33:07','00001' from tblBuyInStockDet where f_ref='ed4ea0d3_1712221527505180025' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:33:08,682 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:33:08,682 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:33:08,683 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:33:08,683 Line:425 ************上述语句执行时间：122
 [DEBUG] 2017-12-22 15:33:08,683 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:33:08,684 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,684 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:33:08,685 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,685 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:33:08,685 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,687 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:33:08,687 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:33:08,688 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,688 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:33:08,688 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,689 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-22 15:33:08,689 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,689 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,689 Line:1270 zh_CN
 [DEBUG] 2017-12-22 15:33:08,690 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,690 Line:1270 00001
 [DEBUG] 2017-12-22 15:33:08,690 Line:1270 1
 [DEBUG] 2017-12-22 15:33:08,820 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ed4ea0d3_1712221527505180025') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ed4ea0d3_1712221527505180025') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-22 15:33:08,820 Line:425 ************上述语句执行时间：131
 [DEBUG] 2017-12-22 15:33:08,821 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:33:08,821 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,821 Line:988 1值：1
 [DEBUG] 2017-12-22 15:33:08,821 Line:988 2值：0
 [DEBUG] 2017-12-22 15:33:08,821 Line:988 3值：1
 [DEBUG] 2017-12-22 15:33:08,821 Line:988 4值：0
 [DEBUG] 2017-12-22 15:33:08,821 Line:988 5值：0
 [DEBUG] 2017-12-22 15:33:08,821 Line:988 6值：1
 [DEBUG] 2017-12-22 15:33:08,822 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:33:08,823 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:33:08,823 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:33:08,823 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:33:08,823 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:33:08,824 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,835 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:33:08,838 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:33:08,845 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,852 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,858 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,865 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,876 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,888 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,908 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:33:08,917 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:33:08,962 Line:434 ************上述语句执行时间：137
 [DEBUG] 2017-12-22 15:33:08,963 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-22 15:33:08,964 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:08,965 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:08,965 Line:1270 1ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:08,965 Line:1270 00003
 [DEBUG] 2017-12-22 15:33:08,966 Line:1270 1
 [DEBUG] 2017-12-22 15:33:08,966 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:33:08,966 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ed4ea0d3_1712221527505180025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:27:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:33:07@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:33:08,992 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ed4ea0d3_1712221527505180025',4,'00003','2017-12-22','12','2017','12','0','1','ed4ea0d3_1712221527505180025','','1','0','1','1','2017-12-22 15:27:50','1','2017-12-22 15:33:07','00001','tblBuyInStock','BI1712220005','1','00101','0','')
 [DEBUG] 2017-12-22 15:33:08,992 Line:425 ************上述语句执行时间：27
 [DEBUG] 2017-12-22 15:33:08,993 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:33:08,993 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,994 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:33:08,994 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,994 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:33:08,995 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,996 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-22 15:33:08,996 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,996 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:33:08,997 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,997 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:33:08,998 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:08,998 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:33:08,998 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:33:08,998 Line:988 1值：1
 [DEBUG] 2017-12-22 15:33:08,998 Line:988 2值：0
 [DEBUG] 2017-12-22 15:33:08,998 Line:988 3值：1
 [DEBUG] 2017-12-22 15:33:08,999 Line:988 4值：0
 [DEBUG] 2017-12-22 15:33:08,999 Line:988 5值：0
 [DEBUG] 2017-12-22 15:33:08,999 Line:988 6值：0
 [DEBUG] 2017-12-22 15:33:09,000 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:33:09,000 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:33:09,000 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:33:09,000 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:33:09,000 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:33:09,001 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:09,001 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:33:09,002 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:09,002 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:33:09,002 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:09,002 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:33:09,003 Line:321 flag:false
 [DEBUG] 2017-12-22 15:33:09,003 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:33:09,003 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:09,004 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:33:09,004 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:33:09,004 Line:1270 add
 [DEBUG] 2017-12-22 15:33:09,005 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:33:09,005 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:33:09,006 Line:321 flag:true
 [DEBUG] 2017-12-22 15:33:09,006 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:33:42,393 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 49 more
[ERROR] 2017-12-22 15:33:42,395 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=null
 [DEBUG] 2017-12-22 15:35:37,240 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:35:37,243 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ed4ea0d3_1712221527505180025,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ed4ea0d3_1712221527505180025,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ed4ea0d3_1712221527505180025,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-22 15:27:50,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-22 15:27:50,];createBy=[1,];createTime=[2017-12-22 15:27:50,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ed4ea0d3_1712221527505400026,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:35:37,348 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:35:37,354 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:35:37,365 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,373 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-22 15:35:37,376 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,377 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:37,377 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,377 Line:1270 delete
 [DEBUG] 2017-12-22 15:35:37,449 Line:425 ************上述语句执行时间：72
 [DEBUG] 2017-12-22 15:35:37,449 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-22 15:35:37,451 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,451 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-22 15:35:37,452 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,452 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-22 15:35:37,452 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,460 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-22 15:35:37,461 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-22 15:35:37,461 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:35:37,463 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,464 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-22 15:35:37,465 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,465 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,465 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,465 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,474 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:35:37,474 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,475 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,475 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-22 15:35:37,475 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,475 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,477 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:37,477 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,478 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,478 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,478 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,478 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,484 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:35:37,485 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,486 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,486 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,486 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,486 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,492 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:35:37,493 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,493 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,493 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-22 15:35:37,494 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,494 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,497 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:35:37,497 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,498 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,498 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,498 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,498 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,503 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:35:37,503 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,504 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,504 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,504 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,504 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,512 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:35:37,513 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,514 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,514 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,514 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,515 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,521 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:35:37,522 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,522 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,523 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,523 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,523 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,530 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:35:37,531 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,531 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,532 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:35:37,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,532 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,535 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:35:37,535 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,536 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,536 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-22 15:35:37,536 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,536 Line:988 1值：0
 [DEBUG] 2017-12-22 15:35:37,536 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,538 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:37,538 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,539 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,539 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-22 15:35:37,539 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,540 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,541 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-22 15:35:37,541 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-22 15:35:37,542 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:35:37,542 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-22 15:35:37,542 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-22 15:35:37,542 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:35:37,542 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-22 15:35:37,543 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,543 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:35:37,544 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,544 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:37,545 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,545 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:35:37,545 Line:1270 1
 [DEBUG] 2017-12-22 15:35:37,657 Line:425 ************上述语句执行时间：113
 [DEBUG] 2017-12-22 15:35:37,657 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-22 15:35:37,658 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,658 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:35:37,659 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,659 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:37,659 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,659 Line:1270 delete
 [DEBUG] 2017-12-22 15:35:37,704 Line:425 ************上述语句执行时间：45
 [DEBUG] 2017-12-22 15:35:37,704 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:35:37,705 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,705 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:37,705 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:35:37,705 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-22 15:35:37,705 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-22 15:35:37,743 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-22 15:35:37,743 Line:425 ************上述语句执行时间：38
 [DEBUG] 2017-12-22 15:35:37,744 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-22 15:35:37,744 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,745 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:37,745 Line:1270 0
 [DEBUG] 2017-12-22 15:35:37,745 Line:1270 update
 [DEBUG] 2017-12-22 15:35:37,745 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,837 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:35:37,837 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:35:37,837 Line:425 ************上述语句执行时间：92
 [DEBUG] 2017-12-22 15:35:37,838 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-22 15:35:37,838 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,838 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:35:37,839 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,840 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-22 15:35:37,841 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:35:37,841 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-22 15:35:37,841 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,842 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:35:37,842 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,843 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:37,843 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,843 Line:1270 delete
 [DEBUG] 2017-12-22 15:35:37,852 Line:425 ************上述语句执行时间：9
 [DEBUG] 2017-12-22 15:35:37,854 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 1:1.0
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 2:BI1712220005
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 3:2017-12-22
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 4:00003
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 5:00101
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 6:1
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 7:00001
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 8:3
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 9:0.0
 [DEBUG] 2017-12-22 15:35:37,855 Line:5993 10:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 11:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 12:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 13:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 14:
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 15:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 16:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 17:0.0
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 18:12
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 19:12
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 20:2017
 [DEBUG] 2017-12-22 15:35:37,856 Line:5993 21:
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 22:0.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 23:0.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 24:0.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 25:100.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 26:0.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 27:0.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 28:
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 29:1.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 30:1.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 31:1.0
 [DEBUG] 2017-12-22 15:35:37,857 Line:5993 32:0.0
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 33:1.0
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 34:
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 35:0ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 36:1.0
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 37:1.0
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 38:1
 [DEBUG] 2017-12-22 15:35:37,858 Line:5993 39:2017-12-22 15:35:37
 [DEBUG] 2017-12-22 15:35:37,864 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:35:37,866 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 1:ed4ea0d3_1712221535378650036
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 2:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 3:00001
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 4:
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 5:
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 6:
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:35:37,866 Line:5853 8:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 9:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 10:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 11:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 12:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 13:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 14:
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:35:37,867 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 19:0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:35:37,868 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 37:
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:35:37,869 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 47:0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:35:37,870 Line:5853 50:
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 51:0.0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 52:1.0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 54:0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 55:0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 56:
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 57:0.0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 59:
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 60:0.0
 [DEBUG] 2017-12-22 15:35:37,871 Line:5853 61:00001
 [DEBUG] 2017-12-22 15:35:37,875 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:35:37,877 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-22 15:35:37,877 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,878 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:35:37,878 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,878 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:35:37,879 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,879 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:35:37,880 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,880 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:35:37,881 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,881 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:35:37,882 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,883 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:35:37,883 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,884 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:35:37,884 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,884 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,885 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:35:37,887 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:35:37,887 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,888 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,888 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:35:37,888 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,888 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,889 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:35:37,893 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:35:37,893 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,894 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,894 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:35:37,894 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,895 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,895 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:35:37,899 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:35:37,899 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,900 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,900 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:35:37,900 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,900 Line:988 1值：false
 [DEBUG] 2017-12-22 15:35:37,900 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,904 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:35:37,905 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:35:37,905 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:35:37,905 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,906 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:35:37,906 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,906 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,914 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:35:37,914 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,915 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,915 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:35:37,915 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,915 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,918 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:35:37,918 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,919 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,919 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:35:37,919 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,920 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,922 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:35:37,922 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,923 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,924 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:35:37,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,924 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,927 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:35:37,927 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,928 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,928 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,929 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,929 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:35:37,929 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,929 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,932 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:35:37,932 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,933 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,933 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:35:37,933 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,934 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:35:37,934 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,934 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,936 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:37,936 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,937 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,937 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:35:37,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,937 Line:988 1值：1
 [DEBUG] 2017-12-22 15:35:37,938 Line:988 2值：0
 [DEBUG] 2017-12-22 15:35:37,938 Line:988 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,947 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-22 15:35:37,947 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-22 15:35:37,947 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-22 15:35:37,947 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-22 15:35:37,948 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,948 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:35:37,948 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,949 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,957 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:35:37,958 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,958 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,959 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:35:37,959 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,959 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,961 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:37,961 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:35:37,961 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,962 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:35:37,962 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,962 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,964 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:37,964 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:35:37,965 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,965 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:35:37,965 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,966 Line:988 1值：
 [DEBUG] 2017-12-22 15:35:37,966 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:35:37,968 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:35:37,968 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:35:37,968 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:37,968 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,968 Line:988 2值：
 [DEBUG] 2017-12-22 15:35:37,968 Line:988 3值：
 [DEBUG] 2017-12-22 15:35:37,969 Line:988 4值：
 [DEBUG] 2017-12-22 15:35:37,972 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:35:37,972 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:35:37,973 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,973 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:35:37,973 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,973 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:35:37,974 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,974 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:35:37,975 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:37,975 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:35:37,975 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:37,976 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:35:37,976 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:35:37,976 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,979 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:35:37,979 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:35:37,979 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:35:37,980 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:35:37,980 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,980 Line:1157 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,984 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:35:37,985 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-22 15:35:37,985 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:35:37,985 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,985 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:37,990 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:35:37,990 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:35:37,990 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:35:37,999 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,003 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:35:38,003 Line:229 ************上述语句执行时间：13
 [DEBUG] 2017-12-22 15:35:38,004 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:35:38,004 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,008 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:35:38,009 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:35:38,009 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:35:38,014 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,015 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:35:38,015 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,015 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,018 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:35:38,019 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:35:38,019 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:35:38,019 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,019 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:35:38,020 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,020 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:38,020 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,020 Line:1270 add
 [DEBUG] 2017-12-22 15:35:38,021 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-22 15:35:38,021 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:35:38,022 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,022 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:35:38,022 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,030 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:35:38,030 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:35:38,030 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:35:38,031 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,038 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:35:38,038 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:35:38,038 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:35:38,039 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,039 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:35:38,040 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,040 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:35:38,040 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,053 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:35:38,054 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,054 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:35:38,055 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,055 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:35:38,056 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,056 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:35:38,057 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,057 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:35:38,058 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,058 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:35:38,059 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,059 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:35:38,060 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,062 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:35:38,062 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:35:38,063 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:35:38,063 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,063 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:38,064 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,064 Line:1270 add
 [DEBUG] 2017-12-22 15:35:38,065 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:35:38,065 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:35:38,066 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,066 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:35:38,066 Line:1270 12
 [DEBUG] 2017-12-22 15:35:38,066 Line:1270 2017
 [DEBUG] 2017-12-22 15:35:38,066 Line:1270 12
 [DEBUG] 2017-12-22 15:35:38,066 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:35:38,066 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 BI1712220005
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 1
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 1
 [DEBUG] 2017-12-22 15:35:38,067 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 2017-12-22 15:35:37
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 00001
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 00003
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 1
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 00101
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:35:38,068 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 0
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:35:38,069 Line:1270 f_ref='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:35:38,178 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ed4ea0d3_1712221527505180025','2017-12-22','BI1712220005','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:27:50','2017-12-22 15:35:37','00001' from tblBuyInStockDet where f_ref='ed4ea0d3_1712221527505180025' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:35:38,178 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:35:38,178 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:35:38,179 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:35:38,179 Line:425 ************上述语句执行时间：113
 [DEBUG] 2017-12-22 15:35:38,179 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:35:38,180 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,180 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:35:38,181 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,183 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:35:38,183 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:38,184 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-22 15:35:38,185 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:35:38,185 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,185 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:35:38,186 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,186 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-22 15:35:38,187 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,187 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:38,187 Line:1270 zh_CN
 [DEBUG] 2017-12-22 15:35:38,187 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,187 Line:1270 00001
 [DEBUG] 2017-12-22 15:35:38,187 Line:1270 1
 [DEBUG] 2017-12-22 15:35:38,313 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ed4ea0d3_1712221527505180025') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ed4ea0d3_1712221527505180025') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-22 15:35:38,313 Line:425 ************上述语句执行时间：126
 [DEBUG] 2017-12-22 15:35:38,314 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:35:38,314 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:38,314 Line:988 1值：1
 [DEBUG] 2017-12-22 15:35:38,314 Line:988 2值：0
 [DEBUG] 2017-12-22 15:35:38,314 Line:988 3值：1
 [DEBUG] 2017-12-22 15:35:38,314 Line:988 4值：0
 [DEBUG] 2017-12-22 15:35:38,314 Line:988 5值：0
 [DEBUG] 2017-12-22 15:35:38,314 Line:988 6值：1
 [DEBUG] 2017-12-22 15:35:38,315 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:35:38,315 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:35:38,316 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:35:38,316 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:38,316 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:35:38,316 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,326 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:35:38,330 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:35:38,336 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,342 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,349 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,354 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,363 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,369 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,381 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:35:38,392 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:35:38,438 Line:434 ************上述语句执行时间：121
 [DEBUG] 2017-12-22 15:35:38,438 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-22 15:35:38,439 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,439 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:38,439 Line:1270 1ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,440 Line:1270 00003
 [DEBUG] 2017-12-22 15:35:38,440 Line:1270 1
 [DEBUG] 2017-12-22 15:35:38,440 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:35:38,440 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ed4ea0d3_1712221527505180025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:27:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:35:37@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:35:38,464 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ed4ea0d3_1712221527505180025',4,'00003','2017-12-22','12','2017','12','0','1','ed4ea0d3_1712221527505180025','','1','0','1','1','2017-12-22 15:27:50','1','2017-12-22 15:35:37','00001','tblBuyInStock','BI1712220005','1','00101','0','')
 [DEBUG] 2017-12-22 15:35:38,464 Line:425 ************上述语句执行时间：25
 [DEBUG] 2017-12-22 15:35:38,464 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:35:38,465 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,465 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:35:38,466 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,466 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:35:38,466 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,466 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-22 15:35:38,467 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,467 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:35:38,468 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,468 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:35:38,468 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,468 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:35:38,468 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:35:38,469 Line:988 1值：1
 [DEBUG] 2017-12-22 15:35:38,469 Line:988 2值：0
 [DEBUG] 2017-12-22 15:35:38,469 Line:988 3值：1
 [DEBUG] 2017-12-22 15:35:38,469 Line:988 4值：0
 [DEBUG] 2017-12-22 15:35:38,469 Line:988 5值：0
 [DEBUG] 2017-12-22 15:35:38,469 Line:988 6值：0
 [DEBUG] 2017-12-22 15:35:38,470 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:35:38,470 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:35:38,470 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:35:38,470 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:35:38,471 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:35:38,471 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,471 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:35:38,472 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,472 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:35:38,473 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,473 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:35:38,473 Line:321 flag:false
 [DEBUG] 2017-12-22 15:35:38,474 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:35:38,474 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,474 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:35:38,474 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:35:38,474 Line:1270 add
 [DEBUG] 2017-12-22 15:35:38,476 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:35:38,476 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:35:38,477 Line:321 flag:true
 [DEBUG] 2017-12-22 15:35:38,477 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:36:02,649 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 49 more
[ERROR] 2017-12-22 15:36:07,783 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=null
 [DEBUG] 2017-12-22 15:37:11,440 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:37:11,443 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ed4ea0d3_1712221527505180025,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ed4ea0d3_1712221527505180025,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ed4ea0d3_1712221527505180025,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-22 15:27:50,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-22 15:27:50,];createBy=[1,];createTime=[2017-12-22 15:27:50,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ed4ea0d3_1712221527505400026,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:37:11,546 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:37:11,554 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:37:11,565 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,571 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-22 15:37:11,575 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,576 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:11,576 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,576 Line:1270 delete
 [DEBUG] 2017-12-22 15:37:11,647 Line:425 ************上述语句执行时间：71
 [DEBUG] 2017-12-22 15:37:11,647 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-22 15:37:11,648 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,648 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-22 15:37:11,649 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,649 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-22 15:37:11,649 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,657 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-22 15:37:11,657 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:37:11,657 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:37:11,658 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,659 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-22 15:37:11,661 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,661 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,661 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,661 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,670 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:37:11,670 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,672 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,673 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-22 15:37:11,673 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,673 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,681 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:37:11,682 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,685 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,686 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,686 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,692 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:37:11,692 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,693 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,693 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,693 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,693 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,699 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:37:11,699 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,700 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,701 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-22 15:37:11,701 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,701 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,704 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:11,704 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,705 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,705 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,705 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,705 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,709 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:11,709 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,710 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,710 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,710 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,710 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,718 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:37:11,718 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,720 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,720 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,720 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,720 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,725 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:37:11,726 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,726 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,726 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,726 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,727 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,734 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:37:11,734 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,736 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,736 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:37:11,736 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,737 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,741 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:37:11,741 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,742 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,743 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-22 15:37:11,743 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,743 Line:988 1值：0
 [DEBUG] 2017-12-22 15:37:11,743 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,746 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:11,746 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:37:11,747 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,747 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-22 15:37:11,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:11,748 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,749 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-22 15:37:11,749 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-22 15:37:11,750 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:37:11,750 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-22 15:37:11,750 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-22 15:37:11,750 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:37:11,750 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-22 15:37:11,751 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,751 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:37:11,752 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,752 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:11,752 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,753 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:37:11,753 Line:1270 1
 [DEBUG] 2017-12-22 15:37:11,870 Line:425 ************上述语句执行时间：118
 [DEBUG] 2017-12-22 15:37:11,870 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-22 15:37:11,871 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:11,871 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:37:11,872 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,872 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:11,872 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:11,872 Line:1270 delete
 [DEBUG] 2017-12-22 15:37:11,917 Line:425 ************上述语句执行时间：45
 [DEBUG] 2017-12-22 15:37:11,917 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:37:11,918 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,918 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:11,918 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:37:11,919 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-22 15:37:11,919 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-22 15:37:11,958 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-22 15:37:11,959 Line:425 ************上述语句执行时间：41
 [DEBUG] 2017-12-22 15:37:11,960 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-22 15:37:11,961 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:11,961 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:11,961 Line:1270 0
 [DEBUG] 2017-12-22 15:37:11,961 Line:1270 update
 [DEBUG] 2017-12-22 15:37:11,961 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,050 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:37:12,050 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:37:12,050 Line:425 ************上述语句执行时间：89
 [DEBUG] 2017-12-22 15:37:12,050 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-22 15:37:12,051 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,051 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:37:12,051 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,053 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,053 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:37:12,053 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-22 15:37:12,054 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,054 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:37:12,054 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,054 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:12,055 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,055 Line:1270 delete
 [DEBUG] 2017-12-22 15:37:12,064 Line:425 ************上述语句执行时间：10
 [DEBUG] 2017-12-22 15:37:12,066 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-22 15:37:12,066 Line:5993 1:1.0
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 2:BI1712220005
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 3:2017-12-22
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 4:00003
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 5:00101
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 6:1
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 7:00001
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 8:3
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 9:0.0
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 10:0.0
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 11:0.0
 [DEBUG] 2017-12-22 15:37:12,067 Line:5993 12:0.0
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 13:0.0
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 14:
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 15:0.0
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 16:0.0
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 17:0.0
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 18:12
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 19:12
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 20:2017
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 21:
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 22:0.0
 [DEBUG] 2017-12-22 15:37:12,068 Line:5993 23:0.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 24:0.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 25:100.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 26:0.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 27:0.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 28:
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 29:1.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 30:1.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 31:1.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 32:0.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 33:1.0
 [DEBUG] 2017-12-22 15:37:12,069 Line:5993 34:
 [DEBUG] 2017-12-22 15:37:12,070 Line:5993 35:0ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,070 Line:5993 36:1.0
 [DEBUG] 2017-12-22 15:37:12,070 Line:5993 37:1.0
 [DEBUG] 2017-12-22 15:37:12,070 Line:5993 38:1
 [DEBUG] 2017-12-22 15:37:12,070 Line:5993 39:2017-12-22 15:37:11
 [DEBUG] 2017-12-22 15:37:12,076 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:37:12,079 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:37:12,079 Line:5853 1:ed4ea0d3_1712221537120790039
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 2:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 3:00001
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 4:
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 5:
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 6:
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 8:
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 9:
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 10:
 [DEBUG] 2017-12-22 15:37:12,080 Line:5853 11:
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 12:
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 13:
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 14:
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 19:0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:37:12,081 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:37:12,082 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 37:
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:37:12,083 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 47:0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 50:
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 51:0.0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 52:1.0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 54:0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 55:0
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 56:
 [DEBUG] 2017-12-22 15:37:12,084 Line:5853 57:0.0
 [DEBUG] 2017-12-22 15:37:12,085 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:37:12,085 Line:5853 59:
 [DEBUG] 2017-12-22 15:37:12,085 Line:5853 60:0.0
 [DEBUG] 2017-12-22 15:37:12,085 Line:5853 61:00001
 [DEBUG] 2017-12-22 15:37:12,089 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:37:12,091 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-22 15:37:12,092 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,092 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:37:12,093 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,093 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:37:12,093 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,094 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:37:12,094 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,094 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:37:12,095 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,095 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:37:12,096 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,096 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:37:12,096 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,097 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:37:12,097 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,097 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,097 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:37:12,100 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:37:12,100 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:37:12,101 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,101 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:37:12,101 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,101 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,101 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:37:12,105 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:12,105 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:37:12,106 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,106 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:37:12,106 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,106 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,106 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:37:12,110 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:12,110 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:37:12,111 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,111 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:37:12,111 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,111 Line:988 1值：false
 [DEBUG] 2017-12-22 15:37:12,111 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,115 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:37:12,115 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:12,115 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:37:12,116 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,116 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:37:12,116 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,116 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,125 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:37:12,125 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,126 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,126 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:37:12,126 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,126 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,129 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:37:12,129 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,130 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,130 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:37:12,130 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,130 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,132 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,133 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,133 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,133 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:37:12,133 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,134 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,137 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:12,137 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,138 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,138 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,139 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,139 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:37:12,139 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,139 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,143 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:12,143 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,144 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,144 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:37:12,145 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,145 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:37:12,145 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,145 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,147 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,147 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,148 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,148 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:37:12,148 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,148 Line:988 1值：1
 [DEBUG] 2017-12-22 15:37:12,148 Line:988 2值：0
 [DEBUG] 2017-12-22 15:37:12,148 Line:988 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,157 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-22 15:37:12,157 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-22 15:37:12,157 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:37:12,158 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-22 15:37:12,158 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,158 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:37:12,158 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,159 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,167 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:37:12,168 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,168 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,169 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:37:12,169 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,170 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,171 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,171 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:37:12,172 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,172 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:37:12,172 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,172 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,175 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:37:12,175 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:37:12,175 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,176 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:37:12,176 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,176 Line:988 1值：
 [DEBUG] 2017-12-22 15:37:12,176 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:37:12,178 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,178 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:37:12,178 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,178 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,178 Line:988 2值：
 [DEBUG] 2017-12-22 15:37:12,179 Line:988 3值：
 [DEBUG] 2017-12-22 15:37:12,179 Line:988 4值：
 [DEBUG] 2017-12-22 15:37:12,182 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:37:12,182 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:37:12,183 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,183 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:37:12,183 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,184 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:37:12,185 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,185 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:37:12,185 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,185 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:37:12,186 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,187 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:37:12,187 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:37:12,187 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,190 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,190 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:37:12,190 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:37:12,190 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:37:12,191 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,191 Line:1157 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,195 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,195 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:37:12,196 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:37:12,196 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,196 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,201 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,202 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-22 15:37:12,202 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:37:12,202 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,205 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,205 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:37:12,205 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:37:12,206 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,209 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,209 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:37:12,209 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:37:12,210 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,210 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:37:12,210 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,210 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,213 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,214 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:37:12,214 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:37:12,215 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,215 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:37:12,215 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,216 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:12,216 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,216 Line:1270 add
 [DEBUG] 2017-12-22 15:37:12,217 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-22 15:37:12,217 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:37:12,218 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,218 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:37:12,219 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,227 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:37:12,227 Line:408 ************上述语句执行时间：9
 [DEBUG] 2017-12-22 15:37:12,227 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:37:12,227 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,235 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:37:12,235 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:37:12,235 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:37:12,236 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,236 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:37:12,236 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,237 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:37:12,237 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,246 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:37:12,247 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,248 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:37:12,248 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,248 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:37:12,249 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,249 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:37:12,249 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,250 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:37:12,250 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,250 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:37:12,251 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,251 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:37:12,251 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,253 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:37:12,253 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:37:12,253 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:37:12,254 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,254 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:12,254 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,254 Line:1270 add
 [DEBUG] 2017-12-22 15:37:12,256 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:37:12,256 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:37:12,257 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,258 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:37:12,258 Line:1270 12
 [DEBUG] 2017-12-22 15:37:12,258 Line:1270 2017
 [DEBUG] 2017-12-22 15:37:12,258 Line:1270 12
 [DEBUG] 2017-12-22 15:37:12,258 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:37:12,258 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:37:12,260 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,260 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:37:12,260 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:37:12,260 Line:1270 BI1712220005
 [DEBUG] 2017-12-22 15:37:12,260 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 1
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 1
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 2017-12-22 15:37:11
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 00001
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 00003
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 1
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 00101
 [DEBUG] 2017-12-22 15:37:12,261 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 0
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:37:12,263 Line:1270 f_ref='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:37:12,372 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ed4ea0d3_1712221527505180025','2017-12-22','BI1712220005','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:27:50','2017-12-22 15:37:11','00001' from tblBuyInStockDet where f_ref='ed4ea0d3_1712221527505180025' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:37:12,373 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:37:12,373 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:37:12,373 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:37:12,373 Line:425 ************上述语句执行时间：116
 [DEBUG] 2017-12-22 15:37:12,373 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:37:12,374 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,374 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:37:12,375 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,375 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:37:12,375 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,377 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,377 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:37:12,378 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,378 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:37:12,379 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,379 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-22 15:37:12,380 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,380 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:12,381 Line:1270 zh_CN
 [DEBUG] 2017-12-22 15:37:12,381 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,381 Line:1270 00001
 [DEBUG] 2017-12-22 15:37:12,381 Line:1270 1
 [DEBUG] 2017-12-22 15:37:12,506 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ed4ea0d3_1712221527505180025') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ed4ea0d3_1712221527505180025') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-22 15:37:12,506 Line:425 ************上述语句执行时间：126
 [DEBUG] 2017-12-22 15:37:12,506 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:37:12,506 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,506 Line:988 1值：1
 [DEBUG] 2017-12-22 15:37:12,506 Line:988 2值：0
 [DEBUG] 2017-12-22 15:37:12,506 Line:988 3值：1
 [DEBUG] 2017-12-22 15:37:12,507 Line:988 4值：0
 [DEBUG] 2017-12-22 15:37:12,507 Line:988 5值：0
 [DEBUG] 2017-12-22 15:37:12,507 Line:988 6值：1
 [DEBUG] 2017-12-22 15:37:12,508 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:37:12,508 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:37:12,508 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:37:12,508 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,508 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:37:12,509 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,512 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:37:12,515 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:37:12,521 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,527 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,537 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,543 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,549 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,555 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,578 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:37:12,593 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:37:12,636 Line:434 ************上述语句执行时间：127
 [DEBUG] 2017-12-22 15:37:12,636 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-22 15:37:12,636 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,636 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:12,636 Line:1270 1ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,636 Line:1270 00003
 [DEBUG] 2017-12-22 15:37:12,636 Line:1270 1
 [DEBUG] 2017-12-22 15:37:12,638 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:37:12,638 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ed4ea0d3_1712221527505180025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:27:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:37:11@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:37:12,660 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ed4ea0d3_1712221527505180025',4,'00003','2017-12-22','12','2017','12','0','1','ed4ea0d3_1712221527505180025','','1','0','1','1','2017-12-22 15:27:50','1','2017-12-22 15:37:11','00001','tblBuyInStock','BI1712220005','1','00101','0','')
 [DEBUG] 2017-12-22 15:37:12,660 Line:425 ************上述语句执行时间：24
 [DEBUG] 2017-12-22 15:37:12,660 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:37:12,661 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,661 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:37:12,661 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,662 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:37:12,662 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,662 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-22 15:37:12,663 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,663 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:37:12,663 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,663 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:37:12,664 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,664 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:37:12,664 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:37:12,664 Line:988 1值：1
 [DEBUG] 2017-12-22 15:37:12,664 Line:988 2值：0
 [DEBUG] 2017-12-22 15:37:12,664 Line:988 3值：1
 [DEBUG] 2017-12-22 15:37:12,665 Line:988 4值：0
 [DEBUG] 2017-12-22 15:37:12,665 Line:988 5值：0
 [DEBUG] 2017-12-22 15:37:12,665 Line:988 6值：0
 [DEBUG] 2017-12-22 15:37:12,666 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:37:12,666 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:37:12,666 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:37:12,666 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:37:12,666 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:37:12,667 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,667 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:37:12,667 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,668 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:37:12,668 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,668 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:37:12,669 Line:321 flag:false
 [DEBUG] 2017-12-22 15:37:12,669 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:37:12,669 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,669 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:37:12,670 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:37:12,670 Line:1270 add
 [DEBUG] 2017-12-22 15:37:12,671 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:37:12,672 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:37:12,672 Line:321 flag:true
 [DEBUG] 2017-12-22 15:37:12,672 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:37:37,576 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 49 more
[ERROR] 2017-12-22 15:37:37,577 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=null
 [DEBUG] 2017-12-22 15:39:34,340 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:39:34,343 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ed4ea0d3_1712221527505180025,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ed4ea0d3_1712221527505180025,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ed4ea0d3_1712221527505180025,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-22 15:27:50,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-22 15:27:50,];createBy=[1,];createTime=[2017-12-22 15:27:50,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ed4ea0d3_1712221527505400026,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:39:34,441 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:39:34,447 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:39:34,462 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,469 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-22 15:39:34,474 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,474 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:34,474 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,474 Line:1270 delete
 [DEBUG] 2017-12-22 15:39:34,545 Line:425 ************上述语句执行时间：71
 [DEBUG] 2017-12-22 15:39:34,546 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-22 15:39:34,546 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,546 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-22 15:39:34,547 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,547 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-22 15:39:34,547 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,551 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-22 15:39:34,551 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:39:34,551 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:39:34,552 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,553 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-22 15:39:34,553 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,553 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,554 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,554 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,561 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:39:34,561 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,562 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,562 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-22 15:39:34,562 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,562 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,564 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:39:34,564 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,564 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,565 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,565 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,565 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,571 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:39:34,571 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,572 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,572 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,572 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,573 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,580 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:39:34,581 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,581 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,582 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-22 15:39:34,582 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,582 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,585 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:34,585 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,587 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,587 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,587 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,587 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,592 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:39:34,592 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,593 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,593 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,593 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,593 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,600 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:39:34,600 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,601 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,601 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,601 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,601 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,606 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:39:34,606 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,607 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,607 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,607 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,607 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,613 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:39:34,614 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,614 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,614 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:39:34,614 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,615 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,617 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:34,618 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,618 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,618 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-22 15:39:34,618 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,619 Line:988 1值：0
 [DEBUG] 2017-12-22 15:39:34,619 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,621 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:34,622 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,622 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,622 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-22 15:39:34,623 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,623 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,624 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-22 15:39:34,624 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-22 15:39:34,624 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:39:34,625 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-22 15:39:34,625 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-22 15:39:34,625 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:34,625 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-22 15:39:34,625 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,626 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:39:34,626 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,626 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:34,626 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,626 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:39:34,627 Line:1270 1
 [DEBUG] 2017-12-22 15:39:34,741 Line:425 ************上述语句执行时间：115
 [DEBUG] 2017-12-22 15:39:34,741 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-22 15:39:34,742 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,742 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:39:34,743 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,743 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:34,743 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,743 Line:1270 delete
 [DEBUG] 2017-12-22 15:39:34,789 Line:425 ************上述语句执行时间：46
 [DEBUG] 2017-12-22 15:39:34,789 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:39:34,789 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,790 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:34,790 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:39:34,790 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-22 15:39:34,790 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-22 15:39:34,828 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-22 15:39:34,829 Line:425 ************上述语句执行时间：39
 [DEBUG] 2017-12-22 15:39:34,829 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-22 15:39:34,829 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,830 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:34,830 Line:1270 0
 [DEBUG] 2017-12-22 15:39:34,830 Line:1270 update
 [DEBUG] 2017-12-22 15:39:34,830 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,917 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:39:34,918 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:39:34,918 Line:425 ************上述语句执行时间：88
 [DEBUG] 2017-12-22 15:39:34,918 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-22 15:39:34,918 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,919 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:39:34,919 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,921 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-22 15:39:34,921 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:39:34,921 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-22 15:39:34,922 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,922 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:39:34,923 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,923 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:34,923 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,923 Line:1270 delete
 [DEBUG] 2017-12-22 15:39:34,932 Line:425 ************上述语句执行时间：9
 [DEBUG] 2017-12-22 15:39:34,934 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 1:1.0
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 2:BI1712220005
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 3:2017-12-22
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 4:00003
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 5:00101
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 6:1
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 7:00001
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 8:3
 [DEBUG] 2017-12-22 15:39:34,935 Line:5993 9:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 10:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 11:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 12:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 13:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 14:
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 15:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 16:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 17:0.0
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 18:12
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 19:12
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 20:2017
 [DEBUG] 2017-12-22 15:39:34,936 Line:5993 21:
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 22:0.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 23:0.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 24:0.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 25:100.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 26:0.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 27:0.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 28:
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 29:1.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 30:1.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 31:1.0
 [DEBUG] 2017-12-22 15:39:34,937 Line:5993 32:0.0
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 33:1.0
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 34:
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 35:0ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 36:1.0
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 37:1.0
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 38:1
 [DEBUG] 2017-12-22 15:39:34,938 Line:5993 39:2017-12-22 15:39:34
 [DEBUG] 2017-12-22 15:39:34,945 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:39:34,947 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:39:34,947 Line:5853 1:ed4ea0d3_1712221539349470042
 [DEBUG] 2017-12-22 15:39:34,947 Line:5853 2:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,947 Line:5853 3:00001
 [DEBUG] 2017-12-22 15:39:34,947 Line:5853 4:
 [DEBUG] 2017-12-22 15:39:34,947 Line:5853 5:
 [DEBUG] 2017-12-22 15:39:34,947 Line:5853 6:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 8:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 9:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 10:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 11:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 12:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 13:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 14:
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:39:34,948 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 19:0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:39:34,949 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 37:
 [DEBUG] 2017-12-22 15:39:34,950 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 47:0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:39:34,951 Line:5853 50:
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 51:0.0
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 52:1.0
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 54:0
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 55:0
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 56:
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 57:0.0
 [DEBUG] 2017-12-22 15:39:34,952 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:39:34,953 Line:5853 59:
 [DEBUG] 2017-12-22 15:39:34,953 Line:5853 60:0.0
 [DEBUG] 2017-12-22 15:39:34,953 Line:5853 61:00001
 [DEBUG] 2017-12-22 15:39:34,957 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:39:34,958 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-22 15:39:34,959 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,959 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:39:34,960 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,960 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:39:34,960 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,960 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:39:34,961 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,961 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:39:34,962 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,962 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:39:34,962 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,962 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:39:34,963 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:34,963 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:39:34,963 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,964 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,964 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:39:34,969 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:39:34,969 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,970 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,970 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:39:34,970 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,970 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,971 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:39:34,974 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:39:34,974 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,975 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,975 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:39:34,975 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,975 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,975 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:39:34,978 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:34,979 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:39:34,979 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,979 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:39:34,979 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,980 Line:988 1值：false
 [DEBUG] 2017-12-22 15:39:34,980 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,985 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:39:34,985 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:39:34,985 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:39:34,986 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,986 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:39:34,986 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,986 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,991 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:39:34,991 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:34,992 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,992 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:39:34,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,992 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:34,995 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:34,995 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:34,996 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:34,996 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:39:34,996 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:34,996 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,000 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:39:35,000 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,001 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,001 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:39:35,001 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,001 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,006 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:39:35,006 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,007 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,007 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,008 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,008 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:39:35,008 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,008 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,011 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:35,011 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,012 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,013 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:39:35,013 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,013 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:39:35,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,014 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,016 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:39:35,016 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,017 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,017 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:39:35,017 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,017 Line:988 1值：1
 [DEBUG] 2017-12-22 15:39:35,017 Line:988 2值：0
 [DEBUG] 2017-12-22 15:39:35,017 Line:988 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,025 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-22 15:39:35,025 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-22 15:39:35,026 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:39:35,026 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-22 15:39:35,026 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,027 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:39:35,027 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,027 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,038 Line:1043 ---上述语句时间---12
 [DEBUG] 2017-12-22 15:39:35,038 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,039 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,039 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:39:35,039 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,040 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,041 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:39:35,041 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:39:35,042 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,042 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:39:35,042 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,042 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,044 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:39:35,044 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:39:35,045 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,045 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:39:35,045 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,045 Line:988 1值：
 [DEBUG] 2017-12-22 15:39:35,046 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:39:35,047 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:39:35,047 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:39:35,048 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,048 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,048 Line:988 2值：
 [DEBUG] 2017-12-22 15:39:35,048 Line:988 3值：
 [DEBUG] 2017-12-22 15:39:35,048 Line:988 4值：
 [DEBUG] 2017-12-22 15:39:35,051 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:39:35,051 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:39:35,052 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,052 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:39:35,052 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,052 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:39:35,053 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,053 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:39:35,054 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,054 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:39:35,054 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,055 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:39:35,055 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:39:35,055 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,058 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,059 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:39:35,059 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:39:35,059 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:39:35,059 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,059 Line:1157 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,065 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,065 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-22 15:39:35,065 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:39:35,065 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,065 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,069 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,070 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:39:35,071 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:39:35,071 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,073 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,073 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:39:35,074 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:39:35,074 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,077 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,077 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:39:35,077 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:39:35,078 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,078 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:39:35,078 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,078 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,081 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,082 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:39:35,082 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:39:35,083 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,083 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:39:35,083 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,084 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:35,084 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,084 Line:1270 add
 [DEBUG] 2017-12-22 15:39:35,100 Line:425 ************上述语句执行时间：16
 [DEBUG] 2017-12-22 15:39:35,100 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:39:35,101 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,101 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:39:35,101 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,109 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:39:35,109 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:39:35,109 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:39:35,109 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,117 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:39:35,117 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:39:35,117 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:39:35,118 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,118 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:39:35,118 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,119 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:39:35,119 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,131 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:39:35,132 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,132 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:39:35,132 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,133 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:39:35,133 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,133 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:39:35,134 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,134 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:39:35,134 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,134 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:39:35,135 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,135 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:39:35,135 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,138 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:39:35,138 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:39:35,138 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:39:35,139 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,139 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:35,139 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,139 Line:1270 add
 [DEBUG] 2017-12-22 15:39:35,151 Line:425 ************上述语句执行时间：12
 [DEBUG] 2017-12-22 15:39:35,151 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:39:35,152 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,152 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:39:35,152 Line:1270 12
 [DEBUG] 2017-12-22 15:39:35,152 Line:1270 2017
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 12
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 BI1712220005
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:39:35,153 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 1
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 1
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 2017-12-22 15:39:34
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 00001
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 00003
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 1
 [DEBUG] 2017-12-22 15:39:35,154 Line:1270 00101
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 0
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:39:35,155 Line:1270 f_ref='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:39:35,269 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ed4ea0d3_1712221527505180025','2017-12-22','BI1712220005','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:27:50','2017-12-22 15:39:34','00001' from tblBuyInStockDet where f_ref='ed4ea0d3_1712221527505180025' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:39:35,270 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:39:35,270 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:39:35,270 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:39:35,270 Line:425 ************上述语句执行时间：118
 [DEBUG] 2017-12-22 15:39:35,270 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:39:35,271 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,271 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:39:35,271 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,272 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:39:35,272 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,273 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-22 15:39:35,273 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:39:35,274 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,274 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:39:35,275 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,275 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-22 15:39:35,275 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,276 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:35,276 Line:1270 zh_CN
 [DEBUG] 2017-12-22 15:39:35,276 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,276 Line:1270 00001
 [DEBUG] 2017-12-22 15:39:35,276 Line:1270 1
 [DEBUG] 2017-12-22 15:39:35,455 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ed4ea0d3_1712221527505180025') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ed4ea0d3_1712221527505180025') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-22 15:39:35,455 Line:425 ************上述语句执行时间：180
 [DEBUG] 2017-12-22 15:39:35,455 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:39:35,455 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,455 Line:988 1值：1
 [DEBUG] 2017-12-22 15:39:35,455 Line:988 2值：0
 [DEBUG] 2017-12-22 15:39:35,455 Line:988 3值：1
 [DEBUG] 2017-12-22 15:39:35,455 Line:988 4值：0
 [DEBUG] 2017-12-22 15:39:35,456 Line:988 5值：0
 [DEBUG] 2017-12-22 15:39:35,456 Line:988 6值：1
 [DEBUG] 2017-12-22 15:39:35,457 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:39:35,457 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:39:35,457 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:39:35,457 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:39:35,457 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:39:35,458 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,461 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:39:35,465 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:39:35,471 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,477 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,484 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,490 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,497 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,506 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,530 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:39:35,547 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:39:35,585 Line:434 ************上述语句执行时间：127
 [DEBUG] 2017-12-22 15:39:35,585 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-22 15:39:35,586 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,586 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:35,586 Line:1270 1ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,587 Line:1270 00003
 [DEBUG] 2017-12-22 15:39:35,587 Line:1270 1
 [DEBUG] 2017-12-22 15:39:35,587 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:39:35,587 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ed4ea0d3_1712221527505180025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:27:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:39:34@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:39:35,612 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ed4ea0d3_1712221527505180025',4,'00003','2017-12-22','12','2017','12','0','1','ed4ea0d3_1712221527505180025','','1','0','1','1','2017-12-22 15:27:50','1','2017-12-22 15:39:34','00001','tblBuyInStock','BI1712220005','1','00101','0','')
 [DEBUG] 2017-12-22 15:39:35,612 Line:425 ************上述语句执行时间：26
 [DEBUG] 2017-12-22 15:39:35,612 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:39:35,613 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,613 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:39:35,613 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,614 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:39:35,614 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,614 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-22 15:39:35,615 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,615 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:39:35,615 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,615 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:39:35,616 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,616 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:39:35,616 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:39:35,616 Line:988 1值：1
 [DEBUG] 2017-12-22 15:39:35,616 Line:988 2值：0
 [DEBUG] 2017-12-22 15:39:35,616 Line:988 3值：1
 [DEBUG] 2017-12-22 15:39:35,617 Line:988 4值：0
 [DEBUG] 2017-12-22 15:39:35,617 Line:988 5值：0
 [DEBUG] 2017-12-22 15:39:35,617 Line:988 6值：0
 [DEBUG] 2017-12-22 15:39:35,618 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:39:35,618 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:39:35,618 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:39:35,618 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:39:35,618 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:39:35,619 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,619 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:39:35,620 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,620 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:39:35,620 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,620 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:39:35,621 Line:321 flag:false
 [DEBUG] 2017-12-22 15:39:35,621 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:39:35,621 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,621 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:39:35,622 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:39:35,622 Line:1270 add
 [DEBUG] 2017-12-22 15:39:35,623 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:39:35,623 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:39:35,624 Line:321 flag:true
 [DEBUG] 2017-12-22 15:39:35,624 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-22 15:41:26,644 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-12-22 15:41:54,988 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 49 more
[ERROR] 2017-12-22 15:41:54,990 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=null
 [DEBUG] 2017-12-22 15:42:03,824 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:42:03,826 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];button=[,];frameName=[$fName,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[finish,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[ed4ea0d3_1712221527505180025,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[false,];designId=[,];approveStatus=[transing,];id=[ed4ea0d3_1712221527505180025,];parentCode=[,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];CurNeedPayAmt=[1,];InvoiceStatus=[0,];NeedPayAmt=[1,];BillNo=[BI1712220005,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[12,];PeriodMonth=[12,];PeriodYear=[2017,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[0ed4ea0d3_1712221527505180025,];AfterChangeAmt=[1,];CurAfterChangeAmt=[1,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];finishTime=[2017-12-22 15:27:50,];lastUpdateBy=[1,];lastUpdateTime=[2017-12-22 15:27:50,];createBy=[1,];createTime=[2017-12-22 15:27:50,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[1,];tblBuyInStockDet_Price=[1,];tblBuyInStockDet_Amount=[1,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[00001,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[1,];tblBuyInStockDet_DisBackAmt=[1,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[1,];tblBuyInStockDet_TaxAmount=[1,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[1,];tblBuyInStockDet_CurAmount=[1,];tblBuyInStockDet_ApportionAmt=[0,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[1,];tblBuyInStockDet_PayQty=[0,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[0,];tblBuyInStockDet_PreferAmount=[0,];tblBuyInStockDet_detsId=[ed4ea0d3_1712221527505400026,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:42:03,932 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:42:03,940 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ed4ea0d3_1712221527505180025' order by detOrderNo
 [DEBUG] 2017-12-22 15:42:03,952 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblBuyInStock where id= ? id= ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:03,959 Line:313 exeCondition:tblBuyInStock_Delete :true
 [DEBUG] 2017-12-22 15:42:03,960 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:03,960 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:03,960 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:03,960 Line:1270 delete
 [DEBUG] 2017-12-22 15:42:04,034 Line:425 ************上述语句执行时间：74
 [DEBUG] 2017-12-22 15:42:04,034 Line:313 exeCondition:tblBuyInStock_Delete :'0' != '0'
 [DEBUG] 2017-12-22 15:42:04,035 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,035 Line:313 exeCondition:tblBuyInStock_Delete :'update' =='delete'||'update' =='update'
 [DEBUG] 2017-12-22 15:42:04,036 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,036 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete:delete from tblSeqAuditing where BillID=?
 [DEBUG] 2017-12-22 15:42:04,036 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,043 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete,  影响行数=0
 [DEBUG] 2017-12-22 15:42:04,043 Line:408 ************上述语句执行时间：7
 [DEBUG] 2017-12-22 15:42:04,043 Line:313 exeCondition:tblBuyInStock_Delete :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:42:04,044 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,045 Line:313 exeCondition:tblBuyInStock_Delete_One :"0"!= "0"&&"update"=="returnAuditing"
 [DEBUG] 2017-12-22 15:42:04,045 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,045 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as BuyOutNo from tblBuyOutStock a,tblBuyOutStockDet b where a.id=b.f_ref and b.BuyInStockID=? and a.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,045 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,045 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,053 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 15:42:04,053 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,053 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,054 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNO as SalesOutNo from tblSalesOutStock where BuyInID=?
 [DEBUG] 2017-12-22 15:42:04,054 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,054 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,056 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,056 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,057 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,057 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=? and tblPay.AutoBillMarker=0 and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,057 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,057 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,062 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:42:04,063 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,063 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,063 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as PayReNo from tblPayDet left join tblPay on tblPay.id =tblPayDet.f_ref where tblPayDet.RefbillID=(select a.id from tblPay a,tblPayDet b where a.id=b.f_ref and RefbillID=? and a.AutoBillMarker=1) and tblPay.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,064 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,069 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:42:04,069 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,070 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,070 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BillNo as BuyReplaceNo from tblBuyReplace where BuyInStockID=?
 [DEBUG] 2017-12-22 15:42:04,070 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,070 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,073 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,073 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,074 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,074 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as InvoiceNo from tblBuyInfoDet,tblBuyInvoiceInfo where tblBuyInvoiceInfo.id=tblBuyInfoDet.f_ref and refbillID=? and tblBuyInvoiceInfo.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,074 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,074 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,079 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:42:04,079 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,080 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,080 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale2.BillNo as TFS2No from tblTransferSale2 where RefBillNo=(select BillNo from tblBuyInStock where id=?) and workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,080 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,080 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,087 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:42:04,087 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,088 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,088 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale3.BillNo as TFS3No from tblTransferSaleDet3,tblTransferSale3 where tblTransferSale3.id=tblTransferSaleDet3.f_ref and refbillID=? and tblTransferSale3.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,088 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,088 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,092 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:42:04,092 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,093 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,093 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select tblTransferSale4.BillNo as TFS4No from tblTransferSaleDet4,tblTransferSale4 where tblTransferSale4.id=tblTransferSaleDet4.f_ref and refbillID=(select BillNo from tblBuyInStock where id=?) and tblTransferSale4.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,094 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,094 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,102 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 15:42:04,102 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,102 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,104 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select  BillNo as AdjustNo from tblPayAdjustdet,tblPayAdjust where tblPayAdjust.id=tblPayAdjustdet.f_ref and tblPayAdjustdet.RefbillID=? and tblPayAdjust.workFlowNodeName!='print'
 [DEBUG] 2017-12-22 15:42:04,104 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,104 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,108 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:42:04,108 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,108 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,109 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select CredTypeID,OrderNo from tblAccMain where ?=1 and RefBillID=? and  workFlowNodeName='finish'
 [DEBUG] 2017-12-22 15:42:04,109 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,109 Line:988 1值：0
 [DEBUG] 2017-12-22 15:42:04,109 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,111 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,111 Line:313 exeCondition:tblBuyInStock_Delete_One :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,112 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,112 Line:921 自定义执行的语句显示： tblBuyInStock_Delete_One :select BuyOrderID,StockCode,NeedPayAmt,PayAmount,CurAlrPayAmt from tblBuyInStock where id=?
 [DEBUG] 2017-12-22 15:42:04,112 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,112 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,114 Line:1025 query condition columnName:BuyOrderID----value:
 [DEBUG] 2017-12-22 15:42:04,114 Line:1025 query condition columnName:StockCode----value:00001
 [DEBUG] 2017-12-22 15:42:04,114 Line:1023 query condition columnName:NeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:42:04,114 Line:1023 query condition columnName:PayAmount----value:0E-8
 [DEBUG] 2017-12-22 15:42:04,114 Line:1023 query condition columnName:CurAlrPayAmt----value:0E-8
 [DEBUG] 2017-12-22 15:42:04,114 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,114 Line:313 exeCondition:tblBuyInStock_Delete_One :'0' != '0'
 [DEBUG] 2017-12-22 15:42:04,115 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,115 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:42:04,116 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,116 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delStockDet(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,116 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,116 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:42:04,116 Line:1270 1
 [DEBUG] 2017-12-22 15:42:04,226 Line:425 ************上述语句执行时间：110
 [DEBUG] 2017-12-22 15:42:04,226 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' !='update'
 [DEBUG] 2017-12-22 15:42:04,226 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,227 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:42:04,227 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,227 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,227 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,228 Line:1270 delete
 [DEBUG] 2017-12-22 15:42:04,272 Line:425 ************上述语句执行时间：45
 [DEBUG] 2017-12-22 15:42:04,272 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:42:04,272 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,273 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,273 Line:1270 select id as IniId@SPFieldLink:case when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then 1 when isnull(PayTotalDebit@RepComma:0)!=0 or isnull(PayTotalLend@RepComma:0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:42:04,273 Line:1270 proc_deleteComIni
 [DEBUG] 2017-12-22 15:42:04,273 Line:1270 @IniId@ParamLink:@ComType
 [DEBUG] 2017-12-22 15:42:04,311 Line:1292 存储过程内部信息： declare @IniId varchar(500) declare @ComType varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare iterCursor cursor for select id as IniId,case when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then 1 when isnull(PayTotalDebit,0)!=0 or isnull(PayTotalLend,0)!=0 then (case when 'true'='true' then 1 else 3 end) end as ComType from tblCompanyIni where relationDocID='ed4ea0d3_1712221527505180025'
open iterCursor
fetch next from iterCursor into @IniId,@ComType

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@IniId set @param2=@ComType exec proc_deleteComIni @param1,@param2, @retCode output,@retVal output  fetch next from iterCursor into @IniId,@ComType    end	

deallocate iterCursor
 [DEBUG] 2017-12-22 15:42:04,311 Line:425 ************上述语句执行时间：38
 [DEBUG] 2017-12-22 15:42:04,311 Line:313 exeCondition:tblBuyInStock_Delete_One : 'true'=='true'
 [DEBUG] 2017-12-22 15:42:04,312 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,312 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_delAccAndRefOper(?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,312 Line:1270 0
 [DEBUG] 2017-12-22 15:42:04,312 Line:1270 update
 [DEBUG] 2017-12-22 15:42:04,313 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,398 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:42:04,399 Line:1292 存储过程内部信息： 2
 [DEBUG] 2017-12-22 15:42:04,399 Line:425 ************上述语句执行时间：87
 [DEBUG] 2017-12-22 15:42:04,399 Line:313 exeCondition:tblBuyInStock_Delete_One :'update' =='update'
 [DEBUG] 2017-12-22 15:42:04,400 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,400 Line:1081 自定义执行的语句显示： tblBuyInStock_Delete_One:update tblBuyInStock set CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:42:04,400 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,402 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Delete_One,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,402 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:42:04,403 Line:313 exeCondition:tblBuyInStock_Delete_One :0.0>0
 [DEBUG] 2017-12-22 15:42:04,403 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,403 Line:313 exeCondition:tblBuyInStock_Delete_One :true
 [DEBUG] 2017-12-22 15:42:04,404 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,405 Line:1264 自定义执行的语句显示： tblBuyInStock_Delete_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,405 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,405 Line:1270 delete
 [DEBUG] 2017-12-22 15:42:04,415 Line:425 ************上述语句执行时间：10
 [DEBUG] 2017-12-22 15:42:04,419 Line:5984  UPDATE tblBuyInStock SET CurNeedPayAmt=?,BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,InVoiceType=?,PayAmount=?,ProceDureExp=?,AccAmt=?,FactOutcome=?,DiscountAmount=?,Currency=?,CurAlrPayAmt=?,CurDiscountAmount=?,CurProceDureExp=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,InvoiceAmount=?,CurBackAmount=?,CurAlreadyPayAmt=?,Discount=?,DisAmount=?,Tax=?,PayDate=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,CertificateNo=?,AfterChangeAmt=?,CurAfterChangeAmt=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 1:1.0
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 2:BI1712220005
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 3:2017-12-22
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 4:00003
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 5:00101
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 6:1
 [DEBUG] 2017-12-22 15:42:04,419 Line:5993 7:00001
 [DEBUG] 2017-12-22 15:42:04,420 Line:5993 8:3
 [DEBUG] 2017-12-22 15:42:04,420 Line:5993 9:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 10:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 11:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 12:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 13:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 14:
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 15:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 16:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 17:0.0
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 18:12
 [DEBUG] 2017-12-22 15:42:04,426 Line:5993 19:12
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 20:2017
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 21:
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 22:0.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 23:0.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 24:0.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 25:100.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 26:0.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 27:0.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 28:
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 29:1.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 30:1.0
 [DEBUG] 2017-12-22 15:42:04,427 Line:5993 31:1.0
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 32:0.0
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 33:1.0
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 34:
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 35:0ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 36:1.0
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 37:1.0
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 38:1
 [DEBUG] 2017-12-22 15:42:04,428 Line:5993 39:2017-12-22 15:42:03
 [DEBUG] 2017-12-22 15:42:04,435 Line:5894  DELETE FROM  tblBuyInStockDet  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:42:04,436 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 1:ed4ea0d3_1712221542044360045
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 2:ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 3:00001
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 4:
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 5:
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 6:
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 8:
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 9:
 [DEBUG] 2017-12-22 15:42:04,437 Line:5853 10:
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 11:
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 12:
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 13:
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 14:
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 15:1.0
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 16:1.0
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 17:1.0
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 19:0
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:42:04,438 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 24:1.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 25:1.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 27:1.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 28:1.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 30:1.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 31:1.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:42:04,439 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 37:
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:42:04,440 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 47:0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 50:
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 51:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 52:1.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 54:0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 55:0
 [DEBUG] 2017-12-22 15:42:04,441 Line:5853 56:
 [DEBUG] 2017-12-22 15:42:04,442 Line:5853 57:0.0
 [DEBUG] 2017-12-22 15:42:04,442 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:42:04,442 Line:5853 59:
 [DEBUG] 2017-12-22 15:42:04,442 Line:5853 60:0.0
 [DEBUG] 2017-12-22 15:42:04,442 Line:5853 61:00001
 [DEBUG] 2017-12-22 15:42:04,445 Line:5894  DELETE FROM  tblBuyPayAccount  WHERE f_ref = ? 
 [DEBUG] 2017-12-22 15:42:04,447 Line:313 exeCondition:tblBuyInStock_Add :1 < 0
 [DEBUG] 2017-12-22 15:42:04,451 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,451 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:42:04,451 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,452 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:42:04,452 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,452 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:42:04,453 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,453 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:42:04,453 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,453 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:42:04,454 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,454 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:42:04,455 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,456 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:42:04,456 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,456 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,456 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:42:04,460 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:42:04,460 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,461 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,461 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:42:04,461 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,461 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,461 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:42:04,465 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:42:04,465 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,466 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,467 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:42:04,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,467 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,467 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:42:04,470 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,471 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,471 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,471 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:42:04,472 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,472 Line:988 1值：false
 [DEBUG] 2017-12-22 15:42:04,472 Line:988 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,476 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:42:04,476 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:42:04,476 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:42:04,477 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,477 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:42:04,477 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,477 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,483 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:42:04,483 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,484 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,484 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:42:04,484 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,484 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,487 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,487 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,488 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,488 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:42:04,488 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,488 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,490 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,491 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,491 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,491 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:42:04,491 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,492 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,495 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:42:04,495 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,496 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,496 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,497 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,497 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:42:04,497 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,497 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,500 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,501 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,501 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,502 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:42:04,502 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,502 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:42:04,502 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,503 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,505 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,505 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,506 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,506 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:42:04,506 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,506 Line:988 1值：1
 [DEBUG] 2017-12-22 15:42:04,506 Line:988 2值：0
 [DEBUG] 2017-12-22 15:42:04,506 Line:988 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,518 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-12-22 15:42:04,518 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2017-12-22 15:42:04,518 Line:1043 ---上述语句时间---12
 [DEBUG] 2017-12-22 15:42:04,519 Line:313 exeCondition:tblBuyInStock_Add :1.0!=1.0
 [DEBUG] 2017-12-22 15:42:04,519 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,520 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:42:04,520 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,520 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,530 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-22 15:42:04,531 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,531 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,532 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:42:04,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,532 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,534 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,534 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,535 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,535 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:42:04,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,535 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,538 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,538 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:42:04,538 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,539 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:42:04,539 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,539 Line:988 1值：
 [DEBUG] 2017-12-22 15:42:04,539 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:42:04,541 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,541 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:42:04,541 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,541 Line:988 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,541 Line:988 2值：
 [DEBUG] 2017-12-22 15:42:04,541 Line:988 3值：
 [DEBUG] 2017-12-22 15:42:04,542 Line:988 4值：
 [DEBUG] 2017-12-22 15:42:04,544 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:42:04,545 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:42:04,545 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,546 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:42:04,546 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,546 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:42:04,547 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,547 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:42:04,547 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,548 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:42:04,548 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,548 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:42:04,549 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:42:04,549 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,552 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,552 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:42:04,552 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:42:04,552 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:42:04,552 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,552 Line:1157 3值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,557 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,557 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:42:04,557 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:42:04,557 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,558 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,562 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,562 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:42:04,562 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:42:04,562 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,564 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,564 Line:229 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:42:04,564 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:42:04,565 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,568 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,568 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:42:04,568 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:42:04,568 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,569 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:42:04,569 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,569 Line:1157 2值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,572 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,572 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:42:04,572 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:42:04,573 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,573 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:42:04,574 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,574 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,574 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,574 Line:1270 add
 [DEBUG] 2017-12-22 15:42:04,575 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-22 15:42:04,575 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:42:04,576 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,576 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:42:04,576 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,590 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:42:04,590 Line:408 ************上述语句执行时间：14
 [DEBUG] 2017-12-22 15:42:04,590 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:42:04,591 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,600 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:42:04,600 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-22 15:42:04,600 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:42:04,601 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,601 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:42:04,601 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,601 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:42:04,602 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,611 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:42:04,611 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,612 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:42:04,612 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,612 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:42:04,613 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,613 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:42:04,613 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,614 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:42:04,614 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,614 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:42:04,615 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,615 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:42:04,615 Line:1157 1值：ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,617 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:42:04,617 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:42:04,617 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:42:04,618 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,618 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,618 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,618 Line:1270 add
 [DEBUG] 2017-12-22 15:42:04,619 Line:425 ************上述语句执行时间：1
 [DEBUG] 2017-12-22 15:42:04,619 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:42:04,620 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,620 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 12
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 2017
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 12
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 BI1712220005
 [DEBUG] 2017-12-22 15:42:04,621 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 1
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 1
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 2017-12-22 15:27:50
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 2017-12-22 15:42:03
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 00001
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:42:04,622 Line:1270 00003
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 1
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 00101
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 0
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:42:04,623 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:42:04,624 Line:1270 f_ref='ed4ea0d3_1712221527505180025'
 [DEBUG] 2017-12-22 15:42:04,733 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ed4ea0d3_1712221527505180025','2017-12-22','BI1712220005','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:27:50','2017-12-22 15:42:03','00001' from tblBuyInStockDet where f_ref='ed4ea0d3_1712221527505180025' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:42:04,733 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:42:04,733 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:42:04,733 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:42:04,733 Line:425 ************上述语句执行时间：113
 [DEBUG] 2017-12-22 15:42:04,734 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:42:04,734 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,734 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:42:04,735 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,735 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:42:04,735 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,737 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,737 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:42:04,737 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,738 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:42:04,738 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:04,738 Line:313 exeCondition:tblBuyInStock_Add_One :'update' == 'update'
 [DEBUG] 2017-12-22 15:42:04,739 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,739 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_negativeStock(?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,739 Line:1270 zh_CN
 [DEBUG] 2017-12-22 15:42:04,739 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,739 Line:1270 00001
 [DEBUG] 2017-12-22 15:42:04,739 Line:1270 1
 [DEBUG] 2017-12-22 15:42:04,867 Line:1292 存储过程内部信息： declare goods_cursor cursor for select billNo,goods,StockFullName,prop,case when len(isnull(Seq,''))=0 then '  ('+dbo.throwZero(cast(sum(totalQty) as varchar(30)))+')' else '' end,lastMarker from (select a.billNo,b.GoodsNumber+' '+b.GoodsFullName as goods,c.StockFullName,isnull(BatchNo,'')+' '+isnull(Inch,'')+' '+isnull(yearNO,'')+' '+isnull(Hue,'')+' '+isnull(ProDate,'')+' '+isnull(Availably,'')+' '+isnull(Seq,'') as prop,totalQty,isnull(Seq,'') as Seq,a.lastMarker from tblStockDet a,tblGoods b,tblStock c where (goodPropHash in (select goodPropHash from tblNegativeBill where BillId='ed4ea0d3_1712221527505180025') or goodPropHash in (select goodPropHash from tblStockDet where BillId='ed4ea0d3_1712221527505180025') ) and a.goodsCode=b.classCode and a.stockCode=c.classCode and totalQty<0 and((periodYear=2017 and period>=12) or periodYear>2017)) as tab group by billNo,goods,StockFullName,prop,Seq,lastMarker order by lastMarker,billNo,StockFullName
 [DEBUG] 2017-12-22 15:42:04,867 Line:425 ************上述语句执行时间：128
 [DEBUG] 2017-12-22 15:42:04,867 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:42:04,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:04,868 Line:988 1值：1
 [DEBUG] 2017-12-22 15:42:04,868 Line:988 2值：0
 [DEBUG] 2017-12-22 15:42:04,868 Line:988 3值：1
 [DEBUG] 2017-12-22 15:42:04,868 Line:988 4值：0
 [DEBUG] 2017-12-22 15:42:04,868 Line:988 5值：0
 [DEBUG] 2017-12-22 15:42:04,868 Line:988 6值：1
 [DEBUG] 2017-12-22 15:42:04,869 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:42:04,869 Line:1023 query condition columnName:CRNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:42:04,869 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:42:04,869 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:42:04,870 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:42:04,870 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,874 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:42:04,877 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:42:04,887 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,893 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,898 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,908 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,915 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,921 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,932 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:42:04,942 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:42:04,980 Line:434 ************上述语句执行时间：109
 [DEBUG] 2017-12-22 15:42:04,980 Line:313 exeCondition:tblBuyInStock_Add_One :1>0
 [DEBUG] 2017-12-22 15:42:04,981 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:04,981 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:04,981 Line:1270 1ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:04,981 Line:1270 00003
 [DEBUG] 2017-12-22 15:42:04,981 Line:1270 1
 [DEBUG] 2017-12-22 15:42:04,982 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:42:04,982 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=1@SPFieldLink:RelationDocID=ed4ea0d3_1712221527505180025@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=1@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:27:50@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:42:03@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220005@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:42:05,013 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ed4ea0d3_1712221527505180025',4,'00003','2017-12-22','12','2017','12','0','1','ed4ea0d3_1712221527505180025','','1','0','1','1','2017-12-22 15:27:50','1','2017-12-22 15:42:03','00001','tblBuyInStock','BI1712220005','1','00101','0','')
 [DEBUG] 2017-12-22 15:42:05,014 Line:425 ************上述语句执行时间：33
 [DEBUG] 2017-12-22 15:42:05,014 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 1>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:42:05,016 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,016 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:42:05,018 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,019 Line:313 exeCondition:tblBuyInStock_Add_One :1.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:42:05,020 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,020 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&1.00000000>=0
 [DEBUG] 2017-12-22 15:42:05,022 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,022 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:42:05,023 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,024 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:42:05,025 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,025 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:42:05,026 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:42:05,026 Line:988 1值：1
 [DEBUG] 2017-12-22 15:42:05,026 Line:988 2值：0
 [DEBUG] 2017-12-22 15:42:05,026 Line:988 3值：1
 [DEBUG] 2017-12-22 15:42:05,027 Line:988 4值：0
 [DEBUG] 2017-12-22 15:42:05,027 Line:988 5值：0
 [DEBUG] 2017-12-22 15:42:05,027 Line:988 6值：0
 [DEBUG] 2017-12-22 15:42:05,029 Line:1023 query condition columnName:RNeedPayAmt----value:1.00000000
 [DEBUG] 2017-12-22 15:42:05,029 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:42:05,029 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:42:05,030 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:42:05,030 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:42:05,030 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,030 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:42:05,031 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,031 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:42:05,032 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,032 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:42:05,032 Line:321 flag:false
 [DEBUG] 2017-12-22 15:42:05,033 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:42:05,033 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:05,033 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:42:05,034 Line:1270 ed4ea0d3_1712221527505180025
 [DEBUG] 2017-12-22 15:42:05,034 Line:1270 add
 [DEBUG] 2017-12-22 15:42:05,035 Line:425 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:42:05,035 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:42:05,036 Line:321 flag:true
 [DEBUG] 2017-12-22 15:42:05,036 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [ERROR] 2017-12-22 15:42:24,908 Line:1768 DefineSQLBean.execClass Error
 java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.menyi.web.util.DefineSQLBean.execClass(DefineSQLBean.java:1757)
	at com.menyi.web.util.DefineSQLBean.execute(DefineSQLBean.java:437)
	at com.menyi.aio.dyndb.DynDBManager.defineSql(DynDBManager.java:4483)
	at com.menyi.aio.dyndb.DynDBManager$30$1.execute(DynDBManager.java:5201)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.dyndb.DynDBManager$30.exec(DynDBManager.java:5097)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:260)
	at com.menyi.aio.dyndb.DynDBManager.update(DynDBManager.java:5095)
	at com.menyi.aio.web.userFunction.UserFunctionAction.update(UserFunctionAction.java:5567)
	at com.menyi.aio.web.userFunction.UserFunctionAction.exe(UserFunctionAction.java:221)
	at com.menyi.web.util.BaseAction.execute(BaseAction.java:264)
	at org.apache.struts.chain.commands.servlet.ExecuteAction.execute(ExecuteAction.java:58)
	at org.apache.struts.chain.commands.AbstractExecuteAction.execute(AbstractExecuteAction.java:67)
	at org.apache.struts.chain.commands.ActionCommandBase.execute(ActionCommandBase.java:51)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.commons.chain.generic.LookupCommand.execute(LookupCommand.java:304)
	at org.apache.commons.chain.impl.ChainBase.execute(ChainBase.java:190)
	at org.apache.struts.chain.ComposableRequestProcessor.process(ComposableRequestProcessor.java:283)
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
	at tzhive.HiveServlet.optHive(HiveServlet.java:59)
	... 49 more
[ERROR] 2017-12-22 15:42:24,909 Line:5205 DynDBManager after update defineSql Error code = -2104 Msg=null
 [DEBUG] 2017-12-22 15:48:39,543 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-22 15:48:39,544 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-22 15:48:39,561 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.StandardContext.reload(StandardContext.java:4026)
	at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1479)
	at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1462)
	at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1646)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:328)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1374)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1546)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1556)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1524)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-22 15:53:58,086 Line:206 系统开始启动，最大内存：1792;目前总内存：306;目前空闲内存：211
 [INFO ] 2017-12-22 15:53:58,302 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-22 15:54:03,247 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-22 15:54:03,435 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-22 15:54:03,451 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-22 15:54:03,453 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-22 15:54:03,456 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-22 15:54:03,464 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-22 15:54:03,507 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-22 15:54:04,721 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 15:54:04,745 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-22 15:54:04,787 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-22 15:54:04,802 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-22 15:54:06,478 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-22 15:54:06,479 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-22 15:54:07,397 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-22 15:54:07,492 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-22 15:54:17,418 Line:538 ------Init TableInfo record:634
 [DEBUG] 2017-12-22 15:54:17,446 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-22 15:54:17,452 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-22 15:54:17,465 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-22 15:54:17,479 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-22 15:54:17,487 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-22 15:54:17,522 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-22 15:54:20,464 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-22 15:54:20,810 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-22 15:54:20,829 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-22 15:54:20,885 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-22 15:54:21,319 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-22 15:54:21,319 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-22 15:54:22,707 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-23 00:00:00
 [INFO ] 2017-12-22 15:54:22,707 Line:137 SAFE 碎片任务启动，时间2017-12-24 00:00:00
 [DEBUG] 2017-12-22 15:55:10,008 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 15:55:10,009 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-22 15:55:10,010 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-22 15:55:10,530 Line:5227 GlobalsTool.js 生成js 时间81:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-22 15:55:10,606 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 15:55:10,608 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 15:55:10,882 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513929310878
 [DEBUG] 2017-12-22 15:55:10,898 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513929310878,];
 [DEBUG] 2017-12-22 15:55:10,951 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 15:55:10,953 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 15:55:13,321 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1513929313319
 [DEBUG] 2017-12-22 15:55:13,322 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1513929313319,];
 [DEBUG] 2017-12-22 15:55:13,387 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1513929313386
 [DEBUG] 2017-12-22 15:55:13,388 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1513929313386,];
 [DEBUG] 2017-12-22 15:55:13,461 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-22 15:55:13,461 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-22 15:55:13,539 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-22 15:55:13,559 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-22 15:55:13,704 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 15:55:13,704 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 15:55:13,724 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 15:55:14,022 Line:5227 GlobalsTool.js 生成js 时间36:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-22 15:55:14,183 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-22 15:55:14,183 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-22 15:55:14,183 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-22 15:55:14,184 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-22 15:55:14,185 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 15:55:14,210 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-22 15:55:14,210 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-22 15:55:14,211 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 15:55:14,222 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-22 15:55:14,223 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-22 15:55:14,224 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 15:55:14,235 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-22 15:55:14,236 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-22 15:55:14,238 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 15:55:16,559 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-22 15:55:16,559 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-22 15:55:16,560 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-22 15:55:17,094 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 15:55:17,103 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 15:55:17,151 Line:689 通过SQL读原始数据：48
 [DEBUG] 2017-12-22 15:55:17,156 Line:1391 整理数据：4
 [DEBUG] 2017-12-22 15:55:17,572 Line:5227 GlobalsTool.js 生成js 时间109:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-22 15:55:17,698 Line:5227 GlobalsTool.js 生成js 时间126:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 15:55:21,540 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 15:55:22,219 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 15:55:22,221 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 15:55:23,001 Line:5227 GlobalsTool.js 生成js 时间22:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 15:55:24,767 Line:5227 GlobalsTool.js 生成js 时间1765:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 15:55:29,074 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 15:55:29,075 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 15:55:29,138 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 15:55:29,138 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 15:55:29,139 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 15:55:29,139 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 15:55:29,140 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-22 15:55:29,176 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-22'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 15:55:29,326 Line:5227 GlobalsTool.js 生成js 时间10:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-22 15:55:29,338 Line:5227 GlobalsTool.js 生成js 时间12:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 15:55:32,425 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-22 15:55:32,426 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-22 15:55:32,458 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-22 15:55:32,458 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 15:55:32,459 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 15:55:32,459 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 15:55:32,460 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-22 15:55:32,480 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 15:55:43,130 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 15:55:43,131 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 15:55:43,157 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 15:55:43,157 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 15:55:43,157 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 15:55:43,158 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 15:55:43,159 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-22 15:55:43,163 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 15:55:46,371 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 15:55:46,373 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220006,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[4,];TotalTaxAmount=[4,];TotalCoTaxAmt=[0,];CurTotalAmount=[4,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[2,];tblBuyInStockDet_Price=[2,];tblBuyInStockDet_Amount=[4,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[2,];tblBuyInStockDet_DisBackAmt=[4,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[2,];tblBuyInStockDet_TaxAmount=[4,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[2,];tblBuyInStockDet_CurAmount=[4,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 15:55:46,375 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 15:55:46,404 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:55:46,404 Line:5853 1:0.0
 [DEBUG] 2017-12-22 15:55:46,404 Line:5853 2:
 [DEBUG] 2017-12-22 15:55:46,404 Line:5853 3:ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 4:-1
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 5:finish
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 6:0.0
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 7:0
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 8:0.0
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 9:BI1712220006
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 15:55:46,405 Line:5853 11:00003
 [DEBUG] 2017-12-22 15:55:46,406 Line:5853 12:00101
 [DEBUG] 2017-12-22 15:55:46,406 Line:5853 13:1
 [DEBUG] 2017-12-22 15:55:46,406 Line:5853 14:00001
 [DEBUG] 2017-12-22 15:55:46,406 Line:5853 15:3
 [DEBUG] 2017-12-22 15:55:46,406 Line:5853 16:0.0
 [DEBUG] 2017-12-22 15:55:46,406 Line:5853 17:0.0
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 19:0.0
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 20:
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 23:0.0
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 24:
 [DEBUG] 2017-12-22 15:55:46,407 Line:5853 25:0.0
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 27:0.0
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 28:
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 29:12
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 30:12
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 31:2017
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 32:
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:55:46,408 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 36:
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 37:
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 38:
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 41:
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 42:
 [DEBUG] 2017-12-22 15:55:46,409 Line:5853 43:100.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 46:
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 47:1.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 48:4.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 49:4.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 50:0.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 51:4.0
 [DEBUG] 2017-12-22 15:55:46,410 Line:5853 52:
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 53:
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 55:0.0
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 56:0.0
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 57:0
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 58:00001
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 59:0
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 60:2017-12-22 15:55:46
 [DEBUG] 2017-12-22 15:55:46,411 Line:5853 61:1
 [DEBUG] 2017-12-22 15:55:46,412 Line:5853 62:2017-12-22 15:55:46
 [DEBUG] 2017-12-22 15:55:46,412 Line:5853 63:1
 [DEBUG] 2017-12-22 15:55:46,412 Line:5853 64:2017-12-22 15:55:46
 [DEBUG] 2017-12-22 15:55:46,491 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 15:55:46,491 Line:5853 1:ab44943c_1712221555464910003
 [DEBUG] 2017-12-22 15:55:46,491 Line:5853 2:ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:46,491 Line:5853 3:
 [DEBUG] 2017-12-22 15:55:46,491 Line:5853 4:
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 5:
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 6:
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 8:
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 9:
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 10:
 [DEBUG] 2017-12-22 15:55:46,492 Line:5853 11:
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 12:
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 13:
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 14:
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 15:2.0
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 16:2.0
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 17:4.0
 [DEBUG] 2017-12-22 15:55:46,493 Line:5853 18:0.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 19:0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 20:0.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 21:0.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 22:0.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 23:100.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 24:2.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 25:4.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 26:0.0
 [DEBUG] 2017-12-22 15:55:46,494 Line:5853 27:2.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 28:4.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 29:0.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 30:2.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 31:4.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 32:0.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 33:0.0
 [DEBUG] 2017-12-22 15:55:46,495 Line:5853 34:0.0
 [DEBUG] 2017-12-22 15:55:46,496 Line:5853 35:0.0
 [DEBUG] 2017-12-22 15:55:46,496 Line:5853 36:0.0
 [DEBUG] 2017-12-22 15:55:46,496 Line:5853 37:
 [DEBUG] 2017-12-22 15:55:46,496 Line:5853 38:0.0
 [DEBUG] 2017-12-22 15:55:46,496 Line:5853 39:0.0
 [DEBUG] 2017-12-22 15:55:46,497 Line:5853 40:0.0
 [DEBUG] 2017-12-22 15:55:46,497 Line:5853 41:0.0
 [DEBUG] 2017-12-22 15:55:46,497 Line:5853 42:0.0
 [DEBUG] 2017-12-22 15:55:46,497 Line:5853 43:0.0
 [DEBUG] 2017-12-22 15:55:46,497 Line:5853 44:0.0
 [DEBUG] 2017-12-22 15:55:46,498 Line:5853 45:0.0
 [DEBUG] 2017-12-22 15:55:46,498 Line:5853 46:0.0
 [DEBUG] 2017-12-22 15:55:46,499 Line:5853 47:0
 [DEBUG] 2017-12-22 15:55:46,500 Line:5853 48:0.0
 [DEBUG] 2017-12-22 15:55:46,500 Line:5853 49:0.0
 [DEBUG] 2017-12-22 15:55:46,500 Line:5853 50:0
 [DEBUG] 2017-12-22 15:55:46,500 Line:5853 51:
 [DEBUG] 2017-12-22 15:55:46,500 Line:5853 52:0.0
 [DEBUG] 2017-12-22 15:55:46,501 Line:5853 53:0.0
 [DEBUG] 2017-12-22 15:55:46,501 Line:5853 54:0.0
 [DEBUG] 2017-12-22 15:55:46,501 Line:5853 55:0
 [DEBUG] 2017-12-22 15:55:46,501 Line:5853 56:0
 [DEBUG] 2017-12-22 15:55:46,501 Line:5853 57:
 [DEBUG] 2017-12-22 15:55:46,501 Line:5853 58:0.0
 [DEBUG] 2017-12-22 15:55:46,502 Line:5853 59:0.0
 [DEBUG] 2017-12-22 15:55:46,502 Line:5853 60:
 [DEBUG] 2017-12-22 15:55:46,502 Line:5853 61:0.0
 [DEBUG] 2017-12-22 15:55:46,502 Line:5853 62:00001
 [DEBUG] 2017-12-22 15:55:46,729 Line:313 exeCondition:tblBuyInStock_Add :4 < 0
 [DEBUG] 2017-12-22 15:55:46,977 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,978 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 15:55:46,980 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,980 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 15:55:46,981 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,981 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 15:55:46,984 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,984 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:55:46,985 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,985 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 15:55:46,986 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,986 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:55:46,987 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:46,988 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 15:55:46,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:46,988 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:46,988 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 15:55:46,991 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:55:46,991 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:55:46,992 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,992 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:55:46,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:46,993 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:46,993 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:55:46,997 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:55:46,997 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:55:46,998 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:46,998 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 15:55:46,998 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:46,998 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:46,999 Line:988 2值：00003
 [DEBUG] 2017-12-22 15:55:47,008 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-22 15:55:47,008 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:55:47,009 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,009 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 15:55:47,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,010 Line:988 1值：false
 [DEBUG] 2017-12-22 15:55:47,010 Line:988 2值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,016 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 15:55:47,016 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 15:55:47,017 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 15:55:47,017 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,018 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 15:55:47,018 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,018 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,022 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:55:47,023 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,024 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,024 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:55:47,024 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,024 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,028 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:55:47,028 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,029 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,030 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 15:55:47,031 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,031 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,035 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:55:47,036 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,037 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,037 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 15:55:47,037 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,037 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,041 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:55:47,041 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,042 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,042 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,043 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,043 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 15:55:47,043 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,043 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,048 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:55:47,048 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,049 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,050 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 15:55:47,050 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,051 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 15:55:47,051 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,051 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,053 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:55:47,054 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,055 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,055 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 15:55:47,055 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,055 Line:988 1值：4
 [DEBUG] 2017-12-22 15:55:47,056 Line:988 2值：0
 [DEBUG] 2017-12-22 15:55:47,056 Line:988 3值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,079 Line:1025 query condition columnName:SumDetAmt----value:4.0
 [DEBUG] 2017-12-22 15:55:47,079 Line:1025 query condition columnName:sumMainAmt----value:4.0
 [DEBUG] 2017-12-22 15:55:47,079 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-12-22 15:55:47,080 Line:313 exeCondition:tblBuyInStock_Add :4.0!=4.0
 [DEBUG] 2017-12-22 15:55:47,081 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,082 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 15:55:47,082 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,083 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,100 Line:1043 ---上述语句时间---18
 [DEBUG] 2017-12-22 15:55:47,101 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,102 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,103 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 15:55:47,103 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,103 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,106 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 15:55:47,106 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 15:55:47,108 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,108 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 15:55:47,108 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,108 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,112 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 15:55:47,112 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 15:55:47,113 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,113 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 15:55:47,114 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,114 Line:988 1值：
 [DEBUG] 2017-12-22 15:55:47,114 Line:988 2值：00001
 [DEBUG] 2017-12-22 15:55:47,119 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:55:47,119 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 15:55:47,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,120 Line:988 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,120 Line:988 2值：
 [DEBUG] 2017-12-22 15:55:47,120 Line:988 3值：
 [DEBUG] 2017-12-22 15:55:47,121 Line:988 4值：
 [DEBUG] 2017-12-22 15:55:47,124 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 15:55:47,124 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 15:55:47,126 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,126 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 15:55:47,127 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,128 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 15:55:47,129 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,129 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 15:55:47,130 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,130 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:55:47,131 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,132 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 15:55:47,132 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:55:47,132 Line:1157 2值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,136 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,136 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:55:47,136 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:55:47,136 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 15:55:47,137 Line:1157 2值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,137 Line:1157 3值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,141 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,142 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-22 15:55:47,142 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 15:55:47,142 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,142 Line:1157 2值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,147 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,147 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 15:55:47,147 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 15:55:47,147 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,150 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,150 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 15:55:47,151 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 15:55:47,151 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,157 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,157 Line:229 ************上述语句执行时间：6
 [DEBUG] 2017-12-22 15:55:47,157 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 15:55:47,158 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,159 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 15:55:47,159 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,159 Line:1157 2值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,162 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,163 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 15:55:47,163 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 15:55:47,164 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,164 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 15:55:47,166 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,167 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 15:55:47,167 Line:1270 ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,167 Line:1270 add
 [DEBUG] 2017-12-22 15:55:47,240 Line:425 ************上述语句执行时间：73
 [DEBUG] 2017-12-22 15:55:47,240 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 15:55:47,241 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,241 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:55:47,241 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,249 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:55:47,249 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:55:47,250 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 15:55:47,250 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,258 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 15:55:47,258 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 15:55:47,258 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:55:47,259 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,259 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 15:55:47,260 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,260 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 15:55:47,261 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,283 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 15:55:47,284 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,284 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:55:47,285 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,285 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 15:55:47,285 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,286 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:55:47,286 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,286 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 15:55:47,287 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,288 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:55:47,288 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,289 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 15:55:47,289 Line:1157 1值：ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,291 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 15:55:47,291 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 15:55:47,291 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:55:47,292 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,293 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 15:55:47,293 Line:1270 ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,293 Line:1270 add
 [DEBUG] 2017-12-22 15:55:47,349 Line:425 ************上述语句执行时间：56
 [DEBUG] 2017-12-22 15:55:47,349 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 15:55:47,350 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,351 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 15:55:47,352 Line:1270 12
 [DEBUG] 2017-12-22 15:55:47,352 Line:1270 2017
 [DEBUG] 2017-12-22 15:55:47,352 Line:1270 12
 [DEBUG] 2017-12-22 15:55:47,352 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 BI1712220006
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:55:47,353 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 15:55:47,354 Line:1270 1
 [DEBUG] 2017-12-22 15:55:47,354 Line:1270 1
 [DEBUG] 2017-12-22 15:55:47,354 Line:1270 2017-12-22 15:55:46
 [DEBUG] 2017-12-22 15:55:47,354 Line:1270 2017-12-22 15:55:46
 [DEBUG] 2017-12-22 15:55:47,354 Line:1270 00001
 [DEBUG] 2017-12-22 15:55:47,355 Line:1270 
 [DEBUG] 2017-12-22 15:55:47,355 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 15:55:47,355 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:55:47,355 Line:1270 00003
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 1
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 00101
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 15:55:47,356 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 15:55:47,357 Line:1270 0
 [DEBUG] 2017-12-22 15:55:47,357 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 15:55:47,357 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 15:55:47,357 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 15:55:47,357 Line:1270 f_ref='ab44943c_1712221555463950002'
 [DEBUG] 2017-12-22 15:55:47,557 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'ab44943c_1712221555463950002','2017-12-22','BI1712220006','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 15:55:46','2017-12-22 15:55:46','00001' from tblBuyInStockDet where f_ref='ab44943c_1712221555463950002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 15:55:47,558 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 15:55:47,558 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:55:47,558 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 15:55:47,558 Line:425 ************上述语句执行时间：207
 [DEBUG] 2017-12-22 15:55:47,558 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 15:55:47,559 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,559 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:55:47,560 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,560 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 15:55:47,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,562 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:55:47,562 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 15:55:47,563 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,563 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 15:55:47,564 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,565 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-22 15:55:47,565 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,566 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 15:55:47,566 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,566 Line:988 1值：4
 [DEBUG] 2017-12-22 15:55:47,566 Line:988 2值：0
 [DEBUG] 2017-12-22 15:55:47,567 Line:988 3值：4
 [DEBUG] 2017-12-22 15:55:47,567 Line:988 4值：0
 [DEBUG] 2017-12-22 15:55:47,567 Line:988 5值：0
 [DEBUG] 2017-12-22 15:55:47,567 Line:988 6值：1
 [DEBUG] 2017-12-22 15:55:47,569 Line:1023 query condition columnName:RNeedPayAmt----value:4.00000000
 [DEBUG] 2017-12-22 15:55:47,569 Line:1023 query condition columnName:CRNeedPayAmt----value:4.00000000
 [DEBUG] 2017-12-22 15:55:47,571 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 15:55:47,571 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 15:55:47,571 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 15:55:47,572 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,625 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 15:55:47,630 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 15:55:47,644 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,651 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,660 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,666 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,675 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,681 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,698 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 15:55:47,713 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 15:55:47,838 Line:434 ************上述语句执行时间：265
 [DEBUG] 2017-12-22 15:55:47,838 Line:313 exeCondition:tblBuyInStock_Add_One :4>0
 [DEBUG] 2017-12-22 15:55:47,839 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,840 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 15:55:47,840 Line:1270 1ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,841 Line:1270 00003
 [DEBUG] 2017-12-22 15:55:47,841 Line:1270 1
 [DEBUG] 2017-12-22 15:55:47,841 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 15:55:47,841 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=4@SPFieldLink:RelationDocID=ab44943c_1712221555463950002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=4@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 15:55:46@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 15:55:46@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220006@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 15:55:47,896 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1ab44943c_1712221555463950002',5,'00003','2017-12-22','12','2017','12','0','4','ab44943c_1712221555463950002','','1','0','4','1','2017-12-22 15:55:46','1','2017-12-22 15:55:46','00001','tblBuyInStock','BI1712220006','1','00101','0','')
 [DEBUG] 2017-12-22 15:55:47,896 Line:425 ************上述语句执行时间：56
 [DEBUG] 2017-12-22 15:55:47,896 Line:313 exeCondition:tblBuyInStock_Add_One :4.00000000<0 && 4>0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:55:47,897 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,898 Line:313 exeCondition:tblBuyInStock_Add_One :4.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 15:55:47,898 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,898 Line:313 exeCondition:tblBuyInStock_Add_One :4.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 15:55:47,899 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,899 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&4.00000000>=0
 [DEBUG] 2017-12-22 15:55:47,900 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,900 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 15:55:47,901 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,901 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 15:55:47,902 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,902 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 15:55:47,902 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 15:55:47,902 Line:988 1值：4
 [DEBUG] 2017-12-22 15:55:47,902 Line:988 2值：0
 [DEBUG] 2017-12-22 15:55:47,902 Line:988 3值：4
 [DEBUG] 2017-12-22 15:55:47,902 Line:988 4值：0
 [DEBUG] 2017-12-22 15:55:47,902 Line:988 5值：0
 [DEBUG] 2017-12-22 15:55:47,903 Line:988 6值：0
 [DEBUG] 2017-12-22 15:55:47,904 Line:1023 query condition columnName:RNeedPayAmt----value:4.00000000
 [DEBUG] 2017-12-22 15:55:47,904 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 15:55:47,904 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 15:55:47,904 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 15:55:47,904 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:55:47,905 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,905 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 15:55:47,906 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,906 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:55:47,906 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,906 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 15:55:47,907 Line:321 flag:false
 [DEBUG] 2017-12-22 15:55:47,907 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 15:55:47,907 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,908 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 15:55:47,908 Line:1270 ab44943c_1712221555463950002
 [DEBUG] 2017-12-22 15:55:47,908 Line:1270 add
 [DEBUG] 2017-12-22 15:55:47,917 Line:425 ************上述语句执行时间：9
 [DEBUG] 2017-12-22 15:55:47,917 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 15:55:47,917 Line:321 flag:true
 [DEBUG] 2017-12-22 15:55:47,927 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-22 15:56:08,947 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2017-12-22 15:56:08,948 Line:443 ************上述语句执行时间：21030
 [DEBUG] 2017-12-22 15:56:10,484 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=ab44943c_1712221555463950002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 15:56:10,485 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[ab44943c_1712221555463950002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 15:56:10,486 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ab44943c_1712221555463950002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-22 15:56:10,618 Line:1525  select * from  tblBuyInStockDet where f_ref = 'ab44943c_1712221555463950002' order by detOrderNo
 [DEBUG] 2017-12-22 15:56:10,624 Line:1525  select * from  tblBuyPayAccount where f_ref = 'ab44943c_1712221555463950002' order by detOrderNo
 [DEBUG] 2017-12-22 15:56:28,953 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2017-12-22 15:56:28,956 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购入库,];moduleName=[采购入库,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id@ParamList:2017-12-01@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id@ParamList:2017-12-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate2=[2017-12-01,];BillDate3=[,];workFlowNodeName=[all,];BillNo=[,];ComFullNamen=[,];EmpFullName=[,];DeptFullName=[,];BuyOrderNo=[,];EmpFullName2=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2017-12-22 15:56:28,985 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 15:56:28,985 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 15:56:29,012 Line:689 通过SQL读原始数据：27
 [DEBUG] 2017-12-22 15:56:29,014 Line:1391 整理数据：1
 [DEBUG] 2017-12-22 16:14:06,676 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-22 16:14:06,678 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-22 16:14:06,686 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.StandardContext.reload(StandardContext.java:4026)
	at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1479)
	at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1462)
	at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1646)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:328)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1374)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1546)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1556)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1524)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-22 16:14:16,546 Line:206 系统开始启动，最大内存：1792;目前总内存：445;目前空闲内存：241
 [INFO ] 2017-12-22 16:14:16,563 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-22 16:14:23,680 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-22 16:14:24,037 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-22 16:14:24,050 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-22 16:14:24,054 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-22 16:14:24,058 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-22 16:14:24,078 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-22 16:14:24,087 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-22 16:14:26,254 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 16:14:26,299 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-22 16:14:26,355 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-22 16:14:26,378 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-22 16:14:28,602 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-22 16:14:28,602 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-22 16:14:29,797 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-22 16:14:29,942 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-22 16:14:31,617 Line:538 ------Init TableInfo record:634
 [DEBUG] 2017-12-22 16:14:31,687 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-22 16:14:31,697 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-22 16:14:31,718 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-22 16:14:31,745 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-22 16:14:31,755 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-22 16:14:31,821 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-22 16:14:36,539 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-22 16:14:36,914 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-22 16:14:36,933 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-22 16:14:37,001 Line:2994 --------Init SMS Start ---------------
 [ERROR] 2017-12-22 16:14:37,448 Line:3005 --------Init MSGConnectCenter Failture-----------
 [INFO ] 2017-12-22 16:14:37,448 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-22 16:14:37,449 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-22 16:14:40,447 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-23 00:00:00
 [INFO ] 2017-12-22 16:14:40,448 Line:137 SAFE 碎片任务启动，时间2017-12-24 00:00:00
 [DEBUG] 2017-12-22 16:15:32,843 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 16:15:32,844 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-22 16:15:32,844 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-22 16:15:33,273 Line:5227 GlobalsTool.js 生成js 时间52:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:15:33,307 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 16:15:33,307 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 16:15:33,403 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513930533401
 [DEBUG] 2017-12-22 16:15:33,411 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513930533401,];
 [DEBUG] 2017-12-22 16:15:33,614 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 16:15:33,614 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 16:15:36,463 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1513930536463
 [DEBUG] 2017-12-22 16:15:36,463 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1513930536463,];
 [DEBUG] 2017-12-22 16:15:36,527 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1513930536527
 [DEBUG] 2017-12-22 16:15:36,527 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1513930536527,];
 [DEBUG] 2017-12-22 16:15:36,603 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-22 16:15:36,603 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-22 16:15:36,677 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-22 16:15:36,695 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-22 16:15:36,870 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 16:15:36,870 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 16:15:37,619 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 16:15:53,991 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-22 16:15:53,992 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-22 16:15:53,999 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-22 16:16:01,314 Line:206 系统开始启动，最大内存：1792;目前总内存：303;目前空闲内存：203
 [INFO ] 2017-12-22 16:16:01,405 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-22 16:16:06,585 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-22 16:16:06,922 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-22 16:16:06,947 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-22 16:16:06,958 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-22 16:16:06,970 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-22 16:16:06,994 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-22 16:16:07,008 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-22 16:16:09,247 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 16:16:09,306 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-22 16:16:09,367 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-22 16:16:09,390 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-22 16:16:10,448 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-22 16:16:10,448 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-22 16:16:11,145 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-22 16:16:11,253 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-22 16:16:11,992 Line:538 ------Init TableInfo record:634
 [DEBUG] 2017-12-22 16:16:12,018 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-22 16:16:12,024 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-22 16:16:12,037 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-22 16:16:12,050 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-22 16:16:12,056 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-22 16:16:12,094 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-22 16:16:14,964 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-22 16:16:15,333 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-22 16:16:15,353 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-22 16:16:15,409 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-22 16:16:16,102 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-22 16:16:16,103 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-22 16:16:18,046 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-23 00:00:00
 [INFO ] 2017-12-22 16:16:18,047 Line:137 SAFE 碎片任务启动，时间2017-12-24 00:00:00
 [DEBUG] 2017-12-22 16:16:28,424 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 16:16:28,426 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-22 16:16:28,426 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-22 16:16:28,866 Line:5227 GlobalsTool.js 生成js 时间66:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:16:28,912 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 16:16:28,913 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 16:16:29,158 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513930589122
 [DEBUG] 2017-12-22 16:16:29,185 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513930589122,];
 [DEBUG] 2017-12-22 16:16:29,228 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 16:16:29,228 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 16:16:30,656 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1513930590655
 [DEBUG] 2017-12-22 16:16:30,657 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1513930590655,];
 [DEBUG] 2017-12-22 16:16:30,721 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1513930590720
 [DEBUG] 2017-12-22 16:16:30,721 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1513930590720,];
 [DEBUG] 2017-12-22 16:16:30,799 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-22 16:16:30,800 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-22 16:16:30,853 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-22 16:16:30,868 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-22 16:16:30,969 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 16:16:30,970 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 16:16:30,978 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:16:31,240 Line:5227 GlobalsTool.js 生成js 时间33:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:16:31,386 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-22 16:16:31,386 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-22 16:16:31,387 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-22 16:16:31,387 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:16:31,389 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:16:31,404 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-22 16:16:31,404 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:16:31,405 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:16:31,415 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-22 16:16:31,415 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:16:31,416 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:16:31,424 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-22 16:16:31,425 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:16:31,425 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:16:33,884 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-22 16:16:33,885 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-22 16:16:33,885 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-22 16:16:34,391 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 16:16:34,408 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 16:16:34,434 Line:689 通过SQL读原始数据：26
 [DEBUG] 2017-12-22 16:16:34,436 Line:1391 整理数据：2
 [DEBUG] 2017-12-22 16:16:34,792 Line:5227 GlobalsTool.js 生成js 时间92:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:16:34,922 Line:5227 GlobalsTool.js 生成js 时间129:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 16:16:37,018 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 16:16:37,019 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 16:16:37,310 Line:5227 GlobalsTool.js 生成js 时间10:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:16:38,096 Line:5227 GlobalsTool.js 生成js 时间785:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 16:16:40,048 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 16:16:40,048 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 16:16:40,117 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 16:16:40,117 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 16:16:40,117 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 16:16:40,117 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 16:16:40,118 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-22 16:16:40,160 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-22'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 16:16:40,325 Line:5227 GlobalsTool.js 生成js 时间20:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:16:40,345 Line:5227 GlobalsTool.js 生成js 时间19:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:16:42,305 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 16:16:42,305 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 16:16:42,331 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 16:16:42,331 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 16:16:42,331 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 16:16:42,332 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-22 16:16:42,333 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 16:16:42,341 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 16:16:44,274 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-22 16:16:44,274 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-22 16:16:44,306 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 16:16:44,307 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 16:16:44,307 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-22 16:16:44,308 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-22 16:16:44,308 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 16:16:44,322 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 16:17:02,956 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 16:17:02,958 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220007,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[9,];TotalTaxAmount=[9,];TotalCoTaxAmt=[0,];CurTotalAmount=[9,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[3,];tblBuyInStockDet_Price=[3,];tblBuyInStockDet_Amount=[9,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[3,];tblBuyInStockDet_DisBackAmt=[9,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[3,];tblBuyInStockDet_TaxAmount=[9,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[3,];tblBuyInStockDet_CurAmount=[9,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 16:17:02,960 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 16:17:02,988 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 1:0.0
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 2:
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 3:8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 4:-1
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 5:finish
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 6:0.0
 [DEBUG] 2017-12-22 16:17:02,989 Line:5853 7:0
 [DEBUG] 2017-12-22 16:17:02,990 Line:5853 8:0.0
 [DEBUG] 2017-12-22 16:17:02,990 Line:5853 9:BI1712220007
 [DEBUG] 2017-12-22 16:17:02,990 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 16:17:02,990 Line:5853 11:00003
 [DEBUG] 2017-12-22 16:17:02,990 Line:5853 12:00101
 [DEBUG] 2017-12-22 16:17:02,990 Line:5853 13:1
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 14:00001
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 15:3
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 16:0.0
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 17:0.0
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 18:0.0
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 19:0.0
 [DEBUG] 2017-12-22 16:17:02,991 Line:5853 20:
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 21:0.0
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 22:0.0
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 23:0.0
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 24:
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 25:0.0
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 26:0.0
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 27:0.0
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 28:
 [DEBUG] 2017-12-22 16:17:02,992 Line:5853 29:12
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 30:12
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 31:2017
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 32:
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 33:0.0
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 34:0.0
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 35:0.0
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 36:
 [DEBUG] 2017-12-22 16:17:02,993 Line:5853 37:
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 38:
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 39:0.0
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 40:0.0
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 41:
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 42:
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 43:100.0
 [DEBUG] 2017-12-22 16:17:02,994 Line:5853 44:0.0
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 45:0.0
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 46:
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 47:1.0
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 48:9.0
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 49:9.0
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 50:0.0
 [DEBUG] 2017-12-22 16:17:02,995 Line:5853 51:9.0
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 52:
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 53:
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 54:0.0
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 55:0.0
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 56:0.0
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 57:0
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 58:00001
 [DEBUG] 2017-12-22 16:17:02,996 Line:5853 59:0
 [DEBUG] 2017-12-22 16:17:02,997 Line:5853 60:2017-12-22 16:17:02
 [DEBUG] 2017-12-22 16:17:02,997 Line:5853 61:1
 [DEBUG] 2017-12-22 16:17:02,997 Line:5853 62:2017-12-22 16:17:02
 [DEBUG] 2017-12-22 16:17:02,997 Line:5853 63:1
 [DEBUG] 2017-12-22 16:17:02,997 Line:5853 64:2017-12-22 16:17:02
 [DEBUG] 2017-12-22 16:17:03,075 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 16:17:03,075 Line:5853 1:8403a185_1712221617030750003
 [DEBUG] 2017-12-22 16:17:03,075 Line:5853 2:8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,075 Line:5853 3:
 [DEBUG] 2017-12-22 16:17:03,076 Line:5853 4:
 [DEBUG] 2017-12-22 16:17:03,076 Line:5853 5:
 [DEBUG] 2017-12-22 16:17:03,076 Line:5853 6:
 [DEBUG] 2017-12-22 16:17:03,076 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 16:17:03,076 Line:5853 8:
 [DEBUG] 2017-12-22 16:17:03,076 Line:5853 9:
 [DEBUG] 2017-12-22 16:17:03,077 Line:5853 10:
 [DEBUG] 2017-12-22 16:17:03,077 Line:5853 11:
 [DEBUG] 2017-12-22 16:17:03,077 Line:5853 12:
 [DEBUG] 2017-12-22 16:17:03,077 Line:5853 13:
 [DEBUG] 2017-12-22 16:17:03,077 Line:5853 14:
 [DEBUG] 2017-12-22 16:17:03,077 Line:5853 15:3.0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 16:3.0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 17:9.0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 18:0.0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 19:0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 20:0.0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 21:0.0
 [DEBUG] 2017-12-22 16:17:03,078 Line:5853 22:0.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 23:100.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 24:3.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 25:9.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 26:0.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 27:3.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 28:9.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 29:0.0
 [DEBUG] 2017-12-22 16:17:03,079 Line:5853 30:3.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 31:9.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 32:0.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 33:0.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 34:0.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 35:0.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 36:0.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 37:
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 38:0.0
 [DEBUG] 2017-12-22 16:17:03,080 Line:5853 39:0.0
 [DEBUG] 2017-12-22 16:17:03,081 Line:5853 40:0.0
 [DEBUG] 2017-12-22 16:17:03,081 Line:5853 41:0.0
 [DEBUG] 2017-12-22 16:17:03,081 Line:5853 42:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 43:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 44:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 45:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 46:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 47:0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 48:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 49:0.0
 [DEBUG] 2017-12-22 16:17:03,082 Line:5853 50:0
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 51:
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 52:0.0
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 53:0.0
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 54:0.0
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 55:0
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 56:0
 [DEBUG] 2017-12-22 16:17:03,083 Line:5853 57:
 [DEBUG] 2017-12-22 16:17:03,084 Line:5853 58:0.0
 [DEBUG] 2017-12-22 16:17:03,084 Line:5853 59:0.0
 [DEBUG] 2017-12-22 16:17:03,084 Line:5853 60:
 [DEBUG] 2017-12-22 16:17:03,084 Line:5853 61:0.0
 [DEBUG] 2017-12-22 16:17:03,084 Line:5853 62:00001
 [DEBUG] 2017-12-22 16:17:03,305 Line:313 exeCondition:tblBuyInStock_Add :9 < 0
 [DEBUG] 2017-12-22 16:17:03,549 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,550 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 16:17:03,554 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,555 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 16:17:03,556 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,556 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 16:17:03,557 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,557 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 16:17:03,558 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,558 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 16:17:03,559 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,559 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 16:17:03,560 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,561 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 16:17:03,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,561 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,562 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 16:17:03,564 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 16:17:03,565 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:17:03,566 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,566 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 16:17:03,566 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,566 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,566 Line:988 2值：00003
 [DEBUG] 2017-12-22 16:17:03,570 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:17:03,570 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:17:03,571 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,571 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 16:17:03,572 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,572 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,572 Line:988 2值：00003
 [DEBUG] 2017-12-22 16:17:03,577 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 16:17:03,577 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:17:03,578 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,578 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 16:17:03,578 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,579 Line:988 1值：false
 [DEBUG] 2017-12-22 16:17:03,579 Line:988 2值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,583 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 16:17:03,583 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:17:03,583 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 16:17:03,584 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,584 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 16:17:03,585 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,585 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,590 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 16:17:03,590 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,591 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,591 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 16:17:03,591 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,591 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,594 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 16:17:03,594 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,595 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,595 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 16:17:03,596 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,596 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,599 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:17:03,599 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,600 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,600 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 16:17:03,600 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,600 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,605 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:17:03,605 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,607 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,608 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,610 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,610 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 16:17:03,610 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,611 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,617 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-12-22 16:17:03,618 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,619 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,619 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 16:17:03,622 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,622 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 16:17:03,622 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,622 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,625 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 16:17:03,625 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,626 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,626 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 16:17:03,626 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,627 Line:988 1值：9
 [DEBUG] 2017-12-22 16:17:03,627 Line:988 2值：0
 [DEBUG] 2017-12-22 16:17:03,627 Line:988 3值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,636 Line:1025 query condition columnName:SumDetAmt----value:9.0
 [DEBUG] 2017-12-22 16:17:03,636 Line:1025 query condition columnName:sumMainAmt----value:9.0
 [DEBUG] 2017-12-22 16:17:03,636 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-22 16:17:03,636 Line:313 exeCondition:tblBuyInStock_Add :9.0!=9.0
 [DEBUG] 2017-12-22 16:17:03,638 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,638 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 16:17:03,638 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,639 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,648 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-12-22 16:17:03,648 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,649 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,651 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 16:17:03,651 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,652 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,654 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 16:17:03,655 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:17:03,656 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,656 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 16:17:03,657 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,657 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,660 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:17:03,660 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 16:17:03,661 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,661 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 16:17:03,661 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,662 Line:988 1值：
 [DEBUG] 2017-12-22 16:17:03,662 Line:988 2值：00001
 [DEBUG] 2017-12-22 16:17:03,664 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 16:17:03,664 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 16:17:03,664 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:03,665 Line:988 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,665 Line:988 2值：
 [DEBUG] 2017-12-22 16:17:03,665 Line:988 3值：
 [DEBUG] 2017-12-22 16:17:03,665 Line:988 4值：
 [DEBUG] 2017-12-22 16:17:03,668 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:17:03,669 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 16:17:03,670 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,671 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:17:03,672 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,672 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 16:17:03,674 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,675 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 16:17:03,677 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,677 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 16:17:03,678 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,679 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 16:17:03,679 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 16:17:03,680 Line:1157 2值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,683 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,683 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 16:17:03,683 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 16:17:03,684 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 16:17:03,684 Line:1157 2值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,684 Line:1157 3值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,690 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,690 Line:229 ************上述语句执行时间：7
 [DEBUG] 2017-12-22 16:17:03,690 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 16:17:03,691 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,691 Line:1157 2值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,695 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,695 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 16:17:03,696 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 16:17:03,696 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,698 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,698 Line:229 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 16:17:03,699 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 16:17:03,699 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,703 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,703 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 16:17:03,703 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 16:17:03,704 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,704 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 16:17:03,704 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,705 Line:1157 2值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,708 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,708 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 16:17:03,709 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 16:17:03,709 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,710 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 16:17:03,710 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,711 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 16:17:03,711 Line:1270 8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,711 Line:1270 add
 [DEBUG] 2017-12-22 16:17:03,804 Line:425 ************上述语句执行时间：94
 [DEBUG] 2017-12-22 16:17:03,804 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 16:17:03,805 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,805 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 16:17:03,806 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,815 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 16:17:03,815 Line:408 ************上述语句执行时间：10
 [DEBUG] 2017-12-22 16:17:03,816 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 16:17:03,816 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,829 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 16:17:03,829 Line:408 ************上述语句执行时间：13
 [DEBUG] 2017-12-22 16:17:03,829 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 16:17:03,830 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,831 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 16:17:03,831 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,832 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 16:17:03,833 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,857 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 16:17:03,859 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,859 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 16:17:03,860 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,860 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 16:17:03,861 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,861 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 16:17:03,862 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,862 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 16:17:03,864 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:03,864 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:17:03,865 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,865 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 16:17:03,865 Line:1157 1值：8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,868 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 16:17:03,868 Line:408 ************上述语句执行时间：3
 [DEBUG] 2017-12-22 16:17:03,869 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:17:03,871 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,872 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 16:17:03,872 Line:1270 8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,872 Line:1270 add
 [DEBUG] 2017-12-22 16:17:03,927 Line:425 ************上述语句执行时间：55
 [DEBUG] 2017-12-22 16:17:03,927 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 16:17:03,928 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:03,928 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 16:17:03,929 Line:1270 12
 [DEBUG] 2017-12-22 16:17:03,929 Line:1270 2017
 [DEBUG] 2017-12-22 16:17:03,929 Line:1270 12
 [DEBUG] 2017-12-22 16:17:03,929 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 16:17:03,930 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 16:17:03,930 Line:1270 8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:03,930 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 16:17:03,930 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 16:17:03,930 Line:1270 BI1712220007
 [DEBUG] 2017-12-22 16:17:03,931 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 16:17:03,931 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 16:17:03,931 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 16:17:03,931 Line:1270 1
 [DEBUG] 2017-12-22 16:17:03,931 Line:1270 1
 [DEBUG] 2017-12-22 16:17:03,932 Line:1270 2017-12-22 16:17:02
 [DEBUG] 2017-12-22 16:17:03,932 Line:1270 2017-12-22 16:17:02
 [DEBUG] 2017-12-22 16:17:03,932 Line:1270 00001
 [DEBUG] 2017-12-22 16:17:03,932 Line:1270 
 [DEBUG] 2017-12-22 16:17:03,932 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 16:17:03,933 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 16:17:03,933 Line:1270 00003
 [DEBUG] 2017-12-22 16:17:03,933 Line:1270 1
 [DEBUG] 2017-12-22 16:17:03,933 Line:1270 00101
 [DEBUG] 2017-12-22 16:17:03,933 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 16:17:03,934 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 16:17:03,934 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 16:17:03,934 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 16:17:03,934 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 16:17:03,934 Line:1270 0
 [DEBUG] 2017-12-22 16:17:03,935 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 16:17:03,935 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 16:17:03,935 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 16:17:03,936 Line:1270 f_ref='8403a185_1712221617029800002'
 [DEBUG] 2017-12-22 16:17:04,114 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'8403a185_1712221617029800002','2017-12-22','BI1712220007','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 16:17:02','2017-12-22 16:17:02','00001' from tblBuyInStockDet where f_ref='8403a185_1712221617029800002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 16:17:04,114 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 16:17:04,114 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 16:17:04,114 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 16:17:04,114 Line:425 ************上述语句执行时间：186
 [DEBUG] 2017-12-22 16:17:04,115 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 16:17:04,115 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,116 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:17:04,116 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:04,117 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 16:17:04,117 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:04,118 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-12-22 16:17:04,118 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 16:17:04,119 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,119 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 16:17:04,120 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,120 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-22 16:17:04,120 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,121 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 16:17:04,121 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:04,121 Line:988 1值：9
 [DEBUG] 2017-12-22 16:17:04,121 Line:988 2值：0
 [DEBUG] 2017-12-22 16:17:04,121 Line:988 3值：9
 [DEBUG] 2017-12-22 16:17:04,121 Line:988 4值：0
 [DEBUG] 2017-12-22 16:17:04,121 Line:988 5值：0
 [DEBUG] 2017-12-22 16:17:04,121 Line:988 6值：1
 [DEBUG] 2017-12-22 16:17:04,122 Line:1023 query condition columnName:RNeedPayAmt----value:9.00000000
 [DEBUG] 2017-12-22 16:17:04,123 Line:1023 query condition columnName:CRNeedPayAmt----value:9.00000000
 [DEBUG] 2017-12-22 16:17:04,123 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 16:17:04,123 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 16:17:04,123 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 16:17:04,124 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:04,199 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 16:17:04,205 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 16:17:04,221 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,235 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,247 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,259 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,277 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,292 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,320 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:17:04,343 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 16:17:04,559 Line:434 ************上述语句执行时间：435
 [DEBUG] 2017-12-22 16:17:04,559 Line:313 exeCondition:tblBuyInStock_Add_One :9>0
 [DEBUG] 2017-12-22 16:17:04,561 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:04,562 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 16:17:04,562 Line:1270 18403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:04,562 Line:1270 00003
 [DEBUG] 2017-12-22 16:17:04,563 Line:1270 1
 [DEBUG] 2017-12-22 16:17:04,563 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 16:17:04,563 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=9@SPFieldLink:RelationDocID=8403a185_1712221617029800002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=9@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 16:17:02@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 16:17:02@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220007@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 16:17:04,656 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('18403a185_1712221617029800002',6,'00003','2017-12-22','12','2017','12','0','9','8403a185_1712221617029800002','','1','0','9','1','2017-12-22 16:17:02','1','2017-12-22 16:17:02','00001','tblBuyInStock','BI1712220007','1','00101','0','')
 [DEBUG] 2017-12-22 16:17:04,657 Line:425 ************上述语句执行时间：96
 [DEBUG] 2017-12-22 16:17:04,657 Line:313 exeCondition:tblBuyInStock_Add_One :9.00000000<0 && 9>0 && 'true'=='false'
 [DEBUG] 2017-12-22 16:17:04,659 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,659 Line:313 exeCondition:tblBuyInStock_Add_One :9.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 16:17:04,660 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,661 Line:313 exeCondition:tblBuyInStock_Add_One :9.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 16:17:04,662 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,662 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&9.00000000>=0
 [DEBUG] 2017-12-22 16:17:04,664 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,664 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 16:17:04,665 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,666 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 16:17:04,667 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,668 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 16:17:04,668 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:17:04,669 Line:988 1值：9
 [DEBUG] 2017-12-22 16:17:04,669 Line:988 2值：0
 [DEBUG] 2017-12-22 16:17:04,669 Line:988 3值：9
 [DEBUG] 2017-12-22 16:17:04,669 Line:988 4值：0
 [DEBUG] 2017-12-22 16:17:04,670 Line:988 5值：0
 [DEBUG] 2017-12-22 16:17:04,670 Line:988 6值：0
 [DEBUG] 2017-12-22 16:17:04,672 Line:1023 query condition columnName:RNeedPayAmt----value:9.00000000
 [DEBUG] 2017-12-22 16:17:04,672 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 16:17:04,672 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 16:17:04,672 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:17:04,673 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 16:17:04,674 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,674 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 16:17:04,675 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,676 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 16:17:04,677 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,677 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 16:17:04,678 Line:321 flag:false
 [DEBUG] 2017-12-22 16:17:04,678 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:17:04,679 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:04,680 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 16:17:04,680 Line:1270 8403a185_1712221617029800002
 [DEBUG] 2017-12-22 16:17:04,680 Line:1270 add
 [DEBUG] 2017-12-22 16:17:04,692 Line:425 ************上述语句执行时间：12
 [DEBUG] 2017-12-22 16:17:04,692 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 16:17:04,694 Line:321 flag:true
 [DEBUG] 2017-12-22 16:17:04,712 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-22 16:17:16,232 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 16:17:19,762 Line:1765 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：com.menyi.aio.web.mobile.Message类型:com.menyi.aio.web.mobile.Message@28536d4
 [DEBUG] 2017-12-22 16:17:19,762 Line:443 ************上述语句执行时间：15068
 [DEBUG] 2017-12-22 16:17:21,377 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=8403a185_1712221617029800002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 16:17:21,378 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[8403a185_1712221617029800002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 16:17:21,379 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='8403a185_1712221617029800002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-22 16:17:21,494 Line:1525  select * from  tblBuyInStockDet where f_ref = '8403a185_1712221617029800002' order by detOrderNo
 [DEBUG] 2017-12-22 16:17:21,501 Line:1525  select * from  tblBuyPayAccount where f_ref = '8403a185_1712221617029800002' order by detOrderNo
 [DEBUG] 2017-12-22 16:47:38,887 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 16:55:43,410 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-22 16:55:43,412 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-22 16:55:43,432 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.StandardContext.reload(StandardContext.java:4026)
	at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1479)
	at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1462)
	at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1646)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:328)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1374)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1546)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1556)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1524)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-22 16:55:56,176 Line:206 系统开始启动，最大内存：1792;目前总内存：440;目前空闲内存：292
 [INFO ] 2017-12-22 16:55:56,196 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-22 16:56:04,548 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-22 16:56:04,969 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-22 16:56:04,988 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-22 16:56:04,992 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-22 16:56:04,998 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-22 16:56:05,017 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-22 16:56:05,025 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-22 16:56:07,393 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 16:56:07,445 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-22 16:56:07,508 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-22 16:56:07,531 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-22 16:56:09,965 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-22 16:56:09,966 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-22 16:56:11,285 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-22 16:56:11,471 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-22 16:56:13,290 Line:538 ------Init TableInfo record:634
 [DEBUG] 2017-12-22 16:56:13,366 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-22 16:56:13,379 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-22 16:56:13,408 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-22 16:56:13,450 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-22 16:56:13,462 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-22 16:56:13,539 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-22 16:56:18,885 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-22 16:56:19,300 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-22 16:56:19,320 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-22 16:56:19,387 Line:2994 --------Init SMS Start ---------------
 [ERROR] 2017-12-22 16:56:19,868 Line:3005 --------Init MSGConnectCenter Failture-----------
 [INFO ] 2017-12-22 16:56:19,868 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-22 16:56:19,869 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-22 16:56:23,215 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-23 00:00:00
 [INFO ] 2017-12-22 16:56:23,215 Line:137 SAFE 碎片任务启动，时间2017-12-24 00:00:00
 [DEBUG] 2017-12-22 16:57:20,152 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 16:57:32,793 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-12-22 16:57:32,796 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-12-22 16:57:32,808 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-12-22 16:57:42,563 Line:206 系统开始启动，最大内存：1792;目前总内存：301;目前空闲内存：206
 [INFO ] 2017-12-22 16:57:42,796 Line:284 ===========Tomcat Port=8888
 [INFO ] 2017-12-22 16:57:50,795 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-12-22 16:57:51,149 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-12-22 16:57:51,164 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-12-22 16:57:51,169 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-12-22 16:57:51,178 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-12-22 16:57:51,196 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-12-22 16:57:51,208 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-12-22 16:57:52,432 Line:1061 ------Init Enumeration record:390
 [DEBUG] 2017-12-22 16:57:52,465 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2017-12-22 16:57:52,512 Line:1121 ------Init District record:3984
 [DEBUG] 2017-12-22 16:57:52,526 Line:1152 ------Init deptMap record:1
 [DEBUG] 2017-12-22 16:57:53,711 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-12-22 16:57:53,711 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-12-22 16:57:54,416 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-12-22 16:57:54,540 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-12-22 16:57:55,617 Line:538 ------Init TableInfo record:634
 [DEBUG] 2017-12-22 16:57:55,653 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-12-22 16:57:55,661 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-12-22 16:57:55,675 Line:775 ------Init initModuleField record:0
 [DEBUG] 2017-12-22 16:57:55,690 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-12-22 16:57:55,696 Line:721 ------Init TableInfo record:26
 [DEBUG] 2017-12-22 16:57:55,734 Line:891 ------Init PropInfo record:7
 [DEBUG] 2017-12-22 16:58:01,864 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-12-22 16:58:02,265 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-12-22 16:58:02,286 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-12-22 16:58:02,347 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-12-22 16:58:03,076 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-12-22 16:58:03,077 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-12-22 16:58:06,054 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-23 00:00:00
 [INFO ] 2017-12-22 16:58:06,055 Line:137 SAFE 碎片任务启动，时间2017-12-24 00:00:00
 [DEBUG] 2017-12-22 16:58:10,929 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 16:58:10,932 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2017-12-22 16:58:10,933 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2017-12-22 16:58:11,486 Line:5227 GlobalsTool.js 生成js 时间67:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:58:11,537 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-12-22 16:58:11,538 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-12-22 16:58:11,984 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1513933091958
 [DEBUG] 2017-12-22 16:58:12,009 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1513933091958,];
 [DEBUG] 2017-12-22 16:58:12,237 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-12-22 16:58:12,238 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-12-22 16:58:13,769 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1513933093769
 [DEBUG] 2017-12-22 16:58:13,769 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1513933093769,];
 [DEBUG] 2017-12-22 16:58:13,840 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1513933093840
 [DEBUG] 2017-12-22 16:58:13,840 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1513933093840,];
 [DEBUG] 2017-12-22 16:58:13,927 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-12-22 16:58:13,927 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2017-12-22 16:58:13,993 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-12-22 16:58:14,026 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-12-22 16:58:14,161 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-12-22 16:58:14,161 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-12-22 16:58:14,171 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:58:14,452 Line:5227 GlobalsTool.js 生成js 时间40:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:58:14,680 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-12-22 16:58:14,680 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-12-22 16:58:14,680 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:58:14,681 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-12-22 16:58:14,682 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:58:14,709 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-12-22 16:58:14,709 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:58:14,710 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:58:14,732 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-12-22 16:58:14,735 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:58:14,736 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:58:14,755 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-12-22 16:58:14,756 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-12-22 16:58:14,757 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-12-22 16:58:16,969 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2017-12-22 16:58:16,970 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-12-22 16:58:16,971 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2017-12-22 16:58:18,077 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 16:58:18,103 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 16:58:18,156 Line:689 通过SQL读原始数据：53
 [DEBUG] 2017-12-22 16:58:18,163 Line:1391 整理数据：6
 [DEBUG] 2017-12-22 16:58:18,938 Line:5227 GlobalsTool.js 生成js 时间201:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:58:19,184 Line:5227 GlobalsTool.js 生成js 时间245:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 16:58:21,173 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblBuyInStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 16:58:21,174 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 16:58:21,500 Line:5227 GlobalsTool.js 生成js 时间11:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:58:22,405 Line:5227 GlobalsTool.js 生成js 时间904:/js/gen/define.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2017-12-22 16:58:26,269 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 16:58:26,270 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 16:58:26,350 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Supplier&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 16:58:26,350 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=CompanyCode&operation=22&BillDate=2017-12-22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 16:58:26,350 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Supplier,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 16:58:26,351 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2017-12-22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 16:58:26,351 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('1','3') order by ComNumber
 [DEBUG] 2017-12-22 16:58:26,401 Line:3434 DynDBManager.popSelect selectName=ProviderInVoiceWithPayDate; sql=select * from (select tblCompany.classCode f1 ,(case when isnull(tblCompany.Discount,0)=0 then 100 else isnull(tblCompany.Discount,0) end) f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2017-12-22'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=1 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 16:58:26,603 Line:5227 GlobalsTool.js 生成js 时间22:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:58:26,625 Line:5227 GlobalsTool.js 生成js 时间22:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2017-12-22 16:58:29,927 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-12-22 16:58:29,928 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-12-22 16:58:29,956 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 16:58:29,956 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 16:58:29,956 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=41&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-12-22 16:58:29,957 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2017-12-22 16:58:29,958 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[41,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 16:58:29,965 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 16:58:32,185 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-12-22 16:58:32,186 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-12-22 16:58:32,223 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=41&editable=&subSql=
 [DEBUG] 2017-12-22 16:58:32,224 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[41,];editable=[,];subSql=[,];
 [DEBUG] 2017-12-22 16:58:32,224 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblBuyInStockDet&fieldName=GoodsCode&operation=22&CompanyCode=00003&tblBuyInStockDet_BuyOrderID=&tblBuyInStockDet_BuyAskPriceID=&isMain=false&src=menu&MOID=41&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2017-12-22 16:58:32,224 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2017-12-22 16:58:32,225 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblBuyInStockDet,];fieldName=[GoodsCode,];operation=[22,];CompanyCode=[00003,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];isMain=[false,];src=[menu,];MOID=[41,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2017-12-22 16:58:32,250 Line:3434 DynDBManager.popSelect selectName=GoodsBuy; sql=select * from (select (case when 'PriceNo'='Price' and isnull(tblCustomerPriceDet.BuyPrice,0)!=0 then tblCustomerPriceDet.BuyPrice else tblGoods.PreBuyPrice end) f1 ,tblGoods.classCode f2 ,tblGoodsUnit.UnitD f3 ,tblGoodsUnit.SecUnitD f4 ,tblGoods.GoodsNumber f5 ,tblGoods.GoodsFullName f6 ,tblGoods.GoodsSpec f7 ,tblGoods.BaseUnit f8 ,tblGoods.GoodsFullNamePYM f9 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName) as row_id from tblGoods left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00003') where 1=1 and 1=1  and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-12-22 16:58:37,448 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-12-22 16:58:37,450 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];ChangeAmt=[0,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];CurNeedPayAmt=[0,];InvoiceStatus=[0,];NeedPayAmt=[0,];BillNo=[BI1712220008,];BillDate=[2017-12-22,];CompanyCode=[00003,];tblCompany_ComFullName=[麦田食品,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];InVoiceType=[3,];PayAmount=[0,];ProceDureExp=[0,];AccAmt=[0,];FactOutcome=[0,];freightAcc=[,];freightAmount=[0,];AlreadyPayAmt=[0,];DiscountAmount=[0,];Currency=[,];CurAlrPayAmt=[0,];CurDiscountAmount=[0,];CurProceDureExp=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];CurBackAmount=[0,];BuyAskPriceID=[,];BuyOrderID=[,];BuyOrderNo=[,];CurAlreadyPayAmt=[0,];BackAmount=[0,];CheckPersont=[,];TrackNo=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];PayDate=[,];CurrencyRate=[1,];TotalAmount=[16,];TotalTaxAmount=[16,];TotalCoTaxAmt=[0,];CurTotalAmount=[16,];CertificateNo=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];finishTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];createBy=[,];createTime=[,];tblBuyInStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyPayAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblBuyInStockDet_tblGoods_GoodsNumber=[bl0001,];tblBuyInStockDet_tblGoods_GoodsFullName=[叉烧包,];tblBuyInStockDet_tblGoods_GoodsSpec=[,];tblBuyInStockDet_tblGoods_BaseUnit=[,];tblBuyInStockDet_Qty=[4,];tblBuyInStockDet_Price=[4,];tblBuyInStockDet_Amount=[16,];tblBuyInStockDet_Remark=[,];tblBuyInStockDet_StockCode=[,];tblBuyInStockDet_BuyOrderID=[,];tblBuyInStockDet_BuyAskPriceID=[,];tblBuyInStockDet_SalesOutID=[,];tblBuyInStockDet_GoodsCode=[0000300001,];tblBuyInStockDet_BatchNo=[,];tblBuyInStockDet_Inch=[,];tblBuyInStockDet_Hue=[,];tblBuyInStockDet_yearNO=[,];tblBuyInStockDet_ProDate=[,];tblBuyInStockDet_Availably=[,];tblBuyInStockDet_Seq=[,];tblBuyInStockDet_Discount=[100,];tblBuyInStockDet_DisPrice=[4,];tblBuyInStockDet_DisBackAmt=[16,];tblBuyInStockDet_DisAmount=[0,];tblBuyInStockDet_TaxPrice=[4,];tblBuyInStockDet_TaxAmount=[16,];tblBuyInStockDet_CoTaxAmt=[0,];tblBuyInStockDet_CurPrice=[4,];tblBuyInStockDet_CurAmount=[16,];tblBuyInStockDet_ApportionAmt=[,];tblBuyInStockDet_SourceID=[,];tblBuyInStockDet_InvoiceAmount=[0,];tblBuyInStockDet_PresentSampleType=[,];tblBuyInStockDet_NotPayQty=[,];tblBuyInStockDet_PayQty=[,];tblBuyInStockDet_SecQty=[0,];tblBuyInStockDet_BaseQty=[0,];tblBuyInStockDet_CheckBarCode=[,];tblBuyInStockDet_BackPayQty=[,];tblBuyInStockDet_PreferAmount=[,];tblBuyInStockDet_detsId=[,];tblBuyPayAccount_Paytype=[1,];tblBuyPayAccount_tblAccTypeInfo_AccName=[,];tblBuyPayAccount_Amount=[0,];tblBuyPayAccount_Remark=[,];tblBuyPayAccount_Account=[,];tblBuyPayAccount_ExeBalFcAmt=[,];tblBuyPayAccount_detsId=[,];Remark=[,];
 [DEBUG] 2017-12-22 16:58:37,451 Line:3843 添加单据desingId=null工作流designId=eae3edac_0906121936579370110
 [DEBUG] 2017-12-22 16:58:37,482 Line:5847  INSERT INTO  tblBuyInStock(ChangeAmt,checkPersons,id,workFlowNode,workFlowNodeName,CurNeedPayAmt,InvoiceStatus,NeedPayAmt,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,InVoiceType,PayAmount,ProceDureExp,AccAmt,FactOutcome,freightAcc,freightAmount,AlreadyPayAmt,DiscountAmount,Currency,CurAlrPayAmt,CurDiscountAmount,CurProceDureExp,ProjectCode,Period,PeriodMonth,PeriodYear,Remark,InvoiceAmount,NoInvoiceAmount,CurBackAmount,BuyAskPriceID,BuyOrderID,BuyOrderNo,CurAlreadyPayAmt,BackAmount,CheckPersont,TrackNo,Discount,DisAmount,Tax,PayDate,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,finishTime,lastUpdateBy,lastUpdateTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 1:0.0
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 2:
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 3:eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 4:-1
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 5:finish
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 6:0.0
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 7:0
 [DEBUG] 2017-12-22 16:58:37,483 Line:5853 8:0.0
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 9:BI1712220008
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 10:2017-12-22
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 11:00003
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 12:00101
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 13:1
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 14:00001
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 15:3
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 16:0.0
 [DEBUG] 2017-12-22 16:58:37,484 Line:5853 17:0.0
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 18:0.0
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 19:0.0
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 20:
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 21:0.0
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 22:0.0
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 23:0.0
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 24:
 [DEBUG] 2017-12-22 16:58:37,485 Line:5853 25:0.0
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 26:0.0
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 27:0.0
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 28:
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 29:12
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 30:12
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 31:2017
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 32:
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 33:0.0
 [DEBUG] 2017-12-22 16:58:37,486 Line:5853 34:0.0
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 35:0.0
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 36:
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 37:
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 38:
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 39:0.0
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 40:0.0
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 41:
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 42:
 [DEBUG] 2017-12-22 16:58:37,487 Line:5853 43:100.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 44:0.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 45:0.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 46:
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 47:1.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 48:16.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 49:16.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 50:0.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 51:16.0
 [DEBUG] 2017-12-22 16:58:37,488 Line:5853 52:
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 53:
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 54:0.0
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 55:0.0
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 56:0.0
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 57:0
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 58:00001
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 59:0
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 60:2017-12-22 16:58:37
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 61:1
 [DEBUG] 2017-12-22 16:58:37,489 Line:5853 62:2017-12-22 16:58:37
 [DEBUG] 2017-12-22 16:58:37,490 Line:5853 63:1
 [DEBUG] 2017-12-22 16:58:37,490 Line:5853 64:2017-12-22 16:58:37
 [DEBUG] 2017-12-22 16:58:37,583 Line:5847  INSERT INTO  tblBuyInStockDet(id,f_ref,StockCode,BuyOrderID,BuyAskPriceID,SalesOutID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Seq,Qty,Price,Amount,freightAmount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,PreferBackAmount,BackAmt,ApportionAmt,PrePayAmt,PayAmt,SourceID,TotalPayAmt,CurPayAmt,CurPrePayAmt,CurTotalPayAmt,BackQty,FactInQty,NoInvoiceAmount,NotInvoiceQty,InQty,InStatus,InvoiceAmount,InvoiceQty,InvoiceStatus,PresentSampleType,NeedPayAmt,NotPayQty,PayQty,SecQty,BaseQty,CheckBarCode,BackPayQty,PreferAmount,Remark,CurNeedPayAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-12-22 16:58:37,583 Line:5853 1:eeef07c5_1712221658375830003
 [DEBUG] 2017-12-22 16:58:37,583 Line:5853 2:eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:37,583 Line:5853 3:
 [DEBUG] 2017-12-22 16:58:37,583 Line:5853 4:
 [DEBUG] 2017-12-22 16:58:37,584 Line:5853 5:
 [DEBUG] 2017-12-22 16:58:37,584 Line:5853 6:
 [DEBUG] 2017-12-22 16:58:37,584 Line:5853 7:0000300001
 [DEBUG] 2017-12-22 16:58:37,584 Line:5853 8:
 [DEBUG] 2017-12-22 16:58:37,584 Line:5853 9:
 [DEBUG] 2017-12-22 16:58:37,584 Line:5853 10:
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 11:
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 12:
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 13:
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 14:
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 15:4.0
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 16:4.0
 [DEBUG] 2017-12-22 16:58:37,585 Line:5853 17:16.0
 [DEBUG] 2017-12-22 16:58:37,586 Line:5853 18:0.0
 [DEBUG] 2017-12-22 16:58:37,586 Line:5853 19:0
 [DEBUG] 2017-12-22 16:58:37,586 Line:5853 20:0.0
 [DEBUG] 2017-12-22 16:58:37,586 Line:5853 21:0.0
 [DEBUG] 2017-12-22 16:58:37,586 Line:5853 22:0.0
 [DEBUG] 2017-12-22 16:58:37,586 Line:5853 23:100.0
 [DEBUG] 2017-12-22 16:58:37,587 Line:5853 24:4.0
 [DEBUG] 2017-12-22 16:58:37,587 Line:5853 25:16.0
 [DEBUG] 2017-12-22 16:58:37,587 Line:5853 26:0.0
 [DEBUG] 2017-12-22 16:58:37,587 Line:5853 27:4.0
 [DEBUG] 2017-12-22 16:58:37,587 Line:5853 28:16.0
 [DEBUG] 2017-12-22 16:58:37,587 Line:5853 29:0.0
 [DEBUG] 2017-12-22 16:58:37,588 Line:5853 30:4.0
 [DEBUG] 2017-12-22 16:58:37,588 Line:5853 31:16.0
 [DEBUG] 2017-12-22 16:58:37,588 Line:5853 32:0.0
 [DEBUG] 2017-12-22 16:58:37,588 Line:5853 33:0.0
 [DEBUG] 2017-12-22 16:58:37,588 Line:5853 34:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 35:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 36:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 37:
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 38:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 39:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 40:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 41:0.0
 [DEBUG] 2017-12-22 16:58:37,589 Line:5853 42:0.0
 [DEBUG] 2017-12-22 16:58:37,590 Line:5853 43:0.0
 [DEBUG] 2017-12-22 16:58:37,590 Line:5853 44:0.0
 [DEBUG] 2017-12-22 16:58:37,590 Line:5853 45:0.0
 [DEBUG] 2017-12-22 16:58:37,590 Line:5853 46:0.0
 [DEBUG] 2017-12-22 16:58:37,590 Line:5853 47:0
 [DEBUG] 2017-12-22 16:58:37,590 Line:5853 48:0.0
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 49:0.0
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 50:0
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 51:
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 52:0.0
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 53:0.0
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 54:0.0
 [DEBUG] 2017-12-22 16:58:37,591 Line:5853 55:0
 [DEBUG] 2017-12-22 16:58:37,592 Line:5853 56:0
 [DEBUG] 2017-12-22 16:58:37,592 Line:5853 57:
 [DEBUG] 2017-12-22 16:58:37,593 Line:5853 58:0.0
 [DEBUG] 2017-12-22 16:58:37,593 Line:5853 59:0.0
 [DEBUG] 2017-12-22 16:58:37,593 Line:5853 60:
 [DEBUG] 2017-12-22 16:58:37,593 Line:5853 61:0.0
 [DEBUG] 2017-12-22 16:58:37,593 Line:5853 62:00001
 [DEBUG] 2017-12-22 16:58:37,835 Line:313 exeCondition:tblBuyInStock_Add :16 < 0
 [DEBUG] 2017-12-22 16:58:38,129 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,130 Line:313 exeCondition:tblBuyInStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2017-12-22 16:58:38,132 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,132 Line:313 exeCondition:tblBuyInStock_Add :0 < 0
 [DEBUG] 2017-12-22 16:58:38,133 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,134 Line:313 exeCondition:tblBuyInStock_Add :0>0&&''.length==0
 [DEBUG] 2017-12-22 16:58:38,135 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,135 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 16:58:38,136 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,137 Line:313 exeCondition:tblBuyInStock_Add :''.length>0
 [DEBUG] 2017-12-22 16:58:38,137 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,138 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 16:58:38,138 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,139 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblBuyOrder a,tblBuyInStockDet b where b.f_ref=? and b.BuyOrderID=a.id and a.BillDate>?
 [DEBUG] 2017-12-22 16:58:38,139 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,140 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,140 Line:988 2值：2017-12-22
 [DEBUG] 2017-12-22 16:58:38,143 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:58:38,143 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:58:38,145 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,146 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyOrder a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 16:58:38,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,146 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,146 Line:988 2值：00003
 [DEBUG] 2017-12-22 16:58:38,150 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:58:38,151 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:58:38,152 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,152 Line:921 自定义执行的语句显示： tblBuyInStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblBuyAskPrice a,tblBuyInStockDet b,tblCompany c where b.f_ref=? and b.BuyAskPriceID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2017-12-22 16:58:38,152 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,152 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,153 Line:988 2值：00003
 [DEBUG] 2017-12-22 16:58:38,157 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,157 Line:313 exeCondition:tblBuyInStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:58:38,158 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,159 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select count(0) NoQuote from tblBuyInStockDet a left join tblBuyOrderDet b on isnull(a.BuyOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2017-12-22 16:58:38,159 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,159 Line:988 1值：false
 [DEBUG] 2017-12-22 16:58:38,159 Line:988 2值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,168 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2017-12-22 16:58:38,168 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-12-22 16:58:38,168 Line:313 exeCondition:tblBuyInStock_Add :0>0
 [DEBUG] 2017-12-22 16:58:38,169 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,169 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblBuyOrder.BillNo as BuyOrderID from tblBuyInStock left join tblBuyInStockDet on tblBuyInStock.id=tblBuyInStockDet.f_ref left join tblBuyOrderDet on tblBuyOrderDet.id=tblBuyInStockDet.SourceID inner join tblBuyOrder on tblBuyOrder.id=tblBuyOrderDet.f_ref where tblBuyInStockDet.f_ref=? and tblBuyInStock.InVoiceType!=tblBuyOrder.InVoiceType
 [DEBUG] 2017-12-22 16:58:38,169 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,169 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,175 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 16:58:38,176 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,177 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,178 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 16:58:38,179 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,179 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,183 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,183 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,184 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,184 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Qty,0)<=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=?
 [DEBUG] 2017-12-22 16:58:38,184 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,185 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,188 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:58:38,188 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,189 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,189 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblBuyInStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2017-12-22 16:58:38,189 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,190 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,194 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,195 Line:313 exeCondition:tblBuyInStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,197 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,197 Line:313 exeCondition:tblBuyInStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,199 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,200 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblBuyInStockDet,tblGoods where isnull(tblBuyInStockDet.Price,0)!=0 and tblGoods.classCode=tblBuyInStockDet.GoodsCode and f_ref=? and tblBuyInStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2017-12-22 16:58:38,200 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,200 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,205 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,206 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,207 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,207 Line:313 exeCondition:tblBuyInStock_Add :false==true
 [DEBUG] 2017-12-22 16:58:38,208 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,208 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select 'disCountError' as disCountError from tblBuyInStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2017-12-22 16:58:38,209 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,209 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,213 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,214 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,216 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,216 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select dbo.getDigits('tblBuyInStockDet','TaxAmount',sum(tblBuyInStockDet.TaxAmount)) as SumDetAmt,dbo.getDigits('tblBuyInStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblBuyInStockDet where  tblBuyInStockDet.f_ref=?
 [DEBUG] 2017-12-22 16:58:38,216 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,216 Line:988 1值：16
 [DEBUG] 2017-12-22 16:58:38,216 Line:988 2值：0
 [DEBUG] 2017-12-22 16:58:38,217 Line:988 3值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,236 Line:1025 query condition columnName:SumDetAmt----value:16.0
 [DEBUG] 2017-12-22 16:58:38,236 Line:1025 query condition columnName:sumMainAmt----value:16.0
 [DEBUG] 2017-12-22 16:58:38,237 Line:1043 ---上述语句时间---21
 [DEBUG] 2017-12-22 16:58:38,237 Line:313 exeCondition:tblBuyInStock_Add :16.0!=16.0
 [DEBUG] 2017-12-22 16:58:38,238 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,239 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select GoodsFullName as GoodsSeq from tblBuyInStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2017-12-22 16:58:38,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,239 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,255 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-12-22 16:58:38,255 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,256 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,257 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblBuyPayAccount where tblBuyPayAccount.f_ref=? and (len(isnull(tblBuyPayAccount.Account,''))>0 and isnull(tblBuyPayAccount.Amount,0)=0)
 [DEBUG] 2017-12-22 16:58:38,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,258 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,263 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-12-22 16:58:38,264 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2017-12-22 16:58:38,265 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,265 Line:921 自定义执行的语句显示： tblBuyInStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblBuyPayAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2017-12-22 16:58:38,266 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,266 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,270 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,271 Line:313 exeCondition:tblBuyInStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2017-12-22 16:58:38,272 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,272 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-12-22 16:58:38,272 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,273 Line:988 1值：
 [DEBUG] 2017-12-22 16:58:38,273 Line:988 2值：00001
 [DEBUG] 2017-12-22 16:58:38,276 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-12-22 16:58:38,276 Line:921 自定义执行的语句显示： tblBuyInStock_Add :select Account as AnyAccount from tblBuyPayAccount left join tblAccTypeinfo on tblAccTypeinfo.Accnumber=tblBuyPayAccount.Account where f_ref=? and ((len(?) > 0 and tblAccTypeInfo.Currency!=?) or (len(?)=0 and len(tblAccTypeInfo.Currency)!=0))
 [DEBUG] 2017-12-22 16:58:38,276 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,277 Line:988 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,277 Line:988 2值：
 [DEBUG] 2017-12-22 16:58:38,278 Line:988 3值：
 [DEBUG] 2017-12-22 16:58:38,278 Line:988 4值：
 [DEBUG] 2017-12-22 16:58:38,284 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-12-22 16:58:38,285 Line:313 exeCondition:tblBuyInStock_Add :''.length>0 && 1 <= 0
 [DEBUG] 2017-12-22 16:58:38,288 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,288 Line:313 exeCondition:tblBuyInStock_Add :'null' != 'null'
 [DEBUG] 2017-12-22 16:58:38,289 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,289 Line:313 exeCondition:tblBuyInStock_Add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2017-12-22 16:58:38,290 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,291 Line:313 exeCondition:tblBuyInStock_Add :'false'=='true'
 [DEBUG] 2017-12-22 16:58:38,291 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,292 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 16:58:38,295 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,297 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStock set AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0,NeedPayAmt=TotalTaxAmount-PayAmount+(case when freightAcc like '2202%' then freightAmount else 0 end),CurNeedPayAmt=round(CurTotalAmount-CurAlrPayAmt+(case when freightAcc like '2202%' then freightAmount/CurrencyRate else 0 end),?),AlreadyPayAmt=PayAmount,CurAlreadyPayAmt=CurAlrPayAmt,BackAmount=0,CurBackAmount=0,CertificateNo='' where id=?
 [DEBUG] 2017-12-22 16:58:38,298 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 16:58:38,298 Line:1157 2值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,304 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,305 Line:229 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 16:58:38,305 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set PreferBackAmount=case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount=0 then 0 else round(tblBuyInStock.TotalTaxAmount*tblBuyInStockDet.TaxAmount/(tblBuyInStock.TotalTaxAmount+tblBuyInStock.DiscountAmount),?) end  FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 16:58:38,305 Line:1154 1整数 值：2
 [DEBUG] 2017-12-22 16:58:38,305 Line:1157 2值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,305 Line:1157 3值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,315 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,316 Line:229 ************上述语句执行时间：11
 [DEBUG] 2017-12-22 16:58:38,316 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set tblBuyInStockDet.PreferAmount=tblBuyInStockDet.TaxAmount-tblBuyInStockDet.PreferBackAmount FROM tblBuyInStock where tblBuyInStockDet.f_ref=? and tblBuyInstock.id=?
 [DEBUG] 2017-12-22 16:58:38,316 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,316 Line:1157 2值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,321 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,321 Line:229 ************上述语句执行时间：5
 [DEBUG] 2017-12-22 16:58:38,321 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set NoInvoiceAmount=PreferBackAmount,InvoiceAmount=0,InvoiceStatus=0,FactInQty=Qty,BackQty=0,InvoiceQty=0,NotInvoiceQty=Qty where f_ref=?
 [DEBUG] 2017-12-22 16:58:38,321 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,324 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,325 Line:229 ************上述语句执行时间：4
 [DEBUG] 2017-12-22 16:58:38,326 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set freightAmount=case when (tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)=0 then 0 else TaxAmount/(tblBuyInstock.TotalTaxAmount+tblBuyInstock.DiscountAmount)*tblBuyInstock.freightAmount end from tblBuyInstock where tblBuyInstock.id=? and f_ref=tblBuyInstock.id
 [DEBUG] 2017-12-22 16:58:38,326 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,333 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,333 Line:229 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 16:58:38,334 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2017-12-22 16:58:38,335 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,336 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set StockCode=(select StockCode from tblBuyInStock where id=?) where f_ref=?
 [DEBUG] 2017-12-22 16:58:38,336 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,336 Line:1157 2值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,344 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,344 Line:408 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 16:58:38,345 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :''.length>0
 [DEBUG] 2017-12-22 16:58:38,347 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,348 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :true
 [DEBUG] 2017-12-22 16:58:38,349 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,350 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:{call proc_BuyUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2017-12-22 16:58:38,350 Line:1270 eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,352 Line:1270 add
 [DEBUG] 2017-12-22 16:58:38,449 Line:425 ************上述语句执行时间：100
 [DEBUG] 2017-12-22 16:58:38,449 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'true'=='true'
 [DEBUG] 2017-12-22 16:58:38,450 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,451 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 16:58:38,451 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,469 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 16:58:38,470 Line:408 ************上述语句执行时间：19
 [DEBUG] 2017-12-22 16:58:38,470 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_AccBefore:update tblBuyInStockDet set ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblBuyInStock  a join tblBuyInStockDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblBuyInStockDet.id=a.id
 [DEBUG] 2017-12-22 16:58:38,470 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,483 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2017-12-22 16:58:38,483 Line:408 ************上述语句执行时间：13
 [DEBUG] 2017-12-22 16:58:38,483 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 16:58:38,484 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,484 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' != '0'
 [DEBUG] 2017-12-22 16:58:38,485 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,485 Line:313 exeCondition:tblBuyInStock_Add_AccBefore :'0' == '0' && false==false
 [DEBUG] 2017-12-22 16:58:38,486 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,505 Line:313 exeCondition:tblBuyInStock_Add_One :'PriceNo'!='PriceNo'||'false'=='true'
 [DEBUG] 2017-12-22 16:58:38,506 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,506 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 16:58:38,507 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,507 Line:313 exeCondition:tblBuyInStock_Add_One :'0' != '0'
 [DEBUG] 2017-12-22 16:58:38,507 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,508 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 16:58:38,509 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,510 Line:313 exeCondition:tblBuyInStock_Add_One :""!=""
 [DEBUG] 2017-12-22 16:58:38,512 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,513 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:58:38,513 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,514 Line:1081 自定义执行的语句显示： tblBuyInStock_Add_One:update tblBuyInStockDet set NotPayQty=Qty,PayQty=0 where f_ref=?
 [DEBUG] 2017-12-22 16:58:38,514 Line:1157 1值：eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,516 Line:1163 DefineSQLBean.execSql  define=tblBuyInStock_Add_One,  影响行数=1
 [DEBUG] 2017-12-22 16:58:38,516 Line:408 ************上述语句执行时间：2
 [DEBUG] 2017-12-22 16:58:38,517 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:58:38,517 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,518 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInPayAmort(?,?,?,?)}
 [DEBUG] 2017-12-22 16:58:38,518 Line:1270 eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,518 Line:1270 add
 [DEBUG] 2017-12-22 16:58:38,572 Line:425 ************上述语句执行时间：54
 [DEBUG] 2017-12-22 16:58:38,572 Line:313 exeCondition:tblBuyInStock_Add_One :3!=2
 [DEBUG] 2017-12-22 16:58:38,573 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,574 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertStockDetGM(@Period=?,@PeriodYear=?,@PeriodMonth=?,@GoodsCode=?,@StockCode=?,@BillID=?,@BillType=?,@BillDate=?,@BillNo=?,@InstoreQty=?,@InstorePrice=?,@InstoreAmount=?,@createBy=?,@lastUpdateBy=?,@createTime=?,@lastUpdateTime=?,@SCompanyID=?,@MRemark=?,@DRemark=?,@SourceID=?,@CompanyCode=?,@EmployeeID=?,@DepartmentCode=?,@SalesPrice=?,@SalesAmount=?,@SalesQty=?,@Amount=?,@Price=?,@DiscountAmount=?,@TrackNo=?,@PresentSampleType=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2017-12-22 16:58:38,574 Line:1270 12
 [DEBUG] 2017-12-22 16:58:38,574 Line:1270 2017
 [DEBUG] 2017-12-22 16:58:38,574 Line:1270 12
 [DEBUG] 2017-12-22 16:58:38,574 Line:1270 tblBuyInStockDet.GoodsCode
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 tblBuyInStockDet.StockCode
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 tblBuyInStock
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 BI1712220008
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 (tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 16:58:38,575 Line:1270 tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount
 [DEBUG] 2017-12-22 16:58:38,576 Line:1270 1
 [DEBUG] 2017-12-22 16:58:38,576 Line:1270 1
 [DEBUG] 2017-12-22 16:58:38,576 Line:1270 2017-12-22 16:58:37
 [DEBUG] 2017-12-22 16:58:38,576 Line:1270 2017-12-22 16:58:37
 [DEBUG] 2017-12-22 16:58:38,578 Line:1270 00001
 [DEBUG] 2017-12-22 16:58:38,578 Line:1270 
 [DEBUG] 2017-12-22 16:58:38,578 Line:1270 tblBuyInStockDet.Remark
 [DEBUG] 2017-12-22 16:58:38,578 Line:1270 tblBuyInStockDet.id
 [DEBUG] 2017-12-22 16:58:38,578 Line:1270 00003
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 1
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 00101
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 tblBuyInStockDet.TaxPrice
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 tblBuyInStockDet.TaxAmount
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 tblBuyInStockDet.Qty
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 tblBuyInStockDet.DisAmount
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 tblBuyInStockDet.DisPrice
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 0
 [DEBUG] 2017-12-22 16:58:38,579 Line:1270 tblBuyInStockDet.TrackNo
 [DEBUG] 2017-12-22 16:58:38,580 Line:1270 tblBuyInStockDet.PresentSampleType
 [DEBUG] 2017-12-22 16:58:38,580 Line:1270 tblBuyInStockDet
 [DEBUG] 2017-12-22 16:58:38,580 Line:1270 f_ref='eeef07c5_1712221658374720002'
 [DEBUG] 2017-12-22 16:58:38,768 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblBuyInStockDet.id),'eeef07c5_1712221658374720002','2017-12-22','BI1712220008','tblBuyInStock',12,2017,12,'00003','1','00101','',tblBuyInStockDet.id,tblBuyInStockDet.TrackNo,tblBuyInStockDet.Remark,tblBuyInStockDet.GoodsCode,tblBuyInStockDet.StockCode,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)),Seq,0,tblBuyInStockDet.Qty,(tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount)/tblBuyInStockDet.Qty,tblBuyInStockDet.TaxAmount+tblBuyInStockDet.freightAmount,0,0,0,0,0,0,tblBuyInStockDet.Qty,tblBuyInStockDet.TaxPrice,tblBuyInStockDet.TaxAmount,tblBuyInStockDet.DisPrice,tblBuyInStockDet.DisAmount,0,0,tblBuyInStockDet.PresentSampleType,'',0,'1','1','2017-12-22 16:58:37','2017-12-22 16:58:37','00001' from tblBuyInStockDet where f_ref='eeef07c5_1712221658374720002' order by tblBuyInStockDet.id
 [DEBUG] 2017-12-22 16:58:38,768 Line:1292 存储过程内部信息： 1
 [DEBUG] 2017-12-22 16:58:38,768 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 16:58:38,768 Line:1292 存储过程内部信息： ************
 [DEBUG] 2017-12-22 16:58:38,768 Line:425 ************上述语句执行时间：195
 [DEBUG] 2017-12-22 16:58:38,768 Line:313 exeCondition:tblBuyInStock_Add_One :3==2
 [DEBUG] 2017-12-22 16:58:38,769 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,769 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:58:38,770 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,770 Line:921 自定义执行的语句显示： validateSameSeq :select 'isUsed' as isUseSeq from tblGoodsAttribute where propName='Seq' and isUsed=1
 [DEBUG] 2017-12-22 16:58:38,771 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,772 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-12-22 16:58:38,772 Line:313 exeCondition:validateSameSeq :'null'!='null'
 [DEBUG] 2017-12-22 16:58:38,773 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,773 Line:313 exeCondition:validateSameSeq :''!=''
 [DEBUG] 2017-12-22 16:58:38,773 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,773 Line:313 exeCondition:tblBuyInStock_Add_One :'add' == 'update'
 [DEBUG] 2017-12-22 16:58:38,774 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:38,774 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(cast(? as numeric(18,8))-cast(? as numeric(18,8))) as CRNeedPayAmt,cast(? as numeric(18,8))*cast(? as numeric(18,8)) as freightAmountCur
 [DEBUG] 2017-12-22 16:58:38,774 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:38,774 Line:988 1值：16
 [DEBUG] 2017-12-22 16:58:38,775 Line:988 2值：0
 [DEBUG] 2017-12-22 16:58:38,775 Line:988 3值：16
 [DEBUG] 2017-12-22 16:58:38,775 Line:988 4值：0
 [DEBUG] 2017-12-22 16:58:38,775 Line:988 5值：0
 [DEBUG] 2017-12-22 16:58:38,775 Line:988 6值：1
 [DEBUG] 2017-12-22 16:58:38,777 Line:1023 query condition columnName:RNeedPayAmt----value:16.00000000
 [DEBUG] 2017-12-22 16:58:38,778 Line:1023 query condition columnName:CRNeedPayAmt----value:16.00000000
 [DEBUG] 2017-12-22 16:58:38,778 Line:1023 query condition columnName:freightAmountCur----value:0E-16
 [DEBUG] 2017-12-22 16:58:38,779 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-12-22 16:58:38,779 Line:313 exeCondition:tblBuyInStock_Add_One :'true'=='true'
 [DEBUG] 2017-12-22 16:58:38,780 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:38,833 Line:1361 自定义执行的语句显示： tblBuyInStock_Add_One:凭证模块--tblBuyInStock
 [DEBUG] 2017-12-22 16:58:38,837 Line:6876  DynDBManager. genCertificate 取表相关数据sql=select PeriodYear  as PeriodYear,Period  as Period, PeriodMonth as PeriodMonth,a.workFlowNodeName,CertificateNo,a.billNo,a.BillDate,a.createBy,a.createTime,a.lastUpdateBy,a.lastUpdateTime,a.SCompanyID,b.id EmployeeID,b.empFullName,a.DepartmentCode as DepartmentCode ,c.deptFullName as deptFullName, d.ComFullName as ComFullName from tblBuyInStock a left join tblEmployee b on  a.EmployeeId=b.id left join tblDepartment c on a.departmentCode=c.classCode left join tblCompany d on a.CompanyCode=d.classCode  where a.id=?
 [DEBUG] 2017-12-22 16:58:38,845 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'22210101' AccCode,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt else 0 end DebitAmount,case when (tblBuyInStock.InVoiceType=2 and tblBuyInStock.TotalCoTaxAmt>0) then tblBuyInStock.TotalCoTaxAmt/tblBuyInStock.CurrencyRate else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,851 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount else 0 end LendAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount>0 then tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,857 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'660303' AccCode,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.ProceDureExp else 0 end DebitAmount,case when tblBuyInStock.ProceDureExp>0 then tblBuyInStock.CurProceDureExp else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,865 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblBuyPayAccount.Account AccCode,0 DebitAmount,0 DebitCurrencyAmount,tblBuyPayAccount.Amount LendAmount,tblBuyPayAccount.ExeBalFcAmt LendCurrencyAmount from   tblBuyInStock join tblBuyPayAccount  on tblBuyInStock.id=tblBuyPayAccount.f_ref  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,872 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'630106' AccCode,0 DebitAmount,0 DebitCurrencyAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.DiscountAmount else 0 end LendAmount,case when tblBuyInStock.DiscountAmount!=0 then tblBuyInStock.CurDiscountAmount else 0 end LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,881 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStockDet.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,tblGoodsAccProp.AccCode AccCode,(case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt else tblBuyInStockDet.TaxAmount end)+tblBuyInStockDet.freightAmount DebitAmount,case when tblBuyInStock.InVoiceType=2 then tblBuyInStockDet.DisBackAmt/tblBuyInStock.CurrencyRate else tblBuyInStockDet.TaxAmount/tblBuyInStock.CurrencyRate end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join tblBuyInStockDet  on tblBuyInStock.id=tblBuyInStockDet.f_ref  join tblGoods on tblBuyInStockDet.GoodsCode=tblGoods.classCode  join tblGoodsAccProp on tblGoods.CostMethod=tblGoodsAccProp.id  join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,896 Line:7058  DynDBManager. genCertificate 取凭证明细数据sql=select Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate,sum(DebitAmount) DebitAmount,sum(DebitCurrencyAmount) DebitCurrencyAmount,sum(LendAmount) LendAmount,sum(LendCurrencyAmount) LendCurrencyAmount  from ( select isnull('采购入库  等 '+tblCompanyCC.ComFullName,'') Comment,isnull(tblBuyInStock.CompanyCode,'') CompanyCode,isnull(tblBuyInStock.DepartmentCode,'') DepartmentCode,isnull(tblBuyInStock.EmployeeID,'') EmployeeID,isnull(tblBuyInStock.ProjectCode,'') ProjectCode, isnull(tblBuyInStock.StockCode,'') StockCode, isnull(tblBuyInStock.Currency,'') Currency,tblBuyInStock.CurrencyRate CurrencyRate,'2202' AccCode,case when tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.TotalTaxAmount+tblBuyInStock.freightAmount-tblBuyInStock.PayAmount) else 0 end DebitAmount,case when tblBuyInStock.TotalTaxAmount-tblBuyInStock.PayAmount<0 then abs(tblBuyInStock.CurTotalAmount-tblBuyInStock.CurAlrPayAmt) else 0 end DebitCurrencyAmount,0 LendAmount,0 LendCurrencyAmount from   tblBuyInStock join  tblCompany tblCompanyCC  on tblBuyInStock.CompanyCode=tblCompanyCC.classCode   where tblBuyInStock.id=? ) detail  group by Comment,CompanyCode,DepartmentCode,EmployeeID,AccCode,ProjectCode,StockCode,Currency,CurrencyRate
 [DEBUG] 2017-12-22 16:58:38,910 Line:7182  DynDBManager. genCertificate 采购入库:tblBuyInStock取凭证明细 返回总行数=6合并后：2
 [DEBUG] 2017-12-22 16:58:39,032 Line:434 ************上述语句执行时间：252
 [DEBUG] 2017-12-22 16:58:39,032 Line:313 exeCondition:tblBuyInStock_Add_One :16>0
 [DEBUG] 2017-12-22 16:58:39,033 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:39,034 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-12-22 16:58:39,034 Line:1270 1eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:39,034 Line:1270 00003
 [DEBUG] 2017-12-22 16:58:39,034 Line:1270 1
 [DEBUG] 2017-12-22 16:58:39,034 Line:1270 2017-12-22
 [DEBUG] 2017-12-22 16:58:39,034 Line:1270 Period=12@SPFieldLink:PeriodYear=2017@SPFieldLink:PeriodMonth=12@SPFieldLink:PayTotalDebit=0@SPFieldLink:PayTotalLend=16@SPFieldLink:RelationDocID=eeef07c5_1712221658374720002@SPFieldLink:Currency=@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPayTotalDebit=0@SPFieldLink:FcPayTotalCredit=16@SPFieldLink:createBy=1@SPFieldLink:createTime=2017-12-22 16:58:37@SPFieldLink:lastUpdateBy=1@SPFieldLink:lastUpdateTime=2017-12-22 16:58:37@SPFieldLink:SCompanyID=00001@SPFieldLink:BillType=tblBuyInStock@SPFieldLink:BillNo=BI1712220008@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:DiscountAmount=0@SPFieldLink:Remark=
 [DEBUG] 2017-12-22 16:58:39,090 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,Period,PeriodYear,PeriodMonth,PayTotalDebit,PayTotalLend,RelationDocID,Currency,CurrencyRate,FcPayTotalDebit,FcPayTotalCredit,createBy,createTime,lastUpdateBy,lastUpdateTime,SCompanyID,BillType,BillNo,EmployeeID,DepartmentCode,DiscountAmount,Remark) values('1eeef07c5_1712221658374720002',7,'00003','2017-12-22','12','2017','12','0','16','eeef07c5_1712221658374720002','','1','0','16','1','2017-12-22 16:58:37','1','2017-12-22 16:58:37','00001','tblBuyInStock','BI1712220008','1','00101','0','')
 [DEBUG] 2017-12-22 16:58:39,091 Line:425 ************上述语句执行时间：57
 [DEBUG] 2017-12-22 16:58:39,091 Line:313 exeCondition:tblBuyInStock_Add_One :16.00000000<0 && 16>0 && 'true'=='false'
 [DEBUG] 2017-12-22 16:58:39,092 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,092 Line:313 exeCondition:tblBuyInStock_Add_One :16.00000000<0 && 'true'=='false'
 [DEBUG] 2017-12-22 16:58:39,094 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,095 Line:313 exeCondition:tblBuyInStock_Add_One :16.00000000<0 && 'true'=='true'
 [DEBUG] 2017-12-22 16:58:39,096 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,096 Line:313 exeCondition:tblBuyInStock_Add_One :0>0&&16.00000000>=0
 [DEBUG] 2017-12-22 16:58:39,096 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,097 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('2202')>=0
 [DEBUG] 2017-12-22 16:58:39,097 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,097 Line:313 exeCondition:tblBuyInStock_Add_One :''.indexOf('1123')>=0
 [DEBUG] 2017-12-22 16:58:39,098 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,098 Line:921 自定义执行的语句显示： tblBuyInStock_Add_One :select (cast(? as numeric(18,8))-cast(? as numeric(18,8))) as RNeedPayAmt,(case when (cast(? as numeric(18,8))-cast(? as numeric(18,8)))>=0.0 then 'Pay' else 'PrePay' end) as rePayType,(cast(? as numeric(18,8))+cast(? as numeric(18,8))) as factAmt 
 [DEBUG] 2017-12-22 16:58:39,098 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-12-22 16:58:39,098 Line:988 1值：16
 [DEBUG] 2017-12-22 16:58:39,099 Line:988 2值：0
 [DEBUG] 2017-12-22 16:58:39,099 Line:988 3值：16
 [DEBUG] 2017-12-22 16:58:39,099 Line:988 4值：0
 [DEBUG] 2017-12-22 16:58:39,099 Line:988 5值：0
 [DEBUG] 2017-12-22 16:58:39,099 Line:988 6值：0
 [DEBUG] 2017-12-22 16:58:39,100 Line:1023 query condition columnName:RNeedPayAmt----value:16.00000000
 [DEBUG] 2017-12-22 16:58:39,100 Line:1025 query condition columnName:rePayType----value:Pay
 [DEBUG] 2017-12-22 16:58:39,100 Line:1023 query condition columnName:factAmt----value:0E-8
 [DEBUG] 2017-12-22 16:58:39,101 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-12-22 16:58:39,101 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 16:58:39,101 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,101 Line:313 exeCondition:tblBuyInStock_Add_One :0>0
 [DEBUG] 2017-12-22 16:58:39,102 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,102 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 16:58:39,102 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,103 Line:313 exeCondition:tblBuyInStock_Add_One :'false'=='true'
 [DEBUG] 2017-12-22 16:58:39,103 Line:321 flag:false
 [DEBUG] 2017-12-22 16:58:39,103 Line:313 exeCondition:tblBuyInStock_Add_One :true
 [DEBUG] 2017-12-22 16:58:39,104 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:39,104 Line:1264 自定义执行的语句显示： tblBuyInStock_Add_One:{call proc_BuyInUpdateSales(?,?,?,?)}
 [DEBUG] 2017-12-22 16:58:39,104 Line:1270 eeef07c5_1712221658374720002
 [DEBUG] 2017-12-22 16:58:39,104 Line:1270 add
 [DEBUG] 2017-12-22 16:58:39,112 Line:425 ************上述语句执行时间：8
 [DEBUG] 2017-12-22 16:58:39,112 Line:313 exeCondition:tblBuyInStock_Add :true
 [DEBUG] 2017-12-22 16:58:39,113 Line:321 flag:true
 [DEBUG] 2017-12-22 16:58:39,124 Line:1753 自定义执行的语句显示： tblBuyInStock_Add: 开始执行java方法tzhive.HiveServlet.optHive(OpenPackage,http://fc.tz1288.com/fc.asmx/OpenPackage,xst9527008,2017-12-20,2018-12-20,20,bc2731782e6b86b01303d9c6d6d22ff9)
 [DEBUG] 2017-12-22 16:59:03,213 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-12-22 16:59:34,372 Line:1763 自定义执行的语句显示： tblBuyInStock_Add: 执行java方法完毕返回：void
 [DEBUG] 2017-12-22 16:59:34,373 Line:443 ************上述语句执行时间：55260
 [DEBUG] 2017-12-22 16:59:36,046 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&operation=5&keyId=eeef07c5_1712221658374720002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-12-22 16:59:36,048 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];operation=[5,];keyId=[eeef07c5_1712221658374720002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-12-22 16:59:36,050 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='eeef07c5_1712221658374720002' and  a.tableName='tblBuyInStock'
 [DEBUG] 2017-12-22 16:59:36,189 Line:1525  select * from  tblBuyInStockDet where f_ref = 'eeef07c5_1712221658374720002' order by detOrderNo
 [DEBUG] 2017-12-22 16:59:36,200 Line:1525  select * from  tblBuyPayAccount where f_ref = 'eeef07c5_1712221658374720002' order by detOrderNo
 [DEBUG] 2017-12-22 16:59:42,905 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2017-12-22 16:59:42,907 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyInStock,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购入库,];moduleName=[采购入库,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id@ParamList:2017-12-01@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id@ParamList:2017-12-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate2=[2017-12-01,];BillDate3=[,];workFlowNodeName=[all,];BillNo=[,];ComFullNamen=[,];EmpFullName=[,];DeptFullName=[,];BuyOrderNo=[,];EmpFullName2=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2017-12-22 16:59:42,947 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-12-22 16:59:42,947 Line:582 ReportDataMgt.getReportData 参数1:2017-12-01
 [DEBUG] 2017-12-22 16:59:42,972 Line:689 通过SQL读原始数据：25
 [DEBUG] 2017-12-22 16:59:42,975 Line:1391 整理数据：2
 