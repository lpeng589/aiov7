[INFO ] 2018-01-30 08:34:01,524 Line:206 系统开始启动，最大内存：1792;目前总内存：253;目前空闲内存：163
 [INFO ] 2018-01-30 08:34:01,930 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-30 08:34:14,340 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-30 08:34:14,891 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-30 08:34:14,922 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-30 08:34:14,938 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-30 08:34:14,953 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-30 08:34:14,985 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-30 08:34:15,000 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-30 08:34:19,122 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-30 08:34:19,206 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-30 08:34:19,331 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-30 08:34:19,378 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-30 08:34:23,081 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-30 08:34:23,081 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-30 08:34:25,085 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-30 08:34:25,414 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-30 08:34:28,133 Line:538 ------Init TableInfo record:644
 [DEBUG] 2018-01-30 08:34:28,223 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-30 08:34:28,239 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-30 08:34:28,270 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-30 08:34:28,333 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-30 08:34:28,348 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-30 08:34:28,458 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-30 08:34:38,537 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-30 08:34:39,209 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,225 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,225 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,225 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,240 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,240 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,240 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,256 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,256 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,319 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,381 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,459 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,615 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,629 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,629 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,629 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,692 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,692 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,708 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,708 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,708 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,723 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,770 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,864 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,864 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,864 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,879 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,879 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,879 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,958 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,958 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:39,973 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:40,098 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:40,176 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:40,301 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:40,348 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:40,348 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-30 08:34:40,411 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-30 08:34:40,442 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-30 08:34:40,551 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-30 08:34:41,333 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-30 08:34:41,333 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-30 08:34:46,485 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-30 00:00:00
 [INFO ] 2018-01-30 08:34:46,485 Line:144 SAFE 备份任务开始执行，时间2018-01-30 08:34:46
 [INFO ] 2018-01-30 08:34:46,499 Line:137 SAFE 碎片任务启动，时间2018-02-04 00:00:00
 [INFO ] 2018-01-30 08:34:55,988 Line:148 SAFE 备份任务执行成功，时间2018-01-30 08:34:55
 [DEBUG] 2018-01-30 08:35:14,408 Line:5242 GlobalsTool.js 生成js 时间233:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:35:14,681 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-30 08:35:14,686 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-30 08:35:15,362 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1517272515303
 [DEBUG] 2018-01-30 08:35:15,363 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1517272515303,];
 [DEBUG] 2018-01-30 08:35:16,282 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-30 08:35:16,283 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-30 08:35:17,108 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1517272517104
 [DEBUG] 2018-01-30 08:35:17,108 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1517272517104,];
 [DEBUG] 2018-01-30 08:35:17,416 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1517272517410
 [DEBUG] 2018-01-30 08:35:17,417 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1517272517410,];
 [DEBUG] 2018-01-30 08:35:17,741 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-30 08:35:17,742 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1218,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-30 08:35:17,927 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-30 08:35:17,978 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-30 08:35:18,366 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:35:18,367 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:35:18,489 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:35:19,366 Line:5242 GlobalsTool.js 生成js 时间124:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:35:20,406 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:35:20,406 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:35:20,408 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:35:20,408 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:35:20,414 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:35:20,479 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:35:20,480 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:35:20,483 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:35:20,528 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:35:20,529 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:35:20,532 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:35:20,576 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:35:20,578 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:35:20,581 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:35:26,337 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 08:35:26,339 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:35:26,340 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 08:35:28,096 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:35:28,142 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:35:28,143 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:35:28,286 Line:689 通过SQL读原始数据：143
 [DEBUG] 2018-01-30 08:35:28,294 Line:1391 整理数据：8
 [DEBUG] 2018-01-30 08:35:28,975 Line:5242 GlobalsTool.js 生成js 时间112:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:35:29,167 Line:5242 GlobalsTool.js 生成js 时间189:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-30 08:35:32,038 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=3bc8d2c6_1801291639365210005&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:35:32,040 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[3bc8d2c6_1801291639365210005,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:35:32,044 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='3bc8d2c6_1801291639365210005' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:35:32,270 Line:1525  select * from  tblSalesOrderDet where f_ref = '3bc8d2c6_1801291639365210005' order by detOrderNo
 [DEBUG] 2018-01-30 08:35:34,056 Line:5242 GlobalsTool.js 生成js 时间36:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:35:34,093 Line:5242 GlobalsTool.js 生成js 时间33:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:35:35,189 Line:5242 GlobalsTool.js 生成js 时间1093:/js/gen/define.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-30 08:35:41,773 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 08:38:57,272 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:38:57,273 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:38:57,275 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:38:57,777 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:38:57,779 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:38:57,824 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:38:57,826 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:38:57,828 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:38:57,863 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:38:57,864 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:38:57,866 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:38:57,886 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:38:57,887 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:38:57,889 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:38:57,917 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:38:57,918 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:38:57,921 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:39:00,130 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 08:39:00,131 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:39:00,131 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 08:39:00,271 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:39:00,273 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:39:00,275 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:39:00,587 Line:689 通过SQL读原始数据：314
 [DEBUG] 2018-01-30 08:39:00,590 Line:1391 整理数据：2
 [DEBUG] 2018-01-30 08:39:03,041 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=3bc8d2c6_1801291639365210005&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:39:03,044 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[3bc8d2c6_1801291639365210005,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:39:03,047 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='3bc8d2c6_1801291639365210005' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:39:03,190 Line:1525  select * from  tblSalesOrderDet where f_ref = '3bc8d2c6_1801291639365210005' order by detOrderNo
 [DEBUG] 2018-01-30 08:39:14,396 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:39:14,399 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:39:23,716 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:39:23,721 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300032,];BillDate=[2018-01-30,];CompanyCode=[,];tblCompany_ComFullName=[,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[0,];TotalTaxAmount=[0,];TotalCoTaxAmt=[,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:39:14,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:39:14,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[,];tblSalesOrderDet_tblGoods_GoodsFullName=[,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[,];tblSalesOrderDet_ViewVirtualStock_UseQty=[,];tblSalesOrderDet_Qty=[,];tblSalesOrderDet_Price=[,];tblSalesOrderDet_Amount=[,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[,];tblSalesOrderDet_DisBackAmt=[,];tblSalesOrderDet_DisAmount=[,];tblSalesOrderDet_TaxPrice=[,];tblSalesOrderDet_TaxAmount=[,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[,];tblSalesOrderDet_CurAmount=[,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:39:23,724 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:39:23,888 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:39:23,889 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:39:23,889 Line:5853 2:0
 [DEBUG] 2018-01-30 08:39:23,890 Line:5853 3:1b63e5ab_1801300839238480002
 [DEBUG] 2018-01-30 08:39:23,891 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:39:23,891 Line:5853 5:SO1801300032
 [DEBUG] 2018-01-30 08:39:23,892 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:39:23,892 Line:5853 7:
 [DEBUG] 2018-01-30 08:39:23,893 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:39:23,894 Line:5853 9:1
 [DEBUG] 2018-01-30 08:39:23,895 Line:5853 10:
 [DEBUG] 2018-01-30 08:39:23,895 Line:5853 11:
 [DEBUG] 2018-01-30 08:39:23,896 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:39:23,897 Line:5853 13:
 [DEBUG] 2018-01-30 08:39:23,898 Line:5853 14:
 [DEBUG] 2018-01-30 08:39:23,899 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:39:23,899 Line:5853 16:3
 [DEBUG] 2018-01-30 08:39:23,900 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:39:23,901 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:39:23,902 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:39:23,903 Line:5853 20:0
 [DEBUG] 2018-01-30 08:39:23,904 Line:5853 21:
 [DEBUG] 2018-01-30 08:39:23,904 Line:5853 22:1
 [DEBUG] 2018-01-30 08:39:23,905 Line:5853 23:1
 [DEBUG] 2018-01-30 08:39:23,906 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:39:23,907 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:39:23,908 Line:5853 26:
 [DEBUG] 2018-01-30 08:39:23,909 Line:5853 27:
 [DEBUG] 2018-01-30 08:39:23,910 Line:5853 28:
 [DEBUG] 2018-01-30 08:39:23,911 Line:5853 29:
 [DEBUG] 2018-01-30 08:39:23,912 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:39:23,913 Line:5853 31:0
 [DEBUG] 2018-01-30 08:39:23,914 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:39:23,915 Line:5853 33:
 [DEBUG] 2018-01-30 08:39:23,916 Line:5853 34:
 [DEBUG] 2018-01-30 08:39:23,917 Line:5853 35:
 [DEBUG] 2018-01-30 08:39:23,918 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:39:23,918 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:39:23,919 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:39:23,921 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:39:23,921 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:39:23,922 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:39:23,923 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:39:23,924 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:39:23,924 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:39:23,925 Line:5853 45:0.0
 [DEBUG] 2018-01-30 08:39:23,925 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:39:23,926 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:39:23,926 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:39:23,927 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:39:23,928 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:39:23,928 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:39:23,929 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:39:23,929 Line:5853 53:
 [DEBUG] 2018-01-30 08:39:23,930 Line:5853 54:1
 [DEBUG] 2018-01-30 08:39:23,930 Line:5853 55:2018-01-30 08:39:14
 [DEBUG] 2018-01-30 08:39:23,931 Line:5853 56:0
 [DEBUG] 2018-01-30 08:39:23,931 Line:5853 57:0
 [DEBUG] 2018-01-30 08:39:23,932 Line:5853 58:0
 [DEBUG] 2018-01-30 08:39:23,932 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:39:23,933 Line:5853 60:
 [DEBUG] 2018-01-30 08:39:23,934 Line:5853 61:1
 [DEBUG] 2018-01-30 08:39:23,934 Line:5853 62:2018-01-30 08:39:14
 [DEBUG] 2018-01-30 08:39:24,337 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:39:24,338 Line:1004  select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:39:24,344 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:39:24,345 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:39:24,357 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300839238480002' order by detOrderNo
 [DEBUG] 2018-01-30 08:39:24,370 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300839238480002;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:39:26,057 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300839238480002&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:39:26,057 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300839238480002,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:39:26,066 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300839238480002' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:39:26,097 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:39:26,097 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:39:26,097 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:39:26,097 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:39:26,097 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300839238480002' order by detOrderNo
 [DEBUG] 2018-01-30 08:41:45,788 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:41:45,790 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:41:45,793 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:41:46,173 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:41:46,174 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:41:46,214 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:41:46,215 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:41:46,217 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:41:46,244 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:41:46,245 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:41:46,247 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:41:46,268 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:41:46,269 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:41:46,271 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:41:46,291 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:41:46,292 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:41:46,294 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:41:48,538 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 08:41:48,539 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:41:48,540 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 08:41:48,675 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:41:48,677 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:41:48,677 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:41:48,984 Line:689 通过SQL读原始数据：308
 [DEBUG] 2018-01-30 08:41:48,991 Line:1391 整理数据：6
 [DEBUG] 2018-01-30 08:41:52,376 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:41:52,378 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:41:54,787 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:41:54,788 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:41:54,796 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:41:54,801 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300033,];BillDate=[2018-01-30,];CompanyCode=[,];tblCompany_ComFullName=[,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[0,];TotalTaxAmount=[0,];TotalCoTaxAmt=[,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:41:52,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:41:52,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[,];tblSalesOrderDet_tblGoods_GoodsFullName=[,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[,];tblSalesOrderDet_ViewVirtualStock_UseQty=[,];tblSalesOrderDet_Qty=[,];tblSalesOrderDet_Price=[,];tblSalesOrderDet_Amount=[,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[,];tblSalesOrderDet_DisBackAmt=[,];tblSalesOrderDet_DisAmount=[,];tblSalesOrderDet_TaxPrice=[,];tblSalesOrderDet_TaxAmount=[,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[,];tblSalesOrderDet_CurAmount=[,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:41:54,802 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:41:54,833 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:41:54,834 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:41:54,835 Line:5853 2:0
 [DEBUG] 2018-01-30 08:41:54,836 Line:5853 3:1b63e5ab_1801300841548240005
 [DEBUG] 2018-01-30 08:41:54,837 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:41:54,838 Line:5853 5:SO1801300033
 [DEBUG] 2018-01-30 08:41:54,838 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:41:54,839 Line:5853 7:
 [DEBUG] 2018-01-30 08:41:54,840 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:41:54,841 Line:5853 9:1
 [DEBUG] 2018-01-30 08:41:54,842 Line:5853 10:
 [DEBUG] 2018-01-30 08:41:54,843 Line:5853 11:
 [DEBUG] 2018-01-30 08:41:54,844 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:41:54,875 Line:5853 13:
 [DEBUG] 2018-01-30 08:41:54,876 Line:5853 14:
 [DEBUG] 2018-01-30 08:41:54,876 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:41:54,877 Line:5853 16:3
 [DEBUG] 2018-01-30 08:41:54,877 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:41:54,878 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:41:54,879 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:41:54,879 Line:5853 20:0
 [DEBUG] 2018-01-30 08:41:54,880 Line:5853 21:
 [DEBUG] 2018-01-30 08:41:54,880 Line:5853 22:1
 [DEBUG] 2018-01-30 08:41:54,881 Line:5853 23:1
 [DEBUG] 2018-01-30 08:41:54,881 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:41:54,882 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:41:54,882 Line:5853 26:
 [DEBUG] 2018-01-30 08:41:54,883 Line:5853 27:
 [DEBUG] 2018-01-30 08:41:54,883 Line:5853 28:
 [DEBUG] 2018-01-30 08:41:54,884 Line:5853 29:
 [DEBUG] 2018-01-30 08:41:54,885 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:41:54,885 Line:5853 31:0
 [DEBUG] 2018-01-30 08:41:54,886 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:41:54,887 Line:5853 33:
 [DEBUG] 2018-01-30 08:41:54,887 Line:5853 34:
 [DEBUG] 2018-01-30 08:41:54,888 Line:5853 35:
 [DEBUG] 2018-01-30 08:41:54,888 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:41:54,889 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:41:54,889 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:41:54,890 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:41:54,890 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:41:54,891 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:41:54,892 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:41:54,892 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:41:54,893 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:41:54,894 Line:5853 45:0.0
 [DEBUG] 2018-01-30 08:41:54,894 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:41:54,895 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:41:54,896 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:41:54,896 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:41:54,897 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:41:54,898 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:41:54,898 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:41:54,899 Line:5853 53:
 [DEBUG] 2018-01-30 08:41:54,900 Line:5853 54:1
 [DEBUG] 2018-01-30 08:41:54,901 Line:5853 55:2018-01-30 08:41:52
 [DEBUG] 2018-01-30 08:41:54,902 Line:5853 56:0
 [DEBUG] 2018-01-30 08:41:54,903 Line:5853 57:0
 [DEBUG] 2018-01-30 08:41:54,904 Line:5853 58:0
 [DEBUG] 2018-01-30 08:41:54,905 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:41:54,905 Line:5853 60:
 [DEBUG] 2018-01-30 08:41:54,906 Line:5853 61:1
 [DEBUG] 2018-01-30 08:41:54,907 Line:5853 62:2018-01-30 08:41:52
 [DEBUG] 2018-01-30 08:41:55,095 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:41:55,096 Line:1004  select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:41:55,103 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:41:55,104 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:41:55,120 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300841548240005' order by detOrderNo
 [DEBUG] 2018-01-30 08:41:55,132 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300841548240005;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:41:56,735 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300841548240005&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:41:56,736 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300841548240005,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:41:56,737 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300841548240005' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:41:56,872 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:41:56,873 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:41:56,881 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:41:56,882 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:41:56,905 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300841548240005' order by detOrderNo
 [DEBUG] 2018-01-30 08:42:03,232 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:42:03,233 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:42:08,210 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:42:08,211 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:42:08,511 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:42:08,511 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:42:08,513 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:42:08,513 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:42:08,516 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 08:42:08,589 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:42:08,897 Line:5242 GlobalsTool.js 生成js 时间63:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:42:12,349 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:42:12,351 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:42:12,439 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:42:12,440 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:42:12,440 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:42:12,441 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 08:42:12,442 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:42:12,448 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:42:16,068 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 08:42:16,069 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 08:42:16,174 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:42:16,174 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:42:16,176 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:42:16,176 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 08:42:16,177 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:42:16,204 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:42:25,233 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:42:25,236 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300035,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:42:03,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:42:03,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:42:25,238 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:42:25,264 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:42:25,265 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:42:25,266 Line:5853 2:0
 [DEBUG] 2018-01-30 08:42:25,266 Line:5853 3:1b63e5ab_1801300842252530008
 [DEBUG] 2018-01-30 08:42:25,267 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:42:25,267 Line:5853 5:SO1801300035
 [DEBUG] 2018-01-30 08:42:25,268 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:42:25,268 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:42:25,269 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:42:25,269 Line:5853 9:1
 [DEBUG] 2018-01-30 08:42:25,270 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:42:25,270 Line:5853 11:
 [DEBUG] 2018-01-30 08:42:25,271 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:42:25,272 Line:5853 13:
 [DEBUG] 2018-01-30 08:42:25,272 Line:5853 14:
 [DEBUG] 2018-01-30 08:42:25,273 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:42:25,273 Line:5853 16:3
 [DEBUG] 2018-01-30 08:42:25,274 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:42:25,275 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:42:25,275 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:42:25,276 Line:5853 20:0
 [DEBUG] 2018-01-30 08:42:25,276 Line:5853 21:
 [DEBUG] 2018-01-30 08:42:25,277 Line:5853 22:1
 [DEBUG] 2018-01-30 08:42:25,277 Line:5853 23:1
 [DEBUG] 2018-01-30 08:42:25,278 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:42:25,279 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:42:25,280 Line:5853 26:
 [DEBUG] 2018-01-30 08:42:25,280 Line:5853 27:
 [DEBUG] 2018-01-30 08:42:25,281 Line:5853 28:
 [DEBUG] 2018-01-30 08:42:25,281 Line:5853 29:
 [DEBUG] 2018-01-30 08:42:25,282 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:42:25,282 Line:5853 31:0
 [DEBUG] 2018-01-30 08:42:25,283 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:42:25,283 Line:5853 33:
 [DEBUG] 2018-01-30 08:42:25,284 Line:5853 34:
 [DEBUG] 2018-01-30 08:42:25,284 Line:5853 35:
 [DEBUG] 2018-01-30 08:42:25,285 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:42:25,285 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:42:25,286 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:42:25,286 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:42:25,287 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:42:25,287 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:42:25,288 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:42:25,288 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:42:25,289 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:42:25,289 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:42:25,290 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:42:25,291 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:42:25,291 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:42:25,292 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:42:25,293 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:42:25,293 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:42:25,294 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:42:25,294 Line:5853 53:
 [DEBUG] 2018-01-30 08:42:25,295 Line:5853 54:1
 [DEBUG] 2018-01-30 08:42:25,295 Line:5853 55:2018-01-30 08:42:03
 [DEBUG] 2018-01-30 08:42:25,296 Line:5853 56:0
 [DEBUG] 2018-01-30 08:42:25,296 Line:5853 57:0
 [DEBUG] 2018-01-30 08:42:25,297 Line:5853 58:0
 [DEBUG] 2018-01-30 08:42:25,297 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 08:42:25,298 Line:5853 60:
 [DEBUG] 2018-01-30 08:42:25,298 Line:5853 61:1
 [DEBUG] 2018-01-30 08:42:25,299 Line:5853 62:2018-01-30 08:42:03
 [DEBUG] 2018-01-30 08:42:25,308 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 1:1b63e5ab_1801300842252530008
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 2:1b63e5ab_1801300842253080009
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 3:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 5:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 6:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 7:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 8:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 9:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 10:
 [DEBUG] 2018-01-30 08:42:25,308 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:42:25,343 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:42:25,346 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:42:25,347 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:42:25,347 Line:5853 15:0
 [DEBUG] 2018-01-30 08:42:25,348 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:42:25,348 Line:5853 17:0
 [DEBUG] 2018-01-30 08:42:25,349 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:42:25,349 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:42:25,350 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:42:25,350 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:42:25,351 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:42:25,352 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:42:25,352 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:42:25,352 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:42:25,353 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:42:25,353 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:42:25,354 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:42:25,355 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:42:25,356 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:42:25,356 Line:5853 31:
 [DEBUG] 2018-01-30 08:42:25,357 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:42:25,357 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:42:25,358 Line:5853 34:0
 [DEBUG] 2018-01-30 08:42:25,360 Line:5853 35:0
 [DEBUG] 2018-01-30 08:42:25,361 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:42:25,361 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:42:25,362 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:42:25,362 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:42:25,363 Line:5853 40:1
 [DEBUG] 2018-01-30 08:42:25,364 Line:5853 41:0
 [DEBUG] 2018-01-30 08:42:25,364 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:42:25,365 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:42:25,365 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:42:25,366 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:42:25,367 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:42:25,367 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:42:25,368 Line:5853 48:
 [DEBUG] 2018-01-30 08:42:25,369 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:42:25,370 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:42:25,370 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:42:25,371 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:42:25,372 Line:5853 53:
 [DEBUG] 2018-01-30 08:42:25,373 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:42:25,374 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:42:26,502 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 08:42:26,503 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 08:42:26,504 Line:988 1值：
 [DEBUG] 2018-01-30 08:42:26,512 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-30 08:42:26,513 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 08:42:27,771 Line:321 flag:true
 [DEBUG] 2018-01-30 08:42:27,773 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 08:42:27,774 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 08:42:30,875 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:42:30,876 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:42:30,900 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:42:30,905 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300035,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:42:03,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:42:03,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:42:30,907 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:42:30,920 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:42:30,921 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:42:30,922 Line:5853 2:0
 [DEBUG] 2018-01-30 08:42:30,923 Line:5853 3:1b63e5ab_1801300842309170010
 [DEBUG] 2018-01-30 08:42:30,923 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:42:30,924 Line:5853 5:SO1801300035
 [DEBUG] 2018-01-30 08:42:30,925 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:42:30,926 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:42:30,927 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:42:30,927 Line:5853 9:1
 [DEBUG] 2018-01-30 08:42:30,928 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:42:30,928 Line:5853 11:
 [DEBUG] 2018-01-30 08:42:30,929 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:42:30,929 Line:5853 13:
 [DEBUG] 2018-01-30 08:42:30,930 Line:5853 14:
 [DEBUG] 2018-01-30 08:42:30,930 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:42:30,931 Line:5853 16:3
 [DEBUG] 2018-01-30 08:42:30,931 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:42:30,932 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:42:30,932 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:42:30,933 Line:5853 20:0
 [DEBUG] 2018-01-30 08:42:30,933 Line:5853 21:
 [DEBUG] 2018-01-30 08:42:30,934 Line:5853 22:1
 [DEBUG] 2018-01-30 08:42:30,934 Line:5853 23:1
 [DEBUG] 2018-01-30 08:42:30,935 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:42:30,935 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:42:30,936 Line:5853 26:
 [DEBUG] 2018-01-30 08:42:30,937 Line:5853 27:
 [DEBUG] 2018-01-30 08:42:30,938 Line:5853 28:
 [DEBUG] 2018-01-30 08:42:30,938 Line:5853 29:
 [DEBUG] 2018-01-30 08:42:30,940 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:42:30,942 Line:5853 31:0
 [DEBUG] 2018-01-30 08:42:30,943 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:42:30,944 Line:5853 33:
 [DEBUG] 2018-01-30 08:42:30,945 Line:5853 34:
 [DEBUG] 2018-01-30 08:42:30,945 Line:5853 35:
 [DEBUG] 2018-01-30 08:42:30,946 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:42:30,947 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:42:30,948 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:42:30,949 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:42:30,949 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:42:30,950 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:42:30,950 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:42:30,951 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:42:30,951 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:42:30,952 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:42:30,952 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:42:30,953 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:42:30,953 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:42:30,954 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:42:30,954 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:42:30,955 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:42:30,956 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:42:30,956 Line:5853 53:
 [DEBUG] 2018-01-30 08:42:30,957 Line:5853 54:1
 [DEBUG] 2018-01-30 08:42:30,959 Line:5853 55:2018-01-30 08:42:03
 [DEBUG] 2018-01-30 08:42:30,960 Line:5853 56:0
 [DEBUG] 2018-01-30 08:42:30,960 Line:5853 57:0
 [DEBUG] 2018-01-30 08:42:30,961 Line:5853 58:0
 [DEBUG] 2018-01-30 08:42:30,962 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:42:30,962 Line:5853 60:
 [DEBUG] 2018-01-30 08:42:30,963 Line:5853 61:1
 [DEBUG] 2018-01-30 08:42:30,964 Line:5853 62:2018-01-30 08:42:03
 [DEBUG] 2018-01-30 08:42:30,968 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:42:30,968 Line:5853 1:1b63e5ab_1801300842309170010
 [DEBUG] 2018-01-30 08:42:30,969 Line:5853 2:1b63e5ab_1801300842309670011
 [DEBUG] 2018-01-30 08:42:30,970 Line:5853 3:
 [DEBUG] 2018-01-30 08:42:30,970 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:42:30,971 Line:5853 5:
 [DEBUG] 2018-01-30 08:42:30,971 Line:5853 6:
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 7:
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 8:
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 9:
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 10:
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 15:0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 17:0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 31:
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 34:0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 35:0
 [DEBUG] 2018-01-30 08:42:30,972 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 40:1
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 41:0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 48:
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:42:30,988 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:42:31,000 Line:5853 53:
 [DEBUG] 2018-01-30 08:42:31,001 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:42:31,002 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:42:31,129 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300842309170010' order by detOrderNo
 [DEBUG] 2018-01-30 08:42:31,147 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300842309170010;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:42:31,284 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300842309170010&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 08:42:31,286 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300842309170010,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:42:31,310 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300842309170010' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:42:31,493 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300842309170010' order by detOrderNo
 [DEBUG] 2018-01-30 08:42:31,823 Line:5242 GlobalsTool.js 生成js 时间25:/js/gen/fileUpload.vjs_zh_CN.js
 [DEBUG] 2018-01-30 08:43:04,469 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:43:04,471 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:43:04,493 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:43:04,497 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300036,];BillDate=[2018-01-30,];CompanyCode=[,];tblCompany_ComFullName=[,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[0,];TotalTaxAmount=[0,];TotalCoTaxAmt=[,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:42:30,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:42:30,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[,];tblSalesOrderDet_tblGoods_GoodsFullName=[,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[,];tblSalesOrderDet_ViewVirtualStock_UseQty=[,];tblSalesOrderDet_Qty=[,];tblSalesOrderDet_Price=[,];tblSalesOrderDet_Amount=[,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[,];tblSalesOrderDet_DisBackAmt=[,];tblSalesOrderDet_DisAmount=[,];tblSalesOrderDet_TaxPrice=[,];tblSalesOrderDet_TaxAmount=[,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[,];tblSalesOrderDet_CurAmount=[,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:43:04,499 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:43:04,527 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:43:04,528 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:43:04,528 Line:5853 2:0
 [DEBUG] 2018-01-30 08:43:04,529 Line:5853 3:1b63e5ab_1801300843045180014
 [DEBUG] 2018-01-30 08:43:04,529 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:43:04,530 Line:5853 5:SO1801300036
 [DEBUG] 2018-01-30 08:43:04,531 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:43:04,531 Line:5853 7:
 [DEBUG] 2018-01-30 08:43:04,532 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:43:04,533 Line:5853 9:1
 [DEBUG] 2018-01-30 08:43:04,534 Line:5853 10:
 [DEBUG] 2018-01-30 08:43:04,534 Line:5853 11:
 [DEBUG] 2018-01-30 08:43:04,535 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:43:04,535 Line:5853 13:
 [DEBUG] 2018-01-30 08:43:04,536 Line:5853 14:
 [DEBUG] 2018-01-30 08:43:04,537 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:43:04,538 Line:5853 16:3
 [DEBUG] 2018-01-30 08:43:04,538 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:43:04,539 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:43:04,539 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:43:04,540 Line:5853 20:0
 [DEBUG] 2018-01-30 08:43:04,541 Line:5853 21:
 [DEBUG] 2018-01-30 08:43:04,541 Line:5853 22:1
 [DEBUG] 2018-01-30 08:43:04,542 Line:5853 23:1
 [DEBUG] 2018-01-30 08:43:04,542 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:43:04,543 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:43:04,544 Line:5853 26:
 [DEBUG] 2018-01-30 08:43:04,544 Line:5853 27:
 [DEBUG] 2018-01-30 08:43:04,545 Line:5853 28:
 [DEBUG] 2018-01-30 08:43:04,546 Line:5853 29:
 [DEBUG] 2018-01-30 08:43:04,546 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:43:04,547 Line:5853 31:0
 [DEBUG] 2018-01-30 08:43:04,548 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:43:04,550 Line:5853 33:
 [DEBUG] 2018-01-30 08:43:04,551 Line:5853 34:
 [DEBUG] 2018-01-30 08:43:04,552 Line:5853 35:
 [DEBUG] 2018-01-30 08:43:04,553 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:43:04,554 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:43:04,555 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:43:04,556 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:43:04,557 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:43:04,558 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:43:04,559 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:43:04,560 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:43:04,561 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:43:04,561 Line:5853 45:0.0
 [DEBUG] 2018-01-30 08:43:04,562 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:43:04,563 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 53:
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 54:1
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 55:2018-01-30 08:42:30
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 56:0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 57:0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 58:0
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 60:
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 61:1
 [DEBUG] 2018-01-30 08:43:04,564 Line:5853 62:2018-01-30 08:42:30
 [DEBUG] 2018-01-30 08:43:04,730 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:04,732 Line:1004  select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:04,738 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:04,739 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:04,756 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300843045180014' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:04,769 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300843045180014;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:43:06,356 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300843045180014&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:43:06,356 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300843045180014,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:43:06,363 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300843045180014' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:43:06,474 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:06,474 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:06,474 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:06,474 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:06,490 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300843045180014' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:18,649 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 08:43:18,653 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 08:43:18,730 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:43:18,732 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:43:18,733 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:43:18,871 Line:689 通过SQL读原始数据：139
 [DEBUG] 2018-01-30 08:43:18,876 Line:1391 整理数据：4
 [DEBUG] 2018-01-30 08:43:26,769 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 08:43:26,772 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[1b63e5ab_1801300843045180014|,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];keyId=[1b63e5ab_1801300843045180014,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 08:43:26,900 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:26,901 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:26,903 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:26,904 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:26,909 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300843045180014' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:26,948 Line:5565 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 08:43:26,958 Line:5587 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:26,960 Line:5609 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 08:43:26,960 Line:5639 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:26,975 Line:5647 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 08:43:26,997 Line:5653 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:27,003 Line:5659 DynDBManager.delete id=1b63e5ab_1801300843045180014;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:27,176 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:43:27,179 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:43:27,180 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:43:27,188 Line:689 通过SQL读原始数据：9
 [DEBUG] 2018-01-30 08:43:27,193 Line:1391 整理数据：4
 [DEBUG] 2018-01-30 08:43:36,043 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 08:43:36,046 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[1b63e5ab_1801300842309170010|1b63e5ab_1801300841548240005|1b63e5ab_1801300839238480002|3bc8d2c6_1801291639365210005|,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];keyId=[1b63e5ab_1801300842309170010,1b63e5ab_1801300841548240005,1b63e5ab_1801300839238480002,3bc8d2c6_1801291639365210005,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 08:43:36,206 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300842309170010' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:36,312 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,313 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,316 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,316 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,321 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300841548240005' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:36,417 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,418 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,421 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,422 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:43:36,428 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300839238480002' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:36,526 Line:1525  select * from  tblSalesOrderDet where f_ref = '3bc8d2c6_1801291639365210005' order by detOrderNo
 [DEBUG] 2018-01-30 08:43:36,538 Line:5565 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 08:43:36,540 Line:5587 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,543 Line:5609 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 08:43:36,545 Line:5639 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,547 Line:5647 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 08:43:36,549 Line:5653 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,551 Line:5659 DynDBManager.delete id=1b63e5ab_1801300842309170010;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,555 Line:5565 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 08:43:36,558 Line:5587 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,560 Line:5609 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 08:43:36,562 Line:5639 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,564 Line:5647 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 08:43:36,564 Line:5653 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,564 Line:5659 DynDBManager.delete id=1b63e5ab_1801300841548240005;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,564 Line:5565 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 08:43:36,564 Line:5587 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,564 Line:5609 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 08:43:36,564 Line:5639 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,564 Line:5647 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 08:43:36,580 Line:5653 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,582 Line:5659 DynDBManager.delete id=1b63e5ab_1801300839238480002;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,587 Line:5565 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 08:43:36,590 Line:5587 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,593 Line:5609 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 08:43:36,595 Line:5639 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:43:36,597 Line:5647 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 08:43:36,598 Line:5653 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,600 Line:5659 DynDBManager.delete id=3bc8d2c6_1801291639365210005;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:43:36,721 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:43:36,722 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:43:36,723 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:43:36,723 Line:689 通过SQL读原始数据：1
 [DEBUG] 2018-01-30 08:43:36,723 Line:1391 整理数据：0
 [DEBUG] 2018-01-30 08:44:04,960 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:44:04,961 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:44:04,963 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:44:05,269 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:44:05,270 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:44:05,309 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:44:05,310 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:44:05,312 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:44:05,337 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:44:05,338 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:44:05,340 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:44:05,357 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:44:05,358 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:44:05,359 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:44:05,378 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:44:05,379 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:44:05,381 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:44:09,153 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 08:44:09,154 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:44:09,155 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 08:44:09,264 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:44:09,266 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:44:09,269 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:44:09,562 Line:689 通过SQL读原始数据：296
 [DEBUG] 2018-01-30 08:44:09,568 Line:1391 整理数据：5
 [DEBUG] 2018-01-30 08:44:23,084 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:44:23,085 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:44:27,967 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:44:27,969 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:44:28,195 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:44:28,196 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:44:28,197 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 08:44:28,197 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:44:28,199 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:44:28,218 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:44:31,300 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:44:31,301 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:44:31,493 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:44:31,493 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:44:31,494 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 08:44:31,495 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:44:31,497 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:44:31,502 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:44:34,458 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 08:44:34,459 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 08:44:34,692 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:44:34,693 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:44:34,694 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 08:44:34,694 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:44:34,695 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:44:34,716 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:44:41,476 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:44:41,479 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300038,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:44:23,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:44:23,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:44:41,482 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:44:41,538 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:44:41,539 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:44:41,540 Line:5853 2:0
 [DEBUG] 2018-01-30 08:44:41,542 Line:5853 3:1b63e5ab_1801300844415150022
 [DEBUG] 2018-01-30 08:44:41,544 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:44:41,545 Line:5853 5:SO1801300038
 [DEBUG] 2018-01-30 08:44:41,546 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:44:41,548 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:44:41,549 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:44:41,550 Line:5853 9:1
 [DEBUG] 2018-01-30 08:44:41,551 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:44:41,552 Line:5853 11:
 [DEBUG] 2018-01-30 08:44:41,553 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:44:41,554 Line:5853 13:
 [DEBUG] 2018-01-30 08:44:41,555 Line:5853 14:
 [DEBUG] 2018-01-30 08:44:41,556 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:44:41,557 Line:5853 16:3
 [DEBUG] 2018-01-30 08:44:41,558 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:44:41,559 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:44:41,561 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:44:41,562 Line:5853 20:0
 [DEBUG] 2018-01-30 08:44:41,562 Line:5853 21:
 [DEBUG] 2018-01-30 08:44:41,563 Line:5853 22:1
 [DEBUG] 2018-01-30 08:44:41,564 Line:5853 23:1
 [DEBUG] 2018-01-30 08:44:41,565 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:44:41,566 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:44:41,568 Line:5853 26:
 [DEBUG] 2018-01-30 08:44:41,569 Line:5853 27:
 [DEBUG] 2018-01-30 08:44:41,570 Line:5853 28:
 [DEBUG] 2018-01-30 08:44:41,570 Line:5853 29:
 [DEBUG] 2018-01-30 08:44:41,571 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:44:41,572 Line:5853 31:0
 [DEBUG] 2018-01-30 08:44:41,573 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:44:41,574 Line:5853 33:
 [DEBUG] 2018-01-30 08:44:41,577 Line:5853 34:
 [DEBUG] 2018-01-30 08:44:41,578 Line:5853 35:
 [DEBUG] 2018-01-30 08:44:41,579 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:44:41,580 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:44:41,582 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:44:41,583 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:44:41,584 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:44:41,585 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:44:41,587 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:44:41,588 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:44:41,589 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:44:41,591 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:44:41,593 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:44:41,594 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:44:41,595 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:44:41,596 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:44:41,597 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:44:41,598 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:44:41,599 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:44:41,600 Line:5853 53:
 [DEBUG] 2018-01-30 08:44:41,600 Line:5853 54:1
 [DEBUG] 2018-01-30 08:44:41,602 Line:5853 55:2018-01-30 08:44:23
 [DEBUG] 2018-01-30 08:44:41,602 Line:5853 56:0
 [DEBUG] 2018-01-30 08:44:41,603 Line:5853 57:0
 [DEBUG] 2018-01-30 08:44:41,603 Line:5853 58:0
 [DEBUG] 2018-01-30 08:44:41,604 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 08:44:41,605 Line:5853 60:
 [DEBUG] 2018-01-30 08:44:41,606 Line:5853 61:1
 [DEBUG] 2018-01-30 08:44:41,606 Line:5853 62:2018-01-30 08:44:23
 [DEBUG] 2018-01-30 08:44:41,626 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:44:41,627 Line:5853 1:1b63e5ab_1801300844415150022
 [DEBUG] 2018-01-30 08:44:41,628 Line:5853 2:1b63e5ab_1801300844416250023
 [DEBUG] 2018-01-30 08:44:41,628 Line:5853 3:
 [DEBUG] 2018-01-30 08:44:41,629 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:44:41,630 Line:5853 5:
 [DEBUG] 2018-01-30 08:44:41,631 Line:5853 6:
 [DEBUG] 2018-01-30 08:44:41,632 Line:5853 7:
 [DEBUG] 2018-01-30 08:44:41,632 Line:5853 8:
 [DEBUG] 2018-01-30 08:44:41,633 Line:5853 9:
 [DEBUG] 2018-01-30 08:44:41,634 Line:5853 10:
 [DEBUG] 2018-01-30 08:44:41,635 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:44:41,636 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:44:41,636 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:44:41,637 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:44:41,638 Line:5853 15:0
 [DEBUG] 2018-01-30 08:44:41,639 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:44:41,640 Line:5853 17:0
 [DEBUG] 2018-01-30 08:44:41,640 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:44:41,641 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:44:41,642 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:44:41,643 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:44:41,643 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:44:41,644 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:44:41,644 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:44:41,645 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:44:41,645 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:44:41,646 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:44:41,646 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:44:41,647 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:44:41,647 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:44:41,648 Line:5853 31:
 [DEBUG] 2018-01-30 08:44:41,648 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:44:41,649 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:44:41,650 Line:5853 34:0
 [DEBUG] 2018-01-30 08:44:41,651 Line:5853 35:0
 [DEBUG] 2018-01-30 08:44:41,652 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:44:41,652 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:44:41,653 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:44:41,654 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:44:41,655 Line:5853 40:1
 [DEBUG] 2018-01-30 08:44:41,656 Line:5853 41:0
 [DEBUG] 2018-01-30 08:44:41,657 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:44:41,657 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:44:41,658 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:44:41,658 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:44:41,659 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:44:41,660 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:44:41,660 Line:5853 48:
 [DEBUG] 2018-01-30 08:44:41,661 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:44:41,662 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:44:41,662 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:44:41,663 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:44:41,664 Line:5853 53:
 [DEBUG] 2018-01-30 08:44:41,664 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:44:41,665 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:44:41,690 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 08:44:41,691 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 08:44:41,692 Line:988 1值：
 [DEBUG] 2018-01-30 08:44:41,698 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 08:44:41,699 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 08:44:41,705 Line:321 flag:true
 [DEBUG] 2018-01-30 08:44:41,706 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 08:44:41,707 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 08:45:30,409 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:45:30,413 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300038,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:44:23,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:44:23,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:45:30,415 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:45:30,451 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:45:30,452 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:45:30,453 Line:5853 2:0
 [DEBUG] 2018-01-30 08:45:30,454 Line:5853 3:1b63e5ab_1801300845304360024
 [DEBUG] 2018-01-30 08:45:30,455 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:45:30,456 Line:5853 5:SO1801300038
 [DEBUG] 2018-01-30 08:45:30,457 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:45:30,457 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:45:30,458 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:45:30,458 Line:5853 9:1
 [DEBUG] 2018-01-30 08:45:30,459 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:45:30,459 Line:5853 11:
 [DEBUG] 2018-01-30 08:45:30,459 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:45:30,460 Line:5853 13:
 [DEBUG] 2018-01-30 08:45:30,460 Line:5853 14:
 [DEBUG] 2018-01-30 08:45:30,461 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:45:30,462 Line:5853 16:3
 [DEBUG] 2018-01-30 08:45:30,463 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:45:30,464 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:45:30,465 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:45:30,466 Line:5853 20:0
 [DEBUG] 2018-01-30 08:45:30,467 Line:5853 21:
 [DEBUG] 2018-01-30 08:45:30,468 Line:5853 22:1
 [DEBUG] 2018-01-30 08:45:30,468 Line:5853 23:1
 [DEBUG] 2018-01-30 08:45:30,469 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:45:30,469 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:45:30,470 Line:5853 26:
 [DEBUG] 2018-01-30 08:45:30,470 Line:5853 27:
 [DEBUG] 2018-01-30 08:45:30,471 Line:5853 28:
 [DEBUG] 2018-01-30 08:45:30,472 Line:5853 29:
 [DEBUG] 2018-01-30 08:45:30,472 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:45:30,473 Line:5853 31:0
 [DEBUG] 2018-01-30 08:45:30,473 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:45:30,474 Line:5853 33:
 [DEBUG] 2018-01-30 08:45:30,474 Line:5853 34:
 [DEBUG] 2018-01-30 08:45:30,475 Line:5853 35:
 [DEBUG] 2018-01-30 08:45:30,475 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:45:30,476 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:45:30,476 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:45:30,476 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:45:30,477 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:45:30,477 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:45:30,478 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:45:30,479 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:45:30,480 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:45:30,481 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:45:30,482 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:45:30,483 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:45:30,483 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:45:30,484 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:45:30,484 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:45:30,485 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:45:30,485 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:45:30,486 Line:5853 53:
 [DEBUG] 2018-01-30 08:45:30,486 Line:5853 54:1
 [DEBUG] 2018-01-30 08:45:30,487 Line:5853 55:2018-01-30 08:44:23
 [DEBUG] 2018-01-30 08:45:30,487 Line:5853 56:0
 [DEBUG] 2018-01-30 08:45:30,488 Line:5853 57:0
 [DEBUG] 2018-01-30 08:45:30,488 Line:5853 58:0
 [DEBUG] 2018-01-30 08:45:30,489 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:45:30,489 Line:5853 60:
 [DEBUG] 2018-01-30 08:45:30,490 Line:5853 61:1
 [DEBUG] 2018-01-30 08:45:30,490 Line:5853 62:2018-01-30 08:44:23
 [DEBUG] 2018-01-30 08:45:30,495 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 1:1b63e5ab_1801300845304360024
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 2:1b63e5ab_1801300845304950025
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 3:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 5:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 6:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 7:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 8:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 9:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 10:
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:45:30,495 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:45:30,511 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:45:30,512 Line:5853 15:0
 [DEBUG] 2018-01-30 08:45:30,513 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:45:30,514 Line:5853 17:0
 [DEBUG] 2018-01-30 08:45:30,515 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:45:30,516 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:45:30,517 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:45:30,517 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:45:30,518 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:45:30,519 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:45:30,520 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:45:30,522 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:45:30,522 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:45:30,523 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:45:30,524 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:45:30,524 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:45:30,525 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:45:30,525 Line:5853 31:
 [DEBUG] 2018-01-30 08:45:30,526 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:45:30,527 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:45:30,527 Line:5853 34:0
 [DEBUG] 2018-01-30 08:45:30,528 Line:5853 35:0
 [DEBUG] 2018-01-30 08:45:30,528 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:45:30,529 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:45:30,530 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:45:30,531 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:45:30,531 Line:5853 40:1
 [DEBUG] 2018-01-30 08:45:30,532 Line:5853 41:0
 [DEBUG] 2018-01-30 08:45:30,532 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:45:30,533 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:45:30,533 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:45:30,534 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:45:30,534 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:45:30,535 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:45:30,536 Line:5853 48:
 [DEBUG] 2018-01-30 08:45:30,536 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:45:30,536 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:45:30,537 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:45:30,537 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:45:30,538 Line:5853 53:
 [DEBUG] 2018-01-30 08:45:30,538 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:45:30,539 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:45:30,698 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300845304360024' order by detOrderNo
 [DEBUG] 2018-01-30 08:45:30,718 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300845304360024;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:45:30,821 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300845304360024&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 08:45:30,822 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300845304360024,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:45:30,830 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300845304360024' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:45:30,966 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300845304360024' order by detOrderNo
 [DEBUG] 2018-01-30 08:46:18,736 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-30 08:46:18,774 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[1,1,];keyId=[1b63e5ab_1801300845304360024,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936571710021,];currNode=[0,];department=[00101,];fromAdvice=[,];approveStatus=[,];noback=[false,];toPage=[,];fromPage=[,];tableName=[tblSalesOrder,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1515926119185,];checkPerson=[2cf86be0_1712291628149430079,];
 [DEBUG] 2018-01-30 08:46:18,775 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300845304360024' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:46:18,851 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300845304360024' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:46:18,983 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300845304360024' order by detOrderNo
 [DEBUG] 2018-01-30 08:46:20,495 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300845304360024&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 08:46:20,496 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300845304360024,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:46:20,497 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300845304360024' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:46:20,515 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300845304360024' order by detOrderNo
 [DEBUG] 2018-01-30 08:46:33,760 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:46:33,764 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300845304360024,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[1515926119185,];fromAdvice=[false,];id=[1b63e5ab_1801300845304360024,];parentCode=[,];checkPersons=[;2cf86be0_1712291628149430079;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300038,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 08:44:23,];printCount=[0,];statusId=[0,];workFlowNode=[1515926119185,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 08:44:23,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300845304950025,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 08:46:43,312 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:46:43,314 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:46:49,704 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:46:49,708 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300039,];BillDate=[2018-01-30,];CompanyCode=[,];tblCompany_ComFullName=[,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[0,];TotalTaxAmount=[0,];TotalCoTaxAmt=[,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:46:43,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:46:43,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[,];tblSalesOrderDet_tblGoods_GoodsFullName=[,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[,];tblSalesOrderDet_ViewVirtualStock_UseQty=[,];tblSalesOrderDet_Qty=[,];tblSalesOrderDet_Price=[,];tblSalesOrderDet_Amount=[,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[,];tblSalesOrderDet_DisBackAmt=[,];tblSalesOrderDet_DisAmount=[,];tblSalesOrderDet_TaxPrice=[,];tblSalesOrderDet_TaxAmount=[,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[,];tblSalesOrderDet_CurAmount=[,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:46:49,710 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:46:49,735 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:46:49,736 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:46:49,736 Line:5853 2:0
 [DEBUG] 2018-01-30 08:46:49,737 Line:5853 3:1b63e5ab_1801300846497250029
 [DEBUG] 2018-01-30 08:46:49,737 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:46:49,738 Line:5853 5:SO1801300039
 [DEBUG] 2018-01-30 08:46:49,738 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:46:49,739 Line:5853 7:
 [DEBUG] 2018-01-30 08:46:49,739 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:46:49,740 Line:5853 9:1
 [DEBUG] 2018-01-30 08:46:49,740 Line:5853 10:
 [DEBUG] 2018-01-30 08:46:49,741 Line:5853 11:
 [DEBUG] 2018-01-30 08:46:49,741 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:46:49,742 Line:5853 13:
 [DEBUG] 2018-01-30 08:46:49,743 Line:5853 14:
 [DEBUG] 2018-01-30 08:46:49,743 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:46:49,744 Line:5853 16:3
 [DEBUG] 2018-01-30 08:46:49,746 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:46:49,747 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:46:49,747 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:46:49,748 Line:5853 20:0
 [DEBUG] 2018-01-30 08:46:49,749 Line:5853 21:
 [DEBUG] 2018-01-30 08:46:49,749 Line:5853 22:1
 [DEBUG] 2018-01-30 08:46:49,750 Line:5853 23:1
 [DEBUG] 2018-01-30 08:46:49,750 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:46:49,751 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:46:49,751 Line:5853 26:
 [DEBUG] 2018-01-30 08:46:49,752 Line:5853 27:
 [DEBUG] 2018-01-30 08:46:49,753 Line:5853 28:
 [DEBUG] 2018-01-30 08:46:49,754 Line:5853 29:
 [DEBUG] 2018-01-30 08:46:49,754 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:46:49,754 Line:5853 31:0
 [DEBUG] 2018-01-30 08:46:49,755 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:46:49,755 Line:5853 33:
 [DEBUG] 2018-01-30 08:46:49,756 Line:5853 34:
 [DEBUG] 2018-01-30 08:46:49,756 Line:5853 35:
 [DEBUG] 2018-01-30 08:46:49,757 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:46:49,757 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:46:49,758 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:46:49,758 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:46:49,759 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:46:49,759 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:46:49,760 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:46:49,761 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:46:49,762 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:46:49,762 Line:5853 45:0.0
 [DEBUG] 2018-01-30 08:46:49,762 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:46:49,763 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:46:49,763 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:46:49,764 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:46:49,764 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:46:49,765 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:46:49,765 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:46:49,766 Line:5853 53:
 [DEBUG] 2018-01-30 08:46:49,766 Line:5853 54:1
 [DEBUG] 2018-01-30 08:46:49,767 Line:5853 55:2018-01-30 08:46:43
 [DEBUG] 2018-01-30 08:46:49,767 Line:5853 56:0
 [DEBUG] 2018-01-30 08:46:49,768 Line:5853 57:0
 [DEBUG] 2018-01-30 08:46:49,768 Line:5853 58:0
 [DEBUG] 2018-01-30 08:46:49,768 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:46:49,769 Line:5853 60:
 [DEBUG] 2018-01-30 08:46:49,769 Line:5853 61:1
 [DEBUG] 2018-01-30 08:46:49,770 Line:5853 62:2018-01-30 08:46:43
 [DEBUG] 2018-01-30 08:46:49,868 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:46:49,869 Line:1004  select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:46:49,875 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:46:49,876 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:46:49,890 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300846497250029' order by detOrderNo
 [DEBUG] 2018-01-30 08:46:49,892 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300846497250029;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:46:51,566 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300846497250029&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:46:51,567 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300846497250029,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:46:51,567 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300846497250029' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:46:51,609 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:46:51,610 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 08:46:51,612 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:46:51,613 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 08:46:51,618 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300846497250029' order by detOrderNo
 [DEBUG] 2018-01-30 08:47:56,498 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:47:56,500 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:47:56,724 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:47:56,725 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:47:56,726 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 08:47:56,731 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:47:56,732 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:47:56,747 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:48:01,607 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:48:01,608 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:48:01,832 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:48:01,833 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:48:01,834 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 08:48:01,834 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:48:01,837 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:48:01,843 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:48:06,259 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 08:48:06,260 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 08:48:06,516 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:48:06,517 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:48:06,518 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:48:06,518 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 08:48:06,519 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:48:06,541 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:48:15,478 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:48:15,481 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[quoteDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300846497250029,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300846497250029,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300039,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[11,];TotalTaxAmount=[11,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[11,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 08:46:43,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 08:46:43,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[11,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[11,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[11,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[11,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[11,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 08:48:15,483 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:48:15,532 Line:5565 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 08:48:15,557 Line:5587 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:48:15,575 Line:5609 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 08:48:15,601 Line:5639 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 08:48:15,632 Line:5647 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 08:48:15,670 Line:5653 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:48:15,697 Line:5659 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 08:48:15,716 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:48:15,717 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:48:15,718 Line:5853 2:0
 [DEBUG] 2018-01-30 08:48:15,719 Line:5853 3:1b63e5ab_1801300846497250029
 [DEBUG] 2018-01-30 08:48:15,720 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:48:15,721 Line:5853 5:SO1801300039
 [DEBUG] 2018-01-30 08:48:15,721 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:48:15,722 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:48:15,724 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:48:15,725 Line:5853 9:1
 [DEBUG] 2018-01-30 08:48:15,726 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:48:15,727 Line:5853 11:
 [DEBUG] 2018-01-30 08:48:15,728 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:48:15,730 Line:5853 13:
 [DEBUG] 2018-01-30 08:48:15,731 Line:5853 14:
 [DEBUG] 2018-01-30 08:48:15,732 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:48:15,733 Line:5853 16:3
 [DEBUG] 2018-01-30 08:48:15,735 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:48:15,735 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:48:15,736 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:48:15,737 Line:5853 20:0
 [DEBUG] 2018-01-30 08:48:15,738 Line:5853 21:
 [DEBUG] 2018-01-30 08:48:15,739 Line:5853 22:1
 [DEBUG] 2018-01-30 08:48:15,741 Line:5853 23:1
 [DEBUG] 2018-01-30 08:48:15,742 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:48:15,744 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:48:15,745 Line:5853 26:
 [DEBUG] 2018-01-30 08:48:15,746 Line:5853 27:
 [DEBUG] 2018-01-30 08:48:15,747 Line:5853 28:
 [DEBUG] 2018-01-30 08:48:15,747 Line:5853 29:
 [DEBUG] 2018-01-30 08:48:15,748 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:48:15,749 Line:5853 31:0
 [DEBUG] 2018-01-30 08:48:15,750 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:48:15,751 Line:5853 33:
 [DEBUG] 2018-01-30 08:48:15,752 Line:5853 34:
 [DEBUG] 2018-01-30 08:48:15,753 Line:5853 35:
 [DEBUG] 2018-01-30 08:48:15,753 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:48:15,754 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:48:15,755 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:48:15,756 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:48:15,756 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:48:15,757 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:48:15,758 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:48:15,759 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:48:15,760 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:48:15,760 Line:5853 45:11.0
 [DEBUG] 2018-01-30 08:48:15,761 Line:5853 46:11.0
 [DEBUG] 2018-01-30 08:48:15,762 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:48:15,762 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:48:15,763 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:48:15,763 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:48:15,764 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:48:15,764 Line:5853 52:11.0
 [DEBUG] 2018-01-30 08:48:15,765 Line:5853 53:
 [DEBUG] 2018-01-30 08:48:15,766 Line:5853 54:1
 [DEBUG] 2018-01-30 08:48:15,766 Line:5853 55:2018-01-30 08:46:43
 [DEBUG] 2018-01-30 08:48:15,767 Line:5853 56:0
 [DEBUG] 2018-01-30 08:48:15,767 Line:5853 57:0
 [DEBUG] 2018-01-30 08:48:15,768 Line:5853 58:0
 [DEBUG] 2018-01-30 08:48:15,768 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 08:48:15,769 Line:5853 60:
 [DEBUG] 2018-01-30 08:48:15,769 Line:5853 61:1
 [DEBUG] 2018-01-30 08:48:15,770 Line:5853 62:2018-01-30 08:46:43
 [DEBUG] 2018-01-30 08:48:15,786 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:48:15,787 Line:5853 1:1b63e5ab_1801300846497250029
 [DEBUG] 2018-01-30 08:48:15,788 Line:5853 2:1b63e5ab_1801300848157860032
 [DEBUG] 2018-01-30 08:48:15,789 Line:5853 3:
 [DEBUG] 2018-01-30 08:48:15,791 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:48:15,793 Line:5853 5:
 [DEBUG] 2018-01-30 08:48:15,794 Line:5853 6:
 [DEBUG] 2018-01-30 08:48:15,795 Line:5853 7:
 [DEBUG] 2018-01-30 08:48:15,796 Line:5853 8:
 [DEBUG] 2018-01-30 08:48:15,797 Line:5853 9:
 [DEBUG] 2018-01-30 08:48:15,799 Line:5853 10:
 [DEBUG] 2018-01-30 08:48:15,800 Line:5853 11:11.0
 [DEBUG] 2018-01-30 08:48:15,800 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:48:15,801 Line:5853 13:11.0
 [DEBUG] 2018-01-30 08:48:15,802 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:48:15,803 Line:5853 15:0
 [DEBUG] 2018-01-30 08:48:15,804 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:48:15,806 Line:5853 17:0
 [DEBUG] 2018-01-30 08:48:15,809 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:48:15,811 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:48:15,812 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:48:15,813 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:48:15,815 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:48:15,816 Line:5853 23:11.0
 [DEBUG] 2018-01-30 08:48:15,817 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:48:15,818 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:48:15,818 Line:5853 26:11.0
 [DEBUG] 2018-01-30 08:48:15,819 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:48:15,820 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:48:15,821 Line:5853 29:11.0
 [DEBUG] 2018-01-30 08:48:15,822 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:48:15,823 Line:5853 31:
 [DEBUG] 2018-01-30 08:48:15,824 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:48:15,825 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:48:15,826 Line:5853 34:0
 [DEBUG] 2018-01-30 08:48:15,826 Line:5853 35:0
 [DEBUG] 2018-01-30 08:48:15,827 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:48:15,828 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:48:15,829 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:48:15,829 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:48:15,830 Line:5853 40:1
 [DEBUG] 2018-01-30 08:48:15,831 Line:5853 41:0
 [DEBUG] 2018-01-30 08:48:15,831 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:48:15,832 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:48:15,833 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:48:15,833 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:48:15,834 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:48:15,835 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:48:15,836 Line:5853 48:
 [DEBUG] 2018-01-30 08:48:15,837 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:48:15,838 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:48:15,839 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:48:15,840 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:48:15,841 Line:5853 53:
 [DEBUG] 2018-01-30 08:48:15,841 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:48:15,842 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:48:15,868 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 08:48:15,869 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 08:48:15,870 Line:988 1值：
 [DEBUG] 2018-01-30 08:48:15,876 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 08:48:15,877 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 08:48:15,881 Line:321 flag:true
 [DEBUG] 2018-01-30 08:48:15,882 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 08:48:15,882 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 08:50:12,280 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:50:12,282 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:50:12,284 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:12,659 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:50:12,661 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:50:12,701 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:50:12,701 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:12,703 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:12,732 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:50:12,733 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:12,735 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:12,753 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:50:12,754 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:12,755 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:12,777 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:50:12,778 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:12,780 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:48,716 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:50:48,717 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:50:48,719 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:49,089 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:50:49,090 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:50:49,140 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:50:49,140 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:49,142 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:49,174 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:50:49,175 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:49,177 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:49,198 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:50:49,199 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:49,201 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:50:49,221 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:50:49,222 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:50:49,225 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:51:05,497 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 08:51:05,498 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:51:05,499 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 08:51:05,622 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:51:05,624 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:51:05,625 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:51:05,890 Line:689 通过SQL读原始数据：266
 [DEBUG] 2018-01-30 08:51:05,892 Line:1391 整理数据：1
 [DEBUG] 2018-01-30 08:51:34,255 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:51:34,257 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:54:27,768 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 08:54:27,769 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 08:54:27,771 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:54:28,102 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 08:54:28,102 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 08:54:28,137 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 08:54:28,138 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:54:28,140 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:54:28,195 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 08:54:28,196 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:54:28,198 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:54:28,219 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 08:54:28,220 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:54:28,222 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:54:28,239 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 08:54:28,240 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 08:54:28,242 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 08:54:30,556 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 08:54:30,556 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:54:30,557 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 08:54:30,684 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 08:54:30,686 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 08:54:30,686 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 08:54:30,984 Line:689 通过SQL读原始数据：299
 [DEBUG] 2018-01-30 08:54:30,986 Line:1391 整理数据：1
 [DEBUG] 2018-01-30 08:54:39,234 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:54:39,236 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:54:41,710 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:54:41,711 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:54:41,796 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:54:41,797 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:54:41,797 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 08:54:41,798 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:54:41,799 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:54:41,815 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:54:48,445 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:54:48,446 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:54:48,550 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:54:48,551 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:54:48,552 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 08:54:48,553 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:54:48,556 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:54:48,563 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:54:52,522 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 08:54:52,523 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 08:54:52,625 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:54:52,627 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:54:52,628 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 08:54:52,628 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:54:52,630 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:54:52,650 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:54:57,833 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:54:57,835 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300041,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:54:39,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:54:39,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:54:57,837 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:54:57,869 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:54:57,871 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:54:57,871 Line:5853 2:0
 [DEBUG] 2018-01-30 08:54:57,872 Line:5853 3:1b63e5ab_1801300854578550033
 [DEBUG] 2018-01-30 08:54:57,873 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:54:57,874 Line:5853 5:SO1801300041
 [DEBUG] 2018-01-30 08:54:57,875 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:54:57,875 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:54:57,876 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:54:57,877 Line:5853 9:1
 [DEBUG] 2018-01-30 08:54:57,878 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:54:57,879 Line:5853 11:
 [DEBUG] 2018-01-30 08:54:57,879 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:54:57,880 Line:5853 13:
 [DEBUG] 2018-01-30 08:54:57,881 Line:5853 14:
 [DEBUG] 2018-01-30 08:54:57,882 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:54:57,883 Line:5853 16:3
 [DEBUG] 2018-01-30 08:54:57,883 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:54:57,884 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:54:57,884 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:54:57,885 Line:5853 20:0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 21:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 22:1
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 23:1
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 26:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 27:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 28:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 29:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 31:0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 33:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 34:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 35:
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:54:57,908 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 53:
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 54:1
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 55:2018-01-30 08:54:39
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 56:0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 57:0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 58:0
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 60:
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 61:1
 [DEBUG] 2018-01-30 08:54:57,924 Line:5853 62:2018-01-30 08:54:39
 [DEBUG] 2018-01-30 08:54:57,947 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:54:57,948 Line:5853 1:1b63e5ab_1801300854578550033
 [DEBUG] 2018-01-30 08:54:57,948 Line:5853 2:1b63e5ab_1801300854579460034
 [DEBUG] 2018-01-30 08:54:57,949 Line:5853 3:
 [DEBUG] 2018-01-30 08:54:57,951 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:54:57,951 Line:5853 5:
 [DEBUG] 2018-01-30 08:54:57,952 Line:5853 6:
 [DEBUG] 2018-01-30 08:54:57,953 Line:5853 7:
 [DEBUG] 2018-01-30 08:54:57,953 Line:5853 8:
 [DEBUG] 2018-01-30 08:54:57,954 Line:5853 9:
 [DEBUG] 2018-01-30 08:54:57,954 Line:5853 10:
 [DEBUG] 2018-01-30 08:54:57,954 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:54:57,955 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:54:57,955 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:54:57,956 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:54:57,957 Line:5853 15:0
 [DEBUG] 2018-01-30 08:54:57,958 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:54:57,959 Line:5853 17:0
 [DEBUG] 2018-01-30 08:54:57,960 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:54:57,961 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:54:57,961 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:54:57,962 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:54:57,962 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:54:57,963 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:54:57,963 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:54:57,964 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:54:57,964 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:54:57,965 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:54:57,965 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:54:57,966 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:54:57,966 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:54:57,967 Line:5853 31:
 [DEBUG] 2018-01-30 08:54:57,967 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:54:57,968 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:54:57,968 Line:5853 34:0
 [DEBUG] 2018-01-30 08:54:57,969 Line:5853 35:0
 [DEBUG] 2018-01-30 08:54:57,969 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:54:57,970 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:54:57,970 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:54:57,971 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:54:57,971 Line:5853 40:1
 [DEBUG] 2018-01-30 08:54:57,972 Line:5853 41:0
 [DEBUG] 2018-01-30 08:54:57,972 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:54:57,973 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:54:57,973 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:54:57,974 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:54:57,974 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:54:57,975 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:54:57,975 Line:5853 48:
 [DEBUG] 2018-01-30 08:54:57,976 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:54:57,976 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:54:57,977 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:54:57,977 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:54:57,978 Line:5853 53:
 [DEBUG] 2018-01-30 08:54:57,978 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:54:57,979 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:54:58,004 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 08:54:58,005 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 08:54:58,006 Line:988 1值：
 [DEBUG] 2018-01-30 08:54:58,013 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-30 08:54:58,014 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 08:54:58,030 Line:321 flag:true
 [DEBUG] 2018-01-30 08:54:58,031 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 08:54:58,032 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 08:55:07,809 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:55:07,812 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300041,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:54:39,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:54:39,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:55:07,814 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:55:07,825 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:55:07,826 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:55:07,827 Line:5853 2:0
 [DEBUG] 2018-01-30 08:55:07,828 Line:5853 3:1b63e5ab_1801300855078210035
 [DEBUG] 2018-01-30 08:55:07,829 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:55:07,831 Line:5853 5:SO1801300041
 [DEBUG] 2018-01-30 08:55:07,832 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:55:07,833 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:55:07,834 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:55:07,834 Line:5853 9:1
 [DEBUG] 2018-01-30 08:55:07,835 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:55:07,835 Line:5853 11:
 [DEBUG] 2018-01-30 08:55:07,836 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:55:07,836 Line:5853 13:
 [DEBUG] 2018-01-30 08:55:07,836 Line:5853 14:
 [DEBUG] 2018-01-30 08:55:07,837 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:55:07,837 Line:5853 16:3
 [DEBUG] 2018-01-30 08:55:07,838 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:55:07,839 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:55:07,839 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:55:07,840 Line:5853 20:0
 [DEBUG] 2018-01-30 08:55:07,841 Line:5853 21:
 [DEBUG] 2018-01-30 08:55:07,841 Line:5853 22:1
 [DEBUG] 2018-01-30 08:55:07,842 Line:5853 23:1
 [DEBUG] 2018-01-30 08:55:07,842 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:55:07,843 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:55:07,843 Line:5853 26:
 [DEBUG] 2018-01-30 08:55:07,844 Line:5853 27:
 [DEBUG] 2018-01-30 08:55:07,844 Line:5853 28:
 [DEBUG] 2018-01-30 08:55:07,845 Line:5853 29:
 [DEBUG] 2018-01-30 08:55:07,845 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:55:07,846 Line:5853 31:0
 [DEBUG] 2018-01-30 08:55:07,846 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:55:07,847 Line:5853 33:
 [DEBUG] 2018-01-30 08:55:07,847 Line:5853 34:
 [DEBUG] 2018-01-30 08:55:07,847 Line:5853 35:
 [DEBUG] 2018-01-30 08:55:07,848 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:55:07,848 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:55:07,849 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:55:07,849 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:55:07,850 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:55:07,850 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:55:07,851 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:55:07,851 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:55:07,852 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:55:07,852 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:55:07,853 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:55:07,853 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:55:07,854 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:55:07,855 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:55:07,855 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:55:07,856 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:55:07,857 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:55:07,857 Line:5853 53:
 [DEBUG] 2018-01-30 08:55:07,858 Line:5853 54:1
 [DEBUG] 2018-01-30 08:55:07,858 Line:5853 55:2018-01-30 08:54:39
 [DEBUG] 2018-01-30 08:55:07,859 Line:5853 56:0
 [DEBUG] 2018-01-30 08:55:07,859 Line:5853 57:0
 [DEBUG] 2018-01-30 08:55:07,860 Line:5853 58:0
 [DEBUG] 2018-01-30 08:55:07,861 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:55:07,861 Line:5853 60:
 [DEBUG] 2018-01-30 08:55:07,862 Line:5853 61:1
 [DEBUG] 2018-01-30 08:55:07,862 Line:5853 62:2018-01-30 08:54:39
 [DEBUG] 2018-01-30 08:55:07,866 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:55:07,867 Line:5853 1:1b63e5ab_1801300855078210035
 [DEBUG] 2018-01-30 08:55:07,868 Line:5853 2:1b63e5ab_1801300855078660036
 [DEBUG] 2018-01-30 08:55:07,869 Line:5853 3:
 [DEBUG] 2018-01-30 08:55:07,869 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:55:07,870 Line:5853 5:
 [DEBUG] 2018-01-30 08:55:07,871 Line:5853 6:
 [DEBUG] 2018-01-30 08:55:07,872 Line:5853 7:
 [DEBUG] 2018-01-30 08:55:07,873 Line:5853 8:
 [DEBUG] 2018-01-30 08:55:07,874 Line:5853 9:
 [DEBUG] 2018-01-30 08:55:07,875 Line:5853 10:
 [DEBUG] 2018-01-30 08:55:07,875 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:55:07,876 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:55:07,876 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:55:07,877 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:55:07,877 Line:5853 15:0
 [DEBUG] 2018-01-30 08:55:07,878 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:55:07,878 Line:5853 17:0
 [DEBUG] 2018-01-30 08:55:07,879 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:55:07,879 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:55:07,880 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:55:07,880 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:55:07,881 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:55:07,881 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:55:07,882 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:55:07,882 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:55:07,883 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:55:07,883 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:55:07,883 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:55:07,884 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:55:07,884 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:55:07,885 Line:5853 31:
 [DEBUG] 2018-01-30 08:55:07,885 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:55:07,886 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:55:07,886 Line:5853 34:0
 [DEBUG] 2018-01-30 08:55:07,887 Line:5853 35:0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 40:1
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 41:0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 48:
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 53:
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:55:07,888 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:55:08,010 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300855078210035' order by detOrderNo
 [DEBUG] 2018-01-30 08:55:08,021 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300855078210035;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:55:08,080 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300855078210035&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 08:55:08,081 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300855078210035,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:55:08,088 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300855078210035' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:55:08,179 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300855078210035' order by detOrderNo
 [DEBUG] 2018-01-30 08:56:15,046 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-30 08:56:15,048 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[1,1,];keyId=[1b63e5ab_1801300855078210035,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936571710021,];currNode=[0,];department=[00101,];fromAdvice=[,];approveStatus=[,];noback=[false,];toPage=[,];fromPage=[,];tableName=[tblSalesOrder,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1515926119185,];checkPerson=[2cf86be0_1712291628149430079,];
 [DEBUG] 2018-01-30 08:56:15,049 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300855078210035' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:56:15,139 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300855078210035' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:56:15,303 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300855078210035' order by detOrderNo
 [DEBUG] 2018-01-30 08:56:16,827 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300855078210035&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 08:56:16,828 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300855078210035,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 08:56:16,833 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300855078210035' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:56:16,853 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300855078210035' order by detOrderNo
 [DEBUG] 2018-01-30 08:56:37,270 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:56:37,272 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:56:46,738 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:56:46,739 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:56:46,940 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:56:46,941 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:56:46,942 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 08:56:46,944 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:56:46,944 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:56:46,957 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:56:50,356 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 08:56:50,357 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 08:56:50,606 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:56:50,606 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:56:50,607 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 08:56:50,608 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:56:50,610 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:56:50,675 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:56:53,261 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 08:56:53,262 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 08:56:53,493 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 08:56:53,494 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 08:56:53,495 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 08:56:53,496 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 08:56:53,499 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 08:56:53,505 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 08:57:03,301 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 08:57:03,304 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300042,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 08:56:37,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 08:56:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 08:57:03,307 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 08:57:03,350 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:57:03,351 Line:5853 1:;1;
 [DEBUG] 2018-01-30 08:57:03,352 Line:5853 2:0
 [DEBUG] 2018-01-30 08:57:03,353 Line:5853 3:1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 08:57:03,354 Line:5853 4:00001
 [DEBUG] 2018-01-30 08:57:03,354 Line:5853 5:SO1801300042
 [DEBUG] 2018-01-30 08:57:03,356 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 08:57:03,356 Line:5853 7:00001
 [DEBUG] 2018-01-30 08:57:03,358 Line:5853 8:00101
 [DEBUG] 2018-01-30 08:57:03,359 Line:5853 9:1
 [DEBUG] 2018-01-30 08:57:03,360 Line:5853 10:00001
 [DEBUG] 2018-01-30 08:57:03,361 Line:5853 11:
 [DEBUG] 2018-01-30 08:57:03,362 Line:5853 12:0.0
 [DEBUG] 2018-01-30 08:57:03,364 Line:5853 13:
 [DEBUG] 2018-01-30 08:57:03,365 Line:5853 14:
 [DEBUG] 2018-01-30 08:57:03,365 Line:5853 15:0.0
 [DEBUG] 2018-01-30 08:57:03,366 Line:5853 16:3
 [DEBUG] 2018-01-30 08:57:03,367 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 08:57:03,368 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:57:03,369 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:57:03,370 Line:5853 20:0
 [DEBUG] 2018-01-30 08:57:03,371 Line:5853 21:
 [DEBUG] 2018-01-30 08:57:03,371 Line:5853 22:1
 [DEBUG] 2018-01-30 08:57:03,373 Line:5853 23:1
 [DEBUG] 2018-01-30 08:57:03,374 Line:5853 24:2018
 [DEBUG] 2018-01-30 08:57:03,374 Line:5853 25:0.0
 [DEBUG] 2018-01-30 08:57:03,375 Line:5853 26:
 [DEBUG] 2018-01-30 08:57:03,376 Line:5853 27:
 [DEBUG] 2018-01-30 08:57:03,376 Line:5853 28:
 [DEBUG] 2018-01-30 08:57:03,377 Line:5853 29:
 [DEBUG] 2018-01-30 08:57:03,379 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:57:03,380 Line:5853 31:0
 [DEBUG] 2018-01-30 08:57:03,381 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:57:03,382 Line:5853 33:
 [DEBUG] 2018-01-30 08:57:03,382 Line:5853 34:
 [DEBUG] 2018-01-30 08:57:03,383 Line:5853 35:
 [DEBUG] 2018-01-30 08:57:03,384 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:57:03,385 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:57:03,386 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:57:03,386 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:57:03,387 Line:5853 40:100.0
 [DEBUG] 2018-01-30 08:57:03,387 Line:5853 41:0.0
 [DEBUG] 2018-01-30 08:57:03,388 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:57:03,388 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:57:03,389 Line:5853 44:1.0
 [DEBUG] 2018-01-30 08:57:03,389 Line:5853 45:1.0
 [DEBUG] 2018-01-30 08:57:03,390 Line:5853 46:1.0
 [DEBUG] 2018-01-30 08:57:03,390 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:57:03,391 Line:5853 48:0.0
 [DEBUG] 2018-01-30 08:57:03,391 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:57:03,391 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:57:03,392 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:57:03,392 Line:5853 52:1.0
 [DEBUG] 2018-01-30 08:57:03,393 Line:5853 53:
 [DEBUG] 2018-01-30 08:57:03,393 Line:5853 54:1
 [DEBUG] 2018-01-30 08:57:03,394 Line:5853 55:2018-01-30 08:56:37
 [DEBUG] 2018-01-30 08:57:03,394 Line:5853 56:0
 [DEBUG] 2018-01-30 08:57:03,395 Line:5853 57:0
 [DEBUG] 2018-01-30 08:57:03,396 Line:5853 58:0
 [DEBUG] 2018-01-30 08:57:03,397 Line:5853 59:draft
 [DEBUG] 2018-01-30 08:57:03,397 Line:5853 60:
 [DEBUG] 2018-01-30 08:57:03,398 Line:5853 61:1
 [DEBUG] 2018-01-30 08:57:03,398 Line:5853 62:2018-01-30 08:56:37
 [DEBUG] 2018-01-30 08:57:03,414 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 08:57:03,415 Line:5853 1:1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 08:57:03,415 Line:5853 2:1b63e5ab_1801300857034130041
 [DEBUG] 2018-01-30 08:57:03,416 Line:5853 3:
 [DEBUG] 2018-01-30 08:57:03,417 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 08:57:03,418 Line:5853 5:
 [DEBUG] 2018-01-30 08:57:03,419 Line:5853 6:
 [DEBUG] 2018-01-30 08:57:03,420 Line:5853 7:
 [DEBUG] 2018-01-30 08:57:03,420 Line:5853 8:
 [DEBUG] 2018-01-30 08:57:03,421 Line:5853 9:
 [DEBUG] 2018-01-30 08:57:03,422 Line:5853 10:
 [DEBUG] 2018-01-30 08:57:03,423 Line:5853 11:1.0
 [DEBUG] 2018-01-30 08:57:03,424 Line:5853 12:1.0
 [DEBUG] 2018-01-30 08:57:03,424 Line:5853 13:1.0
 [DEBUG] 2018-01-30 08:57:03,425 Line:5853 14:0.0
 [DEBUG] 2018-01-30 08:57:03,426 Line:5853 15:0
 [DEBUG] 2018-01-30 08:57:03,426 Line:5853 16:0.0
 [DEBUG] 2018-01-30 08:57:03,427 Line:5853 17:0
 [DEBUG] 2018-01-30 08:57:03,428 Line:5853 18:0.0
 [DEBUG] 2018-01-30 08:57:03,429 Line:5853 19:0.0
 [DEBUG] 2018-01-30 08:57:03,430 Line:5853 20:0.0
 [DEBUG] 2018-01-30 08:57:03,430 Line:5853 21:100.0
 [DEBUG] 2018-01-30 08:57:03,431 Line:5853 22:1.0
 [DEBUG] 2018-01-30 08:57:03,432 Line:5853 23:1.0
 [DEBUG] 2018-01-30 08:57:03,433 Line:5853 24:0.0
 [DEBUG] 2018-01-30 08:57:03,433 Line:5853 25:1.0
 [DEBUG] 2018-01-30 08:57:03,434 Line:5853 26:1.0
 [DEBUG] 2018-01-30 08:57:03,435 Line:5853 27:0.0
 [DEBUG] 2018-01-30 08:57:03,436 Line:5853 28:1.0
 [DEBUG] 2018-01-30 08:57:03,437 Line:5853 29:1.0
 [DEBUG] 2018-01-30 08:57:03,437 Line:5853 30:0.0
 [DEBUG] 2018-01-30 08:57:03,438 Line:5853 31:
 [DEBUG] 2018-01-30 08:57:03,439 Line:5853 32:0.0
 [DEBUG] 2018-01-30 08:57:03,440 Line:5853 33:0.0
 [DEBUG] 2018-01-30 08:57:03,441 Line:5853 34:0
 [DEBUG] 2018-01-30 08:57:03,442 Line:5853 35:0
 [DEBUG] 2018-01-30 08:57:03,442 Line:5853 36:0.0
 [DEBUG] 2018-01-30 08:57:03,443 Line:5853 37:0.0
 [DEBUG] 2018-01-30 08:57:03,444 Line:5853 38:0.0
 [DEBUG] 2018-01-30 08:57:03,445 Line:5853 39:0.0
 [DEBUG] 2018-01-30 08:57:03,445 Line:5853 40:1
 [DEBUG] 2018-01-30 08:57:03,448 Line:5853 41:0
 [DEBUG] 2018-01-30 08:57:03,449 Line:5853 42:0.0
 [DEBUG] 2018-01-30 08:57:03,449 Line:5853 43:0.0
 [DEBUG] 2018-01-30 08:57:03,450 Line:5853 44:0.0
 [DEBUG] 2018-01-30 08:57:03,451 Line:5853 45:00101
 [DEBUG] 2018-01-30 08:57:03,452 Line:5853 46:0.0
 [DEBUG] 2018-01-30 08:57:03,453 Line:5853 47:0.0
 [DEBUG] 2018-01-30 08:57:03,453 Line:5853 48:
 [DEBUG] 2018-01-30 08:57:03,454 Line:5853 49:0.0
 [DEBUG] 2018-01-30 08:57:03,455 Line:5853 50:0.0
 [DEBUG] 2018-01-30 08:57:03,456 Line:5853 51:0.0
 [DEBUG] 2018-01-30 08:57:03,456 Line:5853 52:0.0
 [DEBUG] 2018-01-30 08:57:03,456 Line:5853 53:
 [DEBUG] 2018-01-30 08:57:03,457 Line:5853 54:0.0
 [DEBUG] 2018-01-30 08:57:03,458 Line:5853 55:00001
 [DEBUG] 2018-01-30 08:57:03,608 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 08:57:03,624 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300857033320040;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 08:57:05,344 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300857033320040&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 08:57:05,345 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300857033320040,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 08:57:05,346 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300857033320040' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 08:57:05,399 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:04:05,441 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:04:05,444 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[quoteDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300857033320040,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300857033320040,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300042,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 08:56:37,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 08:56:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300857034130041,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:04:17,380 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:04:17,405 Line:5565 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 09:04:17,430 Line:5587 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 09:04:17,437 Line:5609 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:04:17,451 Line:5639 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 09:04:17,468 Line:5647 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 09:04:17,470 Line:5653 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 09:04:17,491 Line:5659 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 09:04:17,513 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:04:17,514 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:04:17,514 Line:5853 2:0
 [DEBUG] 2018-01-30 09:04:17,515 Line:5853 3:1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 09:04:17,515 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:04:17,516 Line:5853 5:SO1801300042
 [DEBUG] 2018-01-30 09:04:17,516 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:04:17,517 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:04:17,517 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:04:17,518 Line:5853 9:1
 [DEBUG] 2018-01-30 09:04:17,518 Line:5853 10:00001
 [DEBUG] 2018-01-30 09:04:17,519 Line:5853 11:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 13:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 14:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 16:3
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 20:0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 21:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 22:1
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 23:1
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 26:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 27:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 28:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 29:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 31:0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 33:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 34:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 35:
 [DEBUG] 2018-01-30 09:04:17,520 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 53:
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 54:1
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 55:2018-01-30 08:56:37
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 56:0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 57:0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 58:0
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 60:
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 61:1
 [DEBUG] 2018-01-30 09:04:17,536 Line:5853 62:2018-01-30 08:56:37
 [DEBUG] 2018-01-30 09:04:17,560 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:04:17,561 Line:5853 1:1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 09:04:17,561 Line:5853 2:1b63e5ab_1801300904175590044
 [DEBUG] 2018-01-30 09:04:17,562 Line:5853 3:
 [DEBUG] 2018-01-30 09:04:17,563 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:04:17,563 Line:5853 5:
 [DEBUG] 2018-01-30 09:04:17,564 Line:5853 6:
 [DEBUG] 2018-01-30 09:04:17,565 Line:5853 7:
 [DEBUG] 2018-01-30 09:04:17,565 Line:5853 8:
 [DEBUG] 2018-01-30 09:04:17,566 Line:5853 9:
 [DEBUG] 2018-01-30 09:04:17,566 Line:5853 10:
 [DEBUG] 2018-01-30 09:04:17,566 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:04:17,567 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:04:17,567 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:04:17,568 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:04:17,568 Line:5853 15:0
 [DEBUG] 2018-01-30 09:04:17,569 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:04:17,569 Line:5853 17:0
 [DEBUG] 2018-01-30 09:04:17,569 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:04:17,570 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:04:17,571 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:04:17,572 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:04:17,572 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:04:17,572 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:04:17,573 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:04:17,573 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:04:17,574 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:04:17,574 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:04:17,575 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:04:17,575 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:04:17,576 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:04:17,576 Line:5853 31:
 [DEBUG] 2018-01-30 09:04:17,576 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:04:17,577 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:04:17,577 Line:5853 34:0
 [DEBUG] 2018-01-30 09:04:17,578 Line:5853 35:0
 [DEBUG] 2018-01-30 09:04:17,578 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:04:17,579 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:04:17,579 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:04:17,580 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:04:17,580 Line:5853 40:1
 [DEBUG] 2018-01-30 09:04:17,580 Line:5853 41:0
 [DEBUG] 2018-01-30 09:04:17,581 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:04:17,581 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:04:17,582 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:04:17,582 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:04:17,583 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:04:17,583 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:04:17,583 Line:5853 48:
 [DEBUG] 2018-01-30 09:04:17,584 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:04:17,584 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:04:17,585 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:04:17,585 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:04:17,586 Line:5853 53:
 [DEBUG] 2018-01-30 09:04:17,586 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:04:17,587 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:04:17,614 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 09:04:17,615 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 09:04:17,615 Line:988 1值：
 [DEBUG] 2018-01-30 09:04:17,622 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 09:04:17,623 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 09:04:17,628 Line:321 flag:true
 [DEBUG] 2018-01-30 09:04:17,629 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 09:04:17,629 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 09:04:24,404 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:04:24,407 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300857033320040,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300857033320040,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300042,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 08:56:37,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 08:56:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300857034130041,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:04:35,100 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:04:35,209 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 09:04:35,233 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 09:04:35,233 Line:5993 1:SO1801300042
 [DEBUG] 2018-01-30 09:04:35,233 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 09:04:35,233 Line:5993 3:00001
 [DEBUG] 2018-01-30 09:04:35,233 Line:5993 4:00101
 [DEBUG] 2018-01-30 09:04:35,249 Line:5993 5:1
 [DEBUG] 2018-01-30 09:04:35,249 Line:5993 6:00001
 [DEBUG] 2018-01-30 09:04:35,250 Line:5993 7:
 [DEBUG] 2018-01-30 09:04:35,251 Line:5993 8:0.0
 [DEBUG] 2018-01-30 09:04:35,253 Line:5993 9:
 [DEBUG] 2018-01-30 09:04:35,254 Line:5993 10:
 [DEBUG] 2018-01-30 09:04:35,255 Line:5993 11:0.0
 [DEBUG] 2018-01-30 09:04:35,256 Line:5993 12:3
 [DEBUG] 2018-01-30 09:04:35,256 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 09:04:35,257 Line:5993 14:0
 [DEBUG] 2018-01-30 09:04:35,258 Line:5993 15:1
 [DEBUG] 2018-01-30 09:04:35,259 Line:5993 16:1
 [DEBUG] 2018-01-30 09:04:35,260 Line:5993 17:2018
 [DEBUG] 2018-01-30 09:04:35,261 Line:5993 18:
 [DEBUG] 2018-01-30 09:04:35,262 Line:5993 19:
 [DEBUG] 2018-01-30 09:04:35,264 Line:5993 20:0.0
 [DEBUG] 2018-01-30 09:04:35,265 Line:5993 21:0.0
 [DEBUG] 2018-01-30 09:04:35,267 Line:5993 22:0.0
 [DEBUG] 2018-01-30 09:04:35,268 Line:5993 23:0.0
 [DEBUG] 2018-01-30 09:04:35,270 Line:5993 24:100.0
 [DEBUG] 2018-01-30 09:04:35,271 Line:5993 25:0.0
 [DEBUG] 2018-01-30 09:04:35,272 Line:5993 26:0.0
 [DEBUG] 2018-01-30 09:04:35,273 Line:5993 27:0.0
 [DEBUG] 2018-01-30 09:04:35,274 Line:5993 28:1.0
 [DEBUG] 2018-01-30 09:04:35,275 Line:5993 29:1.0
 [DEBUG] 2018-01-30 09:04:35,276 Line:5993 30:1.0
 [DEBUG] 2018-01-30 09:04:35,277 Line:5993 31:0.0
 [DEBUG] 2018-01-30 09:04:35,278 Line:5993 32:1.0
 [DEBUG] 2018-01-30 09:04:35,279 Line:5993 33:
 [DEBUG] 2018-01-30 09:04:35,280 Line:5993 34:1
 [DEBUG] 2018-01-30 09:04:35,281 Line:5993 35:2018-01-30 09:04:35
 [DEBUG] 2018-01-30 09:04:35,348 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:04:35,369 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:04:35,371 Line:5853 1:1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 09:04:35,372 Line:5853 2:1b63e5ab_1801300904353690045
 [DEBUG] 2018-01-30 09:04:35,373 Line:5853 3:
 [DEBUG] 2018-01-30 09:04:35,374 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:04:35,375 Line:5853 5:
 [DEBUG] 2018-01-30 09:04:35,375 Line:5853 6:
 [DEBUG] 2018-01-30 09:04:35,376 Line:5853 7:
 [DEBUG] 2018-01-30 09:04:35,377 Line:5853 8:
 [DEBUG] 2018-01-30 09:04:35,377 Line:5853 9:
 [DEBUG] 2018-01-30 09:04:35,378 Line:5853 10:
 [DEBUG] 2018-01-30 09:04:35,379 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:04:35,380 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:04:35,380 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:04:35,381 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:04:35,382 Line:5853 15:0
 [DEBUG] 2018-01-30 09:04:35,382 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:04:35,383 Line:5853 17:0
 [DEBUG] 2018-01-30 09:04:35,385 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:04:35,386 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:04:35,387 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:04:35,388 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:04:35,388 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:04:35,389 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:04:35,390 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:04:35,390 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:04:35,391 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:04:35,392 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:04:35,393 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:04:35,393 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:04:35,394 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:04:35,395 Line:5853 31:
 [DEBUG] 2018-01-30 09:04:35,395 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:04:35,396 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:04:35,397 Line:5853 34:0
 [DEBUG] 2018-01-30 09:04:35,398 Line:5853 35:0
 [DEBUG] 2018-01-30 09:04:35,398 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:04:35,399 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:04:35,400 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:04:35,401 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:04:35,402 Line:5853 40:1
 [DEBUG] 2018-01-30 09:04:35,403 Line:5853 41:0
 [DEBUG] 2018-01-30 09:04:35,403 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:04:35,404 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:04:35,404 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:04:35,405 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:04:35,406 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:04:35,406 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:04:35,407 Line:5853 48:
 [DEBUG] 2018-01-30 09:04:35,408 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:04:35,408 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:04:35,409 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:04:35,409 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:04:35,410 Line:5853 53:
 [DEBUG] 2018-01-30 09:04:35,411 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:04:35,411 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:04:35,604 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:04:37,232 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300857033320040&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:04:37,232 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300857033320040,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:04:39,739 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300857033320040' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:04:39,898 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:05:57,670 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 09:05:57,672 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 09:05:57,675 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:05:58,147 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 09:05:58,148 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 09:05:58,192 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 09:05:58,193 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:05:58,194 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:05:58,221 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 09:05:58,222 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:05:58,224 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:05:58,241 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 09:05:58,242 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:05:58,244 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:05:58,262 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 09:05:58,263 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:05:58,265 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:06:00,558 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 09:06:00,559 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:06:00,560 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 09:06:00,698 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 09:06:00,701 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 09:06:00,701 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 09:06:00,990 Line:689 通过SQL读原始数据：290
 [DEBUG] 2018-01-30 09:06:00,993 Line:1391 整理数据：2
 [DEBUG] 2018-01-30 09:06:02,759 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=1b63e5ab_1801300857033320040&moduleType=&f_brother=&operation=5&winCurIndex=1&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:06:02,760 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[1b63e5ab_1801300857033320040,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[1,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:06:02,763 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300857033320040' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:06:02,898 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:06:04,105 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 09:06:05,989 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:06:05,992 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300857033320040,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300857033320040,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300042,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 09:04:35,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 08:56:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300904353690045,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:06:06,012 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:06:06,062 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 09:06:06,075 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 09:06:06,076 Line:5993 1:SO1801300042
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 3:00001
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 4:00101
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 5:1
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 6:00001
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 7:
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 8:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 9:
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 10:
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 11:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 12:3
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 14:0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 15:1
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 16:1
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 17:2018
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 18:
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 19:
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 20:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 21:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 22:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 23:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 24:100.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 25:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 26:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 27:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 28:1.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 29:1.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 30:1.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 31:0.0
 [DEBUG] 2018-01-30 09:06:06,077 Line:5993 32:1.0
 [DEBUG] 2018-01-30 09:06:06,093 Line:5993 33:
 [DEBUG] 2018-01-30 09:06:06,095 Line:5993 34:1
 [DEBUG] 2018-01-30 09:06:06,096 Line:5993 35:2018-01-30 09:06:06
 [DEBUG] 2018-01-30 09:06:06,132 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:06:06,141 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:06:06,142 Line:5853 1:1b63e5ab_1801300857033320040
 [DEBUG] 2018-01-30 09:06:06,143 Line:5853 2:1b63e5ab_1801300906061410047
 [DEBUG] 2018-01-30 09:06:06,144 Line:5853 3:
 [DEBUG] 2018-01-30 09:06:06,144 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:06:06,145 Line:5853 5:
 [DEBUG] 2018-01-30 09:06:06,145 Line:5853 6:
 [DEBUG] 2018-01-30 09:06:06,146 Line:5853 7:
 [DEBUG] 2018-01-30 09:06:06,146 Line:5853 8:
 [DEBUG] 2018-01-30 09:06:06,147 Line:5853 9:
 [DEBUG] 2018-01-30 09:06:06,147 Line:5853 10:
 [DEBUG] 2018-01-30 09:06:06,148 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:06:06,149 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:06:06,149 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:06:06,150 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:06:06,151 Line:5853 15:0
 [DEBUG] 2018-01-30 09:06:06,151 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:06:06,152 Line:5853 17:0
 [DEBUG] 2018-01-30 09:06:06,153 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:06:06,154 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:06:06,154 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:06:06,155 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:06:06,156 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:06:06,156 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:06:06,157 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:06:06,158 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:06:06,159 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:06:06,160 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:06:06,161 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:06:06,162 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:06:06,163 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:06:06,164 Line:5853 31:
 [DEBUG] 2018-01-30 09:06:06,164 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:06:06,165 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:06:06,166 Line:5853 34:0
 [DEBUG] 2018-01-30 09:06:06,166 Line:5853 35:0
 [DEBUG] 2018-01-30 09:06:06,167 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:06:06,167 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:06:06,168 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:06:06,168 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:06:06,169 Line:5853 40:1
 [DEBUG] 2018-01-30 09:06:06,170 Line:5853 41:0
 [DEBUG] 2018-01-30 09:06:06,170 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:06:06,171 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:06:06,171 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:06:06,172 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:06:06,173 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:06:06,174 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:06:06,175 Line:5853 48:
 [DEBUG] 2018-01-30 09:06:06,175 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:06:06,176 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:06:06,177 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:06:06,178 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:06:06,178 Line:5853 53:
 [DEBUG] 2018-01-30 09:06:06,179 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:06:06,180 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:06:06,218 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:06:07,796 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300857033320040&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:06:07,797 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300857033320040,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:06:07,798 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300857033320040' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:06:07,813 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 09:06:12,291 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:06:12,292 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:06:15,143 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:06:15,144 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:06:15,237 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:06:15,238 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:06:15,238 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:06:15,238 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:06:15,241 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:06:15,255 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:06:25,945 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:06:25,947 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300043,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[0,];TotalTaxAmount=[0,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[0,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:06:12,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:06:12,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[,];tblSalesOrderDet_tblGoods_GoodsFullName=[,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[,];tblSalesOrderDet_ViewVirtualStock_UseQty=[,];tblSalesOrderDet_Qty=[,];tblSalesOrderDet_Price=[,];tblSalesOrderDet_Amount=[,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[0,];tblSalesOrderDet_DisBackAmt=[0,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[0,];tblSalesOrderDet_TaxAmount=[0,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[0,];tblSalesOrderDet_CurAmount=[0,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:06:25,949 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:06:25,969 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:06:25,970 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:06:25,970 Line:5853 2:0
 [DEBUG] 2018-01-30 09:06:25,971 Line:5853 3:1b63e5ab_1801300906259560049
 [DEBUG] 2018-01-30 09:06:25,971 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:06:25,972 Line:5853 5:SO1801300043
 [DEBUG] 2018-01-30 09:06:25,972 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:06:25,973 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:06:25,973 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:06:25,974 Line:5853 9:1
 [DEBUG] 2018-01-30 09:06:25,975 Line:5853 10:
 [DEBUG] 2018-01-30 09:06:25,975 Line:5853 11:
 [DEBUG] 2018-01-30 09:06:25,976 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:06:25,976 Line:5853 13:
 [DEBUG] 2018-01-30 09:06:25,977 Line:5853 14:
 [DEBUG] 2018-01-30 09:06:25,977 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:06:25,977 Line:5853 16:3
 [DEBUG] 2018-01-30 09:06:25,978 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:06:25,978 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:06:25,979 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:06:25,979 Line:5853 20:0
 [DEBUG] 2018-01-30 09:06:25,980 Line:5853 21:
 [DEBUG] 2018-01-30 09:06:25,980 Line:5853 22:1
 [DEBUG] 2018-01-30 09:06:25,981 Line:5853 23:1
 [DEBUG] 2018-01-30 09:06:25,981 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:06:25,982 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:06:25,983 Line:5853 26:
 [DEBUG] 2018-01-30 09:06:25,984 Line:5853 27:
 [DEBUG] 2018-01-30 09:06:25,984 Line:5853 28:
 [DEBUG] 2018-01-30 09:06:25,985 Line:5853 29:
 [DEBUG] 2018-01-30 09:06:25,986 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:06:25,986 Line:5853 31:0
 [DEBUG] 2018-01-30 09:06:25,987 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:06:25,988 Line:5853 33:
 [DEBUG] 2018-01-30 09:06:25,988 Line:5853 34:
 [DEBUG] 2018-01-30 09:06:25,989 Line:5853 35:
 [DEBUG] 2018-01-30 09:06:25,991 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:06:25,992 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:06:25,993 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:06:25,993 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:06:25,994 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:06:25,994 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:06:25,995 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:06:25,995 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:06:25,996 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:06:25,996 Line:5853 45:0.0
 [DEBUG] 2018-01-30 09:06:25,997 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:06:25,997 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:06:25,998 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:06:25,998 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:06:25,999 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:06:25,999 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:06:26,000 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:06:26,000 Line:5853 53:
 [DEBUG] 2018-01-30 09:06:26,001 Line:5853 54:1
 [DEBUG] 2018-01-30 09:06:26,001 Line:5853 55:2018-01-30 09:06:12
 [DEBUG] 2018-01-30 09:06:26,002 Line:5853 56:0
 [DEBUG] 2018-01-30 09:06:26,002 Line:5853 57:0
 [DEBUG] 2018-01-30 09:06:26,003 Line:5853 58:0
 [DEBUG] 2018-01-30 09:06:26,003 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:06:26,004 Line:5853 60:
 [DEBUG] 2018-01-30 09:06:26,004 Line:5853 61:1
 [DEBUG] 2018-01-30 09:06:26,005 Line:5853 62:2018-01-30 09:06:12
 [DEBUG] 2018-01-30 09:06:26,122 Line:2014 DynDBManager.getRefSql:弹出窗ClientInVoiceWithAcceptDateOrder: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1 and tblCompany.classCode = '00001' and case when tblCompany.Discount>0 then tblCompany.Discount else 100 end = '100.00000000' and case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end = '00101' and case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end = '1'   and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
 [DEBUG] 2018-01-30 09:06:26,123 Line:1004  select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1 and tblCompany.classCode = '00001' and case when tblCompany.Discount>0 then tblCompany.Discount else 100 end = '100.00000000' and case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end = '00101' and case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end = '1'   and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
 [DEBUG] 2018-01-30 09:06:26,134 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 09:06:26,135 Line:1004  select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 09:06:26,140 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 09:06:26,141 Line:1004  select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 09:06:26,156 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300906259560049' order by detOrderNo
 [DEBUG] 2018-01-30 09:06:26,158 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300906259560049;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:06:27,728 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300906259560049&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:06:27,729 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300906259560049,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:06:27,730 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300906259560049' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:06:27,763 Line:2014 DynDBManager.getRefSql:弹出窗ClientInVoiceWithAcceptDateOrder: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1 and tblCompany.classCode = '00001' and case when tblCompany.Discount>0 then tblCompany.Discount else 100 end = '100.00000000' and case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end = '00101' and case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end = '1'   and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
 [DEBUG] 2018-01-30 09:06:27,764 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=CompanyCode;弹出窗=ClientInVoiceWithAcceptDateOrder;sql= select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1 and tblCompany.classCode = '00001' and case when tblCompany.Discount>0 then tblCompany.Discount else 100 end = '100.00000000' and case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end = '00101' and case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end = '1'   and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
 [DEBUG] 2018-01-30 09:06:27,766 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 09:06:27,767 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 09:06:27,770 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 09:06:27,770 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 09:06:27,775 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300906259560049' order by detOrderNo
 [DEBUG] 2018-01-30 09:06:55,433 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:06:55,435 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:06:55,535 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:06:55,536 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:06:55,537 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:06:55,540 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:06:55,542 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:06:55,568 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:07:02,189 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:07:02,190 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:07:02,272 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:07:02,273 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:07:02,273 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 09:07:02,274 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:07:02,277 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:07:02,287 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:07:07,186 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:07:07,188 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300906259560049,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300906259560049,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300043,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 09:06:12,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 09:06:12,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:07:07,390 Line:2014 DynDBManager.getRefSql:弹出窗ClientInVoiceWithAcceptDateOrder: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1 and tblCompany.classCode = '00001' and case when tblCompany.Discount>0 then tblCompany.Discount else 100 end = '100.00000000' and case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end = '00101' and case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end = '1'   and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
 [DEBUG] 2018-01-30 09:07:07,391 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=CompanyCode;弹出窗=ClientInVoiceWithAcceptDateOrder;sql= select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1 and tblCompany.classCode = '00001' and case when tblCompany.Discount>0 then tblCompany.Discount else 100 end = '100.00000000' and case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end = '00101' and case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end = '1'   and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
 [DEBUG] 2018-01-30 09:07:07,402 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 09:07:07,402 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 09:07:07,410 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 09:07:07,411 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 09:07:07,429 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300906259560049' order by detOrderNo
 [DEBUG] 2018-01-30 09:07:07,483 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801300906259560049
 [DEBUG] 2018-01-30 09:07:07,513 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 09:07:07,513 Line:5993 1:SO1801300043
 [DEBUG] 2018-01-30 09:07:07,520 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 09:07:07,521 Line:5993 3:00001
 [DEBUG] 2018-01-30 09:07:07,522 Line:5993 4:00101
 [DEBUG] 2018-01-30 09:07:07,522 Line:5993 5:1
 [DEBUG] 2018-01-30 09:07:07,523 Line:5993 6:00001
 [DEBUG] 2018-01-30 09:07:07,524 Line:5993 7:
 [DEBUG] 2018-01-30 09:07:07,525 Line:5993 8:0.0
 [DEBUG] 2018-01-30 09:07:07,526 Line:5993 9:
 [DEBUG] 2018-01-30 09:07:07,527 Line:5993 10:
 [DEBUG] 2018-01-30 09:07:07,528 Line:5993 11:0.0
 [DEBUG] 2018-01-30 09:07:07,528 Line:5993 12:3
 [DEBUG] 2018-01-30 09:07:07,529 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 09:07:07,530 Line:5993 14:0
 [DEBUG] 2018-01-30 09:07:07,531 Line:5993 15:1
 [DEBUG] 2018-01-30 09:07:07,532 Line:5993 16:1
 [DEBUG] 2018-01-30 09:07:07,533 Line:5993 17:2018
 [DEBUG] 2018-01-30 09:07:07,533 Line:5993 18:
 [DEBUG] 2018-01-30 09:07:07,534 Line:5993 19:
 [DEBUG] 2018-01-30 09:07:07,534 Line:5993 20:0.0
 [DEBUG] 2018-01-30 09:07:07,535 Line:5993 21:0.0
 [DEBUG] 2018-01-30 09:07:07,535 Line:5993 22:0.0
 [DEBUG] 2018-01-30 09:07:07,536 Line:5993 23:0.0
 [DEBUG] 2018-01-30 09:07:07,536 Line:5993 24:100.0
 [DEBUG] 2018-01-30 09:07:07,537 Line:5993 25:0.0
 [DEBUG] 2018-01-30 09:07:07,537 Line:5993 26:0.0
 [DEBUG] 2018-01-30 09:07:07,538 Line:5993 27:0.0
 [DEBUG] 2018-01-30 09:07:07,538 Line:5993 28:1.0
 [DEBUG] 2018-01-30 09:07:07,539 Line:5993 29:1.0
 [DEBUG] 2018-01-30 09:07:07,539 Line:5993 30:1.0
 [DEBUG] 2018-01-30 09:07:07,540 Line:5993 31:0.0
 [DEBUG] 2018-01-30 09:07:07,541 Line:5993 32:1.0
 [DEBUG] 2018-01-30 09:07:07,541 Line:5993 33:
 [DEBUG] 2018-01-30 09:07:07,542 Line:5993 34:1
 [DEBUG] 2018-01-30 09:07:07,543 Line:5993 35:2018-01-30 09:07:07
 [DEBUG] 2018-01-30 09:07:07,577 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:07:07,607 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:07,608 Line:5853 1:1b63e5ab_1801300906259560049
 [DEBUG] 2018-01-30 09:07:07,609 Line:5853 2:1b63e5ab_1801300907076070052
 [DEBUG] 2018-01-30 09:07:07,609 Line:5853 3:
 [DEBUG] 2018-01-30 09:07:07,610 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:07:07,610 Line:5853 5:
 [DEBUG] 2018-01-30 09:07:07,611 Line:5853 6:
 [DEBUG] 2018-01-30 09:07:07,611 Line:5853 7:
 [DEBUG] 2018-01-30 09:07:07,612 Line:5853 8:
 [DEBUG] 2018-01-30 09:07:07,612 Line:5853 9:
 [DEBUG] 2018-01-30 09:07:07,613 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:07,613 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:07:07,614 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:07:07,615 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:07:07,616 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:07:07,617 Line:5853 15:0
 [DEBUG] 2018-01-30 09:07:07,617 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:07:07,618 Line:5853 17:0
 [DEBUG] 2018-01-30 09:07:07,619 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:07,619 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:07,620 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:07:07,621 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:07:07,621 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:07:07,622 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:07:07,622 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:07:07,623 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:07:07,624 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:07:07,624 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:07:07,625 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:07:07,625 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:07:07,626 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:07,626 Line:5853 31:
 [DEBUG] 2018-01-30 09:07:07,627 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:07,627 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:07:07,628 Line:5853 34:0
 [DEBUG] 2018-01-30 09:07:07,629 Line:5853 35:0
 [DEBUG] 2018-01-30 09:07:07,629 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:07,630 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:07,630 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:07,631 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:07,632 Line:5853 40:
 [DEBUG] 2018-01-30 09:07:07,632 Line:5853 41:0
 [DEBUG] 2018-01-30 09:07:07,633 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:07,633 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:07,634 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:07:07,634 Line:5853 45:
 [DEBUG] 2018-01-30 09:07:07,635 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:07:07,635 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:07,636 Line:5853 48:
 [DEBUG] 2018-01-30 09:07:07,636 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:07,637 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:07,637 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:07,638 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:07:07,639 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:07,639 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:07:07,640 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:07:07,675 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300906259560049' order by detOrderNo
 [DEBUG] 2018-01-30 09:07:09,276 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300906259560049&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:07:09,276 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300906259560049,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:07:09,285 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300906259560049' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:07:09,318 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300906259560049' order by detOrderNo
 [DEBUG] 2018-01-30 09:07:14,238 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:07:14,239 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:07:16,377 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:07:16,378 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:07:16,457 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:07:16,458 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:07:16,459 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:07:16,460 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:07:16,463 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:07:16,477 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:07:19,666 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:07:19,667 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:07:19,770 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:07:19,771 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:07:19,772 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:07:19,773 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:07:19,775 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:07:19,800 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:07:28,783 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:07:28,785 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300044,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:07:14,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:07:14,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:07:28,788 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:07:28,802 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:28,804 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:07:28,804 Line:5853 2:0
 [DEBUG] 2018-01-30 09:07:28,805 Line:5853 3:1b63e5ab_1801300907287940054
 [DEBUG] 2018-01-30 09:07:28,806 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:07:28,807 Line:5853 5:SO1801300044
 [DEBUG] 2018-01-30 09:07:28,808 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:07:28,809 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:07:28,810 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:07:28,812 Line:5853 9:1
 [DEBUG] 2018-01-30 09:07:28,812 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:28,814 Line:5853 11:
 [DEBUG] 2018-01-30 09:07:28,815 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:07:28,816 Line:5853 13:
 [DEBUG] 2018-01-30 09:07:28,816 Line:5853 14:
 [DEBUG] 2018-01-30 09:07:28,817 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:07:28,817 Line:5853 16:3
 [DEBUG] 2018-01-30 09:07:28,818 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:07:28,819 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:28,820 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:28,820 Line:5853 20:0
 [DEBUG] 2018-01-30 09:07:28,821 Line:5853 21:
 [DEBUG] 2018-01-30 09:07:28,821 Line:5853 22:1
 [DEBUG] 2018-01-30 09:07:28,822 Line:5853 23:1
 [DEBUG] 2018-01-30 09:07:28,822 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:07:28,823 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:07:28,823 Line:5853 26:
 [DEBUG] 2018-01-30 09:07:28,824 Line:5853 27:
 [DEBUG] 2018-01-30 09:07:28,826 Line:5853 28:
 [DEBUG] 2018-01-30 09:07:28,827 Line:5853 29:
 [DEBUG] 2018-01-30 09:07:28,828 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:28,828 Line:5853 31:0
 [DEBUG] 2018-01-30 09:07:28,829 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:28,829 Line:5853 33:
 [DEBUG] 2018-01-30 09:07:28,829 Line:5853 34:
 [DEBUG] 2018-01-30 09:07:28,830 Line:5853 35:
 [DEBUG] 2018-01-30 09:07:28,830 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:28,831 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:28,832 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:28,832 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:28,833 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:07:28,834 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:07:28,835 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:28,835 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:28,835 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:07:28,836 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:07:28,836 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:07:28,837 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:28,837 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:07:28,838 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:28,838 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:28,838 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:28,839 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:07:28,839 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:28,840 Line:5853 54:1
 [DEBUG] 2018-01-30 09:07:28,841 Line:5853 55:2018-01-30 09:07:14
 [DEBUG] 2018-01-30 09:07:28,843 Line:5853 56:0
 [DEBUG] 2018-01-30 09:07:28,843 Line:5853 57:0
 [DEBUG] 2018-01-30 09:07:28,843 Line:5853 58:0
 [DEBUG] 2018-01-30 09:07:28,843 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:07:28,844 Line:5853 60:
 [DEBUG] 2018-01-30 09:07:28,844 Line:5853 61:1
 [DEBUG] 2018-01-30 09:07:28,845 Line:5853 62:2018-01-30 09:07:14
 [DEBUG] 2018-01-30 09:07:28,857 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:28,858 Line:5853 1:1b63e5ab_1801300907287940054
 [DEBUG] 2018-01-30 09:07:28,859 Line:5853 2:1b63e5ab_1801300907288570055
 [DEBUG] 2018-01-30 09:07:28,859 Line:5853 3:
 [DEBUG] 2018-01-30 09:07:28,860 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:07:28,860 Line:5853 5:
 [DEBUG] 2018-01-30 09:07:28,861 Line:5853 6:
 [DEBUG] 2018-01-30 09:07:28,861 Line:5853 7:
 [DEBUG] 2018-01-30 09:07:28,862 Line:5853 8:
 [DEBUG] 2018-01-30 09:07:28,862 Line:5853 9:
 [DEBUG] 2018-01-30 09:07:28,862 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:28,863 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:07:28,863 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:07:28,864 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:07:28,864 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:07:28,865 Line:5853 15:0
 [DEBUG] 2018-01-30 09:07:28,865 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:07:28,865 Line:5853 17:0
 [DEBUG] 2018-01-30 09:07:28,866 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:28,866 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:28,867 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:07:28,867 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:07:28,867 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:07:28,868 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:07:28,868 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:07:28,869 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:07:28,869 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:07:28,870 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:07:28,870 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:07:28,870 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:07:28,871 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:28,872 Line:5853 31:
 [DEBUG] 2018-01-30 09:07:28,872 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:28,873 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:07:28,873 Line:5853 34:0
 [DEBUG] 2018-01-30 09:07:28,874 Line:5853 35:0
 [DEBUG] 2018-01-30 09:07:28,874 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:28,875 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:28,876 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:28,876 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:28,876 Line:5853 40:1
 [DEBUG] 2018-01-30 09:07:28,876 Line:5853 41:0
 [DEBUG] 2018-01-30 09:07:28,876 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:28,878 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:28,878 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:07:28,879 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:07:28,880 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:07:28,880 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:28,881 Line:5853 48:
 [DEBUG] 2018-01-30 09:07:28,881 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:28,882 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:28,883 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:28,883 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:07:28,884 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:28,884 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:07:28,885 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:07:28,980 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907287940054' order by detOrderNo
 [DEBUG] 2018-01-30 09:07:28,984 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300907287940054;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:07:30,579 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300907287940054&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:07:30,579 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300907287940054,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:07:30,585 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300907287940054' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:07:30,618 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907287940054' order by detOrderNo
 [DEBUG] 2018-01-30 09:07:37,227 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:07:37,228 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:07:39,542 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:07:39,543 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:07:39,625 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:07:39,626 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:07:39,626 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:07:39,627 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:07:39,628 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:07:39,641 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:07:42,769 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:07:42,770 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:07:42,863 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:07:42,864 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:07:42,866 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:07:42,867 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:07:42,870 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:07:42,897 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:07:48,087 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:07:48,089 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300045,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:07:37,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:07:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:07:48,090 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:07:48,099 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:48,100 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:07:48,101 Line:5853 2:0
 [DEBUG] 2018-01-30 09:07:48,101 Line:5853 3:1b63e5ab_1801300907480960058
 [DEBUG] 2018-01-30 09:07:48,102 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:07:48,103 Line:5853 5:SO1801300045
 [DEBUG] 2018-01-30 09:07:48,104 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:07:48,104 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:07:48,105 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:07:48,106 Line:5853 9:1
 [DEBUG] 2018-01-30 09:07:48,107 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:48,107 Line:5853 11:
 [DEBUG] 2018-01-30 09:07:48,108 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:07:48,109 Line:5853 13:
 [DEBUG] 2018-01-30 09:07:48,111 Line:5853 14:
 [DEBUG] 2018-01-30 09:07:48,112 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:07:48,114 Line:5853 16:3
 [DEBUG] 2018-01-30 09:07:48,115 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:07:48,116 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:48,117 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:48,117 Line:5853 20:0
 [DEBUG] 2018-01-30 09:07:48,118 Line:5853 21:
 [DEBUG] 2018-01-30 09:07:48,119 Line:5853 22:1
 [DEBUG] 2018-01-30 09:07:48,121 Line:5853 23:1
 [DEBUG] 2018-01-30 09:07:48,123 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:07:48,123 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:07:48,124 Line:5853 26:
 [DEBUG] 2018-01-30 09:07:48,125 Line:5853 27:
 [DEBUG] 2018-01-30 09:07:48,126 Line:5853 28:
 [DEBUG] 2018-01-30 09:07:48,127 Line:5853 29:
 [DEBUG] 2018-01-30 09:07:48,127 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:48,128 Line:5853 31:0
 [DEBUG] 2018-01-30 09:07:48,129 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:48,130 Line:5853 33:
 [DEBUG] 2018-01-30 09:07:48,131 Line:5853 34:
 [DEBUG] 2018-01-30 09:07:48,131 Line:5853 35:
 [DEBUG] 2018-01-30 09:07:48,132 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:48,132 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:48,133 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:48,134 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:48,136 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:07:48,137 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:07:48,138 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:48,139 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:48,140 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:07:48,141 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:07:48,142 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:07:48,143 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:48,143 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:07:48,144 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:48,145 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:48,145 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:48,146 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:07:48,147 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:48,147 Line:5853 54:1
 [DEBUG] 2018-01-30 09:07:48,148 Line:5853 55:2018-01-30 09:07:37
 [DEBUG] 2018-01-30 09:07:48,149 Line:5853 56:0
 [DEBUG] 2018-01-30 09:07:48,149 Line:5853 57:0
 [DEBUG] 2018-01-30 09:07:48,150 Line:5853 58:0
 [DEBUG] 2018-01-30 09:07:48,151 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 09:07:48,152 Line:5853 60:
 [DEBUG] 2018-01-30 09:07:48,153 Line:5853 61:1
 [DEBUG] 2018-01-30 09:07:48,154 Line:5853 62:2018-01-30 09:07:37
 [DEBUG] 2018-01-30 09:07:48,159 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:48,160 Line:5853 1:1b63e5ab_1801300907480960058
 [DEBUG] 2018-01-30 09:07:48,161 Line:5853 2:1b63e5ab_1801300907481580059
 [DEBUG] 2018-01-30 09:07:48,161 Line:5853 3:
 [DEBUG] 2018-01-30 09:07:48,162 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:07:48,163 Line:5853 5:
 [DEBUG] 2018-01-30 09:07:48,164 Line:5853 6:
 [DEBUG] 2018-01-30 09:07:48,164 Line:5853 7:
 [DEBUG] 2018-01-30 09:07:48,165 Line:5853 8:
 [DEBUG] 2018-01-30 09:07:48,166 Line:5853 9:
 [DEBUG] 2018-01-30 09:07:48,167 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:48,167 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:07:48,168 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 15:0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 17:0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 31:
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 34:0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 35:0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:48,169 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:48,185 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:48,186 Line:5853 40:1
 [DEBUG] 2018-01-30 09:07:48,187 Line:5853 41:0
 [DEBUG] 2018-01-30 09:07:48,188 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:48,188 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:48,189 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:07:48,190 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:07:48,191 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:07:48,192 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:48,193 Line:5853 48:
 [DEBUG] 2018-01-30 09:07:48,193 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:48,194 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:48,195 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:48,196 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:07:48,197 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:48,199 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:07:48,200 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:07:48,217 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 09:07:48,218 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 09:07:48,220 Line:988 1值：
 [DEBUG] 2018-01-30 09:07:48,220 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-30 09:07:48,220 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 09:07:48,220 Line:321 flag:true
 [DEBUG] 2018-01-30 09:07:48,220 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 09:07:48,220 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 09:07:57,775 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:07:57,777 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300045,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:07:37,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:07:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:07:57,779 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:07:57,815 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:57,816 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:07:57,817 Line:5853 2:0
 [DEBUG] 2018-01-30 09:07:57,818 Line:5853 3:1b63e5ab_1801300907578040060
 [DEBUG] 2018-01-30 09:07:57,818 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:07:57,819 Line:5853 5:SO1801300045
 [DEBUG] 2018-01-30 09:07:57,820 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:07:57,820 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:07:57,821 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:07:57,822 Line:5853 9:1
 [DEBUG] 2018-01-30 09:07:57,822 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:57,823 Line:5853 11:
 [DEBUG] 2018-01-30 09:07:57,824 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:07:57,824 Line:5853 13:
 [DEBUG] 2018-01-30 09:07:57,826 Line:5853 14:
 [DEBUG] 2018-01-30 09:07:57,827 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:07:57,827 Line:5853 16:3
 [DEBUG] 2018-01-30 09:07:57,828 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:07:57,829 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:57,829 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:57,830 Line:5853 20:0
 [DEBUG] 2018-01-30 09:07:57,831 Line:5853 21:
 [DEBUG] 2018-01-30 09:07:57,831 Line:5853 22:1
 [DEBUG] 2018-01-30 09:07:57,832 Line:5853 23:1
 [DEBUG] 2018-01-30 09:07:57,833 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:07:57,834 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:07:57,835 Line:5853 26:
 [DEBUG] 2018-01-30 09:07:57,836 Line:5853 27:
 [DEBUG] 2018-01-30 09:07:57,836 Line:5853 28:
 [DEBUG] 2018-01-30 09:07:57,837 Line:5853 29:
 [DEBUG] 2018-01-30 09:07:57,837 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:57,838 Line:5853 31:0
 [DEBUG] 2018-01-30 09:07:57,838 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:57,839 Line:5853 33:
 [DEBUG] 2018-01-30 09:07:57,839 Line:5853 34:
 [DEBUG] 2018-01-30 09:07:57,840 Line:5853 35:
 [DEBUG] 2018-01-30 09:07:57,840 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:57,840 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:57,841 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:57,841 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:57,842 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:07:57,842 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:07:57,843 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:57,843 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:57,844 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:07:57,844 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:07:57,844 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:07:57,845 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:57,845 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:07:57,846 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:57,846 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:57,847 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:57,847 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:07:57,848 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:57,848 Line:5853 54:1
 [DEBUG] 2018-01-30 09:07:57,849 Line:5853 55:2018-01-30 09:07:37
 [DEBUG] 2018-01-30 09:07:57,849 Line:5853 56:0
 [DEBUG] 2018-01-30 09:07:57,850 Line:5853 57:0
 [DEBUG] 2018-01-30 09:07:57,850 Line:5853 58:0
 [DEBUG] 2018-01-30 09:07:57,851 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:07:57,851 Line:5853 60:
 [DEBUG] 2018-01-30 09:07:57,852 Line:5853 61:1
 [DEBUG] 2018-01-30 09:07:57,852 Line:5853 62:2018-01-30 09:07:37
 [DEBUG] 2018-01-30 09:07:57,863 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:07:57,864 Line:5853 1:1b63e5ab_1801300907578040060
 [DEBUG] 2018-01-30 09:07:57,864 Line:5853 2:1b63e5ab_1801300907578630061
 [DEBUG] 2018-01-30 09:07:57,865 Line:5853 3:
 [DEBUG] 2018-01-30 09:07:57,865 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:07:57,866 Line:5853 5:
 [DEBUG] 2018-01-30 09:07:57,866 Line:5853 6:
 [DEBUG] 2018-01-30 09:07:57,866 Line:5853 7:
 [DEBUG] 2018-01-30 09:07:57,867 Line:5853 8:
 [DEBUG] 2018-01-30 09:07:57,867 Line:5853 9:
 [DEBUG] 2018-01-30 09:07:57,868 Line:5853 10:
 [DEBUG] 2018-01-30 09:07:57,868 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:07:57,869 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:07:57,869 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:07:57,870 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:07:57,870 Line:5853 15:0
 [DEBUG] 2018-01-30 09:07:57,870 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:07:57,871 Line:5853 17:0
 [DEBUG] 2018-01-30 09:07:57,871 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:07:57,871 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:07:57,872 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:07:57,872 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:07:57,873 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:07:57,873 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:07:57,873 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:07:57,874 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:07:57,875 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:07:57,875 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:07:57,875 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:07:57,876 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:07:57,876 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:07:57,877 Line:5853 31:
 [DEBUG] 2018-01-30 09:07:57,877 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:07:57,878 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:07:57,878 Line:5853 34:0
 [DEBUG] 2018-01-30 09:07:57,879 Line:5853 35:0
 [DEBUG] 2018-01-30 09:07:57,879 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:07:57,881 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:07:57,881 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:07:57,882 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:07:57,882 Line:5853 40:1
 [DEBUG] 2018-01-30 09:07:57,883 Line:5853 41:0
 [DEBUG] 2018-01-30 09:07:57,883 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:07:57,884 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:07:57,885 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:07:57,886 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:07:57,886 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:07:57,887 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:07:57,888 Line:5853 48:
 [DEBUG] 2018-01-30 09:07:57,888 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:07:57,889 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:07:57,890 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:07:57,891 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:07:57,892 Line:5853 53:
 [DEBUG] 2018-01-30 09:07:57,892 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:07:57,893 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:07:58,027 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:07:58,042 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300907578040060;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:07:58,107 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300907578040060&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 09:07:58,107 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300907578040060,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:07:58,116 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300907578040060' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:07:58,227 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:01,141 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300907578040060&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 09:08:01,142 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300907578040060,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:08:01,143 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300907578040060' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:08:01,162 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:03,579 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:08:03,580 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300907578040060,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300907578040060,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300045,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 09:07:37,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 09:07:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300907578630061,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:08:03,617 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:03,640 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801300907578040060
 [DEBUG] 2018-01-30 09:08:03,654 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 09:08:03,655 Line:5993 1:SO1801300045
 [DEBUG] 2018-01-30 09:08:03,656 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 09:08:03,657 Line:5993 3:00001
 [DEBUG] 2018-01-30 09:08:03,658 Line:5993 4:00101
 [DEBUG] 2018-01-30 09:08:03,658 Line:5993 5:1
 [DEBUG] 2018-01-30 09:08:03,659 Line:5993 6:
 [DEBUG] 2018-01-30 09:08:03,660 Line:5993 7:
 [DEBUG] 2018-01-30 09:08:03,661 Line:5993 8:0.0
 [DEBUG] 2018-01-30 09:08:03,661 Line:5993 9:
 [DEBUG] 2018-01-30 09:08:03,662 Line:5993 10:
 [DEBUG] 2018-01-30 09:08:03,663 Line:5993 11:0.0
 [DEBUG] 2018-01-30 09:08:03,663 Line:5993 12:3
 [DEBUG] 2018-01-30 09:08:03,664 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 09:08:03,664 Line:5993 14:0
 [DEBUG] 2018-01-30 09:08:03,665 Line:5993 15:1
 [DEBUG] 2018-01-30 09:08:03,666 Line:5993 16:1
 [DEBUG] 2018-01-30 09:08:03,668 Line:5993 17:2018
 [DEBUG] 2018-01-30 09:08:03,668 Line:5993 18:
 [DEBUG] 2018-01-30 09:08:03,669 Line:5993 19:
 [DEBUG] 2018-01-30 09:08:03,669 Line:5993 20:0.0
 [DEBUG] 2018-01-30 09:08:03,670 Line:5993 21:0.0
 [DEBUG] 2018-01-30 09:08:03,671 Line:5993 22:0.0
 [DEBUG] 2018-01-30 09:08:03,671 Line:5993 23:0.0
 [DEBUG] 2018-01-30 09:08:03,672 Line:5993 24:100.0
 [DEBUG] 2018-01-30 09:08:03,672 Line:5993 25:0.0
 [DEBUG] 2018-01-30 09:08:03,672 Line:5993 26:0.0
 [DEBUG] 2018-01-30 09:08:03,673 Line:5993 27:0.0
 [DEBUG] 2018-01-30 09:08:03,673 Line:5993 28:1.0
 [DEBUG] 2018-01-30 09:08:03,674 Line:5993 29:1.0
 [DEBUG] 2018-01-30 09:08:03,674 Line:5993 30:1.0
 [DEBUG] 2018-01-30 09:08:03,675 Line:5993 31:0.0
 [DEBUG] 2018-01-30 09:08:03,675 Line:5993 32:1.0
 [DEBUG] 2018-01-30 09:08:03,675 Line:5993 33:
 [DEBUG] 2018-01-30 09:08:03,676 Line:5993 34:1
 [DEBUG] 2018-01-30 09:08:03,676 Line:5993 35:2018-01-30 09:08:03
 [DEBUG] 2018-01-30 09:08:03,705 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:08:03,714 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:08:03,717 Line:5853 1:1b63e5ab_1801300907578040060
 [DEBUG] 2018-01-30 09:08:03,717 Line:5853 2:1b63e5ab_1801300908037140064
 [DEBUG] 2018-01-30 09:08:03,718 Line:5853 3:
 [DEBUG] 2018-01-30 09:08:03,719 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:08:03,719 Line:5853 5:
 [DEBUG] 2018-01-30 09:08:03,720 Line:5853 6:
 [DEBUG] 2018-01-30 09:08:03,721 Line:5853 7:
 [DEBUG] 2018-01-30 09:08:03,721 Line:5853 8:
 [DEBUG] 2018-01-30 09:08:03,722 Line:5853 9:
 [DEBUG] 2018-01-30 09:08:03,723 Line:5853 10:
 [DEBUG] 2018-01-30 09:08:03,723 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:08:03,724 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:08:03,725 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:08:03,725 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:08:03,727 Line:5853 15:0
 [DEBUG] 2018-01-30 09:08:03,728 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:08:03,728 Line:5853 17:0
 [DEBUG] 2018-01-30 09:08:03,729 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:08:03,729 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:08:03,730 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:08:03,730 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:08:03,731 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:08:03,732 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:08:03,732 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:08:03,733 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:08:03,734 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:08:03,734 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:08:03,735 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:08:03,736 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:08:03,737 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:08:03,737 Line:5853 31:
 [DEBUG] 2018-01-30 09:08:03,738 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:08:03,738 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:08:03,739 Line:5853 34:0
 [DEBUG] 2018-01-30 09:08:03,739 Line:5853 35:0
 [DEBUG] 2018-01-30 09:08:03,740 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:08:03,740 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:08:03,740 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:08:03,741 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:08:03,741 Line:5853 40:1
 [DEBUG] 2018-01-30 09:08:03,742 Line:5853 41:0
 [DEBUG] 2018-01-30 09:08:03,742 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:08:03,743 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:08:03,743 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:08:03,744 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:08:03,744 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:08:03,745 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:08:03,745 Line:5853 48:
 [DEBUG] 2018-01-30 09:08:03,746 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:08:03,747 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:08:03,748 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:08:03,748 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:08:03,749 Line:5853 53:
 [DEBUG] 2018-01-30 09:08:03,749 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:08:03,750 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:08:03,758 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:05,343 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300907578040060&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=
 [DEBUG] 2018-01-30 09:08:05,343 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300907578040060,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[,];
 [DEBUG] 2018-01-30 09:08:05,350 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300907578040060' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:08:05,351 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:16,103 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:08:16,106 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300907578040060,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300907578040060,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300045,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 09:08:03,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 09:07:37,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300908037140064,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:08:16,133 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:16,152 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801300907578040060
 [DEBUG] 2018-01-30 09:08:16,157 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 09:08:16,158 Line:5993 1:SO1801300045
 [DEBUG] 2018-01-30 09:08:16,159 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 09:08:16,160 Line:5993 3:00001
 [DEBUG] 2018-01-30 09:08:16,160 Line:5993 4:00101
 [DEBUG] 2018-01-30 09:08:16,161 Line:5993 5:1
 [DEBUG] 2018-01-30 09:08:16,162 Line:5993 6:
 [DEBUG] 2018-01-30 09:08:16,163 Line:5993 7:
 [DEBUG] 2018-01-30 09:08:16,164 Line:5993 8:0.0
 [DEBUG] 2018-01-30 09:08:16,166 Line:5993 9:
 [DEBUG] 2018-01-30 09:08:16,167 Line:5993 10:
 [DEBUG] 2018-01-30 09:08:16,167 Line:5993 11:0.0
 [DEBUG] 2018-01-30 09:08:16,168 Line:5993 12:3
 [DEBUG] 2018-01-30 09:08:16,169 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 09:08:16,170 Line:5993 14:0
 [DEBUG] 2018-01-30 09:08:16,170 Line:5993 15:1
 [DEBUG] 2018-01-30 09:08:16,171 Line:5993 16:1
 [DEBUG] 2018-01-30 09:08:16,172 Line:5993 17:2018
 [DEBUG] 2018-01-30 09:08:16,172 Line:5993 18:
 [DEBUG] 2018-01-30 09:08:16,173 Line:5993 19:
 [DEBUG] 2018-01-30 09:08:16,173 Line:5993 20:0.0
 [DEBUG] 2018-01-30 09:08:16,174 Line:5993 21:0.0
 [DEBUG] 2018-01-30 09:08:16,174 Line:5993 22:0.0
 [DEBUG] 2018-01-30 09:08:16,175 Line:5993 23:0.0
 [DEBUG] 2018-01-30 09:08:16,175 Line:5993 24:100.0
 [DEBUG] 2018-01-30 09:08:16,176 Line:5993 25:0.0
 [DEBUG] 2018-01-30 09:08:16,177 Line:5993 26:0.0
 [DEBUG] 2018-01-30 09:08:16,177 Line:5993 27:0.0
 [DEBUG] 2018-01-30 09:08:16,178 Line:5993 28:1.0
 [DEBUG] 2018-01-30 09:08:16,179 Line:5993 29:1.0
 [DEBUG] 2018-01-30 09:08:16,179 Line:5993 30:1.0
 [DEBUG] 2018-01-30 09:08:16,181 Line:5993 31:0.0
 [DEBUG] 2018-01-30 09:08:16,182 Line:5993 32:1.0
 [DEBUG] 2018-01-30 09:08:16,183 Line:5993 33:
 [DEBUG] 2018-01-30 09:08:16,184 Line:5993 34:1
 [DEBUG] 2018-01-30 09:08:16,185 Line:5993 35:2018-01-30 09:08:16
 [DEBUG] 2018-01-30 09:08:16,187 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:08:16,190 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:08:16,191 Line:5853 1:1b63e5ab_1801300907578040060
 [DEBUG] 2018-01-30 09:08:16,192 Line:5853 2:1b63e5ab_1801300908161900066
 [DEBUG] 2018-01-30 09:08:16,192 Line:5853 3:
 [DEBUG] 2018-01-30 09:08:16,193 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:08:16,193 Line:5853 5:
 [DEBUG] 2018-01-30 09:08:16,194 Line:5853 6:
 [DEBUG] 2018-01-30 09:08:16,194 Line:5853 7:
 [DEBUG] 2018-01-30 09:08:16,195 Line:5853 8:
 [DEBUG] 2018-01-30 09:08:16,196 Line:5853 9:
 [DEBUG] 2018-01-30 09:08:16,196 Line:5853 10:
 [DEBUG] 2018-01-30 09:08:16,198 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:08:16,199 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:08:16,200 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:08:16,201 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:08:16,201 Line:5853 15:0
 [DEBUG] 2018-01-30 09:08:16,202 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:08:16,203 Line:5853 17:0
 [DEBUG] 2018-01-30 09:08:16,203 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:08:16,205 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:08:16,206 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:08:16,206 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:08:16,207 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:08:16,208 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:08:16,208 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:08:16,209 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:08:16,210 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:08:16,210 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:08:16,211 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:08:16,212 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:08:16,212 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:08:16,214 Line:5853 31:
 [DEBUG] 2018-01-30 09:08:16,215 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:08:16,216 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:08:16,216 Line:5853 34:0
 [DEBUG] 2018-01-30 09:08:16,217 Line:5853 35:0
 [DEBUG] 2018-01-30 09:08:16,218 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:08:16,219 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:08:16,219 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:08:16,220 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:08:16,221 Line:5853 40:1
 [DEBUG] 2018-01-30 09:08:16,221 Line:5853 41:0
 [DEBUG] 2018-01-30 09:08:16,222 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:08:16,223 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:08:16,224 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:08:16,224 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:08:16,225 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:08:16,226 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:08:16,226 Line:5853 48:
 [DEBUG] 2018-01-30 09:08:16,227 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:08:16,228 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:08:16,229 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:08:16,230 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:08:16,231 Line:5853 53:
 [DEBUG] 2018-01-30 09:08:16,231 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:08:16,232 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:08:16,242 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:08:17,927 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300907578040060&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=
 [DEBUG] 2018-01-30 09:08:17,928 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300907578040060,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[,];
 [DEBUG] 2018-01-30 09:08:17,929 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300907578040060' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:08:17,946 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 09:09:14,524 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 09:09:14,526 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 09:09:14,528 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:09:14,995 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 09:09:14,996 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 09:09:15,048 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 09:09:15,049 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:09:15,051 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:09:15,160 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 09:09:15,161 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:09:15,163 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:09:15,188 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 09:09:15,189 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:09:15,192 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:09:15,213 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 09:09:15,214 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:09:15,216 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:09:19,391 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 09:09:19,392 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:09:19,392 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 09:09:19,502 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 09:09:19,503 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 09:09:19,504 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 09:09:19,791 Line:689 通过SQL读原始数据：288
 [DEBUG] 2018-01-30 09:09:19,795 Line:1391 整理数据：3
 [DEBUG] 2018-01-30 09:09:21,757 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:09:21,758 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:09:24,138 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:09:24,138 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:09:24,223 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:09:24,224 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:09:24,225 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:09:24,225 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:09:24,227 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:09:24,243 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:09:26,908 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:09:26,909 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:09:26,991 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:09:26,992 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:09:26,993 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 09:09:26,993 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:09:26,996 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:09:27,003 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:09:29,045 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:09:29,046 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:09:29,142 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:09:29,143 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:09:29,144 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:09:29,144 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:09:29,146 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:09:29,169 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:09:36,612 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:09:36,614 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300046,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:09:21,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:09:21,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:09:36,616 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:09:36,643 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:09:36,644 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:09:36,644 Line:5853 2:0
 [DEBUG] 2018-01-30 09:09:36,645 Line:5853 3:1b63e5ab_1801300909366340068
 [DEBUG] 2018-01-30 09:09:36,646 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:09:36,646 Line:5853 5:SO1801300046
 [DEBUG] 2018-01-30 09:09:36,647 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:09:36,647 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:09:36,648 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:09:36,649 Line:5853 9:1
 [DEBUG] 2018-01-30 09:09:36,649 Line:5853 10:00001
 [DEBUG] 2018-01-30 09:09:36,650 Line:5853 11:
 [DEBUG] 2018-01-30 09:09:36,650 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:09:36,651 Line:5853 13:
 [DEBUG] 2018-01-30 09:09:36,652 Line:5853 14:
 [DEBUG] 2018-01-30 09:09:36,652 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:09:36,653 Line:5853 16:3
 [DEBUG] 2018-01-30 09:09:36,653 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:09:36,654 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:09:36,654 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:09:36,655 Line:5853 20:0
 [DEBUG] 2018-01-30 09:09:36,655 Line:5853 21:
 [DEBUG] 2018-01-30 09:09:36,655 Line:5853 22:1
 [DEBUG] 2018-01-30 09:09:36,656 Line:5853 23:1
 [DEBUG] 2018-01-30 09:09:36,656 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:09:36,657 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:09:36,657 Line:5853 26:
 [DEBUG] 2018-01-30 09:09:36,657 Line:5853 27:
 [DEBUG] 2018-01-30 09:09:36,658 Line:5853 28:
 [DEBUG] 2018-01-30 09:09:36,658 Line:5853 29:
 [DEBUG] 2018-01-30 09:09:36,659 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:09:36,659 Line:5853 31:0
 [DEBUG] 2018-01-30 09:09:36,660 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:09:36,660 Line:5853 33:
 [DEBUG] 2018-01-30 09:09:36,661 Line:5853 34:
 [DEBUG] 2018-01-30 09:09:36,662 Line:5853 35:
 [DEBUG] 2018-01-30 09:09:36,662 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:09:36,663 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:09:36,663 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:09:36,664 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:09:36,665 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:09:36,665 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:09:36,666 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:09:36,666 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:09:36,667 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:09:36,667 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:09:36,668 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:09:36,668 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:09:36,669 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:09:36,669 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:09:36,670 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:09:36,671 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:09:36,671 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:09:36,672 Line:5853 53:
 [DEBUG] 2018-01-30 09:09:36,672 Line:5853 54:1
 [DEBUG] 2018-01-30 09:09:36,673 Line:5853 55:2018-01-30 09:09:21
 [DEBUG] 2018-01-30 09:09:36,673 Line:5853 56:0
 [DEBUG] 2018-01-30 09:09:36,674 Line:5853 57:0
 [DEBUG] 2018-01-30 09:09:36,674 Line:5853 58:0
 [DEBUG] 2018-01-30 09:09:36,674 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 09:09:36,675 Line:5853 60:
 [DEBUG] 2018-01-30 09:09:36,675 Line:5853 61:1
 [DEBUG] 2018-01-30 09:09:36,676 Line:5853 62:2018-01-30 09:09:21
 [DEBUG] 2018-01-30 09:09:36,693 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 1:1b63e5ab_1801300909366340068
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 2:1b63e5ab_1801300909366930069
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 3:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 5:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 6:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 7:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 8:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 9:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 10:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 15:0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 17:0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 31:
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 34:0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 35:0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:09:36,693 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:09:36,709 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:09:36,709 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:09:36,710 Line:5853 40:1
 [DEBUG] 2018-01-30 09:09:36,710 Line:5853 41:0
 [DEBUG] 2018-01-30 09:09:36,711 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:09:36,712 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:09:36,712 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:09:36,713 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:09:36,714 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:09:36,714 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:09:36,714 Line:5853 48:
 [DEBUG] 2018-01-30 09:09:36,715 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:09:36,716 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:09:36,716 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:09:36,717 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:09:36,718 Line:5853 53:
 [DEBUG] 2018-01-30 09:09:36,718 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:09:36,719 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:09:36,740 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 09:09:36,741 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 09:09:36,741 Line:988 1值：
 [DEBUG] 2018-01-30 09:09:36,744 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-30 09:09:36,744 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 09:09:36,763 Line:321 flag:true
 [DEBUG] 2018-01-30 09:09:36,764 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 09:09:36,764 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 09:09:40,969 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:09:40,971 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300046,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:09:21,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:09:21,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:09:40,973 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:09:40,985 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:09:40,986 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:09:40,987 Line:5853 2:0
 [DEBUG] 2018-01-30 09:09:40,988 Line:5853 3:1b63e5ab_1801300909409820070
 [DEBUG] 2018-01-30 09:09:40,989 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:09:40,990 Line:5853 5:SO1801300046
 [DEBUG] 2018-01-30 09:09:40,991 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:09:40,992 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:09:40,994 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:09:40,996 Line:5853 9:1
 [DEBUG] 2018-01-30 09:09:40,996 Line:5853 10:00001
 [DEBUG] 2018-01-30 09:09:40,997 Line:5853 11:
 [DEBUG] 2018-01-30 09:09:40,997 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:09:40,998 Line:5853 13:
 [DEBUG] 2018-01-30 09:09:40,999 Line:5853 14:
 [DEBUG] 2018-01-30 09:09:40,999 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:09:41,000 Line:5853 16:3
 [DEBUG] 2018-01-30 09:09:41,001 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:09:41,002 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:09:41,002 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:09:41,002 Line:5853 20:0
 [DEBUG] 2018-01-30 09:09:41,003 Line:5853 21:
 [DEBUG] 2018-01-30 09:09:41,003 Line:5853 22:1
 [DEBUG] 2018-01-30 09:09:41,004 Line:5853 23:1
 [DEBUG] 2018-01-30 09:09:41,004 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:09:41,004 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:09:41,005 Line:5853 26:
 [DEBUG] 2018-01-30 09:09:41,005 Line:5853 27:
 [DEBUG] 2018-01-30 09:09:41,006 Line:5853 28:
 [DEBUG] 2018-01-30 09:09:41,006 Line:5853 29:
 [DEBUG] 2018-01-30 09:09:41,007 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:09:41,007 Line:5853 31:0
 [DEBUG] 2018-01-30 09:09:41,008 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:09:41,008 Line:5853 33:
 [DEBUG] 2018-01-30 09:09:41,009 Line:5853 34:
 [DEBUG] 2018-01-30 09:09:41,010 Line:5853 35:
 [DEBUG] 2018-01-30 09:09:41,011 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:09:41,011 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:09:41,012 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:09:41,012 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:09:41,013 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:09:41,013 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:09:41,014 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:09:41,014 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:09:41,015 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:09:41,015 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:09:41,016 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:09:41,016 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:09:41,016 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:09:41,017 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:09:41,018 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:09:41,019 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:09:41,019 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:09:41,021 Line:5853 53:
 [DEBUG] 2018-01-30 09:09:41,021 Line:5853 54:1
 [DEBUG] 2018-01-30 09:09:41,022 Line:5853 55:2018-01-30 09:09:21
 [DEBUG] 2018-01-30 09:09:41,022 Line:5853 56:0
 [DEBUG] 2018-01-30 09:09:41,023 Line:5853 57:0
 [DEBUG] 2018-01-30 09:09:41,023 Line:5853 58:0
 [DEBUG] 2018-01-30 09:09:41,024 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:09:41,024 Line:5853 60:
 [DEBUG] 2018-01-30 09:09:41,025 Line:5853 61:1
 [DEBUG] 2018-01-30 09:09:41,026 Line:5853 62:2018-01-30 09:09:21
 [DEBUG] 2018-01-30 09:09:41,030 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:09:41,031 Line:5853 1:1b63e5ab_1801300909409820070
 [DEBUG] 2018-01-30 09:09:41,031 Line:5853 2:1b63e5ab_1801300909410290071
 [DEBUG] 2018-01-30 09:09:41,032 Line:5853 3:
 [DEBUG] 2018-01-30 09:09:41,032 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:09:41,033 Line:5853 5:
 [DEBUG] 2018-01-30 09:09:41,033 Line:5853 6:
 [DEBUG] 2018-01-30 09:09:41,033 Line:5853 7:
 [DEBUG] 2018-01-30 09:09:41,034 Line:5853 8:
 [DEBUG] 2018-01-30 09:09:41,034 Line:5853 9:
 [DEBUG] 2018-01-30 09:09:41,035 Line:5853 10:
 [DEBUG] 2018-01-30 09:09:41,035 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:09:41,035 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:09:41,036 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:09:41,036 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:09:41,037 Line:5853 15:0
 [DEBUG] 2018-01-30 09:09:41,037 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:09:41,038 Line:5853 17:0
 [DEBUG] 2018-01-30 09:09:41,038 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:09:41,038 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:09:41,039 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:09:41,039 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:09:41,040 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:09:41,041 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:09:41,042 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:09:41,042 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:09:41,043 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:09:41,043 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:09:41,044 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:09:41,045 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:09:41,045 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:09:41,046 Line:5853 31:
 [DEBUG] 2018-01-30 09:09:41,046 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:09:41,047 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:09:41,047 Line:5853 34:0
 [DEBUG] 2018-01-30 09:09:41,048 Line:5853 35:0
 [DEBUG] 2018-01-30 09:09:41,048 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:09:41,048 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:09:41,049 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:09:41,049 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:09:41,050 Line:5853 40:1
 [DEBUG] 2018-01-30 09:09:41,050 Line:5853 41:0
 [DEBUG] 2018-01-30 09:09:41,051 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:09:41,051 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:09:41,051 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:09:41,052 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:09:41,052 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:09:41,053 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:09:41,053 Line:5853 48:
 [DEBUG] 2018-01-30 09:09:41,054 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:09:41,054 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:09:41,054 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:09:41,055 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:09:41,055 Line:5853 53:
 [DEBUG] 2018-01-30 09:09:41,056 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:09:41,056 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:09:41,177 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300909409820070' order by detOrderNo
 [DEBUG] 2018-01-30 09:09:41,192 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300909409820070;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:09:41,260 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300909409820070&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 09:09:41,261 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300909409820070,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:09:41,269 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300909409820070' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:09:41,319 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300909409820070' order by detOrderNo
 [DEBUG] 2018-01-30 09:10:04,823 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300909409820070&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 09:10:04,824 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300909409820070,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:10:04,825 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300909409820070' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:10:04,957 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300909409820070' order by detOrderNo
 [DEBUG] 2018-01-30 09:12:18,032 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:12:18,035 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:12:22,428 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:12:22,429 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:12:22,871 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:12:22,873 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:12:22,873 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:12:22,875 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:12:22,876 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:12:22,886 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:12:27,492 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:12:27,493 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:12:27,755 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:12:27,756 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:12:27,757 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:12:27,759 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:12:27,761 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:12:27,786 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:12:38,155 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:12:38,157 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300047,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:12:18,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:12:18,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:12:38,159 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:12:38,199 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:12:38,201 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:12:38,201 Line:5853 2:0
 [DEBUG] 2018-01-30 09:12:38,202 Line:5853 3:1b63e5ab_1801300912381830074
 [DEBUG] 2018-01-30 09:12:38,203 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:12:38,203 Line:5853 5:SO1801300047
 [DEBUG] 2018-01-30 09:12:38,204 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:12:38,205 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:12:38,205 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:12:38,206 Line:5853 9:1
 [DEBUG] 2018-01-30 09:12:38,206 Line:5853 10:
 [DEBUG] 2018-01-30 09:12:38,207 Line:5853 11:
 [DEBUG] 2018-01-30 09:12:38,207 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:12:38,208 Line:5853 13:
 [DEBUG] 2018-01-30 09:12:38,208 Line:5853 14:
 [DEBUG] 2018-01-30 09:12:38,209 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:12:38,209 Line:5853 16:3
 [DEBUG] 2018-01-30 09:12:38,210 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:12:38,210 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:12:38,211 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:12:38,211 Line:5853 20:0
 [DEBUG] 2018-01-30 09:12:38,211 Line:5853 21:
 [DEBUG] 2018-01-30 09:12:38,212 Line:5853 22:1
 [DEBUG] 2018-01-30 09:12:38,212 Line:5853 23:1
 [DEBUG] 2018-01-30 09:12:38,213 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:12:38,213 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:12:38,214 Line:5853 26:
 [DEBUG] 2018-01-30 09:12:38,214 Line:5853 27:
 [DEBUG] 2018-01-30 09:12:38,215 Line:5853 28:
 [DEBUG] 2018-01-30 09:12:38,216 Line:5853 29:
 [DEBUG] 2018-01-30 09:12:38,216 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:12:38,217 Line:5853 31:0
 [DEBUG] 2018-01-30 09:12:38,217 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:12:38,218 Line:5853 33:
 [DEBUG] 2018-01-30 09:12:38,219 Line:5853 34:
 [DEBUG] 2018-01-30 09:12:38,220 Line:5853 35:
 [DEBUG] 2018-01-30 09:12:38,220 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:12:38,221 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:12:38,221 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:12:38,221 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:12:38,222 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:12:38,222 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:12:38,223 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:12:38,223 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:12:38,223 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:12:38,224 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:12:38,224 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:12:38,225 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:12:38,226 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:12:38,226 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:12:38,227 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:12:38,227 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:12:38,228 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:12:38,229 Line:5853 53:
 [DEBUG] 2018-01-30 09:12:38,230 Line:5853 54:1
 [DEBUG] 2018-01-30 09:12:38,230 Line:5853 55:2018-01-30 09:12:18
 [DEBUG] 2018-01-30 09:12:38,231 Line:5853 56:0
 [DEBUG] 2018-01-30 09:12:38,231 Line:5853 57:0
 [DEBUG] 2018-01-30 09:12:38,232 Line:5853 58:0
 [DEBUG] 2018-01-30 09:12:38,233 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 09:12:38,233 Line:5853 60:
 [DEBUG] 2018-01-30 09:12:38,233 Line:5853 61:1
 [DEBUG] 2018-01-30 09:12:38,234 Line:5853 62:2018-01-30 09:12:18
 [DEBUG] 2018-01-30 09:12:38,246 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:12:38,246 Line:5853 1:1b63e5ab_1801300912381830074
 [DEBUG] 2018-01-30 09:12:38,247 Line:5853 2:1b63e5ab_1801300912382450075
 [DEBUG] 2018-01-30 09:12:38,247 Line:5853 3:
 [DEBUG] 2018-01-30 09:12:38,248 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:12:38,248 Line:5853 5:
 [DEBUG] 2018-01-30 09:12:38,249 Line:5853 6:
 [DEBUG] 2018-01-30 09:12:38,249 Line:5853 7:
 [DEBUG] 2018-01-30 09:12:38,249 Line:5853 8:
 [DEBUG] 2018-01-30 09:12:38,250 Line:5853 9:
 [DEBUG] 2018-01-30 09:12:38,250 Line:5853 10:
 [DEBUG] 2018-01-30 09:12:38,251 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:12:38,251 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:12:38,252 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:12:38,252 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:12:38,252 Line:5853 15:0
 [DEBUG] 2018-01-30 09:12:38,253 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:12:38,253 Line:5853 17:0
 [DEBUG] 2018-01-30 09:12:38,254 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:12:38,254 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:12:38,255 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:12:38,255 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:12:38,255 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:12:38,256 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:12:38,256 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:12:38,257 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:12:38,257 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:12:38,258 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:12:38,258 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:12:38,259 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:12:38,260 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:12:38,261 Line:5853 31:
 [DEBUG] 2018-01-30 09:12:38,262 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:12:38,263 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:12:38,264 Line:5853 34:0
 [DEBUG] 2018-01-30 09:12:38,264 Line:5853 35:0
 [DEBUG] 2018-01-30 09:12:38,267 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:12:38,267 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:12:38,267 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:12:38,268 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:12:38,269 Line:5853 40:1
 [DEBUG] 2018-01-30 09:12:38,269 Line:5853 41:0
 [DEBUG] 2018-01-30 09:12:38,271 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:12:38,271 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:12:38,273 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:12:38,273 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:12:38,273 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:12:38,275 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:12:38,275 Line:5853 48:
 [DEBUG] 2018-01-30 09:12:38,276 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:12:38,277 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:12:38,277 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:12:38,278 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:12:38,279 Line:5853 53:
 [DEBUG] 2018-01-30 09:12:38,280 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:12:38,280 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:12:38,305 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 09:12:38,306 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 09:12:38,307 Line:988 1值：
 [DEBUG] 2018-01-30 09:12:38,313 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 09:12:38,314 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 09:12:38,328 Line:321 flag:true
 [DEBUG] 2018-01-30 09:12:38,329 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 09:12:38,330 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 09:13:53,037 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:13:53,041 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300047,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:12:18,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:12:18,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:13:53,042 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:13:53,088 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:13:53,089 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:13:53,089 Line:5853 2:0
 [DEBUG] 2018-01-30 09:13:53,090 Line:5853 3:1b63e5ab_1801300913530730076
 [DEBUG] 2018-01-30 09:13:53,090 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:13:53,091 Line:5853 5:SO1801300047
 [DEBUG] 2018-01-30 09:13:53,091 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:13:53,092 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:13:53,092 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:13:53,092 Line:5853 9:1
 [DEBUG] 2018-01-30 09:13:53,093 Line:5853 10:
 [DEBUG] 2018-01-30 09:13:53,093 Line:5853 11:
 [DEBUG] 2018-01-30 09:13:53,094 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:13:53,094 Line:5853 13:
 [DEBUG] 2018-01-30 09:13:53,095 Line:5853 14:
 [DEBUG] 2018-01-30 09:13:53,096 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:13:53,096 Line:5853 16:3
 [DEBUG] 2018-01-30 09:13:53,097 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:13:53,098 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:13:53,098 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:13:53,099 Line:5853 20:0
 [DEBUG] 2018-01-30 09:13:53,099 Line:5853 21:
 [DEBUG] 2018-01-30 09:13:53,100 Line:5853 22:1
 [DEBUG] 2018-01-30 09:13:53,100 Line:5853 23:1
 [DEBUG] 2018-01-30 09:13:53,102 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:13:53,102 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:13:53,103 Line:5853 26:
 [DEBUG] 2018-01-30 09:13:53,103 Line:5853 27:
 [DEBUG] 2018-01-30 09:13:53,104 Line:5853 28:
 [DEBUG] 2018-01-30 09:13:53,104 Line:5853 29:
 [DEBUG] 2018-01-30 09:13:53,104 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:13:53,105 Line:5853 31:0
 [DEBUG] 2018-01-30 09:13:53,105 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:13:53,106 Line:5853 33:
 [DEBUG] 2018-01-30 09:13:53,106 Line:5853 34:
 [DEBUG] 2018-01-30 09:13:53,107 Line:5853 35:
 [DEBUG] 2018-01-30 09:13:53,107 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:13:53,108 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:13:53,108 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:13:53,109 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:13:53,109 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:13:53,109 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:13:53,110 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:13:53,110 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:13:53,111 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:13:53,111 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:13:53,111 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:13:53,112 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:13:53,112 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:13:53,113 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:13:53,113 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:13:53,114 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:13:53,115 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:13:53,115 Line:5853 53:
 [DEBUG] 2018-01-30 09:13:53,116 Line:5853 54:1
 [DEBUG] 2018-01-30 09:13:53,116 Line:5853 55:2018-01-30 09:12:18
 [DEBUG] 2018-01-30 09:13:53,117 Line:5853 56:0
 [DEBUG] 2018-01-30 09:13:53,117 Line:5853 57:0
 [DEBUG] 2018-01-30 09:13:53,118 Line:5853 58:0
 [DEBUG] 2018-01-30 09:13:53,118 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:13:53,118 Line:5853 60:
 [DEBUG] 2018-01-30 09:13:53,119 Line:5853 61:1
 [DEBUG] 2018-01-30 09:13:53,119 Line:5853 62:2018-01-30 09:12:18
 [DEBUG] 2018-01-30 09:13:53,130 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 1:1b63e5ab_1801300913530730076
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 2:1b63e5ab_1801300913531300077
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 3:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 5:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 6:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 7:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 8:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 9:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 10:
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 15:0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 17:0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:13:53,130 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:13:53,145 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:13:53,146 Line:5853 31:
 [DEBUG] 2018-01-30 09:13:53,146 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:13:53,147 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:13:53,148 Line:5853 34:0
 [DEBUG] 2018-01-30 09:13:53,150 Line:5853 35:0
 [DEBUG] 2018-01-30 09:13:53,150 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:13:53,152 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:13:53,153 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:13:53,154 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:13:53,155 Line:5853 40:1
 [DEBUG] 2018-01-30 09:13:53,157 Line:5853 41:0
 [DEBUG] 2018-01-30 09:13:53,159 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:13:53,160 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:13:53,161 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:13:53,162 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:13:53,163 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:13:53,165 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:13:53,166 Line:5853 48:
 [DEBUG] 2018-01-30 09:13:53,166 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:13:53,167 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:13:53,168 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:13:53,168 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:13:53,168 Line:5853 53:
 [DEBUG] 2018-01-30 09:13:53,169 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:13:53,169 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:13:53,354 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 09:13:53,375 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300913530730076;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:13:53,497 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300913530730076&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 09:13:53,499 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300913530730076,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:13:53,510 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300913530730076' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:13:53,641 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 09:14:57,034 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300913530730076&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 09:14:57,036 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300913530730076,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:14:57,037 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300913530730076' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:14:57,208 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 09:15:07,269 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:15:07,272 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801300913530730076,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801300913530730076,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300047,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 09:12:18,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 09:12:18,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801300913531300077,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 09:15:07,308 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 09:15:07,344 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801300913530730076
 [DEBUG] 2018-01-30 09:15:07,361 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 09:15:07,361 Line:5993 1:SO1801300047
 [DEBUG] 2018-01-30 09:15:07,362 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 09:15:07,362 Line:5993 3:00001
 [DEBUG] 2018-01-30 09:15:07,363 Line:5993 4:00101
 [DEBUG] 2018-01-30 09:15:07,363 Line:5993 5:1
 [DEBUG] 2018-01-30 09:15:07,364 Line:5993 6:
 [DEBUG] 2018-01-30 09:15:07,364 Line:5993 7:
 [DEBUG] 2018-01-30 09:15:07,364 Line:5993 8:0.0
 [DEBUG] 2018-01-30 09:15:07,365 Line:5993 9:
 [DEBUG] 2018-01-30 09:15:07,365 Line:5993 10:
 [DEBUG] 2018-01-30 09:15:07,366 Line:5993 11:0.0
 [DEBUG] 2018-01-30 09:15:07,366 Line:5993 12:3
 [DEBUG] 2018-01-30 09:15:07,367 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 09:15:07,367 Line:5993 14:0
 [DEBUG] 2018-01-30 09:15:07,368 Line:5993 15:1
 [DEBUG] 2018-01-30 09:15:07,369 Line:5993 16:1
 [DEBUG] 2018-01-30 09:15:07,369 Line:5993 17:2018
 [DEBUG] 2018-01-30 09:15:07,370 Line:5993 18:
 [DEBUG] 2018-01-30 09:15:07,370 Line:5993 19:
 [DEBUG] 2018-01-30 09:15:07,371 Line:5993 20:0.0
 [DEBUG] 2018-01-30 09:15:07,372 Line:5993 21:0.0
 [DEBUG] 2018-01-30 09:15:07,372 Line:5993 22:0.0
 [DEBUG] 2018-01-30 09:15:07,372 Line:5993 23:0.0
 [DEBUG] 2018-01-30 09:15:07,373 Line:5993 24:100.0
 [DEBUG] 2018-01-30 09:15:07,374 Line:5993 25:0.0
 [DEBUG] 2018-01-30 09:15:07,374 Line:5993 26:0.0
 [DEBUG] 2018-01-30 09:15:07,375 Line:5993 27:0.0
 [DEBUG] 2018-01-30 09:15:07,376 Line:5993 28:1.0
 [DEBUG] 2018-01-30 09:15:07,377 Line:5993 29:1.0
 [DEBUG] 2018-01-30 09:15:07,377 Line:5993 30:1.0
 [DEBUG] 2018-01-30 09:15:07,378 Line:5993 31:0.0
 [DEBUG] 2018-01-30 09:15:07,378 Line:5993 32:1.0
 [DEBUG] 2018-01-30 09:15:07,379 Line:5993 33:
 [DEBUG] 2018-01-30 09:15:07,380 Line:5993 34:1
 [DEBUG] 2018-01-30 09:15:07,380 Line:5993 35:2018-01-30 09:15:07
 [DEBUG] 2018-01-30 09:15:07,401 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 09:15:07,401 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:15:07,401 Line:5853 1:1b63e5ab_1801300913530730076
 [DEBUG] 2018-01-30 09:15:07,401 Line:5853 2:1b63e5ab_1801300915074010080
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 3:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 5:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 6:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 7:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 8:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 9:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 10:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 15:0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 17:0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 31:
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 34:0
 [DEBUG] 2018-01-30 09:15:07,416 Line:5853 35:0
 [DEBUG] 2018-01-30 09:15:07,432 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:15:07,432 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:15:07,433 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:15:07,434 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:15:07,434 Line:5853 40:1
 [DEBUG] 2018-01-30 09:15:07,435 Line:5853 41:0
 [DEBUG] 2018-01-30 09:15:07,435 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:15:07,436 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:15:07,437 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:15:07,437 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:15:07,438 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:15:07,439 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:15:07,439 Line:5853 48:
 [DEBUG] 2018-01-30 09:15:07,440 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:15:07,441 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:15:07,441 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:15:07,442 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:15:07,443 Line:5853 53:
 [DEBUG] 2018-01-30 09:15:07,444 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:15:07,444 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:15:07,480 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 09:15:09,178 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300913530730076&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=
 [DEBUG] 2018-01-30 09:15:09,179 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300913530730076,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[,];
 [DEBUG] 2018-01-30 09:15:09,180 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300913530730076' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:15:09,197 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 09:20:11,116 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 09:20:11,119 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 09:20:11,121 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:11,948 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 09:20:11,949 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 09:20:12,024 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 09:20:12,025 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:12,027 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:12,061 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 09:20:12,062 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:12,064 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:12,086 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 09:20:12,087 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:12,089 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:12,113 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 09:20:12,114 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:12,116 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:16,269 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 09:20:16,270 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:20:16,270 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 09:20:16,415 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 09:20:16,417 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 09:20:16,417 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 09:20:16,751 Line:689 通过SQL读原始数据：335
 [DEBUG] 2018-01-30 09:20:16,751 Line:1391 整理数据：0
 [DEBUG] 2018-01-30 09:20:19,567 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:20:19,568 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:20:24,329 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 09:20:24,330 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 09:20:24,332 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:24,976 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 09:20:24,978 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 09:20:25,040 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 09:20:25,041 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:25,043 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:25,078 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 09:20:25,079 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:25,080 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:25,109 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 09:20:25,110 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:25,111 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:25,134 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 09:20:25,135 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 09:20:25,137 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 09:20:27,343 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 09:20:27,343 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:20:27,344 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 09:20:27,394 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 09:20:27,396 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 09:20:27,397 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 09:20:27,426 Line:689 通过SQL读原始数据：30
 [DEBUG] 2018-01-30 09:20:27,430 Line:1391 整理数据：3
 [DEBUG] 2018-01-30 09:20:29,812 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:20:29,813 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:20:37,076 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:20:37,077 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:20:37,302 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:20:37,303 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:20:37,304 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:20:37,306 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:20:37,308 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:20:37,320 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:20:40,182 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:20:40,183 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:20:40,403 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:20:40,404 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:20:40,405 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 09:20:40,405 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:20:40,407 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:20:40,413 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:20:43,390 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:20:43,405 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:20:43,644 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:20:43,644 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:20:43,645 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:20:43,647 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:20:43,649 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:20:43,672 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:20:57,854 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:20:57,856 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300049,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:20:29,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:20:29,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:20:57,858 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:20:57,888 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:20:57,889 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:20:57,890 Line:5853 2:0
 [DEBUG] 2018-01-30 09:20:57,890 Line:5853 3:1b63e5ab_1801300920578790082
 [DEBUG] 2018-01-30 09:20:57,891 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:20:57,892 Line:5853 5:SO1801300049
 [DEBUG] 2018-01-30 09:20:57,893 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:20:57,893 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:20:57,895 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:20:57,896 Line:5853 9:1
 [DEBUG] 2018-01-30 09:20:57,896 Line:5853 10:00001
 [DEBUG] 2018-01-30 09:20:57,897 Line:5853 11:
 [DEBUG] 2018-01-30 09:20:57,897 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:20:57,898 Line:5853 13:
 [DEBUG] 2018-01-30 09:20:57,898 Line:5853 14:
 [DEBUG] 2018-01-30 09:20:57,899 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:20:57,900 Line:5853 16:3
 [DEBUG] 2018-01-30 09:20:57,900 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:20:57,901 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:20:57,901 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:20:57,918 Line:5853 20:0
 [DEBUG] 2018-01-30 09:20:57,920 Line:5853 21:
 [DEBUG] 2018-01-30 09:20:57,921 Line:5853 22:1
 [DEBUG] 2018-01-30 09:20:57,921 Line:5853 23:1
 [DEBUG] 2018-01-30 09:20:57,922 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:20:57,922 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:20:57,923 Line:5853 26:
 [DEBUG] 2018-01-30 09:20:57,923 Line:5853 27:
 [DEBUG] 2018-01-30 09:20:57,924 Line:5853 28:
 [DEBUG] 2018-01-30 09:20:57,924 Line:5853 29:
 [DEBUG] 2018-01-30 09:20:57,925 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:20:57,926 Line:5853 31:0
 [DEBUG] 2018-01-30 09:20:57,927 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:20:57,927 Line:5853 33:
 [DEBUG] 2018-01-30 09:20:57,928 Line:5853 34:
 [DEBUG] 2018-01-30 09:20:57,929 Line:5853 35:
 [DEBUG] 2018-01-30 09:20:57,929 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:20:57,930 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:20:57,930 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:20:57,930 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:20:57,931 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:20:57,931 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:20:57,932 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:20:57,932 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:20:57,932 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:20:57,933 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:20:57,933 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:20:57,934 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:20:57,934 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:20:57,934 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:20:57,935 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:20:57,935 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:20:57,936 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:20:57,936 Line:5853 53:
 [DEBUG] 2018-01-30 09:20:57,936 Line:5853 54:1
 [DEBUG] 2018-01-30 09:20:57,937 Line:5853 55:2018-01-30 09:20:29
 [DEBUG] 2018-01-30 09:20:57,937 Line:5853 56:0
 [DEBUG] 2018-01-30 09:20:57,938 Line:5853 57:0
 [DEBUG] 2018-01-30 09:20:57,938 Line:5853 58:0
 [DEBUG] 2018-01-30 09:20:57,939 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 09:20:57,939 Line:5853 60:
 [DEBUG] 2018-01-30 09:20:57,939 Line:5853 61:1
 [DEBUG] 2018-01-30 09:20:57,940 Line:5853 62:2018-01-30 09:20:29
 [DEBUG] 2018-01-30 09:20:57,954 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:20:57,955 Line:5853 1:1b63e5ab_1801300920578790082
 [DEBUG] 2018-01-30 09:20:57,955 Line:5853 2:1b63e5ab_1801300920579530083
 [DEBUG] 2018-01-30 09:20:57,956 Line:5853 3:
 [DEBUG] 2018-01-30 09:20:57,956 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:20:57,956 Line:5853 5:
 [DEBUG] 2018-01-30 09:20:57,957 Line:5853 6:
 [DEBUG] 2018-01-30 09:20:57,957 Line:5853 7:
 [DEBUG] 2018-01-30 09:20:57,958 Line:5853 8:
 [DEBUG] 2018-01-30 09:20:57,958 Line:5853 9:
 [DEBUG] 2018-01-30 09:20:57,959 Line:5853 10:
 [DEBUG] 2018-01-30 09:20:57,959 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:20:57,960 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:20:57,962 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:20:57,962 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:20:57,963 Line:5853 15:0
 [DEBUG] 2018-01-30 09:20:57,963 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:20:57,964 Line:5853 17:0
 [DEBUG] 2018-01-30 09:20:57,964 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:20:57,964 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:20:57,965 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:20:57,965 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:20:57,966 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:20:57,966 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:20:57,967 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:20:57,967 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:20:57,968 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:20:57,968 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:20:57,968 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:20:57,969 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:20:57,969 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:20:57,970 Line:5853 31:
 [DEBUG] 2018-01-30 09:20:57,970 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:20:57,970 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:20:57,971 Line:5853 34:0
 [DEBUG] 2018-01-30 09:20:57,971 Line:5853 35:0
 [DEBUG] 2018-01-30 09:20:57,972 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:20:57,972 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:20:57,973 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:20:57,973 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:20:57,974 Line:5853 40:1
 [DEBUG] 2018-01-30 09:20:57,974 Line:5853 41:0
 [DEBUG] 2018-01-30 09:20:57,975 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:20:57,975 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:20:57,976 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:20:57,976 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:20:57,977 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:20:57,977 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:20:57,978 Line:5853 48:
 [DEBUG] 2018-01-30 09:20:57,978 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:20:57,978 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:20:57,979 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:20:57,979 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:20:57,980 Line:5853 53:
 [DEBUG] 2018-01-30 09:20:57,980 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:20:57,981 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:20:58,007 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 09:20:58,007 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 09:20:58,009 Line:988 1值：
 [DEBUG] 2018-01-30 09:20:58,016 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-30 09:20:58,017 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 09:20:58,034 Line:321 flag:true
 [DEBUG] 2018-01-30 09:20:58,035 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 09:20:58,035 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 09:21:21,161 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:21:21,165 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[saveDraft,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300049,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:20:29,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:20:29,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:21:21,166 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:21:21,218 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:21:21,219 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:21:21,220 Line:5853 2:0
 [DEBUG] 2018-01-30 09:21:21,220 Line:5853 3:1b63e5ab_1801300921211960084
 [DEBUG] 2018-01-30 09:21:21,221 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:21:21,222 Line:5853 5:SO1801300049
 [DEBUG] 2018-01-30 09:21:21,222 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:21:21,223 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:21:21,223 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:21:21,224 Line:5853 9:1
 [DEBUG] 2018-01-30 09:21:21,224 Line:5853 10:00001
 [DEBUG] 2018-01-30 09:21:21,224 Line:5853 11:
 [DEBUG] 2018-01-30 09:21:21,225 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:21:21,225 Line:5853 13:
 [DEBUG] 2018-01-30 09:21:21,227 Line:5853 14:
 [DEBUG] 2018-01-30 09:21:21,227 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:21:21,227 Line:5853 16:3
 [DEBUG] 2018-01-30 09:21:21,227 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:21:21,227 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:21:21,229 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:21:21,229 Line:5853 20:0
 [DEBUG] 2018-01-30 09:21:21,230 Line:5853 21:
 [DEBUG] 2018-01-30 09:21:21,230 Line:5853 22:1
 [DEBUG] 2018-01-30 09:21:21,231 Line:5853 23:1
 [DEBUG] 2018-01-30 09:21:21,231 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:21:21,231 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:21:21,232 Line:5853 26:
 [DEBUG] 2018-01-30 09:21:21,232 Line:5853 27:
 [DEBUG] 2018-01-30 09:21:21,233 Line:5853 28:
 [DEBUG] 2018-01-30 09:21:21,233 Line:5853 29:
 [DEBUG] 2018-01-30 09:21:21,233 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:21:21,234 Line:5853 31:0
 [DEBUG] 2018-01-30 09:21:21,234 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:21:21,235 Line:5853 33:
 [DEBUG] 2018-01-30 09:21:21,235 Line:5853 34:
 [DEBUG] 2018-01-30 09:21:21,236 Line:5853 35:
 [DEBUG] 2018-01-30 09:21:21,236 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:21:21,236 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:21:21,237 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:21:21,238 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:21:21,238 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:21:21,239 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:21:21,239 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:21:21,240 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:21:21,240 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:21:21,241 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:21:21,241 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:21:21,242 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:21:21,242 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:21:21,242 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:21:21,243 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:21:21,243 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:21:21,244 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:21:21,244 Line:5853 53:
 [DEBUG] 2018-01-30 09:21:21,245 Line:5853 54:1
 [DEBUG] 2018-01-30 09:21:21,245 Line:5853 55:2018-01-30 09:20:29
 [DEBUG] 2018-01-30 09:21:21,246 Line:5853 56:0
 [DEBUG] 2018-01-30 09:21:21,246 Line:5853 57:0
 [DEBUG] 2018-01-30 09:21:21,246 Line:5853 58:0
 [DEBUG] 2018-01-30 09:21:21,247 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:21:21,247 Line:5853 60:
 [DEBUG] 2018-01-30 09:21:21,248 Line:5853 61:1
 [DEBUG] 2018-01-30 09:21:21,248 Line:5853 62:2018-01-30 09:20:29
 [DEBUG] 2018-01-30 09:21:21,254 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 1:1b63e5ab_1801300921211960084
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 2:1b63e5ab_1801300921212540085
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 3:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 5:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 6:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 7:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 8:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 9:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 10:
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 15:0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 17:0
 [DEBUG] 2018-01-30 09:21:21,254 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:21:21,269 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:21:21,270 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:21:21,270 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:21:21,271 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:21:21,272 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:21:21,273 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:21:21,274 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:21:21,275 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:21:21,275 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:21:21,276 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:21:21,277 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:21:21,277 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:21:21,278 Line:5853 31:
 [DEBUG] 2018-01-30 09:21:21,278 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:21:21,279 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:21:21,279 Line:5853 34:0
 [DEBUG] 2018-01-30 09:21:21,280 Line:5853 35:0
 [DEBUG] 2018-01-30 09:21:21,281 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:21:21,281 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:21:21,282 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:21:21,282 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:21:21,283 Line:5853 40:1
 [DEBUG] 2018-01-30 09:21:21,284 Line:5853 41:0
 [DEBUG] 2018-01-30 09:21:21,284 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:21:21,285 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:21:21,286 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:21:21,287 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:21:21,287 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:21:21,288 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:21:21,289 Line:5853 48:
 [DEBUG] 2018-01-30 09:21:21,290 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:21:21,290 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:21:21,291 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:21:21,291 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:21:21,292 Line:5853 53:
 [DEBUG] 2018-01-30 09:21:21,292 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:21:21,293 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:21:21,471 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300921211960084' order by detOrderNo
 [DEBUG] 2018-01-30 09:21:21,487 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300921211960084;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:21:21,595 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300921211960084&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 09:21:21,596 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300921211960084,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:21:21,605 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300921211960084' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:21:21,727 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300921211960084' order by detOrderNo
 [DEBUG] 2018-01-30 09:22:20,616 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300921211960084&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 09:22:20,617 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300921211960084,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:22:20,619 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300921211960084' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:22:20,874 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300921211960084' order by detOrderNo
 [DEBUG] 2018-01-30 09:23:05,681 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:23:05,683 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:23:10,316 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:23:10,317 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:23:10,517 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:23:10,518 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:23:10,519 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:23:10,521 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:23:10,522 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:23:10,534 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:23:13,509 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:23:13,510 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:23:13,747 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:23:13,748 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:23:13,749 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:23:13,749 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:23:13,752 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:23:13,795 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:23:25,288 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:23:25,290 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[saveDraft,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300050,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:23:05,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:23:05,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:23:25,292 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:23:25,343 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:23:25,344 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:23:25,345 Line:5853 2:0
 [DEBUG] 2018-01-30 09:23:25,345 Line:5853 3:1b63e5ab_1801300923253210088
 [DEBUG] 2018-01-30 09:23:25,346 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:23:25,346 Line:5853 5:SO1801300050
 [DEBUG] 2018-01-30 09:23:25,346 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:23:25,347 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:23:25,347 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:23:25,348 Line:5853 9:1
 [DEBUG] 2018-01-30 09:23:25,348 Line:5853 10:
 [DEBUG] 2018-01-30 09:23:25,348 Line:5853 11:
 [DEBUG] 2018-01-30 09:23:25,349 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:23:25,349 Line:5853 13:
 [DEBUG] 2018-01-30 09:23:25,350 Line:5853 14:
 [DEBUG] 2018-01-30 09:23:25,350 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:23:25,351 Line:5853 16:3
 [DEBUG] 2018-01-30 09:23:25,351 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:23:25,352 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:23:25,352 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:23:25,353 Line:5853 20:0
 [DEBUG] 2018-01-30 09:23:25,353 Line:5853 21:
 [DEBUG] 2018-01-30 09:23:25,354 Line:5853 22:1
 [DEBUG] 2018-01-30 09:23:25,355 Line:5853 23:1
 [DEBUG] 2018-01-30 09:23:25,356 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:23:25,357 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:23:25,359 Line:5853 26:
 [DEBUG] 2018-01-30 09:23:25,359 Line:5853 27:
 [DEBUG] 2018-01-30 09:23:25,360 Line:5853 28:
 [DEBUG] 2018-01-30 09:23:25,360 Line:5853 29:
 [DEBUG] 2018-01-30 09:23:25,361 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:23:25,361 Line:5853 31:0
 [DEBUG] 2018-01-30 09:23:25,362 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:23:25,363 Line:5853 33:
 [DEBUG] 2018-01-30 09:23:25,363 Line:5853 34:
 [DEBUG] 2018-01-30 09:23:25,364 Line:5853 35:
 [DEBUG] 2018-01-30 09:23:25,364 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:23:25,364 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:23:25,365 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:23:25,365 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:23:25,366 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:23:25,366 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:23:25,367 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:23:25,367 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:23:25,368 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:23:25,369 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:23:25,370 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:23:25,370 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:23:25,371 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:23:25,371 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:23:25,371 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:23:25,372 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:23:25,372 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:23:25,373 Line:5853 53:
 [DEBUG] 2018-01-30 09:23:25,373 Line:5853 54:1
 [DEBUG] 2018-01-30 09:23:25,374 Line:5853 55:2018-01-30 09:23:05
 [DEBUG] 2018-01-30 09:23:25,374 Line:5853 56:0
 [DEBUG] 2018-01-30 09:23:25,375 Line:5853 57:0
 [DEBUG] 2018-01-30 09:23:25,376 Line:5853 58:0
 [DEBUG] 2018-01-30 09:23:25,376 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:23:25,377 Line:5853 60:
 [DEBUG] 2018-01-30 09:23:25,377 Line:5853 61:1
 [DEBUG] 2018-01-30 09:23:25,377 Line:5853 62:2018-01-30 09:23:05
 [DEBUG] 2018-01-30 09:23:25,389 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:23:25,390 Line:5853 1:1b63e5ab_1801300923253210088
 [DEBUG] 2018-01-30 09:23:25,391 Line:5853 2:1b63e5ab_1801300923253890089
 [DEBUG] 2018-01-30 09:23:25,391 Line:5853 3:
 [DEBUG] 2018-01-30 09:23:25,392 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:23:25,393 Line:5853 5:
 [DEBUG] 2018-01-30 09:23:25,394 Line:5853 6:
 [DEBUG] 2018-01-30 09:23:25,394 Line:5853 7:
 [DEBUG] 2018-01-30 09:23:25,395 Line:5853 8:
 [DEBUG] 2018-01-30 09:23:25,395 Line:5853 9:
 [DEBUG] 2018-01-30 09:23:25,396 Line:5853 10:
 [DEBUG] 2018-01-30 09:23:25,396 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:23:25,396 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:23:25,397 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:23:25,397 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:23:25,398 Line:5853 15:0
 [DEBUG] 2018-01-30 09:23:25,398 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:23:25,398 Line:5853 17:0
 [DEBUG] 2018-01-30 09:23:25,399 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:23:25,399 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:23:25,400 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:23:25,400 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:23:25,401 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:23:25,401 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:23:25,401 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:23:25,402 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:23:25,402 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:23:25,403 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:23:25,403 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:23:25,404 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:23:25,404 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:23:25,405 Line:5853 31:
 [DEBUG] 2018-01-30 09:23:25,405 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:23:25,406 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:23:25,406 Line:5853 34:0
 [DEBUG] 2018-01-30 09:23:25,407 Line:5853 35:0
 [DEBUG] 2018-01-30 09:23:25,408 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:23:25,409 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:23:25,410 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:23:25,411 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:23:25,411 Line:5853 40:1
 [DEBUG] 2018-01-30 09:23:25,412 Line:5853 41:0
 [DEBUG] 2018-01-30 09:23:25,412 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:23:25,413 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:23:25,413 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:23:25,413 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:23:25,414 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:23:25,414 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:23:25,415 Line:5853 48:
 [DEBUG] 2018-01-30 09:23:25,415 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:23:25,416 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:23:25,416 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:23:25,416 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:23:25,417 Line:5853 53:
 [DEBUG] 2018-01-30 09:23:25,417 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:23:25,418 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:23:25,596 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300923253210088' order by detOrderNo
 [DEBUG] 2018-01-30 09:23:25,610 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300923253210088;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:23:27,286 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801300923253210088&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:23:27,287 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801300923253210088,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:23:27,287 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300923253210088' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:23:27,337 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300923253210088' order by detOrderNo
 [DEBUG] 2018-01-30 09:25:10,031 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 09:25:10,033 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 09:25:27,611 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 09:25:27,611 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 09:25:27,817 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:25:27,818 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:25:27,819 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 09:25:27,820 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:25:27,822 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:25:27,835 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:25:34,572 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 09:25:34,573 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 09:25:34,823 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 09:25:34,824 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 09:25:34,825 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 09:25:34,827 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 09:25:34,830 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 09:25:34,853 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 09:25:50,301 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:25:50,303 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300051,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:25:10,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:25:10,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:25:50,305 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:25:50,353 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:25:50,354 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:25:50,356 Line:5853 2:0
 [DEBUG] 2018-01-30 09:25:50,356 Line:5853 3:1b63e5ab_1801300925503300092
 [DEBUG] 2018-01-30 09:25:50,357 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:25:50,358 Line:5853 5:SO1801300051
 [DEBUG] 2018-01-30 09:25:50,359 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:25:50,359 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:25:50,360 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:25:50,360 Line:5853 9:1
 [DEBUG] 2018-01-30 09:25:50,361 Line:5853 10:
 [DEBUG] 2018-01-30 09:25:50,361 Line:5853 11:
 [DEBUG] 2018-01-30 09:25:50,361 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:25:50,362 Line:5853 13:
 [DEBUG] 2018-01-30 09:25:50,362 Line:5853 14:
 [DEBUG] 2018-01-30 09:25:50,363 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:25:50,363 Line:5853 16:3
 [DEBUG] 2018-01-30 09:25:50,363 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:25:50,364 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:25:50,364 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:25:50,365 Line:5853 20:0
 [DEBUG] 2018-01-30 09:25:50,365 Line:5853 21:
 [DEBUG] 2018-01-30 09:25:50,366 Line:5853 22:1
 [DEBUG] 2018-01-30 09:25:50,366 Line:5853 23:1
 [DEBUG] 2018-01-30 09:25:50,366 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:25:50,367 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:25:50,367 Line:5853 26:
 [DEBUG] 2018-01-30 09:25:50,368 Line:5853 27:
 [DEBUG] 2018-01-30 09:25:50,368 Line:5853 28:
 [DEBUG] 2018-01-30 09:25:50,369 Line:5853 29:
 [DEBUG] 2018-01-30 09:25:50,369 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:25:50,370 Line:5853 31:0
 [DEBUG] 2018-01-30 09:25:50,370 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:25:50,370 Line:5853 33:
 [DEBUG] 2018-01-30 09:25:50,371 Line:5853 34:
 [DEBUG] 2018-01-30 09:25:50,371 Line:5853 35:
 [DEBUG] 2018-01-30 09:25:50,372 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:25:50,373 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:25:50,374 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:25:50,374 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:25:50,375 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:25:50,375 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:25:50,376 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:25:50,376 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:25:50,376 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:25:50,377 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:25:50,377 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:25:50,378 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:25:50,378 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:25:50,378 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:25:50,379 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:25:50,379 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:25:50,380 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:25:50,380 Line:5853 53:
 [DEBUG] 2018-01-30 09:25:50,380 Line:5853 54:1
 [DEBUG] 2018-01-30 09:25:50,381 Line:5853 55:2018-01-30 09:25:10
 [DEBUG] 2018-01-30 09:25:50,381 Line:5853 56:0
 [DEBUG] 2018-01-30 09:25:50,382 Line:5853 57:0
 [DEBUG] 2018-01-30 09:25:50,382 Line:5853 58:0
 [DEBUG] 2018-01-30 09:25:50,382 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 09:25:50,383 Line:5853 60:
 [DEBUG] 2018-01-30 09:25:50,383 Line:5853 61:1
 [DEBUG] 2018-01-30 09:25:50,384 Line:5853 62:2018-01-30 09:25:10
 [DEBUG] 2018-01-30 09:25:50,389 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 1:1b63e5ab_1801300925503300092
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 2:1b63e5ab_1801300925503890093
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 3:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 5:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 6:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 7:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 8:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 9:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 10:
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 15:0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 17:0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:25:50,389 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:25:50,405 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:25:50,406 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:25:50,406 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:25:50,407 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:25:50,407 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:25:50,408 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:25:50,408 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:25:50,409 Line:5853 31:
 [DEBUG] 2018-01-30 09:25:50,409 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:25:50,409 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:25:50,410 Line:5853 34:0
 [DEBUG] 2018-01-30 09:25:50,411 Line:5853 35:0
 [DEBUG] 2018-01-30 09:25:50,411 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:25:50,412 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:25:50,412 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:25:50,413 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:25:50,413 Line:5853 40:1
 [DEBUG] 2018-01-30 09:25:50,414 Line:5853 41:0
 [DEBUG] 2018-01-30 09:25:50,414 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:25:50,415 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:25:50,416 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:25:50,417 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:25:50,417 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:25:50,417 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:25:50,418 Line:5853 48:
 [DEBUG] 2018-01-30 09:25:50,418 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:25:50,419 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:25:50,419 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:25:50,420 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:25:50,420 Line:5853 53:
 [DEBUG] 2018-01-30 09:25:50,420 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:25:50,421 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:25:50,446 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 09:25:50,447 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 09:25:50,448 Line:988 1值：
 [DEBUG] 2018-01-30 09:25:50,454 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 09:25:50,455 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 09:25:50,468 Line:321 flag:true
 [DEBUG] 2018-01-30 09:25:50,469 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 09:25:50,470 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 09:25:58,965 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 09:25:58,967 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[saveDraft,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300051,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 09:25:10,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 09:25:10,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 09:25:58,969 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 09:25:58,986 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:25:58,987 Line:5853 1:;1;
 [DEBUG] 2018-01-30 09:25:58,989 Line:5853 2:0
 [DEBUG] 2018-01-30 09:25:58,991 Line:5853 3:1b63e5ab_1801300925589820094
 [DEBUG] 2018-01-30 09:25:58,992 Line:5853 4:00001
 [DEBUG] 2018-01-30 09:25:58,993 Line:5853 5:SO1801300051
 [DEBUG] 2018-01-30 09:25:58,994 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 09:25:58,995 Line:5853 7:00001
 [DEBUG] 2018-01-30 09:25:58,996 Line:5853 8:00101
 [DEBUG] 2018-01-30 09:25:58,996 Line:5853 9:1
 [DEBUG] 2018-01-30 09:25:58,997 Line:5853 10:
 [DEBUG] 2018-01-30 09:25:58,998 Line:5853 11:
 [DEBUG] 2018-01-30 09:25:58,999 Line:5853 12:0.0
 [DEBUG] 2018-01-30 09:25:59,000 Line:5853 13:
 [DEBUG] 2018-01-30 09:25:59,001 Line:5853 14:
 [DEBUG] 2018-01-30 09:25:59,002 Line:5853 15:0.0
 [DEBUG] 2018-01-30 09:25:59,003 Line:5853 16:3
 [DEBUG] 2018-01-30 09:25:59,003 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 09:25:59,004 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:25:59,006 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:25:59,007 Line:5853 20:0
 [DEBUG] 2018-01-30 09:25:59,008 Line:5853 21:
 [DEBUG] 2018-01-30 09:25:59,009 Line:5853 22:1
 [DEBUG] 2018-01-30 09:25:59,010 Line:5853 23:1
 [DEBUG] 2018-01-30 09:25:59,010 Line:5853 24:2018
 [DEBUG] 2018-01-30 09:25:59,011 Line:5853 25:0.0
 [DEBUG] 2018-01-30 09:25:59,011 Line:5853 26:
 [DEBUG] 2018-01-30 09:25:59,012 Line:5853 27:
 [DEBUG] 2018-01-30 09:25:59,013 Line:5853 28:
 [DEBUG] 2018-01-30 09:25:59,014 Line:5853 29:
 [DEBUG] 2018-01-30 09:25:59,014 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:25:59,015 Line:5853 31:0
 [DEBUG] 2018-01-30 09:25:59,015 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:25:59,016 Line:5853 33:
 [DEBUG] 2018-01-30 09:25:59,016 Line:5853 34:
 [DEBUG] 2018-01-30 09:25:59,017 Line:5853 35:
 [DEBUG] 2018-01-30 09:25:59,018 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:25:59,018 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:25:59,019 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:25:59,019 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:25:59,020 Line:5853 40:100.0
 [DEBUG] 2018-01-30 09:25:59,021 Line:5853 41:0.0
 [DEBUG] 2018-01-30 09:25:59,023 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:25:59,024 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:25:59,024 Line:5853 44:1.0
 [DEBUG] 2018-01-30 09:25:59,025 Line:5853 45:1.0
 [DEBUG] 2018-01-30 09:25:59,026 Line:5853 46:1.0
 [DEBUG] 2018-01-30 09:25:59,026 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:25:59,027 Line:5853 48:0.0
 [DEBUG] 2018-01-30 09:25:59,028 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:25:59,028 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:25:59,029 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:25:59,030 Line:5853 52:1.0
 [DEBUG] 2018-01-30 09:25:59,030 Line:5853 53:
 [DEBUG] 2018-01-30 09:25:59,030 Line:5853 54:1
 [DEBUG] 2018-01-30 09:25:59,031 Line:5853 55:2018-01-30 09:25:10
 [DEBUG] 2018-01-30 09:25:59,032 Line:5853 56:0
 [DEBUG] 2018-01-30 09:25:59,032 Line:5853 57:0
 [DEBUG] 2018-01-30 09:25:59,033 Line:5853 58:0
 [DEBUG] 2018-01-30 09:25:59,034 Line:5853 59:draft
 [DEBUG] 2018-01-30 09:25:59,034 Line:5853 60:
 [DEBUG] 2018-01-30 09:25:59,035 Line:5853 61:1
 [DEBUG] 2018-01-30 09:25:59,036 Line:5853 62:2018-01-30 09:25:10
 [DEBUG] 2018-01-30 09:25:59,041 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 09:25:59,042 Line:5853 1:1b63e5ab_1801300925589820094
 [DEBUG] 2018-01-30 09:25:59,043 Line:5853 2:1b63e5ab_1801300925590390095
 [DEBUG] 2018-01-30 09:25:59,044 Line:5853 3:
 [DEBUG] 2018-01-30 09:25:59,044 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 09:25:59,045 Line:5853 5:
 [DEBUG] 2018-01-30 09:25:59,046 Line:5853 6:
 [DEBUG] 2018-01-30 09:25:59,047 Line:5853 7:
 [DEBUG] 2018-01-30 09:25:59,048 Line:5853 8:
 [DEBUG] 2018-01-30 09:25:59,048 Line:5853 9:
 [DEBUG] 2018-01-30 09:25:59,049 Line:5853 10:
 [DEBUG] 2018-01-30 09:25:59,050 Line:5853 11:1.0
 [DEBUG] 2018-01-30 09:25:59,051 Line:5853 12:1.0
 [DEBUG] 2018-01-30 09:25:59,051 Line:5853 13:1.0
 [DEBUG] 2018-01-30 09:25:59,052 Line:5853 14:0.0
 [DEBUG] 2018-01-30 09:25:59,052 Line:5853 15:0
 [DEBUG] 2018-01-30 09:25:59,053 Line:5853 16:0.0
 [DEBUG] 2018-01-30 09:25:59,054 Line:5853 17:0
 [DEBUG] 2018-01-30 09:25:59,055 Line:5853 18:0.0
 [DEBUG] 2018-01-30 09:25:59,055 Line:5853 19:0.0
 [DEBUG] 2018-01-30 09:25:59,056 Line:5853 20:0.0
 [DEBUG] 2018-01-30 09:25:59,056 Line:5853 21:100.0
 [DEBUG] 2018-01-30 09:25:59,057 Line:5853 22:1.0
 [DEBUG] 2018-01-30 09:25:59,057 Line:5853 23:1.0
 [DEBUG] 2018-01-30 09:25:59,058 Line:5853 24:0.0
 [DEBUG] 2018-01-30 09:25:59,058 Line:5853 25:1.0
 [DEBUG] 2018-01-30 09:25:59,059 Line:5853 26:1.0
 [DEBUG] 2018-01-30 09:25:59,059 Line:5853 27:0.0
 [DEBUG] 2018-01-30 09:25:59,059 Line:5853 28:1.0
 [DEBUG] 2018-01-30 09:25:59,060 Line:5853 29:1.0
 [DEBUG] 2018-01-30 09:25:59,060 Line:5853 30:0.0
 [DEBUG] 2018-01-30 09:25:59,061 Line:5853 31:
 [DEBUG] 2018-01-30 09:25:59,061 Line:5853 32:0.0
 [DEBUG] 2018-01-30 09:25:59,061 Line:5853 33:0.0
 [DEBUG] 2018-01-30 09:25:59,062 Line:5853 34:0
 [DEBUG] 2018-01-30 09:25:59,062 Line:5853 35:0
 [DEBUG] 2018-01-30 09:25:59,063 Line:5853 36:0.0
 [DEBUG] 2018-01-30 09:25:59,063 Line:5853 37:0.0
 [DEBUG] 2018-01-30 09:25:59,064 Line:5853 38:0.0
 [DEBUG] 2018-01-30 09:25:59,064 Line:5853 39:0.0
 [DEBUG] 2018-01-30 09:25:59,065 Line:5853 40:1
 [DEBUG] 2018-01-30 09:25:59,065 Line:5853 41:0
 [DEBUG] 2018-01-30 09:25:59,065 Line:5853 42:0.0
 [DEBUG] 2018-01-30 09:25:59,066 Line:5853 43:0.0
 [DEBUG] 2018-01-30 09:25:59,066 Line:5853 44:0.0
 [DEBUG] 2018-01-30 09:25:59,067 Line:5853 45:00101
 [DEBUG] 2018-01-30 09:25:59,067 Line:5853 46:0.0
 [DEBUG] 2018-01-30 09:25:59,068 Line:5853 47:0.0
 [DEBUG] 2018-01-30 09:25:59,068 Line:5853 48:
 [DEBUG] 2018-01-30 09:25:59,069 Line:5853 49:0.0
 [DEBUG] 2018-01-30 09:25:59,069 Line:5853 50:0.0
 [DEBUG] 2018-01-30 09:25:59,070 Line:5853 51:0.0
 [DEBUG] 2018-01-30 09:25:59,071 Line:5853 52:0.0
 [DEBUG] 2018-01-30 09:25:59,072 Line:5853 53:
 [DEBUG] 2018-01-30 09:25:59,073 Line:5853 54:0.0
 [DEBUG] 2018-01-30 09:25:59,074 Line:5853 55:00001
 [DEBUG] 2018-01-30 09:25:59,243 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300925589820094' order by detOrderNo
 [DEBUG] 2018-01-30 09:25:59,259 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801300925589820094;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 09:25:59,369 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801300925589820094&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 09:25:59,371 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801300925589820094,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:25:59,380 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300925589820094' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:25:59,533 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300925589820094' order by detOrderNo
 [DEBUG] 2018-01-30 09:26:01,556 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801300925589820094&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 09:26:01,557 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801300925589820094,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 09:26:01,558 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801300925589820094' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 09:26:01,579 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300925589820094' order by detOrderNo
 [DEBUG] 2018-01-30 09:36:24,535 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 10:06:44,853 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 10:37:03,090 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 11:07:18,697 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 11:11:14,730 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-30 11:11:14,732 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-30 11:11:15,107 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-30 11:11:15,109 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-30 11:11:15,668 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1517281875622
 [DEBUG] 2018-01-30 11:11:15,669 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1517281875622,];
 [DEBUG] 2018-01-30 11:11:18,541 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1517281878538
 [DEBUG] 2018-01-30 11:11:18,542 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1517281878538,];
 [DEBUG] 2018-01-30 11:11:18,557 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1517281878552
 [DEBUG] 2018-01-30 11:11:18,558 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1517281878552,];
 [DEBUG] 2018-01-30 11:11:18,581 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-30 11:11:18,582 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1218,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-30 11:11:18,716 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-30 11:11:18,742 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-30 11:11:18,964 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 11:11:18,965 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 11:11:18,967 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:11:19,686 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 11:11:19,687 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 11:11:19,756 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 11:11:19,757 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:11:19,759 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:11:19,793 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 11:11:19,794 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:11:19,795 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:11:19,817 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 11:11:19,818 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:11:19,821 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:11:19,844 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 11:11:19,845 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:11:19,847 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:19:52,661 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 11:19:52,662 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:19:52,663 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 11:20:01,929 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 11:20:01,929 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 11:20:01,932 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 11:20:02,205 Line:689 通过SQL读原始数据：276
 [DEBUG] 2018-01-30 11:20:02,209 Line:1391 整理数据：4
 [DEBUG] 2018-01-30 11:20:06,518 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:20:06,521 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:20:16,142 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:20:16,143 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:20:21,791 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:20:21,792 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:20:21,792 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:20:21,793 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:20:21,794 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:20:25,253 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:20:30,483 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:20:30,484 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:20:32,448 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:20:32,449 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:20:32,450 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:20:32,451 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:20:32,454 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:20:33,303 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:21:05,626 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:21:05,629 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300052,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:20:10,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:20:10,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:22:56,573 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:23:20,231 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:23:20,246 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:23:20,253 Line:5853 2:0
 [DEBUG] 2018-01-30 11:23:20,265 Line:5853 3:1b63e5ab_1801301123201480099
 [DEBUG] 2018-01-30 11:23:20,277 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:23:20,288 Line:5853 5:SO1801300052
 [DEBUG] 2018-01-30 11:23:20,301 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:23:20,312 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:23:20,324 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:23:20,335 Line:5853 9:1
 [DEBUG] 2018-01-30 11:23:20,346 Line:5853 10:
 [DEBUG] 2018-01-30 11:23:20,357 Line:5853 11:
 [DEBUG] 2018-01-30 11:23:20,368 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:23:20,379 Line:5853 13:
 [DEBUG] 2018-01-30 11:23:20,387 Line:5853 14:
 [DEBUG] 2018-01-30 11:23:20,399 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:23:20,412 Line:5853 16:3
 [DEBUG] 2018-01-30 11:23:20,423 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:23:20,434 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:23:20,445 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:23:20,454 Line:5853 20:0
 [DEBUG] 2018-01-30 11:23:20,467 Line:5853 21:
 [DEBUG] 2018-01-30 11:23:20,480 Line:5853 22:1
 [DEBUG] 2018-01-30 11:23:20,491 Line:5853 23:1
 [DEBUG] 2018-01-30 11:23:20,502 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:23:20,513 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:23:20,524 Line:5853 26:
 [DEBUG] 2018-01-30 11:23:20,536 Line:5853 27:
 [DEBUG] 2018-01-30 11:23:20,547 Line:5853 28:
 [DEBUG] 2018-01-30 11:23:20,557 Line:5853 29:
 [DEBUG] 2018-01-30 11:23:20,570 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:23:20,577 Line:5853 31:0
 [DEBUG] 2018-01-30 11:23:20,592 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:23:20,604 Line:5853 33:
 [DEBUG] 2018-01-30 11:23:20,615 Line:5853 34:
 [DEBUG] 2018-01-30 11:23:20,627 Line:5853 35:
 [DEBUG] 2018-01-30 11:23:20,637 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:23:20,650 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:23:20,663 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:23:20,674 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:23:20,685 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:23:20,695 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:23:20,708 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:23:20,722 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:23:20,733 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:23:20,745 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:23:20,754 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:23:20,768 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:23:20,780 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:23:20,791 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:23:20,803 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:23:20,811 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:23:20,823 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:23:20,837 Line:5853 53:
 [DEBUG] 2018-01-30 11:23:20,848 Line:5853 54:1
 [DEBUG] 2018-01-30 11:23:20,860 Line:5853 55:2018-01-30 11:20:10
 [DEBUG] 2018-01-30 11:23:20,871 Line:5853 56:0
 [DEBUG] 2018-01-30 11:23:20,880 Line:5853 57:0
 [DEBUG] 2018-01-30 11:23:20,893 Line:5853 58:0
 [DEBUG] 2018-01-30 11:23:20,905 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:23:20,915 Line:5853 60:
 [DEBUG] 2018-01-30 11:23:20,924 Line:5853 61:1
 [DEBUG] 2018-01-30 11:23:20,936 Line:5853 62:2018-01-30 11:20:10
 [DEBUG] 2018-01-30 11:23:20,987 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:23:21,004 Line:5853 1:1b63e5ab_1801301123201480099
 [DEBUG] 2018-01-30 11:23:21,016 Line:5853 2:1b63e5ab_1801301123209810100
 [DEBUG] 2018-01-30 11:23:21,027 Line:5853 3:
 [DEBUG] 2018-01-30 11:23:21,039 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:23:21,051 Line:5853 5:
 [DEBUG] 2018-01-30 11:23:21,062 Line:5853 6:
 [DEBUG] 2018-01-30 11:23:21,075 Line:5853 7:
 [DEBUG] 2018-01-30 11:23:21,085 Line:5853 8:
 [DEBUG] 2018-01-30 11:23:21,096 Line:5853 9:
 [DEBUG] 2018-01-30 11:23:21,104 Line:5853 10:
 [DEBUG] 2018-01-30 11:23:21,116 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:23:21,128 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:23:21,140 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:23:21,150 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:23:21,161 Line:5853 15:0
 [DEBUG] 2018-01-30 11:23:21,171 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:23:21,179 Line:5853 17:0
 [DEBUG] 2018-01-30 11:23:21,193 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:23:21,205 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:23:21,216 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:23:21,224 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:23:21,236 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:23:21,250 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:23:21,266 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:23:21,278 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:23:21,290 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:23:21,298 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:23:21,314 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:23:21,326 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:23:21,337 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:23:21,348 Line:5853 31:
 [DEBUG] 2018-01-30 11:23:21,356 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:23:21,369 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:23:21,381 Line:5853 34:0
 [DEBUG] 2018-01-30 11:23:21,392 Line:5853 35:0
 [DEBUG] 2018-01-30 11:23:21,403 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:23:21,414 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:23:21,426 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:23:21,438 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:23:21,448 Line:5853 40:1
 [DEBUG] 2018-01-30 11:23:21,460 Line:5853 41:0
 [DEBUG] 2018-01-30 11:23:21,471 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:23:21,479 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:23:21,493 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:23:21,504 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:23:21,515 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:23:21,524 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:23:21,536 Line:5853 48:
 [DEBUG] 2018-01-30 11:23:21,548 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:23:21,561 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:23:21,573 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:23:21,584 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:23:21,592 Line:5853 53:
 [DEBUG] 2018-01-30 11:23:21,606 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:23:21,618 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:23:22,066 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301123201480099' order by detOrderNo
 [DEBUG] 2018-01-30 11:23:22,140 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301123201480099;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:23:48,951 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801301123201480099&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:23:48,955 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801301123201480099,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:23:52,824 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301123201480099' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:23:52,874 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301123201480099' order by detOrderNo
 [DEBUG] 2018-01-30 11:23:59,089 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:23:59,090 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:24:05,837 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:24:05,838 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:24:08,064 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:24:08,065 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:24:08,066 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:24:08,068 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:24:08,070 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:24:09,964 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:24:14,456 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:24:14,457 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:24:16,219 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:24:16,220 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:24:16,221 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:24:16,221 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:24:16,224 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:24:17,251 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:24:23,892 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:24:23,894 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300053,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:24:02,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:24:02,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:25:02,915 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:25:10,174 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:25:10,178 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:25:10,178 Line:5853 2:0
 [DEBUG] 2018-01-30 11:25:10,179 Line:5853 3:1b63e5ab_1801301125101520103
 [DEBUG] 2018-01-30 11:25:10,179 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:25:10,179 Line:5853 5:SO1801300053
 [DEBUG] 2018-01-30 11:25:10,179 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:25:10,179 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:25:10,179 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 9:1
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 10:
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 11:
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 13:
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 14:
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 16:3
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:25:10,183 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:25:10,187 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:25:10,188 Line:5853 20:0
 [DEBUG] 2018-01-30 11:25:10,188 Line:5853 21:
 [DEBUG] 2018-01-30 11:25:10,189 Line:5853 22:1
 [DEBUG] 2018-01-30 11:25:10,189 Line:5853 23:1
 [DEBUG] 2018-01-30 11:25:10,190 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:25:10,190 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:25:10,190 Line:5853 26:
 [DEBUG] 2018-01-30 11:25:10,191 Line:5853 27:
 [DEBUG] 2018-01-30 11:25:10,191 Line:5853 28:
 [DEBUG] 2018-01-30 11:25:10,192 Line:5853 29:
 [DEBUG] 2018-01-30 11:25:10,192 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:25:10,193 Line:5853 31:0
 [DEBUG] 2018-01-30 11:25:10,193 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:25:10,194 Line:5853 33:
 [DEBUG] 2018-01-30 11:25:10,195 Line:5853 34:
 [DEBUG] 2018-01-30 11:25:10,196 Line:5853 35:
 [DEBUG] 2018-01-30 11:25:10,196 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:25:10,197 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:25:10,197 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:25:10,198 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:25:10,198 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:25:10,199 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:25:10,199 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:25:10,200 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:25:10,200 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:25:10,201 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:25:10,201 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:25:10,202 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:25:10,202 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:25:10,203 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:25:10,204 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:25:10,204 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:25:10,205 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:25:10,205 Line:5853 53:
 [DEBUG] 2018-01-30 11:25:10,206 Line:5853 54:1
 [DEBUG] 2018-01-30 11:25:10,206 Line:5853 55:2018-01-30 11:24:02
 [DEBUG] 2018-01-30 11:25:10,206 Line:5853 56:0
 [DEBUG] 2018-01-30 11:25:10,207 Line:5853 57:0
 [DEBUG] 2018-01-30 11:25:10,207 Line:5853 58:0
 [DEBUG] 2018-01-30 11:25:10,208 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:25:10,208 Line:5853 60:
 [DEBUG] 2018-01-30 11:25:10,208 Line:5853 61:1
 [DEBUG] 2018-01-30 11:25:10,209 Line:5853 62:2018-01-30 11:24:02
 [DEBUG] 2018-01-30 11:25:10,223 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:25:10,224 Line:5853 1:1b63e5ab_1801301125101520103
 [DEBUG] 2018-01-30 11:25:10,224 Line:5853 2:1b63e5ab_1801301125102230104
 [DEBUG] 2018-01-30 11:25:10,225 Line:5853 3:
 [DEBUG] 2018-01-30 11:25:10,225 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:25:10,226 Line:5853 5:
 [DEBUG] 2018-01-30 11:25:10,226 Line:5853 6:
 [DEBUG] 2018-01-30 11:25:10,227 Line:5853 7:
 [DEBUG] 2018-01-30 11:25:10,228 Line:5853 8:
 [DEBUG] 2018-01-30 11:25:10,228 Line:5853 9:
 [DEBUG] 2018-01-30 11:25:10,229 Line:5853 10:
 [DEBUG] 2018-01-30 11:25:10,229 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:25:10,230 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:25:10,230 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:25:10,230 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:25:10,231 Line:5853 15:0
 [DEBUG] 2018-01-30 11:25:10,231 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:25:10,232 Line:5853 17:0
 [DEBUG] 2018-01-30 11:25:10,232 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:25:10,232 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:25:10,233 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:25:10,233 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:25:10,234 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:25:10,234 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:25:10,235 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:25:10,235 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:25:10,235 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:25:10,236 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:25:10,236 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:25:10,237 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:25:10,237 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:25:10,237 Line:5853 31:
 [DEBUG] 2018-01-30 11:25:10,238 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:25:10,238 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:25:10,239 Line:5853 34:0
 [DEBUG] 2018-01-30 11:25:10,239 Line:5853 35:0
 [DEBUG] 2018-01-30 11:25:10,239 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:25:10,240 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:25:10,240 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:25:10,241 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:25:10,241 Line:5853 40:1
 [DEBUG] 2018-01-30 11:25:10,242 Line:5853 41:0
 [DEBUG] 2018-01-30 11:25:10,242 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:25:10,243 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:25:10,244 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:25:10,244 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:25:10,244 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:25:10,244 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:25:10,244 Line:5853 48:
 [DEBUG] 2018-01-30 11:25:10,248 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:25:10,248 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:25:10,248 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:25:10,249 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:25:10,250 Line:5853 53:
 [DEBUG] 2018-01-30 11:25:10,250 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:25:10,251 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:25:10,286 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:25:10,286 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:25:10,290 Line:988 1值：
 [DEBUG] 2018-01-30 11:25:10,298 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-30 11:25:10,298 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:25:10,318 Line:321 flag:true
 [DEBUG] 2018-01-30 11:25:10,319 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:25:10,320 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:26:28,169 Line:135 BaseAction.execute 请求地址：/UserQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-30 11:26:28,171 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-30 11:26:28,172 Line:215 ---------->SET Page 2 DEFAULT URL = /UserQueryAction.do
 [DEBUG] 2018-01-30 11:26:31,215 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=7&keyId=02dabeed_1712302027382450004&roleName=%E6%9D%8E%E7%81%BF%E8%B1%AA&fromUser=true&winCurIndex=2
 [DEBUG] 2018-01-30 11:26:31,219 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[02dabeed_1712302027382450004,];roleName=[??????è±?,];fromUser=[true,];winCurIndex=[2,];
 [DEBUG] 2018-01-30 11:26:31,478 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=b1cfacac_0902201355164210064
 [DEBUG] 2018-01-30 11:26:31,479 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[b1cfacac_0902201355164210064,];
 [DEBUG] 2018-01-30 11:26:31,482 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=3db7194f_0902201635025620018
 [DEBUG] 2018-01-30 11:26:31,483 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[3db7194f_0902201635025620018,];
 [DEBUG] 2018-01-30 11:26:31,515 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=96fdd0df_0909101034157810002
 [DEBUG] 2018-01-30 11:26:31,516 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=68
 [DEBUG] 2018-01-30 11:26:31,516 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=fdce6573_0902222139462650101
 [DEBUG] 2018-01-30 11:26:31,515 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=a8915453_0811051332495620001
 [DEBUG] 2018-01-30 11:26:31,515 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=74d16bbe_0811071639325970001
 [DEBUG] 2018-01-30 11:26:31,515 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=deab4730_1311211353334210070
 [DEBUG] 2018-01-30 11:26:31,519 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[74d16bbe_0811071639325970001,];
 [DEBUG] 2018-01-30 11:26:31,518 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[a8915453_0811051332495620001,];
 [DEBUG] 2018-01-30 11:26:31,517 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[fdce6573_0902222139462650101,];
 [DEBUG] 2018-01-30 11:26:31,517 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[68,];
 [DEBUG] 2018-01-30 11:26:31,516 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=40
 [DEBUG] 2018-01-30 11:26:31,523 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[40,];
 [DEBUG] 2018-01-30 11:26:31,516 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[96fdd0df_0909101034157810002,];
 [DEBUG] 2018-01-30 11:26:31,519 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[deab4730_1311211353334210070,];
 [DEBUG] 2018-01-30 11:26:31,731 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=96fdd0df_0909101034474840010
 [DEBUG] 2018-01-30 11:26:31,732 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[96fdd0df_0909101034474840010,];
 [DEBUG] 2018-01-30 11:26:31,733 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=22
 [DEBUG] 2018-01-30 11:26:31,750 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[22,];
 [DEBUG] 2018-01-30 11:26:31,746 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=96fdd0df_0909101050195460044
 [DEBUG] 2018-01-30 11:26:31,754 Line:135 BaseAction.execute 请求地址：/RoleAction.do?operation=51&keyId=02dabeed_1712302027382450004&moduleId=16
 [DEBUG] 2018-01-30 11:26:31,755 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[16,];
 [DEBUG] 2018-01-30 11:26:31,754 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[51,];keyId=[02dabeed_1712302027382450004,];moduleId=[96fdd0df_0909101050195460044,];
 [DEBUG] 2018-01-30 11:27:44,520 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblPay&moduleType=xxx&src=menu&winCurIndex=4
 [DEBUG] 2018-01-30 11:27:44,521 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblPay,];moduleType=[xxx,];src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-30 11:27:44,522 Line:215 ---------->SET Page 4 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblPay&moduleType=xxx
 [DEBUG] 2018-01-30 11:27:46,755 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,AccName,SettleAmt,CurrencyAmt,DeptFullName,EmpFullName,PaytypeID,sysName,id,Remark,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblPay.id as keyId,tblPay.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblPay.createBy) as deptCodeR,tblPay.employeeId as employeeId,tblPay.departmentCode as deptCodeRE, tblPay.workFlowNode as workFlowNode,tblPay.workFlowNodeName as workFlowNodeName,tblPay.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblPay.id and OAMyWorkFlow.tableName='tblPay' and '1' = OAMyWorkFlow.lastCheckPerson and tblPay.workFlowNode!='-1' ) as lastNodeID,       tblPay.BillDate as BillDate,     tblPay.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     (select dbo.BuyAccoutDetail(id,'zh_CN') from tblPay a where a.id=tblPay.id) as AccName,     (case tblPay.PaytypeID when 'RetrunPay' then (-1)*tblPay.SettleAmt when 'ReturnReceive' then (-1)*tblPay.SettleAmt else tblPay.SettleAmt end) as SettleAmt,     (case tblPay.PaytypeID when 'RetrunPay' then (-1)*tblPay.CurrencyAmt when 'ReturnReceive' then (-1)*tblPay.CurrencyAmt else tblPay.CurrencyAmt end) as CurrencyAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblPay.PaytypeID as PaytypeID,     tblEmployee2.EmpFullName as sysName,     tblPay.id as id,     tblPay.Remark as Remark   ,ROW_NUMBER() over(order by     tblPay.BillDate desc,    tblPay.BillNo desc) as row_id  from tblPay   left join tblDepartment on tblDepartment.classCode=tblPay.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblPay.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblPay.createBy   left join tblCompany on tblCompany.classCode=tblPay.CompanyCode  where 1=1 and isNull(tblPay.workFlowNodeName,'')!='print'        and (tblPay.BillDate >= ?)                                                             )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 11:27:46,759 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 11:27:46,941 Line:689 通过SQL读原始数据：182
 [DEBUG] 2018-01-30 11:27:46,945 Line:1391 整理数据：0
 [DEBUG] 2018-01-30 11:27:47,214 Line:5242 GlobalsTool.js 生成js 时间85:/js/gen/defineList.vjstblPay_zh_CN.js
 [DEBUG] 2018-01-30 11:27:52,372 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblPay&parentCode=&operation=6&moduleType=xxx&f_brother=&parentTableName=&winCurIndex=4&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:27:52,373 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblPay,];parentCode=[,];operation=[6,];moduleType=[xxx,];f_brother=[,];parentTableName=[,];winCurIndex=[4,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:27:55,072 Line:5242 GlobalsTool.js 生成js 时间373:/js/gen/define.vjstblPay_zh_CN.js
 [DEBUG] 2018-01-30 11:28:41,212 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=5
 [DEBUG] 2018-01-30 11:28:41,213 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[5,];
 [DEBUG] 2018-01-30 11:28:41,214 Line:215 ---------->SET Page 5 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-30 11:28:42,440 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-30 11:28:42,441 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-30 11:28:46,066 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=popupQuery&from=adv&src=menu&winCurIndex=6
 [DEBUG] 2018-01-30 11:28:46,067 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[popupQuery,];from=[adv,];src=[menu,];winCurIndex=[6,];
 [DEBUG] 2018-01-30 11:28:46,067 Line:215 ---------->SET Page 6 DEFAULT URL = /CustomAction.do?type=popupQuery&from=adv
 [DEBUG] 2018-01-30 11:29:01,531 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=popupQuery
 [DEBUG] 2018-01-30 11:29:01,531 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[popupQuery,];from=[adv,];keyword=[Model,];
 [DEBUG] 2018-01-30 11:29:19,245 Line:135 BaseAction.execute 请求地址：/CustomAction.do?type=popupUpdate&copy=true&popupName=model_getEnumBykey&popupWin=popupUpdateWin&popWinName=popupUpdateWin
 [DEBUG] 2018-01-30 11:29:19,246 Line:146 BaseAction.execute 操作人:admin;请求数据：type=[popupUpdate,];copy=[true,];popupName=[model_getEnumBykey,];popupWin=[popupUpdateWin,];popWinName=[popupUpdateWin,];
 [DEBUG] 2018-01-30 11:30:37,008 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:30:37,010 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300053,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:24:02,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:24:02,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:31:04,432 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:31:51,753 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:31:51,769 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:31:51,780 Line:5853 2:0
 [DEBUG] 2018-01-30 11:31:51,791 Line:5853 3:1b63e5ab_1801301131516830105
 [DEBUG] 2018-01-30 11:31:51,799 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:31:51,811 Line:5853 5:SO1801300053
 [DEBUG] 2018-01-30 11:31:51,824 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:31:51,835 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:31:51,846 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:31:51,856 Line:5853 9:1
 [DEBUG] 2018-01-30 11:31:51,866 Line:5853 10:
 [DEBUG] 2018-01-30 11:31:51,879 Line:5853 11:
 [DEBUG] 2018-01-30 11:31:51,890 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:31:51,900 Line:5853 13:
 [DEBUG] 2018-01-30 11:31:51,912 Line:5853 14:
 [DEBUG] 2018-01-30 11:31:51,920 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:31:51,933 Line:5853 16:3
 [DEBUG] 2018-01-30 11:31:51,945 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:31:51,956 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:31:51,966 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:31:51,978 Line:5853 20:0
 [DEBUG] 2018-01-30 11:31:51,990 Line:5853 21:
 [DEBUG] 2018-01-30 11:31:52,003 Line:5853 22:1
 [DEBUG] 2018-01-30 11:31:52,020 Line:5853 23:1
 [DEBUG] 2018-01-30 11:31:52,034 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:31:52,045 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:31:52,061 Line:5853 26:
 [DEBUG] 2018-01-30 11:31:52,078 Line:5853 27:
 [DEBUG] 2018-01-30 11:31:52,092 Line:5853 28:
 [DEBUG] 2018-01-30 11:31:52,104 Line:5853 29:
 [DEBUG] 2018-01-30 11:31:52,121 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:31:52,134 Line:5853 31:0
 [DEBUG] 2018-01-30 11:31:52,150 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:31:52,162 Line:5853 33:
 [DEBUG] 2018-01-30 11:31:52,174 Line:5853 34:
 [DEBUG] 2018-01-30 11:31:52,186 Line:5853 35:
 [DEBUG] 2018-01-30 11:31:52,199 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:31:52,210 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:31:52,220 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:31:52,234 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:31:52,245 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:31:52,257 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:31:52,265 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:31:52,277 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:31:52,290 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:31:52,301 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:31:52,314 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:31:52,326 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:31:52,336 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:31:52,345 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:31:52,358 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:31:52,370 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:31:52,381 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:31:52,393 Line:5853 53:
 [DEBUG] 2018-01-30 11:31:52,403 Line:5853 54:1
 [DEBUG] 2018-01-30 11:31:52,414 Line:5853 55:2018-01-30 11:24:02
 [DEBUG] 2018-01-30 11:31:52,426 Line:5853 56:0
 [DEBUG] 2018-01-30 11:31:52,438 Line:5853 57:0
 [DEBUG] 2018-01-30 11:31:52,450 Line:5853 58:0
 [DEBUG] 2018-01-30 11:31:52,461 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:31:52,471 Line:5853 60:
 [DEBUG] 2018-01-30 11:31:52,483 Line:5853 61:1
 [DEBUG] 2018-01-30 11:31:52,494 Line:5853 62:2018-01-30 11:24:02
 [DEBUG] 2018-01-30 11:31:52,554 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:31:52,569 Line:5853 1:1b63e5ab_1801301131516830105
 [DEBUG] 2018-01-30 11:31:52,579 Line:5853 2:1b63e5ab_1801301131525440106
 [DEBUG] 2018-01-30 11:31:52,593 Line:5853 3:
 [DEBUG] 2018-01-30 11:31:52,611 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:31:52,627 Line:5853 5:
 [DEBUG] 2018-01-30 11:31:52,642 Line:5853 6:
 [DEBUG] 2018-01-30 11:31:52,704 Line:5853 7:
 [DEBUG] 2018-01-30 11:31:52,719 Line:5853 8:
 [DEBUG] 2018-01-30 11:31:52,732 Line:5853 9:
 [DEBUG] 2018-01-30 11:31:52,743 Line:5853 10:
 [DEBUG] 2018-01-30 11:31:52,755 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:31:52,766 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:31:52,776 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:31:52,787 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:31:52,799 Line:5853 15:0
 [DEBUG] 2018-01-30 11:31:52,807 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:31:52,819 Line:5853 17:0
 [DEBUG] 2018-01-30 11:31:52,831 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:31:52,842 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:31:52,854 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:31:52,865 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:31:52,877 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:31:52,887 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:31:52,897 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:31:52,909 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:31:52,922 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:31:52,934 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:31:52,945 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:31:52,962 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:31:52,978 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:31:52,986 Line:5853 31:
 [DEBUG] 2018-01-30 11:31:53,002 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:31:53,015 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:31:53,027 Line:5853 34:0
 [DEBUG] 2018-01-30 11:31:53,041 Line:5853 35:0
 [DEBUG] 2018-01-30 11:31:53,057 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:31:53,072 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:31:53,086 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:31:53,099 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:31:53,111 Line:5853 40:1
 [DEBUG] 2018-01-30 11:31:53,119 Line:5853 41:0
 [DEBUG] 2018-01-30 11:31:53,132 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:31:53,143 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:31:53,155 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:31:53,166 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:31:53,174 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:31:53,186 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:31:53,196 Line:5853 48:
 [DEBUG] 2018-01-30 11:31:53,208 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:31:53,220 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:31:53,229 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:31:53,241 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:31:53,249 Line:5853 53:
 [DEBUG] 2018-01-30 11:31:53,263 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:31:53,274 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:31:53,732 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:31:53,810 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301131516830105;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:34:59,894 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801301131516830105&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 11:34:59,895 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801301131516830105,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:34:59,918 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301131516830105' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:35:00,190 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:36:39,163 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801301131516830105&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 11:36:39,165 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801301131516830105,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:36:39,166 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301131516830105' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:36:39,369 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:36:44,580 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:36:44,583 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[saveDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801301131516830105,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801301131516830105,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300053,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 11:24:02,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 11:24:02,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801301131525440106,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 11:36:44,618 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:36:44,659 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 1b63e5ab_1801301131516830105
 [DEBUG] 2018-01-30 11:36:44,674 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-30 11:36:44,674 Line:5993 1:SO1801300053
 [DEBUG] 2018-01-30 11:36:44,674 Line:5993 2:2018-01-30
 [DEBUG] 2018-01-30 11:36:44,674 Line:5993 3:00001
 [DEBUG] 2018-01-30 11:36:44,674 Line:5993 4:00101
 [DEBUG] 2018-01-30 11:36:44,674 Line:5993 5:1
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 6:
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 7:
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 8:0.0
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 9:
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 10:
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 11:0.0
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 12:3
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 13:CreditSale
 [DEBUG] 2018-01-30 11:36:44,678 Line:5993 14:0
 [DEBUG] 2018-01-30 11:36:44,682 Line:5993 15:1
 [DEBUG] 2018-01-30 11:36:44,682 Line:5993 16:1
 [DEBUG] 2018-01-30 11:36:44,682 Line:5993 17:2018
 [DEBUG] 2018-01-30 11:36:44,682 Line:5993 18:
 [DEBUG] 2018-01-30 11:36:44,683 Line:5993 19:
 [DEBUG] 2018-01-30 11:36:44,684 Line:5993 20:0.0
 [DEBUG] 2018-01-30 11:36:44,684 Line:5993 21:0.0
 [DEBUG] 2018-01-30 11:36:44,685 Line:5993 22:0.0
 [DEBUG] 2018-01-30 11:36:44,685 Line:5993 23:0.0
 [DEBUG] 2018-01-30 11:36:44,686 Line:5993 24:100.0
 [DEBUG] 2018-01-30 11:36:44,687 Line:5993 25:0.0
 [DEBUG] 2018-01-30 11:36:44,687 Line:5993 26:0.0
 [DEBUG] 2018-01-30 11:36:44,688 Line:5993 27:0.0
 [DEBUG] 2018-01-30 11:36:44,688 Line:5993 28:1.0
 [DEBUG] 2018-01-30 11:36:44,689 Line:5993 29:1.0
 [DEBUG] 2018-01-30 11:36:44,690 Line:5993 30:1.0
 [DEBUG] 2018-01-30 11:36:44,691 Line:5993 31:0.0
 [DEBUG] 2018-01-30 11:36:44,692 Line:5993 32:1.0
 [DEBUG] 2018-01-30 11:36:44,692 Line:5993 33:
 [DEBUG] 2018-01-30 11:36:44,692 Line:5993 34:1
 [DEBUG] 2018-01-30 11:36:44,693 Line:5993 35:2018-01-30 11:36:44
 [DEBUG] 2018-01-30 11:36:44,719 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:36:44,726 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:36:44,727 Line:5853 1:1b63e5ab_1801301131516830105
 [DEBUG] 2018-01-30 11:36:44,728 Line:5853 2:1b63e5ab_1801301136447260109
 [DEBUG] 2018-01-30 11:36:44,729 Line:5853 3:
 [DEBUG] 2018-01-30 11:36:44,729 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:36:44,730 Line:5853 5:
 [DEBUG] 2018-01-30 11:36:44,731 Line:5853 6:
 [DEBUG] 2018-01-30 11:36:44,731 Line:5853 7:
 [DEBUG] 2018-01-30 11:36:44,732 Line:5853 8:
 [DEBUG] 2018-01-30 11:36:44,733 Line:5853 9:
 [DEBUG] 2018-01-30 11:36:44,733 Line:5853 10:
 [DEBUG] 2018-01-30 11:36:44,734 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:36:44,734 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:36:44,735 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:36:44,735 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:36:44,736 Line:5853 15:0
 [DEBUG] 2018-01-30 11:36:44,736 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:36:44,736 Line:5853 17:0
 [DEBUG] 2018-01-30 11:36:44,737 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:36:44,737 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:36:44,738 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:36:44,738 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:36:44,739 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:36:44,739 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:36:44,739 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:36:44,740 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:36:44,741 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:36:44,741 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:36:44,742 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:36:44,742 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:36:44,743 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:36:44,743 Line:5853 31:
 [DEBUG] 2018-01-30 11:36:44,744 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:36:44,744 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:36:44,745 Line:5853 34:0
 [DEBUG] 2018-01-30 11:36:44,745 Line:5853 35:0
 [DEBUG] 2018-01-30 11:36:44,746 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:36:44,746 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:36:44,747 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:36:44,748 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:36:44,748 Line:5853 40:1
 [DEBUG] 2018-01-30 11:36:44,748 Line:5853 41:0
 [DEBUG] 2018-01-30 11:36:44,749 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:36:44,751 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:36:44,751 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:36:44,751 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:36:44,751 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:36:44,752 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:36:44,752 Line:5853 48:
 [DEBUG] 2018-01-30 11:36:44,752 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:36:44,753 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:36:44,753 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:36:44,755 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:36:44,755 Line:5853 53:
 [DEBUG] 2018-01-30 11:36:44,756 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:36:44,756 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:36:44,790 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:36:46,408 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801301131516830105&parentCode=null&f_brother=&draftQuery=draft&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=1&popWinName=
 [DEBUG] 2018-01-30 11:36:46,413 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801301131516830105,];parentCode=[null,];f_brother=[,];draftQuery=[draft,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[1,];popWinName=[,];
 [DEBUG] 2018-01-30 11:36:46,414 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301131516830105' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:36:46,426 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:36:48,501 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:36:48,504 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[quoteDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801301131516830105,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801301131516830105,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300053,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 11:36:44,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 11:24:02,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801301136447260109,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 11:36:48,508 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:36:48,522 Line:5565 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:36:48,533 Line:5587 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:36:48,537 Line:5609 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:36:48,541 Line:5639 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:36:48,557 Line:5647 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:36:48,573 Line:5653 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:36:48,585 Line:5659 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:36:48,601 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 2:0
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 3:1b63e5ab_1801301131516830105
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 5:SO1801300053
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:36:48,601 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 9:1
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 10:
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 11:
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 13:
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 14:
 [DEBUG] 2018-01-30 11:36:48,605 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 16:3
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 20:0
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 21:
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 22:1
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 23:1
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:36:48,609 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 26:
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 27:
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 28:
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 29:
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 31:0
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 33:
 [DEBUG] 2018-01-30 11:36:48,613 Line:5853 34:
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 35:
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:36:48,617 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:36:48,621 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 53:
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 54:1
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 55:2018-01-30 11:36:44
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 56:0
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 57:0
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 58:0
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 60:
 [DEBUG] 2018-01-30 11:36:48,625 Line:5853 61:1
 [DEBUG] 2018-01-30 11:36:48,629 Line:5853 62:2018-01-30 11:24:02
 [DEBUG] 2018-01-30 11:36:48,641 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:36:48,641 Line:5853 1:1b63e5ab_1801301131516830105
 [DEBUG] 2018-01-30 11:36:48,641 Line:5853 2:1b63e5ab_1801301136486410111
 [DEBUG] 2018-01-30 11:36:48,641 Line:5853 3:
 [DEBUG] 2018-01-30 11:36:48,641 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:36:48,641 Line:5853 5:
 [DEBUG] 2018-01-30 11:36:48,641 Line:5853 6:
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 7:
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 8:
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 9:
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 10:
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 15:0
 [DEBUG] 2018-01-30 11:36:48,645 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 17:0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:36:48,649 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:36:48,653 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:36:48,653 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:36:48,653 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:36:48,654 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:36:48,654 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:36:48,655 Line:5853 31:
 [DEBUG] 2018-01-30 11:36:48,655 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:36:48,655 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:36:48,656 Line:5853 34:0
 [DEBUG] 2018-01-30 11:36:48,656 Line:5853 35:0
 [DEBUG] 2018-01-30 11:36:48,657 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:36:48,657 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:36:48,659 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:36:48,659 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:36:48,660 Line:5853 40:1
 [DEBUG] 2018-01-30 11:36:48,660 Line:5853 41:0
 [DEBUG] 2018-01-30 11:36:48,661 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:36:48,661 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:36:48,661 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:36:48,662 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:36:48,662 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:36:48,663 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:36:48,663 Line:5853 48:
 [DEBUG] 2018-01-30 11:36:48,663 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:36:48,664 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:36:48,664 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:36:48,665 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:36:48,665 Line:5853 53:
 [DEBUG] 2018-01-30 11:36:48,665 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:36:48,666 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:36:48,681 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:36:48,682 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:36:48,683 Line:988 1值：
 [DEBUG] 2018-01-30 11:36:48,691 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-30 11:36:48,692 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:36:48,695 Line:321 flag:true
 [DEBUG] 2018-01-30 11:36:48,696 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:36:48,697 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:36:53,948 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:36:53,948 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:36:57,796 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:36:57,797 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:36:58,013 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:36:58,014 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:36:58,015 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:36:58,015 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:36:58,017 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:36:58,032 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:37:00,399 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:37:00,399 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:37:00,523 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:37:00,524 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:37:00,525 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:37:00,526 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:37:00,528 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:37:00,550 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:37:05,534 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:37:05,535 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300054,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:36:53,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:36:53,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:37:05,537 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:37:05,547 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:05,547 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:37:05,548 Line:5853 2:0
 [DEBUG] 2018-01-30 11:37:05,549 Line:5853 3:1b63e5ab_1801301137055440112
 [DEBUG] 2018-01-30 11:37:05,549 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:37:05,550 Line:5853 5:SO1801300054
 [DEBUG] 2018-01-30 11:37:05,550 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:37:05,551 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:37:05,552 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:37:05,552 Line:5853 9:1
 [DEBUG] 2018-01-30 11:37:05,553 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:05,554 Line:5853 11:
 [DEBUG] 2018-01-30 11:37:05,555 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:37:05,556 Line:5853 13:
 [DEBUG] 2018-01-30 11:37:05,558 Line:5853 14:
 [DEBUG] 2018-01-30 11:37:05,558 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:37:05,559 Line:5853 16:3
 [DEBUG] 2018-01-30 11:37:05,559 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:37:05,559 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:05,560 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:05,560 Line:5853 20:0
 [DEBUG] 2018-01-30 11:37:05,561 Line:5853 21:
 [DEBUG] 2018-01-30 11:37:05,562 Line:5853 22:1
 [DEBUG] 2018-01-30 11:37:05,562 Line:5853 23:1
 [DEBUG] 2018-01-30 11:37:05,563 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:37:05,563 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:37:05,564 Line:5853 26:
 [DEBUG] 2018-01-30 11:37:05,564 Line:5853 27:
 [DEBUG] 2018-01-30 11:37:05,564 Line:5853 28:
 [DEBUG] 2018-01-30 11:37:05,565 Line:5853 29:
 [DEBUG] 2018-01-30 11:37:05,565 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:05,566 Line:5853 31:0
 [DEBUG] 2018-01-30 11:37:05,566 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:05,566 Line:5853 33:
 [DEBUG] 2018-01-30 11:37:05,567 Line:5853 34:
 [DEBUG] 2018-01-30 11:37:05,568 Line:5853 35:
 [DEBUG] 2018-01-30 11:37:05,568 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:05,569 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:05,569 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:05,570 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:05,571 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:37:05,572 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:37:05,573 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:05,573 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:05,573 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:37:05,574 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:37:05,574 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:37:05,575 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:05,575 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:37:05,576 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:05,577 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:05,578 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:05,579 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:37:05,580 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:05,580 Line:5853 54:1
 [DEBUG] 2018-01-30 11:37:05,581 Line:5853 55:2018-01-30 11:36:53
 [DEBUG] 2018-01-30 11:37:05,581 Line:5853 56:0
 [DEBUG] 2018-01-30 11:37:05,581 Line:5853 57:0
 [DEBUG] 2018-01-30 11:37:05,582 Line:5853 58:0
 [DEBUG] 2018-01-30 11:37:05,582 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:37:05,583 Line:5853 60:
 [DEBUG] 2018-01-30 11:37:05,583 Line:5853 61:1
 [DEBUG] 2018-01-30 11:37:05,583 Line:5853 62:2018-01-30 11:36:53
 [DEBUG] 2018-01-30 11:37:05,587 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:05,588 Line:5853 1:1b63e5ab_1801301137055440112
 [DEBUG] 2018-01-30 11:37:05,588 Line:5853 2:1b63e5ab_1801301137055860113
 [DEBUG] 2018-01-30 11:37:05,589 Line:5853 3:
 [DEBUG] 2018-01-30 11:37:05,589 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:37:05,590 Line:5853 5:
 [DEBUG] 2018-01-30 11:37:05,590 Line:5853 6:
 [DEBUG] 2018-01-30 11:37:05,591 Line:5853 7:
 [DEBUG] 2018-01-30 11:37:05,591 Line:5853 8:
 [DEBUG] 2018-01-30 11:37:05,591 Line:5853 9:
 [DEBUG] 2018-01-30 11:37:05,592 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:05,592 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:37:05,593 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:37:05,593 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:37:05,593 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:37:05,594 Line:5853 15:0
 [DEBUG] 2018-01-30 11:37:05,594 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:37:05,595 Line:5853 17:0
 [DEBUG] 2018-01-30 11:37:05,595 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:05,595 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:05,596 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:37:05,596 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:37:05,597 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:37:05,597 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:37:05,597 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:37:05,598 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:37:05,598 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:37:05,599 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:37:05,599 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:37:05,599 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:37:05,600 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:05,600 Line:5853 31:
 [DEBUG] 2018-01-30 11:37:05,601 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:05,601 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:37:05,601 Line:5853 34:0
 [DEBUG] 2018-01-30 11:37:05,602 Line:5853 35:0
 [DEBUG] 2018-01-30 11:37:05,602 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:05,603 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:05,604 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:05,604 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:05,604 Line:5853 40:1
 [DEBUG] 2018-01-30 11:37:05,605 Line:5853 41:0
 [DEBUG] 2018-01-30 11:37:05,605 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:05,606 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:05,606 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:37:05,606 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:37:05,607 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:37:05,607 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:05,608 Line:5853 48:
 [DEBUG] 2018-01-30 11:37:05,608 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:05,608 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:05,609 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:05,609 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:37:05,610 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:05,610 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:37:05,610 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:37:05,702 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137055440112' order by detOrderNo
 [DEBUG] 2018-01-30 11:37:05,706 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301137055440112;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:37:28,711 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801301137055440112&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:37:28,711 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801301137055440112,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:37:28,714 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301137055440112' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:37:28,903 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137055440112' order by detOrderNo
 [DEBUG] 2018-01-30 11:37:36,506 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:37:36,530 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[quoteDraft,];frameName=[$fName,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[draft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[1b63e5ab_1801301137055440112,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[1b63e5ab_1801301137055440112,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801300054,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-30 11:36:53,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[draft,];finishTime=[,];createBy=[1,];createTime=[2018-01-30 11:36:53,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[0,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[1b63e5ab_1801301137055860113,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-30 11:37:36,532 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:37:36,563 Line:5565 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:37:36,573 Line:5587 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:37:36,578 Line:5609 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:37:36,586 Line:5639 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:37:36,599 Line:5647 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:37:36,614 Line:5653 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:37:36,620 Line:5659 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:37:36,637 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:36,638 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:37:36,639 Line:5853 2:0
 [DEBUG] 2018-01-30 11:37:36,639 Line:5853 3:1b63e5ab_1801301137055440112
 [DEBUG] 2018-01-30 11:37:36,640 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:37:36,640 Line:5853 5:SO1801300054
 [DEBUG] 2018-01-30 11:37:36,640 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:37:36,641 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:37:36,642 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:37:36,642 Line:5853 9:1
 [DEBUG] 2018-01-30 11:37:36,642 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:36,643 Line:5853 11:
 [DEBUG] 2018-01-30 11:37:36,643 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:37:36,644 Line:5853 13:
 [DEBUG] 2018-01-30 11:37:36,644 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 11:37:36,644 Line:5853 14:
 [DEBUG] 2018-01-30 11:37:36,644 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:37:36,644 Line:5853 16:3
 [DEBUG] 2018-01-30 11:37:36,644 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:37:36,644 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:36,648 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:36,649 Line:5853 20:0
 [DEBUG] 2018-01-30 11:37:36,651 Line:5853 21:
 [DEBUG] 2018-01-30 11:37:36,652 Line:5853 22:1
 [DEBUG] 2018-01-30 11:37:36,653 Line:5853 23:1
 [DEBUG] 2018-01-30 11:37:36,653 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:37:36,654 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:37:36,655 Line:5853 26:
 [DEBUG] 2018-01-30 11:37:36,655 Line:5853 27:
 [DEBUG] 2018-01-30 11:37:36,656 Line:5853 28:
 [DEBUG] 2018-01-30 11:37:36,657 Line:5853 29:
 [DEBUG] 2018-01-30 11:37:36,657 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:36,658 Line:5853 31:0
 [DEBUG] 2018-01-30 11:37:36,659 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:36,660 Line:5853 33:
 [DEBUG] 2018-01-30 11:37:36,661 Line:5853 34:
 [DEBUG] 2018-01-30 11:37:36,661 Line:5853 35:
 [DEBUG] 2018-01-30 11:37:36,662 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:36,663 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:36,663 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:36,664 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:36,664 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:37:36,665 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:37:36,665 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:36,665 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:36,666 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:37:36,666 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:37:36,667 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:37:36,667 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:36,668 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:37:36,668 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:36,669 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:36,669 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:36,669 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:37:36,670 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:36,670 Line:5853 54:1
 [DEBUG] 2018-01-30 11:37:36,671 Line:5853 55:2018-01-30 11:36:53
 [DEBUG] 2018-01-30 11:37:36,671 Line:5853 56:0
 [DEBUG] 2018-01-30 11:37:36,672 Line:5853 57:0
 [DEBUG] 2018-01-30 11:37:36,672 Line:5853 58:0
 [DEBUG] 2018-01-30 11:37:36,672 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:37:36,673 Line:5853 60:
 [DEBUG] 2018-01-30 11:37:36,673 Line:5853 61:1
 [DEBUG] 2018-01-30 11:37:36,674 Line:5853 62:2018-01-30 11:36:53
 [DEBUG] 2018-01-30 11:37:36,682 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 1:1b63e5ab_1801301137055440112
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 2:1b63e5ab_1801301137366820116
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 3:
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 5:
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 6:
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 7:
 [DEBUG] 2018-01-30 11:37:36,686 Line:5853 8:
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 9:
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 15:0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 17:0
 [DEBUG] 2018-01-30 11:37:36,690 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:36,694 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:36,694 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:37:36,694 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:37:36,694 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:37:36,694 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:37:36,694 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:37:36,698 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:37:36,698 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:37:36,698 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:37:36,698 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:37:36,698 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:37:36,698 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 31:
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 34:0
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 35:0
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:36,702 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:36,706 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:36,706 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:36,706 Line:5853 40:1
 [DEBUG] 2018-01-30 11:37:36,706 Line:5853 41:0
 [DEBUG] 2018-01-30 11:37:36,706 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:36,706 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:36,710 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:37:36,711 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:37:36,711 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:37:36,712 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:36,713 Line:5853 48:
 [DEBUG] 2018-01-30 11:37:36,713 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:36,714 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:36,714 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:36,715 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:37:36,715 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:36,716 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:37:36,716 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:37:36,743 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:37:36,744 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:37:36,745 Line:988 1值：
 [DEBUG] 2018-01-30 11:37:36,749 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-30 11:37:36,749 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:37:36,753 Line:321 flag:true
 [DEBUG] 2018-01-30 11:37:36,757 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:37:36,757 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:37:43,670 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:37:43,671 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:37:45,955 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:37:45,956 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:37:46,059 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:37:46,060 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:37:46,061 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:37:46,064 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:37:46,066 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:37:46,085 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:37:48,573 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:37:48,574 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:37:48,703 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:37:48,703 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:37:48,705 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:37:48,707 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:37:48,708 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:37:48,734 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2         and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:37:53,457 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:37:53,459 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300055,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:37:43,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:37:43,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:37:53,461 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:37:53,470 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:53,472 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:37:53,472 Line:5853 2:0
 [DEBUG] 2018-01-30 11:37:53,473 Line:5853 3:1b63e5ab_1801301137534670117
 [DEBUG] 2018-01-30 11:37:53,474 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:37:53,475 Line:5853 5:SO1801300055
 [DEBUG] 2018-01-30 11:37:53,475 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:37:53,476 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:37:53,476 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:37:53,477 Line:5853 9:1
 [DEBUG] 2018-01-30 11:37:53,478 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:53,479 Line:5853 11:
 [DEBUG] 2018-01-30 11:37:53,479 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:37:53,481 Line:5853 13:
 [DEBUG] 2018-01-30 11:37:53,482 Line:5853 14:
 [DEBUG] 2018-01-30 11:37:53,482 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:37:53,483 Line:5853 16:3
 [DEBUG] 2018-01-30 11:37:53,483 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:37:53,484 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:53,484 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:53,485 Line:5853 20:0
 [DEBUG] 2018-01-30 11:37:53,486 Line:5853 21:
 [DEBUG] 2018-01-30 11:37:53,486 Line:5853 22:1
 [DEBUG] 2018-01-30 11:37:53,487 Line:5853 23:1
 [DEBUG] 2018-01-30 11:37:53,487 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:37:53,487 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:37:53,488 Line:5853 26:
 [DEBUG] 2018-01-30 11:37:53,488 Line:5853 27:
 [DEBUG] 2018-01-30 11:37:53,489 Line:5853 28:
 [DEBUG] 2018-01-30 11:37:53,489 Line:5853 29:
 [DEBUG] 2018-01-30 11:37:53,489 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:53,490 Line:5853 31:0
 [DEBUG] 2018-01-30 11:37:53,490 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:53,491 Line:5853 33:
 [DEBUG] 2018-01-30 11:37:53,491 Line:5853 34:
 [DEBUG] 2018-01-30 11:37:53,492 Line:5853 35:
 [DEBUG] 2018-01-30 11:37:53,492 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:53,493 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:53,493 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:53,494 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:53,494 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:37:53,494 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:37:53,495 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:53,495 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:53,496 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:37:53,496 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:37:53,497 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:37:53,498 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:53,498 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:37:53,499 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:53,499 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:53,500 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:53,500 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:37:53,501 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:53,501 Line:5853 54:1
 [DEBUG] 2018-01-30 11:37:53,501 Line:5853 55:2018-01-30 11:37:43
 [DEBUG] 2018-01-30 11:37:53,502 Line:5853 56:0
 [DEBUG] 2018-01-30 11:37:53,503 Line:5853 57:0
 [DEBUG] 2018-01-30 11:37:53,503 Line:5853 58:0
 [DEBUG] 2018-01-30 11:37:53,504 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:37:53,504 Line:5853 60:
 [DEBUG] 2018-01-30 11:37:53,504 Line:5853 61:1
 [DEBUG] 2018-01-30 11:37:53,505 Line:5853 62:2018-01-30 11:37:43
 [DEBUG] 2018-01-30 11:37:53,509 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:53,510 Line:5853 1:1b63e5ab_1801301137534670117
 [DEBUG] 2018-01-30 11:37:53,510 Line:5853 2:1b63e5ab_1801301137535090118
 [DEBUG] 2018-01-30 11:37:53,511 Line:5853 3:
 [DEBUG] 2018-01-30 11:37:53,511 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:37:53,512 Line:5853 5:
 [DEBUG] 2018-01-30 11:37:53,512 Line:5853 6:
 [DEBUG] 2018-01-30 11:37:53,512 Line:5853 7:
 [DEBUG] 2018-01-30 11:37:53,513 Line:5853 8:
 [DEBUG] 2018-01-30 11:37:53,513 Line:5853 9:
 [DEBUG] 2018-01-30 11:37:53,514 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:53,514 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:37:53,514 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:37:53,515 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:37:53,515 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:37:53,516 Line:5853 15:0
 [DEBUG] 2018-01-30 11:37:53,516 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:37:53,516 Line:5853 17:0
 [DEBUG] 2018-01-30 11:37:53,517 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:53,517 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:53,517 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:37:53,518 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:37:53,518 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:37:53,519 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:37:53,519 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:37:53,519 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:37:53,520 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:37:53,520 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:37:53,521 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:37:53,521 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:37:53,521 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:53,522 Line:5853 31:
 [DEBUG] 2018-01-30 11:37:53,522 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:53,523 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:37:53,523 Line:5853 34:0
 [DEBUG] 2018-01-30 11:37:53,524 Line:5853 35:0
 [DEBUG] 2018-01-30 11:37:53,524 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:53,524 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:53,525 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:53,525 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:53,526 Line:5853 40:1
 [DEBUG] 2018-01-30 11:37:53,526 Line:5853 41:0
 [DEBUG] 2018-01-30 11:37:53,526 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:53,527 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:53,527 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:37:53,528 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:37:53,528 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:37:53,528 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:53,529 Line:5853 48:
 [DEBUG] 2018-01-30 11:37:53,529 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:53,530 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:53,530 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:53,530 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:37:53,531 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:53,531 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:37:53,532 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:37:53,536 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:37:53,536 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:37:53,537 Line:988 1值：
 [DEBUG] 2018-01-30 11:37:53,538 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-30 11:37:53,539 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:37:53,550 Line:321 flag:true
 [DEBUG] 2018-01-30 11:37:53,554 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:37:53,555 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:37:59,752 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:37:59,754 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300055,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[,];tblStock_StockFullName=[,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:37:43,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:37:43,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[39,];tblSalesOrderDet_ViewVirtualStock_UseQty=[38,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:37:59,756 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:37:59,766 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:59,767 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:37:59,768 Line:5853 2:0
 [DEBUG] 2018-01-30 11:37:59,769 Line:5853 3:1b63e5ab_1801301137597620119
 [DEBUG] 2018-01-30 11:37:59,769 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:37:59,770 Line:5853 5:SO1801300055
 [DEBUG] 2018-01-30 11:37:59,770 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:37:59,771 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:37:59,771 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:37:59,772 Line:5853 9:1
 [DEBUG] 2018-01-30 11:37:59,772 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:59,773 Line:5853 11:
 [DEBUG] 2018-01-30 11:37:59,774 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:37:59,774 Line:5853 13:
 [DEBUG] 2018-01-30 11:37:59,775 Line:5853 14:
 [DEBUG] 2018-01-30 11:37:59,776 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:37:59,776 Line:5853 16:3
 [DEBUG] 2018-01-30 11:37:59,777 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:37:59,777 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:59,778 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:59,778 Line:5853 20:0
 [DEBUG] 2018-01-30 11:37:59,778 Line:5853 21:
 [DEBUG] 2018-01-30 11:37:59,779 Line:5853 22:1
 [DEBUG] 2018-01-30 11:37:59,779 Line:5853 23:1
 [DEBUG] 2018-01-30 11:37:59,780 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:37:59,780 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:37:59,780 Line:5853 26:
 [DEBUG] 2018-01-30 11:37:59,781 Line:5853 27:
 [DEBUG] 2018-01-30 11:37:59,781 Line:5853 28:
 [DEBUG] 2018-01-30 11:37:59,782 Line:5853 29:
 [DEBUG] 2018-01-30 11:37:59,782 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:59,782 Line:5853 31:0
 [DEBUG] 2018-01-30 11:37:59,783 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:59,783 Line:5853 33:
 [DEBUG] 2018-01-30 11:37:59,784 Line:5853 34:
 [DEBUG] 2018-01-30 11:37:59,784 Line:5853 35:
 [DEBUG] 2018-01-30 11:37:59,784 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:59,785 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:59,785 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:59,786 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:59,786 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:37:59,787 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:37:59,787 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:59,787 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:59,788 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:37:59,788 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:37:59,789 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:37:59,789 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:59,790 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:37:59,791 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:59,791 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:59,792 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:59,792 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:37:59,793 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:59,793 Line:5853 54:1
 [DEBUG] 2018-01-30 11:37:59,793 Line:5853 55:2018-01-30 11:37:43
 [DEBUG] 2018-01-30 11:37:59,794 Line:5853 56:0
 [DEBUG] 2018-01-30 11:37:59,794 Line:5853 57:0
 [DEBUG] 2018-01-30 11:37:59,795 Line:5853 58:0
 [DEBUG] 2018-01-30 11:37:59,795 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:37:59,796 Line:5853 60:
 [DEBUG] 2018-01-30 11:37:59,796 Line:5853 61:1
 [DEBUG] 2018-01-30 11:37:59,797 Line:5853 62:2018-01-30 11:37:43
 [DEBUG] 2018-01-30 11:37:59,800 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:37:59,801 Line:5853 1:1b63e5ab_1801301137597620119
 [DEBUG] 2018-01-30 11:37:59,802 Line:5853 2:1b63e5ab_1801301137598000120
 [DEBUG] 2018-01-30 11:37:59,802 Line:5853 3:
 [DEBUG] 2018-01-30 11:37:59,803 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:37:59,803 Line:5853 5:
 [DEBUG] 2018-01-30 11:37:59,804 Line:5853 6:
 [DEBUG] 2018-01-30 11:37:59,804 Line:5853 7:
 [DEBUG] 2018-01-30 11:37:59,804 Line:5853 8:
 [DEBUG] 2018-01-30 11:37:59,805 Line:5853 9:
 [DEBUG] 2018-01-30 11:37:59,805 Line:5853 10:
 [DEBUG] 2018-01-30 11:37:59,806 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:37:59,807 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:37:59,807 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:37:59,808 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:37:59,808 Line:5853 15:0
 [DEBUG] 2018-01-30 11:37:59,809 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:37:59,809 Line:5853 17:0
 [DEBUG] 2018-01-30 11:37:59,810 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:37:59,810 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:37:59,810 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:37:59,811 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:37:59,811 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:37:59,812 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:37:59,812 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:37:59,813 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:37:59,813 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:37:59,813 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:37:59,814 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:37:59,814 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:37:59,815 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:37:59,815 Line:5853 31:
 [DEBUG] 2018-01-30 11:37:59,815 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:37:59,816 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:37:59,816 Line:5853 34:0
 [DEBUG] 2018-01-30 11:37:59,817 Line:5853 35:0
 [DEBUG] 2018-01-30 11:37:59,817 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:37:59,818 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:37:59,818 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:37:59,818 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:37:59,819 Line:5853 40:1
 [DEBUG] 2018-01-30 11:37:59,819 Line:5853 41:0
 [DEBUG] 2018-01-30 11:37:59,820 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:37:59,820 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:37:59,820 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:37:59,821 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:37:59,821 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:37:59,822 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:37:59,822 Line:5853 48:
 [DEBUG] 2018-01-30 11:37:59,823 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:37:59,823 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:37:59,824 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:37:59,824 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:37:59,824 Line:5853 53:
 [DEBUG] 2018-01-30 11:37:59,825 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:37:59,825 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:37:59,932 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137597620119' order by detOrderNo
 [DEBUG] 2018-01-30 11:37:59,935 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301137597620119;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:38:36,921 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801301137597620119&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 11:38:36,921 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801301137597620119,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:38:36,944 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301137597620119' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:38:37,284 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137597620119' order by detOrderNo
 [DEBUG] 2018-01-30 11:38:39,873 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801301137597620119&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 11:38:39,874 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801301137597620119,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:38:39,876 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301137597620119' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:38:39,895 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137597620119' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:22,650 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 11:39:22,655 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[1b63e5ab_1801300925589820094|1b63e5ab_1801300923253210088|1b63e5ab_1801300921211960084|1b63e5ab_1801300913530730076|1b63e5ab_1801300909409820070|1b63e5ab_1801300907578040060|1b63e5ab_1801300907287940054|1b63e5ab_1801300906259560049|1b63e5ab_1801300857033320040|1b63e5ab_1801300855078210035|1b63e5ab_1801300846497250029|1b63e5ab_1801300845304360024|31782790_1801191141224610073|31782790_1801191140499870067|31782790_1801191139078200061|,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];keyId=[1b63e5ab_1801300925589820094,1b63e5ab_1801300923253210088,1b63e5ab_1801300921211960084,1b63e5ab_1801300913530730076,1b63e5ab_1801300909409820070,1b63e5ab_1801300907578040060,1b63e5ab_1801300907287940054,1b63e5ab_1801300906259560049,1b63e5ab_1801300857033320040,1b63e5ab_1801300855078210035,1b63e5ab_1801300846497250029,1b63e5ab_1801300845304360024,31782790_1801191141224610073,31782790_1801191140499870067,31782790_1801191139078200061,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 11:39:22,906 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300925589820094' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,057 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300923253210088' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,158 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300921211960084' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,265 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300913530730076' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,363 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300909409820070' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,464 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907578040060' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,566 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300907287940054' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,668 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300906259560049' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,766 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300857033320040' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,868 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300855078210035' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:23,967 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 11:39:23,967 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=DepartmentCode;弹出窗=Department;sql= select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-30 11:39:23,977 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 11:39:23,978 Line:1441 DynDBManager.detail 查询详情时，查询关联表数据：表=tblSalesOrder;字段=EmployeeID;弹出窗=Employee;sql= select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-30 11:39:23,993 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300846497250029' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:24,098 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801300845304360024' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:24,197 Line:1525  select * from  tblSalesOrderDet where f_ref = '31782790_1801191141224610073' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:24,297 Line:1525  select * from  tblSalesOrderDet where f_ref = '31782790_1801191140499870067' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:24,401 Line:1525  select * from  tblSalesOrderDet where f_ref = '31782790_1801191139078200061' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:24,417 Line:5565 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,426 Line:5587 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,430 Line:5609 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,437 Line:5639 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,450 Line:5647 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,465 Line:5653 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,469 Line:5659 DynDBManager.delete id=1b63e5ab_1801300925589820094;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,481 Line:5565 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,481 Line:5587 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,485 Line:5609 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,485 Line:5639 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,489 Line:5647 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,489 Line:5653 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,489 Line:5659 DynDBManager.delete id=1b63e5ab_1801300923253210088;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,493 Line:5565 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,498 Line:5587 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,500 Line:5609 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,502 Line:5639 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,504 Line:5647 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,506 Line:5653 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,507 Line:5659 DynDBManager.delete id=1b63e5ab_1801300921211960084;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,512 Line:5565 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,514 Line:5587 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,516 Line:5609 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,519 Line:5639 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,522 Line:5647 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,524 Line:5653 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,526 Line:5659 DynDBManager.delete id=1b63e5ab_1801300913530730076;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,531 Line:5565 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,533 Line:5587 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,535 Line:5609 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,537 Line:5639 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,540 Line:5647 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,541 Line:5653 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,543 Line:5659 DynDBManager.delete id=1b63e5ab_1801300909409820070;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,547 Line:5565 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,549 Line:5587 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,551 Line:5609 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,551 Line:5639 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,551 Line:5647 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,557 Line:5653 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,559 Line:5659 DynDBManager.delete id=1b63e5ab_1801300907578040060;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,564 Line:5565 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,567 Line:5587 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,568 Line:5609 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,571 Line:5639 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,573 Line:5647 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,575 Line:5653 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,577 Line:5659 DynDBManager.delete id=1b63e5ab_1801300907287940054;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,594 Line:5565 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,609 Line:5587 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,628 Line:5609 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,643 Line:5639 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,659 Line:5647 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,674 Line:5653 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,690 Line:5659 DynDBManager.delete id=1b63e5ab_1801300906259560049;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,694 Line:5565 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,696 Line:5587 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,698 Line:5609 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,700 Line:5639 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,702 Line:5647 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,704 Line:5653 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,705 Line:5659 DynDBManager.delete id=1b63e5ab_1801300857033320040;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,709 Line:5565 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,711 Line:5587 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,713 Line:5609 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,715 Line:5639 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,718 Line:5647 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,718 Line:5653 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,718 Line:5659 DynDBManager.delete id=1b63e5ab_1801300855078210035;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,738 Line:5565 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,754 Line:5587 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,770 Line:5609 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,784 Line:5639 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,802 Line:5647 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,818 Line:5653 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,833 Line:5659 DynDBManager.delete id=1b63e5ab_1801300846497250029;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,838 Line:5565 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:24,840 Line:5587 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,842 Line:5609 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,844 Line:5639 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,845 Line:5647 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,847 Line:5653 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,849 Line:5659 DynDBManager.delete id=1b63e5ab_1801300845304360024;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,863 Line:313 exeCondition:tblSalesOrder_Del :1==0 && false==false
 [DEBUG] 2018-01-30 11:39:24,889 Line:321 flag:false
 [DEBUG] 2018-01-30 11:39:24,889 Line:313 exeCondition:tblSalesOrder_Del :true
 [DEBUG] 2018-01-30 11:39:24,893 Line:321 flag:true
 [DEBUG] 2018-01-30 11:39:24,893 Line:1081 自定义执行的语句显示： tblSalesOrder_Del:update tblEBOrder set InSign='1' where id=?
 [DEBUG] 2018-01-30 11:39:24,897 Line:1157 1值：31782790_1801191141224610073
 [DEBUG] 2018-01-30 11:39:24,901 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Del,  影响行数=0
 [DEBUG] 2018-01-30 11:39:24,905 Line:408 ************上述语句执行时间：12
 [DEBUG] 2018-01-30 11:39:24,905 Line:5587 DynDBManager.delete id=31782790_1801191141224610073;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,905 Line:5609 DynDBManager.delete id=31782790_1801191141224610073;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,909 Line:5639 DynDBManager.delete id=31782790_1801191141224610073;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,909 Line:5647 DynDBManager.delete id=31782790_1801191141224610073;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,914 Line:5653 DynDBManager.delete id=31782790_1801191141224610073;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,916 Line:5659 DynDBManager.delete id=31782790_1801191141224610073;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,923 Line:313 exeCondition:tblSalesOrder_Del :1==0 && false==false
 [DEBUG] 2018-01-30 11:39:24,927 Line:321 flag:false
 [DEBUG] 2018-01-30 11:39:24,928 Line:313 exeCondition:tblSalesOrder_Del :true
 [DEBUG] 2018-01-30 11:39:24,931 Line:321 flag:true
 [DEBUG] 2018-01-30 11:39:24,932 Line:1081 自定义执行的语句显示： tblSalesOrder_Del:update tblEBOrder set InSign='1' where id=?
 [DEBUG] 2018-01-30 11:39:24,933 Line:1157 1值：31782790_1801191140499870067
 [DEBUG] 2018-01-30 11:39:24,935 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Del,  影响行数=0
 [DEBUG] 2018-01-30 11:39:24,936 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-30 11:39:24,937 Line:5587 DynDBManager.delete id=31782790_1801191140499870067;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,939 Line:5609 DynDBManager.delete id=31782790_1801191140499870067;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,941 Line:5639 DynDBManager.delete id=31782790_1801191140499870067;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,943 Line:5647 DynDBManager.delete id=31782790_1801191140499870067;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,945 Line:5653 DynDBManager.delete id=31782790_1801191140499870067;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,946 Line:5659 DynDBManager.delete id=31782790_1801191140499870067;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,952 Line:313 exeCondition:tblSalesOrder_Del :1==0 && false==false
 [DEBUG] 2018-01-30 11:39:24,955 Line:321 flag:false
 [DEBUG] 2018-01-30 11:39:24,956 Line:313 exeCondition:tblSalesOrder_Del :true
 [DEBUG] 2018-01-30 11:39:24,959 Line:321 flag:true
 [DEBUG] 2018-01-30 11:39:24,960 Line:1081 自定义执行的语句显示： tblSalesOrder_Del:update tblEBOrder set InSign='1' where id=?
 [DEBUG] 2018-01-30 11:39:24,961 Line:1157 1值：31782790_1801191139078200061
 [DEBUG] 2018-01-30 11:39:24,962 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Del,  影响行数=0
 [DEBUG] 2018-01-30 11:39:24,963 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-30 11:39:24,964 Line:5587 DynDBManager.delete id=31782790_1801191139078200061;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,966 Line:5609 DynDBManager.delete id=31782790_1801191139078200061;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:24,968 Line:5639 DynDBManager.delete id=31782790_1801191139078200061;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:24,969 Line:5647 DynDBManager.delete id=31782790_1801191139078200061;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:24,969 Line:5653 DynDBManager.delete id=31782790_1801191139078200061;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:24,973 Line:5659 DynDBManager.delete id=31782790_1801191139078200061;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:25,268 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 11:39:25,268 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 11:39:25,268 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 11:39:25,497 Line:689 通过SQL读原始数据：229
 [DEBUG] 2018-01-30 11:39:25,501 Line:1391 整理数据：0
 [DEBUG] 2018-01-30 11:39:42,271 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 11:39:42,274 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[3,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[1b63e5ab_1801301137597620119|1b63e5ab_1801301137055440112|1b63e5ab_1801301131516830105|1b63e5ab_1801301123201480099|,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];statusId=[0,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];keyId=[1b63e5ab_1801301137597620119,1b63e5ab_1801301137055440112,1b63e5ab_1801301131516830105,1b63e5ab_1801301123201480099,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 11:39:42,521 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137597620119' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:42,643 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301137055440112' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:42,754 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301131516830105' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:42,878 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301123201480099' order by detOrderNo
 [DEBUG] 2018-01-30 11:39:42,908 Line:5565 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:42,933 Line:5587 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:42,955 Line:5609 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:42,973 Line:5639 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,004 Line:5647 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:43,031 Line:5653 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,053 Line:5659 DynDBManager.delete id=1b63e5ab_1801301137597620119;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,065 Line:5565 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:43,069 Line:5587 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,069 Line:5609 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:43,073 Line:5639 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,073 Line:5647 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:43,077 Line:5653 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,077 Line:5659 DynDBManager.delete id=1b63e5ab_1801301137055440112;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,081 Line:5565 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:43,081 Line:5587 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,085 Line:5609 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:43,085 Line:5639 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,089 Line:5647 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:43,089 Line:5653 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,093 Line:5659 DynDBManager.delete id=1b63e5ab_1801301131516830105;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,112 Line:5565 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql =SELECT * FROM  tblSalesOrder  WHERE ID = ? and workFlowNodeName='draft'
 [DEBUG] 2018-01-30 11:39:43,127 Line:5587 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql = select Attachment from  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,143 Line:5609 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql =delete from tblSalesOrderDet WHERE f_ref = ? 
 [DEBUG] 2018-01-30 11:39:43,161 Line:5639 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql = DELETE FROM  tblSalesOrder  WHERE ID = ? 
 [DEBUG] 2018-01-30 11:39:43,180 Line:5647 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql =DELETE FROM OAMyWorkFlowDet where f_ref in (select id from OAMyWorkFlow where keyId=? and tableName=?)
 [DEBUG] 2018-01-30 11:39:43,200 Line:5653 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql =DELETE FROM OAMyWorkFlow where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,212 Line:5659 DynDBManager.delete id=1b63e5ab_1801301123201480099;sql =DELETE FROM OAMyWorkFlowPerson where keyId=? and tableName=?
 [DEBUG] 2018-01-30 11:39:43,463 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 11:39:43,466 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 11:39:43,467 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 11:39:43,686 Line:689 通过SQL读原始数据：222
 [DEBUG] 2018-01-30 11:39:43,686 Line:1391 整理数据：0
 [DEBUG] 2018-01-30 11:39:45,862 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:39:45,863 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:39:56,705 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:39:56,706 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:39:56,806 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:39:56,807 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:39:56,808 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:39:56,810 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:39:56,812 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:39:56,828 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:40:00,098 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:40:00,099 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:40:00,239 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:40:00,240 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:40:00,241 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 11:40:00,241 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:40:00,243 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:40:00,250 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:40:02,807 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:40:02,808 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:40:02,928 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:40:02,930 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:40:02,931 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:40:02,932 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:40:02,933 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:40:02,955 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:40:17,899 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:40:17,901 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300056,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:39:45,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:39:45,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:40:17,903 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:40:17,934 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:40:17,935 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:40:17,936 Line:5853 2:0
 [DEBUG] 2018-01-30 11:40:17,936 Line:5853 3:1b63e5ab_1801301140179240142
 [DEBUG] 2018-01-30 11:40:17,938 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:40:17,939 Line:5853 5:SO1801300056
 [DEBUG] 2018-01-30 11:40:17,939 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:40:17,940 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:40:17,941 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:40:17,942 Line:5853 9:1
 [DEBUG] 2018-01-30 11:40:17,942 Line:5853 10:00001
 [DEBUG] 2018-01-30 11:40:17,943 Line:5853 11:
 [DEBUG] 2018-01-30 11:40:17,944 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:40:17,944 Line:5853 13:
 [DEBUG] 2018-01-30 11:40:17,946 Line:5853 14:
 [DEBUG] 2018-01-30 11:40:17,947 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:40:17,947 Line:5853 16:3
 [DEBUG] 2018-01-30 11:40:17,948 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:40:17,949 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:40:17,949 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:40:17,950 Line:5853 20:0
 [DEBUG] 2018-01-30 11:40:17,951 Line:5853 21:
 [DEBUG] 2018-01-30 11:40:17,951 Line:5853 22:1
 [DEBUG] 2018-01-30 11:40:17,952 Line:5853 23:1
 [DEBUG] 2018-01-30 11:40:17,953 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:40:17,953 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:40:17,954 Line:5853 26:
 [DEBUG] 2018-01-30 11:40:17,955 Line:5853 27:
 [DEBUG] 2018-01-30 11:40:17,957 Line:5853 28:
 [DEBUG] 2018-01-30 11:40:17,958 Line:5853 29:
 [DEBUG] 2018-01-30 11:40:17,959 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:40:17,960 Line:5853 31:0
 [DEBUG] 2018-01-30 11:40:17,961 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:40:17,962 Line:5853 33:
 [DEBUG] 2018-01-30 11:40:17,963 Line:5853 34:
 [DEBUG] 2018-01-30 11:40:17,963 Line:5853 35:
 [DEBUG] 2018-01-30 11:40:17,964 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:40:17,964 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:40:17,965 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:40:17,965 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:40:17,966 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:40:17,966 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:40:17,967 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:40:17,967 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:40:17,968 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:40:17,969 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:40:17,969 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:40:17,970 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:40:17,970 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:40:17,971 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:40:17,971 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:40:17,972 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:40:17,973 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:40:17,973 Line:5853 53:
 [DEBUG] 2018-01-30 11:40:17,974 Line:5853 54:1
 [DEBUG] 2018-01-30 11:40:17,974 Line:5853 55:2018-01-30 11:39:45
 [DEBUG] 2018-01-30 11:40:17,975 Line:5853 56:0
 [DEBUG] 2018-01-30 11:40:17,975 Line:5853 57:0
 [DEBUG] 2018-01-30 11:40:17,975 Line:5853 58:0
 [DEBUG] 2018-01-30 11:40:17,976 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:40:17,976 Line:5853 60:
 [DEBUG] 2018-01-30 11:40:17,977 Line:5853 61:1
 [DEBUG] 2018-01-30 11:40:17,977 Line:5853 62:2018-01-30 11:39:45
 [DEBUG] 2018-01-30 11:40:17,988 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:40:17,991 Line:5853 1:1b63e5ab_1801301140179240142
 [DEBUG] 2018-01-30 11:40:17,991 Line:5853 2:1b63e5ab_1801301140179880143
 [DEBUG] 2018-01-30 11:40:17,991 Line:5853 3:
 [DEBUG] 2018-01-30 11:40:17,991 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:40:17,993 Line:5853 5:
 [DEBUG] 2018-01-30 11:40:17,993 Line:5853 6:
 [DEBUG] 2018-01-30 11:40:17,993 Line:5853 7:
 [DEBUG] 2018-01-30 11:40:17,993 Line:5853 8:
 [DEBUG] 2018-01-30 11:40:17,994 Line:5853 9:
 [DEBUG] 2018-01-30 11:40:17,994 Line:5853 10:
 [DEBUG] 2018-01-30 11:40:17,995 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:40:17,995 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:40:17,997 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:40:17,997 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:40:17,997 Line:5853 15:0
 [DEBUG] 2018-01-30 11:40:17,998 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:40:17,998 Line:5853 17:0
 [DEBUG] 2018-01-30 11:40:17,999 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:40:18,000 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:40:18,000 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:40:18,000 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:40:18,001 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:40:18,001 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:40:18,002 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:40:18,002 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:40:18,003 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:40:18,003 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:40:18,003 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:40:18,004 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:40:18,004 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:40:18,005 Line:5853 31:
 [DEBUG] 2018-01-30 11:40:18,005 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:40:18,005 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:40:18,006 Line:5853 34:0
 [DEBUG] 2018-01-30 11:40:18,006 Line:5853 35:0
 [DEBUG] 2018-01-30 11:40:18,007 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:40:18,008 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:40:18,008 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:40:18,008 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:40:18,009 Line:5853 40:1
 [DEBUG] 2018-01-30 11:40:18,009 Line:5853 41:0
 [DEBUG] 2018-01-30 11:40:18,010 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:40:18,010 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:40:18,010 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:40:18,011 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:40:18,011 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:40:18,012 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:40:18,012 Line:5853 48:
 [DEBUG] 2018-01-30 11:40:18,013 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:40:18,013 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:40:18,013 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:40:18,014 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:40:18,014 Line:5853 53:
 [DEBUG] 2018-01-30 11:40:18,015 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:40:18,015 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:40:18,038 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:40:18,039 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:40:18,040 Line:988 1值：
 [DEBUG] 2018-01-30 11:40:18,047 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-30 11:40:18,048 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:40:18,068 Line:321 flag:true
 [DEBUG] 2018-01-30 11:40:18,070 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:40:18,070 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:40:22,101 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:40:22,103 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300056,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:39:45,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:39:45,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:40:22,105 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:40:22,115 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:40:22,116 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:40:22,117 Line:5853 2:0
 [DEBUG] 2018-01-30 11:40:22,118 Line:5853 3:1b63e5ab_1801301140221130144
 [DEBUG] 2018-01-30 11:40:22,118 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:40:22,118 Line:5853 5:SO1801300056
 [DEBUG] 2018-01-30 11:40:22,119 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:40:22,119 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:40:22,120 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:40:22,120 Line:5853 9:1
 [DEBUG] 2018-01-30 11:40:22,121 Line:5853 10:00001
 [DEBUG] 2018-01-30 11:40:22,122 Line:5853 11:
 [DEBUG] 2018-01-30 11:40:22,123 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:40:22,124 Line:5853 13:
 [DEBUG] 2018-01-30 11:40:22,124 Line:5853 14:
 [DEBUG] 2018-01-30 11:40:22,125 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:40:22,125 Line:5853 16:3
 [DEBUG] 2018-01-30 11:40:22,125 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:40:22,126 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:40:22,126 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:40:22,127 Line:5853 20:0
 [DEBUG] 2018-01-30 11:40:22,127 Line:5853 21:
 [DEBUG] 2018-01-30 11:40:22,128 Line:5853 22:1
 [DEBUG] 2018-01-30 11:40:22,128 Line:5853 23:1
 [DEBUG] 2018-01-30 11:40:22,129 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:40:22,130 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:40:22,130 Line:5853 26:
 [DEBUG] 2018-01-30 11:40:22,131 Line:5853 27:
 [DEBUG] 2018-01-30 11:40:22,132 Line:5853 28:
 [DEBUG] 2018-01-30 11:40:22,132 Line:5853 29:
 [DEBUG] 2018-01-30 11:40:22,133 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:40:22,134 Line:5853 31:0
 [DEBUG] 2018-01-30 11:40:22,134 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:40:22,135 Line:5853 33:
 [DEBUG] 2018-01-30 11:40:22,136 Line:5853 34:
 [DEBUG] 2018-01-30 11:40:22,137 Line:5853 35:
 [DEBUG] 2018-01-30 11:40:22,138 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:40:22,140 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:40:22,141 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:40:22,141 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:40:22,142 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:40:22,143 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:40:22,143 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:40:22,144 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:40:22,144 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:40:22,145 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:40:22,145 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:40:22,146 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:40:22,146 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:40:22,147 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:40:22,147 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:40:22,148 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:40:22,148 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:40:22,149 Line:5853 53:
 [DEBUG] 2018-01-30 11:40:22,149 Line:5853 54:1
 [DEBUG] 2018-01-30 11:40:22,150 Line:5853 55:2018-01-30 11:39:45
 [DEBUG] 2018-01-30 11:40:22,150 Line:5853 56:0
 [DEBUG] 2018-01-30 11:40:22,151 Line:5853 57:0
 [DEBUG] 2018-01-30 11:40:22,151 Line:5853 58:0
 [DEBUG] 2018-01-30 11:40:22,152 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:40:22,152 Line:5853 60:
 [DEBUG] 2018-01-30 11:40:22,152 Line:5853 61:1
 [DEBUG] 2018-01-30 11:40:22,153 Line:5853 62:2018-01-30 11:39:45
 [DEBUG] 2018-01-30 11:40:22,157 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:40:22,158 Line:5853 1:1b63e5ab_1801301140221130144
 [DEBUG] 2018-01-30 11:40:22,159 Line:5853 2:1b63e5ab_1801301140221560145
 [DEBUG] 2018-01-30 11:40:22,159 Line:5853 3:
 [DEBUG] 2018-01-30 11:40:22,160 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:40:22,160 Line:5853 5:
 [DEBUG] 2018-01-30 11:40:22,160 Line:5853 6:
 [DEBUG] 2018-01-30 11:40:22,161 Line:5853 7:
 [DEBUG] 2018-01-30 11:40:22,161 Line:5853 8:
 [DEBUG] 2018-01-30 11:40:22,162 Line:5853 9:
 [DEBUG] 2018-01-30 11:40:22,162 Line:5853 10:
 [DEBUG] 2018-01-30 11:40:22,162 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:40:22,163 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:40:22,163 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:40:22,164 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:40:22,164 Line:5853 15:0
 [DEBUG] 2018-01-30 11:40:22,164 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:40:22,165 Line:5853 17:0
 [DEBUG] 2018-01-30 11:40:22,165 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:40:22,166 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:40:22,166 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:40:22,166 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:40:22,167 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:40:22,167 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:40:22,168 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:40:22,168 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:40:22,169 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:40:22,169 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:40:22,169 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:40:22,170 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:40:22,170 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:40:22,171 Line:5853 31:
 [DEBUG] 2018-01-30 11:40:22,171 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:40:22,172 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:40:22,172 Line:5853 34:0
 [DEBUG] 2018-01-30 11:40:22,173 Line:5853 35:0
 [DEBUG] 2018-01-30 11:40:22,173 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:40:22,174 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:40:22,174 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:40:22,174 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:40:22,175 Line:5853 40:1
 [DEBUG] 2018-01-30 11:40:22,175 Line:5853 41:0
 [DEBUG] 2018-01-30 11:40:22,176 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:40:22,176 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:40:22,176 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:40:22,177 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:40:22,177 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:40:22,178 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:40:22,178 Line:5853 48:
 [DEBUG] 2018-01-30 11:40:22,178 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:40:22,179 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:40:22,179 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:40:22,180 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:40:22,180 Line:5853 53:
 [DEBUG] 2018-01-30 11:40:22,180 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:40:22,181 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:40:22,279 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301140221130144' order by detOrderNo
 [DEBUG] 2018-01-30 11:40:22,282 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301140221130144;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:41:46,172 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=1b63e5ab_1801301140221130144&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOrder&designId=eae3edac_0906121936571710021&operation=82&winCurIndex=1
 [DEBUG] 2018-01-30 11:41:46,173 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[1b63e5ab_1801301140221130144,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOrder,];designId=[eae3edac_0906121936571710021,];operation=[82,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:41:46,199 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301140221130144' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:41:46,529 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301140221130144' order by detOrderNo
 [DEBUG] 2018-01-30 11:41:53,941 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&parentCode=&f_brother=&keyId=1b63e5ab_1801301140221130144&moduleType=&checkTab=Y&parentTableName=&winCurIndex=1
 [DEBUG] 2018-01-30 11:41:53,942 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[1b63e5ab_1801301140221130144,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:41:53,943 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301140221130144' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:41:54,067 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301140221130144' order by detOrderNo
 [DEBUG] 2018-01-30 11:43:01,331 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 11:43:01,331 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 11:43:01,335 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:43:01,805 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 11:43:01,806 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 11:43:01,854 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 11:43:01,855 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:43:01,857 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:43:01,890 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 11:43:01,891 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:43:01,893 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:43:01,914 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 11:43:01,915 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:43:01,917 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:43:01,935 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 11:43:01,936 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:43:01,938 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:43:12,600 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 11:43:12,600 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:43:12,601 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 11:43:12,723 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 11:43:12,724 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 11:43:12,725 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 11:43:12,984 Line:689 通过SQL读原始数据：260
 [DEBUG] 2018-01-30 11:43:12,986 Line:1391 整理数据：1
 [DEBUG] 2018-01-30 11:43:14,526 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:43:14,527 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:43:16,599 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:43:16,600 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:43:16,668 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:43:16,669 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:43:16,670 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:43:16,671 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:43:16,674 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:43:16,686 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:43:18,875 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:43:18,876 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:43:18,954 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:43:18,955 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:43:18,956 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 11:43:18,956 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:43:18,959 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:43:18,966 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:43:21,152 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:43:21,152 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:43:21,262 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:43:21,263 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:43:21,264 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:43:21,265 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:43:21,267 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:43:21,298 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:43:25,850 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:43:25,851 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300057,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:43:14,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:43:14,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:43:25,853 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:43:25,883 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:43:25,884 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:43:25,885 Line:5853 2:0
 [DEBUG] 2018-01-30 11:43:25,885 Line:5853 3:1b63e5ab_1801301143258760148
 [DEBUG] 2018-01-30 11:43:25,886 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:43:25,886 Line:5853 5:SO1801300057
 [DEBUG] 2018-01-30 11:43:25,887 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:43:25,887 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:43:25,888 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:43:25,888 Line:5853 9:1
 [DEBUG] 2018-01-30 11:43:25,889 Line:5853 10:00001
 [DEBUG] 2018-01-30 11:43:25,889 Line:5853 11:
 [DEBUG] 2018-01-30 11:43:25,890 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:43:25,890 Line:5853 13:
 [DEBUG] 2018-01-30 11:43:25,890 Line:5853 14:
 [DEBUG] 2018-01-30 11:43:25,891 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:43:25,891 Line:5853 16:3
 [DEBUG] 2018-01-30 11:43:25,892 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:43:25,892 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:43:25,893 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:43:25,893 Line:5853 20:0
 [DEBUG] 2018-01-30 11:43:25,894 Line:5853 21:
 [DEBUG] 2018-01-30 11:43:25,894 Line:5853 22:1
 [DEBUG] 2018-01-30 11:43:25,895 Line:5853 23:1
 [DEBUG] 2018-01-30 11:43:25,895 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:43:25,896 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:43:25,897 Line:5853 26:
 [DEBUG] 2018-01-30 11:43:25,897 Line:5853 27:
 [DEBUG] 2018-01-30 11:43:25,897 Line:5853 28:
 [DEBUG] 2018-01-30 11:43:25,898 Line:5853 29:
 [DEBUG] 2018-01-30 11:43:25,898 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:43:25,899 Line:5853 31:0
 [DEBUG] 2018-01-30 11:43:25,899 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:43:25,899 Line:5853 33:
 [DEBUG] 2018-01-30 11:43:25,900 Line:5853 34:
 [DEBUG] 2018-01-30 11:43:25,900 Line:5853 35:
 [DEBUG] 2018-01-30 11:43:25,901 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:43:25,901 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:43:25,902 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:43:25,902 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:43:25,902 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:43:25,903 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:43:25,904 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:43:25,904 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:43:25,905 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:43:25,905 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:43:25,906 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:43:25,906 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:43:25,907 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:43:25,907 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:43:25,907 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:43:25,908 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:43:25,908 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:43:25,909 Line:5853 53:
 [DEBUG] 2018-01-30 11:43:25,909 Line:5853 54:1
 [DEBUG] 2018-01-30 11:43:25,910 Line:5853 55:2018-01-30 11:43:14
 [DEBUG] 2018-01-30 11:43:25,910 Line:5853 56:0
 [DEBUG] 2018-01-30 11:43:25,911 Line:5853 57:0
 [DEBUG] 2018-01-30 11:43:25,911 Line:5853 58:0
 [DEBUG] 2018-01-30 11:43:25,912 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:43:25,912 Line:5853 60:
 [DEBUG] 2018-01-30 11:43:25,912 Line:5853 61:1
 [DEBUG] 2018-01-30 11:43:25,913 Line:5853 62:2018-01-30 11:43:14
 [DEBUG] 2018-01-30 11:43:25,924 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:43:25,925 Line:5853 1:1b63e5ab_1801301143258760148
 [DEBUG] 2018-01-30 11:43:25,925 Line:5853 2:1b63e5ab_1801301143259240149
 [DEBUG] 2018-01-30 11:43:25,926 Line:5853 3:
 [DEBUG] 2018-01-30 11:43:25,926 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 5:
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 6:
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 7:
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 8:
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 9:
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 10:
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:43:25,927 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 15:0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 17:0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:43:25,931 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 31:
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 34:0
 [DEBUG] 2018-01-30 11:43:25,935 Line:5853 35:0
 [DEBUG] 2018-01-30 11:43:25,939 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:43:25,939 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:43:25,939 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:43:25,939 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:43:25,939 Line:5853 40:1
 [DEBUG] 2018-01-30 11:43:25,941 Line:5853 41:0
 [DEBUG] 2018-01-30 11:43:25,941 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:43:25,941 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:43:25,942 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:43:25,942 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:43:25,943 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:43:25,944 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:43:25,944 Line:5853 48:
 [DEBUG] 2018-01-30 11:43:25,944 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:43:25,945 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:43:25,945 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:43:25,946 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:43:25,946 Line:5853 53:
 [DEBUG] 2018-01-30 11:43:25,947 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:43:25,947 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:43:25,977 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:43:25,978 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:43:25,979 Line:988 1值：
 [DEBUG] 2018-01-30 11:43:25,985 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 11:43:25,986 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:43:26,000 Line:321 flag:true
 [DEBUG] 2018-01-30 11:43:26,001 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:43:26,001 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:43:31,423 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:43:31,426 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[false,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300057,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:43:14,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:43:14,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:43:31,428 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:43:31,441 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:43:31,442 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:43:31,443 Line:5853 2:0
 [DEBUG] 2018-01-30 11:43:31,444 Line:5853 3:1b63e5ab_1801301143314360150
 [DEBUG] 2018-01-30 11:43:31,445 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:43:31,446 Line:5853 5:SO1801300057
 [DEBUG] 2018-01-30 11:43:31,446 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:43:31,447 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:43:31,447 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:43:31,448 Line:5853 9:1
 [DEBUG] 2018-01-30 11:43:31,449 Line:5853 10:00001
 [DEBUG] 2018-01-30 11:43:31,450 Line:5853 11:
 [DEBUG] 2018-01-30 11:43:31,451 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:43:31,451 Line:5853 13:
 [DEBUG] 2018-01-30 11:43:31,452 Line:5853 14:
 [DEBUG] 2018-01-30 11:43:31,452 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:43:31,452 Line:5853 16:3
 [DEBUG] 2018-01-30 11:43:31,453 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:43:31,453 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:43:31,454 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:43:31,454 Line:5853 20:0
 [DEBUG] 2018-01-30 11:43:31,455 Line:5853 21:
 [DEBUG] 2018-01-30 11:43:31,455 Line:5853 22:1
 [DEBUG] 2018-01-30 11:43:31,456 Line:5853 23:1
 [DEBUG] 2018-01-30 11:43:31,456 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:43:31,456 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:43:31,457 Line:5853 26:
 [DEBUG] 2018-01-30 11:43:31,457 Line:5853 27:
 [DEBUG] 2018-01-30 11:43:31,458 Line:5853 28:
 [DEBUG] 2018-01-30 11:43:31,458 Line:5853 29:
 [DEBUG] 2018-01-30 11:43:31,459 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:43:31,460 Line:5853 31:0
 [DEBUG] 2018-01-30 11:43:31,461 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:43:31,461 Line:5853 33:
 [DEBUG] 2018-01-30 11:43:31,462 Line:5853 34:
 [DEBUG] 2018-01-30 11:43:31,462 Line:5853 35:
 [DEBUG] 2018-01-30 11:43:31,463 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:43:31,463 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:43:31,464 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:43:31,464 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:43:31,465 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:43:31,465 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:43:31,466 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:43:31,466 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:43:31,467 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:43:31,468 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:43:31,469 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:43:31,469 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:43:31,470 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:43:31,470 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:43:31,471 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:43:31,472 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:43:31,472 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:43:31,473 Line:5853 53:
 [DEBUG] 2018-01-30 11:43:31,474 Line:5853 54:1
 [DEBUG] 2018-01-30 11:43:31,475 Line:5853 55:2018-01-30 11:43:14
 [DEBUG] 2018-01-30 11:43:31,476 Line:5853 56:0
 [DEBUG] 2018-01-30 11:43:31,477 Line:5853 57:0
 [DEBUG] 2018-01-30 11:43:31,478 Line:5853 58:0
 [DEBUG] 2018-01-30 11:43:31,479 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:43:31,480 Line:5853 60:
 [DEBUG] 2018-01-30 11:43:31,480 Line:5853 61:1
 [DEBUG] 2018-01-30 11:43:31,481 Line:5853 62:2018-01-30 11:43:14
 [DEBUG] 2018-01-30 11:43:31,484 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:43:31,485 Line:5853 1:1b63e5ab_1801301143314360150
 [DEBUG] 2018-01-30 11:43:31,485 Line:5853 2:1b63e5ab_1801301143314840151
 [DEBUG] 2018-01-30 11:43:31,486 Line:5853 3:
 [DEBUG] 2018-01-30 11:43:31,486 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:43:31,486 Line:5853 5:
 [DEBUG] 2018-01-30 11:43:31,487 Line:5853 6:
 [DEBUG] 2018-01-30 11:43:31,487 Line:5853 7:
 [DEBUG] 2018-01-30 11:43:31,488 Line:5853 8:
 [DEBUG] 2018-01-30 11:43:31,488 Line:5853 9:
 [DEBUG] 2018-01-30 11:43:31,488 Line:5853 10:
 [DEBUG] 2018-01-30 11:43:31,489 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:43:31,489 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:43:31,490 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:43:31,490 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:43:31,491 Line:5853 15:0
 [DEBUG] 2018-01-30 11:43:31,491 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:43:31,491 Line:5853 17:0
 [DEBUG] 2018-01-30 11:43:31,492 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:43:31,493 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:43:31,493 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:43:31,493 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:43:31,494 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:43:31,494 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:43:31,495 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:43:31,495 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:43:31,495 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:43:31,496 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:43:31,496 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:43:31,497 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:43:31,497 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:43:31,498 Line:5853 31:
 [DEBUG] 2018-01-30 11:43:31,498 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:43:31,499 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:43:31,499 Line:5853 34:0
 [DEBUG] 2018-01-30 11:43:31,499 Line:5853 35:0
 [DEBUG] 2018-01-30 11:43:31,500 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:43:31,500 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:43:31,501 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:43:31,501 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:43:31,501 Line:5853 40:1
 [DEBUG] 2018-01-30 11:43:31,502 Line:5853 41:0
 [DEBUG] 2018-01-30 11:43:31,502 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:43:31,503 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:43:31,503 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:43:31,503 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:43:31,504 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:43:31,504 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:43:31,505 Line:5853 48:
 [DEBUG] 2018-01-30 11:43:31,505 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:43:31,505 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:43:31,506 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:43:31,506 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:43:31,507 Line:5853 53:
 [DEBUG] 2018-01-30 11:43:31,507 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:43:31,507 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:43:31,607 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301143314360150' order by detOrderNo
 [DEBUG] 2018-01-30 11:43:31,623 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301143314360150;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:43:48,349 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801301143314360150&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:43:48,349 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801301143314360150,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:43:48,352 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301143314360150' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:43:48,385 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301143314360150' order by detOrderNo
 [DEBUG] 2018-01-30 11:44:23,584 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 11:44:23,585 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 11:44:23,587 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:44:23,947 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 11:44:23,950 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 11:44:23,982 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 11:44:23,983 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:44:23,985 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:44:24,018 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 11:44:24,019 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:44:24,021 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:44:24,044 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 11:44:24,045 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:44:24,047 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:44:24,067 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 11:44:24,068 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 11:44:24,071 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 11:44:26,052 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 11:44:26,053 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 11:44:26,053 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 11:44:26,169 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 11:44:26,171 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 11:44:26,172 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 11:44:26,439 Line:689 通过SQL读原始数据：268
 [DEBUG] 2018-01-30 11:44:26,441 Line:1391 整理数据：1
 [DEBUG] 2018-01-30 11:44:29,801 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:44:29,802 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:44:31,833 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:44:31,834 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:44:31,925 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:44:31,925 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:44:31,926 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-30 11:44:31,926 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=CompanyCode&operation=22&BillDate=2018-01-30&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:44:31,929 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-30,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:44:31,941 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDateOrder; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-30'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:44:34,234 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-30 11:44:34,235 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-30 11:44:34,328 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:44:34,329 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:44:34,330 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-30 11:44:34,332 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrder&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:44:34,335 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrder,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:44:34,343 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:44:36,712 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-30 11:44:36,713 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-30 11:44:36,789 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=74d16bbe_0811071647164570025&editable=&subSql=
 [DEBUG] 2018-01-30 11:44:36,789 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[74d16bbe_0811071647164570025,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 11:44:36,790 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 11:44:36,791 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOrderDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOrderDet_StockCode=&tblSalesOrderDet_BatchNo=&tblSalesOrderDet_Inch=&tblSalesOrderDet_Hue=&tblSalesOrderDet_yearNO=&tblSalesOrderDet_ProDate=&tblSalesOrderDet_Availably=&CompanyCode=00001&isMain=false&src=menu&MOID=74d16bbe_0811071647164570025&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-30 11:44:36,792 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOrderDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];CompanyCode=[00001,];isMain=[false,];src=[menu,];MOID=[74d16bbe_0811071647164570025,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-30 11:44:36,811 Line:3434 DynDBManager.popSelect selectName=GoodsSalesOrder; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany  on tblCompany.classCode='00001' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-30 11:44:41,832 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:44:41,834 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300058,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:44:29,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:44:29,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:44:41,836 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:44:41,867 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:44:41,868 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:44:41,869 Line:5853 2:0
 [DEBUG] 2018-01-30 11:44:41,869 Line:5853 3:1b63e5ab_1801301144418600154
 [DEBUG] 2018-01-30 11:44:41,870 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:44:41,871 Line:5853 5:SO1801300058
 [DEBUG] 2018-01-30 11:44:41,871 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:44:41,872 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:44:41,872 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:44:41,873 Line:5853 9:1
 [DEBUG] 2018-01-30 11:44:41,873 Line:5853 10:00001
 [DEBUG] 2018-01-30 11:44:41,874 Line:5853 11:
 [DEBUG] 2018-01-30 11:44:41,875 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:44:41,875 Line:5853 13:
 [DEBUG] 2018-01-30 11:44:41,876 Line:5853 14:
 [DEBUG] 2018-01-30 11:44:41,876 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:44:41,877 Line:5853 16:3
 [DEBUG] 2018-01-30 11:44:41,877 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:44:41,878 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:44:41,879 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:44:41,879 Line:5853 20:0
 [DEBUG] 2018-01-30 11:44:41,880 Line:5853 21:
 [DEBUG] 2018-01-30 11:44:41,880 Line:5853 22:1
 [DEBUG] 2018-01-30 11:44:41,881 Line:5853 23:1
 [DEBUG] 2018-01-30 11:44:41,881 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:44:41,882 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:44:41,882 Line:5853 26:
 [DEBUG] 2018-01-30 11:44:41,882 Line:5853 27:
 [DEBUG] 2018-01-30 11:44:41,883 Line:5853 28:
 [DEBUG] 2018-01-30 11:44:41,883 Line:5853 29:
 [DEBUG] 2018-01-30 11:44:41,884 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:44:41,884 Line:5853 31:0
 [DEBUG] 2018-01-30 11:44:41,884 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:44:41,885 Line:5853 33:
 [DEBUG] 2018-01-30 11:44:41,885 Line:5853 34:
 [DEBUG] 2018-01-30 11:44:41,886 Line:5853 35:
 [DEBUG] 2018-01-30 11:44:41,886 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:44:41,887 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:44:41,887 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:44:41,887 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:44:41,888 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:44:41,888 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:44:41,889 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:44:41,889 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:44:41,890 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:44:41,890 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:44:41,890 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:44:41,891 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:44:41,892 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:44:41,892 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:44:41,893 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:44:41,893 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:44:41,893 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:44:41,894 Line:5853 53:
 [DEBUG] 2018-01-30 11:44:41,894 Line:5853 54:1
 [DEBUG] 2018-01-30 11:44:41,895 Line:5853 55:2018-01-30 11:44:29
 [DEBUG] 2018-01-30 11:44:41,895 Line:5853 56:0
 [DEBUG] 2018-01-30 11:44:41,895 Line:5853 57:0
 [DEBUG] 2018-01-30 11:44:41,896 Line:5853 58:0
 [DEBUG] 2018-01-30 11:44:41,896 Line:5853 59:notApprove
 [DEBUG] 2018-01-30 11:44:41,897 Line:5853 60:
 [DEBUG] 2018-01-30 11:44:41,897 Line:5853 61:1
 [DEBUG] 2018-01-30 11:44:41,897 Line:5853 62:2018-01-30 11:44:29
 [DEBUG] 2018-01-30 11:44:41,908 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:44:41,908 Line:5853 1:1b63e5ab_1801301144418600154
 [DEBUG] 2018-01-30 11:44:41,908 Line:5853 2:1b63e5ab_1801301144419080155
 [DEBUG] 2018-01-30 11:44:41,908 Line:5853 3:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 5:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 6:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 7:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 8:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 9:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 10:
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:44:41,912 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 15:0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 17:0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:44:41,916 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:44:41,920 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:44:41,920 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:44:41,921 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:44:41,922 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:44:41,922 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:44:41,923 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:44:41,923 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:44:41,923 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:44:41,924 Line:5853 31:
 [DEBUG] 2018-01-30 11:44:41,924 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:44:41,925 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:44:41,925 Line:5853 34:0
 [DEBUG] 2018-01-30 11:44:41,925 Line:5853 35:0
 [DEBUG] 2018-01-30 11:44:41,926 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:44:41,926 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:44:41,927 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:44:41,927 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:44:41,928 Line:5853 40:1
 [DEBUG] 2018-01-30 11:44:41,928 Line:5853 41:0
 [DEBUG] 2018-01-30 11:44:41,929 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:44:41,929 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:44:41,930 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:44:41,930 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:44:41,931 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:44:41,931 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:44:41,932 Line:5853 48:
 [DEBUG] 2018-01-30 11:44:41,932 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:44:41,933 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:44:41,934 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:44:41,934 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:44:41,935 Line:5853 53:
 [DEBUG] 2018-01-30 11:44:41,935 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:44:41,936 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:44:41,961 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-30 11:44:41,961 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-30 11:44:41,961 Line:988 1值：
 [DEBUG] 2018-01-30 11:44:41,969 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-30 11:44:41,969 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-30 11:44:41,984 Line:321 flag:true
 [DEBUG] 2018-01-30 11:44:41,985 Line:372 ---error，返回信息：123url=
 [ERROR] 2018-01-30 11:44:41,985 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=123
 [DEBUG] 2018-01-30 11:44:45,140 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-30 11:44:45,144 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];parentCode=[,];button=[saveDraft,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[false,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];saveDraft=[,];designId=[eae3edac_0906121936571710021,];OAWorkFlow=[true,];checkPersons=[,];HasBuyOrder=[0,];SCompanyID=[,];BillNo=[SO1801300058,];BillDate=[2018-01-30,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[0,];InvoiceStatus=[0,];ProjectCode=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];NeedReturnAmt=[0,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[,];CurPayAmt=[,];NotAmortDeposit=[,];CurNotAmortDeposit=[,];CurTotalAmount=[1,];lastUpdateBy=[,];lastUpdateTime=[2018-01-30 11:44:29,];printCount=[0,];statusId=[,];workFlowNode=[,];workFlowNodeName=[,];finishTime=[,];createBy=[,];createTime=[2018-01-30 11:44:29,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[38,];tblSalesOrderDet_ViewVirtualStock_UseQty=[37,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[,];tblSalesOrderDet_EmployeeID=[,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[,];tblSalesOrderDet_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-30 11:44:45,147 Line:3828 添加单据desingId=eae3edac_0906121936571710021工作流designId=eae3edac_0906121936571710021
 [DEBUG] 2018-01-30 11:44:45,159 Line:5847  INSERT INTO  tblSalesOrder(checkPersons,HasBuyOrder,id,SCompanyID,BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,ReceiveDate,AccountAmount,Account,Currency,CurAccountAmount,InVoiceType,TradeType,InvoiceAmount,NoInvoiceAmount,InvoiceStatus,ProjectCode,Period,PeriodMonth,PeriodYear,NeedReturnAmt,RefSalseQuoteid,Remark,TrackNo,CheckPersont,AlrAccAmt,AutoBillMarker,BackAmount,CRMIDS,CertificateNo,CRMpactID,CurAlrAccAmt,CurBackAmount,CurfreightAmount,CurNeedReturnAmt,Discount,DisAmount,Tax,DiscountAmount,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,PayAmt,CurPayAmt,NotAmortDeposit,CurNotAmortDeposit,CurTotalAmount,Attachment,lastUpdateBy,lastUpdateTime,printCount,statusId,workFlowNode,workFlowNodeName,finishTime,createBy,createTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:44:45,160 Line:5853 1:;1;
 [DEBUG] 2018-01-30 11:44:45,161 Line:5853 2:0
 [DEBUG] 2018-01-30 11:44:45,161 Line:5853 3:1b63e5ab_1801301144451540156
 [DEBUG] 2018-01-30 11:44:45,162 Line:5853 4:00001
 [DEBUG] 2018-01-30 11:44:45,162 Line:5853 5:SO1801300058
 [DEBUG] 2018-01-30 11:44:45,163 Line:5853 6:2018-01-30
 [DEBUG] 2018-01-30 11:44:45,164 Line:5853 7:00001
 [DEBUG] 2018-01-30 11:44:45,164 Line:5853 8:00101
 [DEBUG] 2018-01-30 11:44:45,165 Line:5853 9:1
 [DEBUG] 2018-01-30 11:44:45,166 Line:5853 10:00001
 [DEBUG] 2018-01-30 11:44:45,166 Line:5853 11:
 [DEBUG] 2018-01-30 11:44:45,167 Line:5853 12:0.0
 [DEBUG] 2018-01-30 11:44:45,167 Line:5853 13:
 [DEBUG] 2018-01-30 11:44:45,168 Line:5853 14:
 [DEBUG] 2018-01-30 11:44:45,169 Line:5853 15:0.0
 [DEBUG] 2018-01-30 11:44:45,169 Line:5853 16:3
 [DEBUG] 2018-01-30 11:44:45,170 Line:5853 17:CreditSale
 [DEBUG] 2018-01-30 11:44:45,170 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:44:45,171 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:44:45,172 Line:5853 20:0
 [DEBUG] 2018-01-30 11:44:45,172 Line:5853 21:
 [DEBUG] 2018-01-30 11:44:45,173 Line:5853 22:1
 [DEBUG] 2018-01-30 11:44:45,174 Line:5853 23:1
 [DEBUG] 2018-01-30 11:44:45,175 Line:5853 24:2018
 [DEBUG] 2018-01-30 11:44:45,176 Line:5853 25:0.0
 [DEBUG] 2018-01-30 11:44:45,177 Line:5853 26:
 [DEBUG] 2018-01-30 11:44:45,178 Line:5853 27:
 [DEBUG] 2018-01-30 11:44:45,179 Line:5853 28:
 [DEBUG] 2018-01-30 11:44:45,180 Line:5853 29:
 [DEBUG] 2018-01-30 11:44:45,181 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:44:45,181 Line:5853 31:0
 [DEBUG] 2018-01-30 11:44:45,182 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:44:45,182 Line:5853 33:
 [DEBUG] 2018-01-30 11:44:45,183 Line:5853 34:
 [DEBUG] 2018-01-30 11:44:45,184 Line:5853 35:
 [DEBUG] 2018-01-30 11:44:45,185 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:44:45,185 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:44:45,186 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:44:45,186 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:44:45,187 Line:5853 40:100.0
 [DEBUG] 2018-01-30 11:44:45,187 Line:5853 41:0.0
 [DEBUG] 2018-01-30 11:44:45,188 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:44:45,188 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:44:45,189 Line:5853 44:1.0
 [DEBUG] 2018-01-30 11:44:45,189 Line:5853 45:1.0
 [DEBUG] 2018-01-30 11:44:45,190 Line:5853 46:1.0
 [DEBUG] 2018-01-30 11:44:45,191 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:44:45,192 Line:5853 48:0.0
 [DEBUG] 2018-01-30 11:44:45,193 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:44:45,193 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:44:45,193 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:44:45,194 Line:5853 52:1.0
 [DEBUG] 2018-01-30 11:44:45,194 Line:5853 53:
 [DEBUG] 2018-01-30 11:44:45,195 Line:5853 54:1
 [DEBUG] 2018-01-30 11:44:45,195 Line:5853 55:2018-01-30 11:44:29
 [DEBUG] 2018-01-30 11:44:45,196 Line:5853 56:0
 [DEBUG] 2018-01-30 11:44:45,196 Line:5853 57:0
 [DEBUG] 2018-01-30 11:44:45,197 Line:5853 58:0
 [DEBUG] 2018-01-30 11:44:45,197 Line:5853 59:draft
 [DEBUG] 2018-01-30 11:44:45,198 Line:5853 60:
 [DEBUG] 2018-01-30 11:44:45,198 Line:5853 61:1
 [DEBUG] 2018-01-30 11:44:45,199 Line:5853 62:2018-01-30 11:44:29
 [DEBUG] 2018-01-30 11:44:45,202 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-30 11:44:45,203 Line:5853 1:1b63e5ab_1801301144451540156
 [DEBUG] 2018-01-30 11:44:45,203 Line:5853 2:1b63e5ab_1801301144452020157
 [DEBUG] 2018-01-30 11:44:45,204 Line:5853 3:
 [DEBUG] 2018-01-30 11:44:45,204 Line:5853 4:0000300001
 [DEBUG] 2018-01-30 11:44:45,205 Line:5853 5:
 [DEBUG] 2018-01-30 11:44:45,205 Line:5853 6:
 [DEBUG] 2018-01-30 11:44:45,206 Line:5853 7:
 [DEBUG] 2018-01-30 11:44:45,206 Line:5853 8:
 [DEBUG] 2018-01-30 11:44:45,207 Line:5853 9:
 [DEBUG] 2018-01-30 11:44:45,207 Line:5853 10:
 [DEBUG] 2018-01-30 11:44:45,208 Line:5853 11:1.0
 [DEBUG] 2018-01-30 11:44:45,209 Line:5853 12:1.0
 [DEBUG] 2018-01-30 11:44:45,209 Line:5853 13:1.0
 [DEBUG] 2018-01-30 11:44:45,209 Line:5853 14:0.0
 [DEBUG] 2018-01-30 11:44:45,210 Line:5853 15:0
 [DEBUG] 2018-01-30 11:44:45,210 Line:5853 16:0.0
 [DEBUG] 2018-01-30 11:44:45,211 Line:5853 17:0
 [DEBUG] 2018-01-30 11:44:45,211 Line:5853 18:0.0
 [DEBUG] 2018-01-30 11:44:45,212 Line:5853 19:0.0
 [DEBUG] 2018-01-30 11:44:45,212 Line:5853 20:0.0
 [DEBUG] 2018-01-30 11:44:45,214 Line:5853 21:100.0
 [DEBUG] 2018-01-30 11:44:45,214 Line:5853 22:1.0
 [DEBUG] 2018-01-30 11:44:45,215 Line:5853 23:1.0
 [DEBUG] 2018-01-30 11:44:45,215 Line:5853 24:0.0
 [DEBUG] 2018-01-30 11:44:45,216 Line:5853 25:1.0
 [DEBUG] 2018-01-30 11:44:45,216 Line:5853 26:1.0
 [DEBUG] 2018-01-30 11:44:45,216 Line:5853 27:0.0
 [DEBUG] 2018-01-30 11:44:45,217 Line:5853 28:1.0
 [DEBUG] 2018-01-30 11:44:45,217 Line:5853 29:1.0
 [DEBUG] 2018-01-30 11:44:45,218 Line:5853 30:0.0
 [DEBUG] 2018-01-30 11:44:45,218 Line:5853 31:
 [DEBUG] 2018-01-30 11:44:45,219 Line:5853 32:0.0
 [DEBUG] 2018-01-30 11:44:45,219 Line:5853 33:0.0
 [DEBUG] 2018-01-30 11:44:45,219 Line:5853 34:0
 [DEBUG] 2018-01-30 11:44:45,220 Line:5853 35:0
 [DEBUG] 2018-01-30 11:44:45,220 Line:5853 36:0.0
 [DEBUG] 2018-01-30 11:44:45,221 Line:5853 37:0.0
 [DEBUG] 2018-01-30 11:44:45,221 Line:5853 38:0.0
 [DEBUG] 2018-01-30 11:44:45,222 Line:5853 39:0.0
 [DEBUG] 2018-01-30 11:44:45,222 Line:5853 40:1
 [DEBUG] 2018-01-30 11:44:45,222 Line:5853 41:0
 [DEBUG] 2018-01-30 11:44:45,223 Line:5853 42:0.0
 [DEBUG] 2018-01-30 11:44:45,223 Line:5853 43:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 44:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 45:00101
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 46:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 47:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 48:
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 49:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 50:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 51:0.0
 [DEBUG] 2018-01-30 11:44:45,224 Line:5853 52:0.0
 [DEBUG] 2018-01-30 11:44:45,228 Line:5853 53:
 [DEBUG] 2018-01-30 11:44:45,228 Line:5853 54:0.0
 [DEBUG] 2018-01-30 11:44:45,229 Line:5853 55:00001
 [DEBUG] 2018-01-30 11:44:45,339 Line:1064  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301144451540156' order by detOrderNo
 [DEBUG] 2018-01-30 11:44:45,365 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936571710021;tableName=tblSalesOrder;id=1b63e5ab_1801301144451540156;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-30 11:44:46,950 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=1b63e5ab_1801301144451540156&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=1&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 11:44:46,954 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[1b63e5ab_1801301144451540156,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 11:44:46,955 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301144451540156' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 11:44:46,992 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301144451540156' order by detOrderNo
 [DEBUG] 2018-01-30 12:07:53,996 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 13:00:56,079 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 13:46:19,212 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 14:16:33,880 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 14:46:45,542 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 15:17:02,832 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 15:47:23,566 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 16:17:51,664 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 16:46:50,519 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-30 16:46:50,524 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-30 16:46:51,014 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-30 16:46:51,017 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-30 16:46:51,580 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1517302011549
 [DEBUG] 2018-01-30 16:46:51,582 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1517302011549,];
 [DEBUG] 2018-01-30 16:46:56,304 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1517302016299
 [DEBUG] 2018-01-30 16:46:56,305 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1517302016299,];
 [DEBUG] 2018-01-30 16:46:56,320 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1517302016317
 [DEBUG] 2018-01-30 16:46:56,321 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1517302016317,];
 [DEBUG] 2018-01-30 16:46:56,347 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-30 16:46:56,348 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1218,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-30 16:46:56,554 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-30 16:46:56,598 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-30 16:46:56,830 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 16:46:56,831 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 16:46:56,833 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 16:46:57,728 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 16:46:57,729 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 16:46:57,825 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 16:46:57,826 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 16:46:57,830 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 16:46:57,880 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 16:46:57,882 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 16:46:57,884 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 16:46:57,912 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 16:46:57,913 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 16:46:57,915 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 16:46:57,946 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 16:46:57,947 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 16:46:57,949 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 16:47:01,531 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=ReportSalesTotalGrossProfit&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 16:47:01,532 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[ReportSalesTotalGrossProfit,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 16:47:01,534 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=ReportSalesTotalGrossProfit
 [DEBUG] 2018-01-30 16:47:01,852 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=b491d44b_1309161635169370047&editable=&subSql=
 [DEBUG] 2018-01-30 16:47:01,854 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[b491d44b_1309161635169370047,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-30 16:47:01,855 Line:135 BaseAction.execute 请求地址：/ReportDataAction.do?reportNumber=ReportSalesTotalGrossProfit&src=menu&winCurIndex=1&checkTab=Y
 [DEBUG] 2018-01-30 16:47:01,856 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-30 16:47:01,856 Line:146 BaseAction.execute 操作人:admin;请求数据：reportNumber=[ReportSalesTotalGrossProfit,];src=[menu,];winCurIndex=[1,];checkTab=[Y,];
 [DEBUG] 2018-01-30 16:47:01,858 Line:215 ---------->SET Page 1 DEFAULT URL = /ReportDataAction.do?reportNumber=ReportSalesTotalGrossProfit
 [DEBUG] 2018-01-30 16:47:02,265 Line:5242 GlobalsTool.js 生成js 时间64:/js/gen/report.vjs_zh_CN.js
 [DEBUG] 2018-01-30 16:48:19,167 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 17:18:45,981 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 17:49:00,320 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 18:00:38,246 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-30 18:00:38,248 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-30 18:00:38,672 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-30 18:00:38,674 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-30 18:00:39,227 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1517306439224
 [DEBUG] 2018-01-30 18:00:39,228 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1517306439224,];
 [DEBUG] 2018-01-30 18:00:40,564 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1517306440556
 [DEBUG] 2018-01-30 18:00:40,565 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1517306440556,];
 [DEBUG] 2018-01-30 18:00:40,579 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1517306440575
 [DEBUG] 2018-01-30 18:00:40,579 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1517306440575,];
 [DEBUG] 2018-01-30 18:00:40,606 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-30 18:00:40,607 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1218,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-30 18:00:40,746 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-30 18:00:40,769 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-30 18:00:40,930 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 18:00:40,931 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 18:00:40,933 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:00:41,631 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 18:00:41,632 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 18:00:41,753 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 18:00:41,754 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:00:41,757 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:00:41,826 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 18:00:41,827 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:00:41,830 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:00:41,858 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 18:00:41,859 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:00:41,861 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:00:41,880 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 18:00:41,881 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:00:41,883 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:00:44,697 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyOrder&src=menu&winCurIndex=1
 [DEBUG] 2018-01-30 18:00:44,698 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-30 18:00:44,699 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyOrder
 [DEBUG] 2018-01-30 18:00:44,851 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 18:00:44,854 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 18:00:44,861 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 18:00:45,080 Line:689 通过SQL读原始数据：226
 [DEBUG] 2018-01-30 18:00:45,084 Line:1391 整理数据：3
 [DEBUG] 2018-01-30 18:00:45,339 Line:5242 GlobalsTool.js 生成js 时间109:/js/gen/defineList.vjstblBuyOrder_zh_CN.js
 [DEBUG] 2018-01-30 18:00:48,268 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 18:00:48,272 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购订单,];moduleName=[采购订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];TradeType=[,];statusId=[0,];BillNo=[,];ComFullNamen=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 18:00:48,308 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 18:00:48,310 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 18:00:48,310 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 18:00:48,312 Line:689 通过SQL读原始数据：3
 [DEBUG] 2018-01-30 18:00:48,313 Line:1391 整理数据：0
 [DEBUG] 2018-01-30 18:00:50,334 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-30 18:00:50,337 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblBuyOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[采购订单,];moduleName=[采购订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'        and (tblBuyOrder.BillDate >= ?)                                                        and (tblBuyOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@Param:0@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[123,];TradeType=[,];statusId=[,];BillNo=[,];ComFullNamen=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];Remark=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-30 18:00:50,373 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TradeType,InvoiceType,DeptFullName,EmpFullName,TotalAmount,TotalTaxAmount,CurTotalAmount,AccountAmount,ArrivalAmount,TotalPayAmt,BackAmount,RefBillNo,statusId,sysName,id,Remark,workFlowNodeName from ( select tblBuyOrder.id as keyId,tblBuyOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyOrder.createBy) as deptCodeR,tblBuyOrder.employeeId as employeeId,tblBuyOrder.departmentCode as deptCodeRE, tblBuyOrder.workFlowNodeName as workFlowNodeName,       tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     e1.EmpFullName as EmpFullName,     tblBuyOrder.TotalAmount as TotalAmount,     tblBuyOrder.TotalTaxAmount as TotalTaxAmount,     tblBuyOrder.CurTotalAmount as CurTotalAmount,     tblBuyOrder.AccountAmount as AccountAmount,     isnull((select SUM(a.TaxAmount) from tblBuyInStockDet a,tblBuyInStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblBuyOutStockDet a,tblBuyOutStock b where a.BuyOrderID=tblBuyOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as ArrivalAmount,     tblBuyOrder.TotalPayAmt as TotalPayAmt,     tblBuyOrder.BackAmount as BackAmount,     tblBuyOrder.RefBillNo as RefBillNo,     tblBuyOrder.statusId as statusId,     e2.EmpFullName as sysName,     tblBuyOrder.id as id,     tblBuyOrder.Remark as Remark   ,ROW_NUMBER() over(order by     tblBuyOrder.BillDate desc,    tblBuyOrder.BillNo desc) as row_id  from tblBuyOrder   left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode  left join tblEmployee e1 on e1.id=tblBuyOrder.EmployeeID  left join tblEmployee e2 on e2.id=tblBuyOrder.createBy where 1=1 and isNull(tblBuyOrder.workFlowNodeName,'')!='print'                                                                                 and (tblBuyOrder.workFlowNodeName = 'notApprove' and tblBuyOrder.workFlowNode = ?)  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 18:00:50,374 Line:582 ReportDataMgt.getReportData 参数1:123
 [DEBUG] 2018-01-30 18:00:50,469 Line:689 通过SQL读原始数据：95
 [DEBUG] 2018-01-30 18:00:50,470 Line:1391 整理数据：1
 [DEBUG] 2018-01-30 18:00:53,306 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=2
 [DEBUG] 2018-01-30 18:00:53,308 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-30 18:00:53,309 Line:215 ---------->SET Page 2 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-30 18:00:53,364 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-30 18:00:53,366 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-30 18:00:53,367 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-30 18:00:53,607 Line:689 通过SQL读原始数据：241
 [DEBUG] 2018-01-30 18:00:53,609 Line:1391 整理数据：1
 [DEBUG] 2018-01-30 18:00:55,743 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=1b63e5ab_1801301144451540156&moduleType=&f_brother=&operation=5&winCurIndex=2&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-30 18:00:55,745 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[1b63e5ab_1801301144451540156,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[2,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-30 18:00:55,784 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='1b63e5ab_1801301144451540156' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-30 18:00:56,038 Line:1525  select * from  tblSalesOrderDet where f_ref = '1b63e5ab_1801301144451540156' order by detOrderNo
 [DEBUG] 2018-01-30 18:00:58,754 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&reportNumber=ReportSalesOrders&moduleType=&BillID=1b63e5ab_1801301144451540156&operation=18&parentTableName=&winCurIndex=2
 [DEBUG] 2018-01-30 18:00:58,755 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];reportNumber=[ReportSalesOrders,];moduleType=[,];BillID=[1b63e5ab_1801301144451540156,];operation=[18,];parentTableName=[,];winCurIndex=[2,];
 [DEBUG] 2018-01-30 18:01:00,982 Line:135 BaseAction.execute 请求地址：/ReportSetAction.do?operation=84&reportId=17336185_0902042000481400010&isbillType=true&tableName=tblSalesOrder&moduleType=
 [DEBUG] 2018-01-30 18:01:00,983 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[84,];reportId=[17336185_0902042000481400010,];isbillType=[true,];tableName=[tblSalesOrder,];moduleType=[,];
 [DEBUG] 2018-01-30 18:01:03,827 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getStyleSQLFile&fileName=ReportSalesOrdersSQL.xml&SESSION=EE58BBD7EDC8994D1328B5EC0764624FBF8C85E68169ABB9A0E7C33D1C0983589CC25C21B530369A6D4EE97CBBB125A033A3E039F5C82ECB
 [DEBUG] 2018-01-30 18:01:05,030 Line:133 ReportServlet.service 请求地址：/ReportServlet?operation=getFormatFile&fileName=ReportSalesOrdersFormat_17336185_0902042000481400011.xml&Language=zh_CN&SESSION=EE58BBD7EDC8994D1328B5EC0764624FBF8C85E68169ABB9A0E7C33D1C0983589CC25C21B530369A6D4EE97CBBB125A00A1BB597E5395919
 [DEBUG] 2018-01-30 18:02:21,817 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-30 18:02:21,817 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-30 18:02:21,819 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:02:22,215 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-30 18:02:22,216 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-30 18:02:22,252 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-30 18:02:22,253 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:02:22,255 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:02:22,284 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-30 18:02:22,285 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:02:22,287 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:02:22,305 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-30 18:02:22,305 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:02:22,308 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:02:22,326 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-30 18:02:22,327 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-30 18:02:22,329 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-30 18:19:23,930 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-30 18:33:26,384 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2018-01-30 18:33:26,388 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2018-01-30 18:33:26,406 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1591)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1580)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
