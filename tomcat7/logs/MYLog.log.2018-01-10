[INFO ] 2018-01-10 08:37:33,369 Line:206 系统开始启动，最大内存：1792;目前总内存：250;目前空闲内存：161
 [INFO ] 2018-01-10 08:37:33,585 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-10 08:37:38,232 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-10 08:37:38,376 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-10 08:37:38,396 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-10 08:37:38,400 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-10 08:37:38,404 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-10 08:37:38,412 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-10 08:37:38,424 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-10 08:37:39,430 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 08:37:39,467 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-10 08:37:39,497 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-10 08:37:39,513 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-10 08:37:40,380 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-10 08:37:40,380 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-10 08:37:40,912 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-10 08:37:40,987 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-10 08:37:41,715 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-10 08:37:41,737 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-10 08:37:41,743 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-10 08:37:41,754 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-10 08:37:41,766 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-10 08:37:41,774 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-10 08:37:41,812 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-10 08:37:44,892 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-10 08:37:45,151 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,155 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,155 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,159 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,167 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,167 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,219 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,247 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,267 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,327 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,327 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,331 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,331 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,367 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,367 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,371 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,375 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,375 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,379 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,411 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,487 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,491 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,495 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,495 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,499 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,503 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,539 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,543 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,547 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,599 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,647 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,699 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,699 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,699 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 08:37:45,715 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-10 08:37:45,727 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-10 08:37:45,759 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-10 08:37:45,958 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-10 08:37:45,958 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-10 08:37:46,971 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-10 00:00:00
 [INFO ] 2018-01-10 08:37:46,971 Line:144 SAFE 备份任务开始执行，时间2018-01-10 08:37:46
 [INFO ] 2018-01-10 08:37:46,976 Line:137 SAFE 碎片任务启动，时间2018-01-14 00:00:00
 [INFO ] 2018-01-10 08:37:50,979 Line:148 SAFE 备份任务执行成功，时间2018-01-10 08:37:50
 [DEBUG] 2018-01-10 08:38:21,975 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 08:38:21,976 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 08:38:21,976 Line:243 AIOApi op=getSessEmp&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:22,001 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 08:38:24,724 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 08:38:24,725 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 08:38:24,725 Line:243 AIOApi op=getSessEmp&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:24,727 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 08:38:29,165 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 08:38:29,166 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 08:38:29,166 Line:243 AIOApi op=getSessEmp&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:29,167 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 08:38:35,974 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 08:38:35,975 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 08:38:35,975 Line:243 AIOApi op=LOGIN&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:36,053 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 08:38:36,156 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 08:38:36,180 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 08:38:36,337 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 08:38:36,801 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 08:38:36,801 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 08:38:36,802 Line:243 AIOApi op=getSessEmp&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:36,807 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 08:38:36,848 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 08:38:36,849 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 08:38:36,849 Line:243 AIOApi op=getEnum&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:36,854 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 08:38:46,229 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 08:38:49,079 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:38:49,080 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:38:49,080 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:49,520 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:38:49,538 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:38:49,539 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:38:49,539 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:38:49,540 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:38:49,540 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:38:49,540 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:38:49,541 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:38:49,541 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:38:49,541 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:38:49,541 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:38:49,541 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:38:49,541 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:38:49,542 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:38:49,542 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:38:49,542 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:38:49,542 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:38:49,542 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:38:49,543 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-10 08:38:49,638 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:38:49,638 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:38:49,638 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:38:49,638 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:38:49,639 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:38:49,639 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:38:49,639 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:38:49,639 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:38:49,641 Line:689 通过SQL读原始数据：103
 [DEBUG] 2018-01-10 08:38:49,642 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:38:49,683 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-10 08:38:50,585 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:38:50,588 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[2,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];
 [DEBUG] 2018-01-10 08:38:50,589 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:38:50,627 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:38:50,628 Line:567 ReportDataMgt.getReportData 参数1:2
 [DEBUG] 2018-01-10 08:38:50,628 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:38:50,628 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:38:50,629 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:38:50,629 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:38:50,629 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:38:50,629 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:38:50,630 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:38:50,630 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:38:50,630 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:38:50,630 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:38:50,631 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:38:50,631 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:38:50,631 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:38:50,631 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:38:50,632 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:38:50,632 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:38:50,632 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-10 08:38:50,635 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:38:50,635 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:38:50,635 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:38:50,636 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:38:50,636 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:38:50,636 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:38:50,636 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:38:50,636 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:38:50,637 Line:689 通过SQL读原始数据：9
 [DEBUG] 2018-01-10 08:38:50,638 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:38:50,656 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-10 08:39:54,485 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:54,487 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[b,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:54,487 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:54,539 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:54,540 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:54,540 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:54,540 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:54,540 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:54,540 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:54,541 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:54,541 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:54,541 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:54,541 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:54,542 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:54,542 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:54,542 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:54,543 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:54,543 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:54,543 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:54,543 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:54,544 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:54,544 Line:582 ReportDataMgt.getReportData 参数18:b
 [DEBUG] 2018-01-10 08:39:54,650 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:54,652 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:54,652 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:54,666 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:54,667 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:54,668 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:54,668 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:54,668 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:54,669 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:54,669 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:54,669 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:54,670 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:54,670 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:54,670 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:54,670 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:54,671 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:54,671 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:54,671 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:54,669 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:54,671 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:54,672 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:54,672 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:54,672 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:54,671 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:54,672 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:54,673 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:54,672 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:54,673 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:54,673 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:54,674 Line:582 ReportDataMgt.getReportData 参数18:bs
 [DEBUG] 2018-01-10 08:39:54,674 Line:689 通过SQL读原始数据：134
 [DEBUG] 2018-01-10 08:39:54,676 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:54,676 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:39:54,676 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:54,677 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:54,678 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:54,678 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:54,679 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:54,680 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:54,680 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:54,681 Line:689 通过SQL读原始数据：14
 [DEBUG] 2018-01-10 08:39:54,682 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:39:54,688 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","b"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","",等等！
 [DEBUG] 2018-01-10 08:39:54,697 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float",""等等！
 [DEBUG] 2018-01-10 08:39:56,963 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:56,965 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:56,966 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:56,988 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:56,989 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:56,989 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:56,989 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:56,990 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:56,990 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:56,991 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:56,991 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:56,992 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:56,992 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:56,992 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:56,992 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:56,992 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:56,993 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:56,993 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:56,993 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:56,993 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:56,994 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:56,995 Line:582 ReportDataMgt.getReportData 参数18:bs0
 [DEBUG] 2018-01-10 08:39:56,998 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:56,998 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:56,999 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:56,999 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:56,999 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:56,999 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:56,999 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:56,999 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:57,000 Line:689 通过SQL读原始数据：11
 [DEBUG] 2018-01-10 08:39:57,001 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:39:57,013 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","等等！
 [DEBUG] 2018-01-10 08:39:57,139 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:57,140 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs00,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:57,140 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:57,152 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:57,152 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:57,153 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:57,153 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:57,153 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:57,153 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:57,154 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:57,154 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:57,154 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:57,154 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:57,154 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:57,155 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:57,155 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:57,155 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:57,155 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:57,156 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:57,156 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:57,156 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:57,157 Line:582 ReportDataMgt.getReportData 参数18:bs00
 [DEBUG] 2018-01-10 08:39:57,159 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:57,160 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:57,160 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,160 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,161 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:57,161 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,161 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:57,161 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:57,162 Line:689 通过SQL读原始数据：10
 [DEBUG] 2018-01-10 08:39:57,163 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:39:57,176 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs00"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float",等等！
 [DEBUG] 2018-01-10 08:39:57,297 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:57,298 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs000,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:57,298 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:57,310 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:57,310 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:57,311 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:57,311 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:57,311 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:57,311 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:57,311 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:57,311 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:57,312 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:57,313 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:57,313 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:57,313 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:57,313 Line:582 ReportDataMgt.getReportData 参数18:bs000
 [DEBUG] 2018-01-10 08:39:57,315 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:57,316 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:57,316 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,317 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,317 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:57,317 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,317 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:57,317 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:57,318 Line:689 通过SQL读原始数据：8
 [DEBUG] 2018-01-10 08:39:57,319 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:39:57,328 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs000"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-10 08:39:57,627 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:57,630 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0001,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:57,631 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:57,654 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:57,655 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:57,656 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:57,656 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:57,657 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:57,657 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:57,658 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:57,658 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:57,659 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:57,660 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:57,660 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:57,662 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:57,663 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:57,663 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:57,664 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:57,664 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:57,665 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:57,665 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:57,666 Line:582 ReportDataMgt.getReportData 参数18:bs0001
 [DEBUG] 2018-01-10 08:39:57,669 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:57,670 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:57,670 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,670 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,670 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:57,671 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,671 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:57,671 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:57,672 Line:689 通过SQL读原始数据：17
 [DEBUG] 2018-01-10 08:39:57,672 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:39:57,676 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0001"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float等等！
 [DEBUG] 2018-01-10 08:39:57,883 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:57,885 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs00011,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:57,885 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:57,899 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:57,899 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:57,900 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:57,900 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:57,900 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:57,900 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:57,901 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:57,901 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:57,901 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:57,901 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:57,901 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:57,901 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:57,902 Line:582 ReportDataMgt.getReportData 参数18:bs00011
 [DEBUG] 2018-01-10 08:39:57,905 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:57,905 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:57,905 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,905 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,906 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:57,906 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:57,906 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:57,906 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:57,906 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-10 08:39:57,906 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:39:57,908 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs00011"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","floa等等！
 [DEBUG] 2018-01-10 08:39:58,487 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:58,488 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0001,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:58,489 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:39:58,500 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:39:58,501 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:39:58,501 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:39:58,501 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:39:58,502 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:39:58,502 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:39:58,502 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:39:58,502 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:39:58,502 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:39:58,502 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:39:58,503 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:39:58,504 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:39:58,504 Line:582 ReportDataMgt.getReportData 参数18:bs0001
 [DEBUG] 2018-01-10 08:39:58,506 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:39:58,506 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:39:58,506 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:58,507 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:58,507 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:39:58,507 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:39:58,507 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:39:58,507 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:39:58,507 Line:689 通过SQL读原始数据：6
 [DEBUG] 2018-01-10 08:39:58,508 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:39:58,512 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0001"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float等等！
 [DEBUG] 2018-01-10 08:39:59,988 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:39:59,989 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs000,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:39:59,989 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:00,016 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:00,017 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:00,017 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:00,017 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:00,017 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:00,017 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:00,018 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:00,018 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:00,018 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:00,018 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:00,018 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:00,019 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:00,019 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:00,019 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:00,019 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:00,019 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:00,020 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:00,020 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:00,020 Line:582 ReportDataMgt.getReportData 参数18:bs000
 [DEBUG] 2018-01-10 08:40:00,063 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:00,063 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:00,064 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,064 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,064 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:00,064 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,064 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:00,064 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:00,065 Line:689 通过SQL读原始数据：48
 [DEBUG] 2018-01-10 08:40:00,066 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:00,075 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs000"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-10 08:40:00,424 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:00,425 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs00,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:00,425 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:00,464 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:00,466 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:00,466 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:00,472 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:00,473 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:00,473 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:00,474 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:00,474 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:00,474 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:00,475 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:00,475 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:00,475 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:00,477 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:00,478 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:00,478 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:00,478 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:00,479 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:00,479 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:00,479 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:00,479 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:00,480 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:00,480 Line:582 ReportDataMgt.getReportData 参数18:bs00
 [DEBUG] 2018-01-10 08:40:00,481 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:00,482 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:00,482 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:00,483 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:00,483 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:00,483 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:00,484 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:00,484 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:00,484 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:00,484 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:00,485 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:00,485 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:00,486 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:00,486 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:00,486 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:00,487 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:00,487 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:00,488 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:00,488 Line:582 ReportDataMgt.getReportData 参数18:bs0
 [DEBUG] 2018-01-10 08:40:00,491 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:00,492 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:00,493 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:00,520 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:00,520 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[b,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:00,521 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:00,549 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:00,550 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:00,550 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:00,563 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:00,565 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:00,566 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:00,566 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:00,566 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:00,567 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:00,567 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:00,568 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:00,569 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:00,569 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:00,569 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:00,570 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:00,570 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:00,570 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:00,571 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:00,571 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:00,571 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:00,571 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:00,572 Line:582 ReportDataMgt.getReportData 参数18:bs
 [DEBUG] 2018-01-10 08:40:00,573 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:00,573 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:00,574 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:00,574 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:00,574 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:00,575 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:00,575 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:00,575 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:00,575 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:00,576 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:00,576 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:00,578 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:00,579 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:00,580 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:00,580 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:00,581 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:00,581 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:00,581 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:00,581 Line:582 ReportDataMgt.getReportData 参数18:b
 [DEBUG] 2018-01-10 08:40:00,584 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:00,585 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:00,585 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:00,585 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,585 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:00,585 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,586 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:00,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,586 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,587 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:00,587 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:00,587 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:00,587 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:00,588 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,588 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:00,587 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,589 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:00,588 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,588 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:00,589 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:00,589 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:00,589 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:00,591 Line:689 通过SQL读原始数据：118
 [DEBUG] 2018-01-10 08:40:00,591 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:00,590 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,591 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:00,591 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:00,592 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:00,593 Line:689 通过SQL读原始数据：111
 [DEBUG] 2018-01-10 08:40:00,592 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:00,597 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:00,597 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:00,592 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:00,598 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:00,597 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:00,597 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:00,617 Line:689 通过SQL读原始数据：44
 [DEBUG] 2018-01-10 08:40:00,598 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:00,617 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:00,619 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:00,619 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:00,619 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,619 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:00,620 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,619 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:00,620 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:00,620 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:00,621 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,621 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:00,621 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:00,621 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:00,622 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:00,622 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:00,623 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:00,623 Line:689 通过SQL读原始数据：59
 [DEBUG] 2018-01-10 08:40:00,625 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:00,624 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:00,627 Line:582 ReportDataMgt.getReportData 参数18:
 [DEBUG] 2018-01-10 08:40:00,629 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","等等！
 [DEBUG] 2018-01-10 08:40:00,632 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","b"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","",等等！
 [DEBUG] 2018-01-10 08:40:00,635 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs00"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float",等等！
 [DEBUG] 2018-01-10 08:40:00,641 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float",""等等！
 [DEBUG] 2018-01-10 08:40:00,647 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:00,648 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:00,648 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,649 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,649 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:00,649 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:00,650 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:00,650 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:00,651 Line:689 通过SQL读原始数据：62
 [DEBUG] 2018-01-10 08:40:00,654 Line:1391 整理数据：3
 [DEBUG] 2018-01-10 08:40:00,665 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName",""]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","","等等！
 [DEBUG] 2018-01-10 08:40:12,545 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:12,545 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[b,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:12,545 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:12,567 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:12,567 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:12,567 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:12,567 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:12,567 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:12,568 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:12,568 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:12,569 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:12,569 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:12,569 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:12,569 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:12,569 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:12,569 Line:582 ReportDataMgt.getReportData 参数18:b
 [DEBUG] 2018-01-10 08:40:12,603 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:12,604 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:12,605 Line:689 通过SQL读原始数据：38
 [DEBUG] 2018-01-10 08:40:12,605 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:40:12,611 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","b"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","",等等！
 [DEBUG] 2018-01-10 08:40:17,641 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:17,643 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:17,644 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:17,664 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:17,665 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:17,665 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:17,666 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:17,666 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:17,667 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:17,667 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:17,667 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:17,668 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:17,668 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:17,668 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:17,669 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:17,669 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:17,669 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:17,670 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:17,670 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:17,670 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:17,670 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:17,671 Line:582 ReportDataMgt.getReportData 参数18:bs
 [DEBUG] 2018-01-10 08:40:17,675 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:17,675 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:17,676 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:17,676 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:17,676 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:17,677 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:17,677 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:17,677 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:17,678 Line:689 通过SQL读原始数据：13
 [DEBUG] 2018-01-10 08:40:17,679 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:17,687 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float",""等等！
 [DEBUG] 2018-01-10 08:40:18,585 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:18,587 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:18,588 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:18,616 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:18,616 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:18,617 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:18,617 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:18,617 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:18,618 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:18,618 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:18,618 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:18,619 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:18,619 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:18,619 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:18,620 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:18,620 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:18,620 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:18,621 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:18,621 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:18,621 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:18,622 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:18,622 Line:582 ReportDataMgt.getReportData 参数18:bs0
 [DEBUG] 2018-01-10 08:40:18,626 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:18,626 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:18,627 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,627 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,627 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:18,628 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,628 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:18,628 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:18,629 Line:689 通过SQL读原始数据：13
 [DEBUG] 2018-01-10 08:40:18,630 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:18,642 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float","等等！
 [DEBUG] 2018-01-10 08:40:18,743 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:18,744 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs00,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:18,745 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:18,764 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:18,765 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:18,766 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:18,766 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:18,768 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:18,768 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:18,769 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:18,769 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:18,769 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:18,770 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:18,770 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:18,770 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:18,771 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:18,771 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:18,771 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:18,772 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:18,772 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:18,773 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:18,773 Line:582 ReportDataMgt.getReportData 参数18:bs00
 [DEBUG] 2018-01-10 08:40:18,777 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:18,778 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:18,778 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,778 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,779 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:18,779 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,779 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:18,780 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:18,780 Line:689 通过SQL读原始数据：15
 [DEBUG] 2018-01-10 08:40:18,782 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:18,794 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs00"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float",等等！
 [DEBUG] 2018-01-10 08:40:18,939 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:18,939 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs000,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:18,940 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:18,948 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:18,949 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:18,949 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:18,950 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:18,950 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:18,950 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:18,950 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:18,951 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:18,951 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:18,951 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:18,951 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:18,952 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:18,952 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:18,952 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:18,952 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:18,952 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:18,953 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:18,953 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:18,953 Line:582 ReportDataMgt.getReportData 参数18:bs000
 [DEBUG] 2018-01-10 08:40:18,956 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:18,956 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:18,956 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,956 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,957 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:18,957 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:18,957 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:18,957 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:18,957 Line:689 通过SQL读原始数据：8
 [DEBUG] 2018-01-10 08:40:18,958 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:18,964 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs000"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-10 08:40:20,524 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:20,526 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0001,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:20,527 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:20,559 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:20,560 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:20,560 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:20,561 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:20,561 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:20,561 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:20,561 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:20,561 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:20,561 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:20,561 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:20,562 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:20,563 Line:582 ReportDataMgt.getReportData 参数18:bs0001
 [DEBUG] 2018-01-10 08:40:20,565 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:20,565 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:20,566 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:20,566 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:20,566 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:20,566 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:20,566 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:20,566 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:20,567 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-10 08:40:20,567 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:40:20,570 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0001"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float等等！
 [DEBUG] 2018-01-10 08:40:22,067 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:22,068 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs000,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:22,069 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:22,095 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:22,096 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:22,096 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:22,096 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:22,096 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:22,096 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:22,096 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:22,096 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:22,097 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:22,098 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:22,098 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:22,098 Line:582 ReportDataMgt.getReportData 参数18:bs000
 [DEBUG] 2018-01-10 08:40:22,100 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:22,100 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:22,101 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:22,101 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:22,101 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:22,101 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:22,101 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:22,101 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:22,102 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-10 08:40:22,102 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:40:22,108 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs000"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-10 08:40:22,417 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:22,418 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0002,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:22,418 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:22,440 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:22,441 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:22,441 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:22,441 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:22,442 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:22,442 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:22,442 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:22,443 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:22,443 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:22,443 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:22,444 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:22,444 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:22,444 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:22,445 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:22,445 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:22,445 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:22,446 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:22,446 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:22,446 Line:582 ReportDataMgt.getReportData 参数18:bs0002
 [DEBUG] 2018-01-10 08:40:22,450 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:22,450 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:22,451 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:22,451 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:22,451 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:22,451 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:22,451 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:22,452 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:22,452 Line:689 通过SQL读原始数据：12
 [DEBUG] 2018-01-10 08:40:22,452 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:40:22,456 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0002"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float等等！
 [DEBUG] 2018-01-10 08:40:24,508 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:24,509 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs000,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:24,510 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:24,527 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:24,528 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:24,528 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:24,528 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:24,528 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:24,528 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:24,528 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:24,529 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:24,530 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:24,530 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:24,530 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:24,530 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:24,530 Line:582 ReportDataMgt.getReportData 参数18:bs000
 [DEBUG] 2018-01-10 08:40:24,533 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:24,533 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:24,533 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:24,533 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:24,534 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:24,534 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:24,534 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:24,534 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:24,534 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-10 08:40:24,535 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 08:40:24,541 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs000"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-10 08:40:30,442 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:30,444 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs0003,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:30,445 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:30,467 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:30,468 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:30,468 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:30,468 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:30,469 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:30,469 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:30,469 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:30,469 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:30,469 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:30,469 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:30,470 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:30,470 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:30,470 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:30,470 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:30,470 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:30,470 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:30,471 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:30,471 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:30,471 Line:582 ReportDataMgt.getReportData 参数18:bs0003
 [DEBUG] 2018-01-10 08:40:30,473 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:30,473 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:30,473 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:30,473 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:30,474 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:30,474 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:30,474 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:30,474 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:30,474 Line:689 通过SQL读原始数据：6
 [DEBUG] 2018-01-10 08:40:30,475 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:30,477 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs0003"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float等等！
 [DEBUG] 2018-01-10 08:40:31,787 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&reportNumber=tblVirtualStock
 [DEBUG] 2018-01-10 08:40:31,788 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];reportNumber=[tblVirtualStock,];pageNo=[1,];pageSize=[10,];src=[menu,];DataType=[tblGoods,];mobileGoodsFullName=[bs000,];parentCode=[,];StockCode=[,];
 [DEBUG] 2018-01-10 08:40:31,789 Line:243 AIOApi op=report&sessionid=A06FD56177E05ACC5A8897D44A2BAB3E
 [DEBUG] 2018-01-10 08:40:31,815 Line:549 ReportDataMgt.getReportData SQL={call report_VirtualStock (@pageNo=?,@pageSize=?,@locale=?,@userId=?,@sunCompany=?,@classCode=?,@StockCode=?,@GoodsCode=?,@BatchNo=?,@Inch=?,@Hue=?,@yearNO=?,@ProDate=?,@Availably=?,@NumberType=?,@DataType=?,@upperQtyQ=?,@mobileGoodsFullName=?)}
 [DEBUG] 2018-01-10 08:40:31,816 Line:567 ReportDataMgt.getReportData 参数1:1
 [DEBUG] 2018-01-10 08:40:31,816 Line:568 ReportDataMgt.getReportData 参数2:10
 [DEBUG] 2018-01-10 08:40:31,816 Line:569 ReportDataMgt.getReportData 参数3:zh_CN
 [DEBUG] 2018-01-10 08:40:31,816 Line:570 ReportDataMgt.getReportData 参数4:1
 [DEBUG] 2018-01-10 08:40:31,816 Line:571 ReportDataMgt.getReportData 参数5:00001
 [DEBUG] 2018-01-10 08:40:31,817 Line:582 ReportDataMgt.getReportData 参数6:
 [DEBUG] 2018-01-10 08:40:31,817 Line:582 ReportDataMgt.getReportData 参数7:
 [DEBUG] 2018-01-10 08:40:31,817 Line:582 ReportDataMgt.getReportData 参数8:
 [DEBUG] 2018-01-10 08:40:31,817 Line:582 ReportDataMgt.getReportData 参数9:
 [DEBUG] 2018-01-10 08:40:31,817 Line:582 ReportDataMgt.getReportData 参数10:
 [DEBUG] 2018-01-10 08:40:31,817 Line:582 ReportDataMgt.getReportData 参数11:
 [DEBUG] 2018-01-10 08:40:31,818 Line:582 ReportDataMgt.getReportData 参数12:
 [DEBUG] 2018-01-10 08:40:31,818 Line:582 ReportDataMgt.getReportData 参数13:
 [DEBUG] 2018-01-10 08:40:31,818 Line:582 ReportDataMgt.getReportData 参数14:
 [DEBUG] 2018-01-10 08:40:31,818 Line:582 ReportDataMgt.getReportData 参数15:0
 [DEBUG] 2018-01-10 08:40:31,818 Line:582 ReportDataMgt.getReportData 参数16:tblGoods
 [DEBUG] 2018-01-10 08:40:31,819 Line:582 ReportDataMgt.getReportData 参数17:
 [DEBUG] 2018-01-10 08:40:31,819 Line:582 ReportDataMgt.getReportData 参数18:bs000
 [DEBUG] 2018-01-10 08:40:31,822 Line:587 ReportDataMgt.getReportData warn 正在直接执行 SQL；无游标。
 [DEBUG] 2018-01-10 08:40:31,822 Line:587 ReportDataMgt.getReportData warn 商品，仓库权限语句
 [DEBUG] 2018-01-10 08:40:31,822 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:31,822 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:31,822 Line:587 ReportDataMgt.getReportData warn 解析出的查询条件
 [DEBUG] 2018-01-10 08:40:31,822 Line:587 ReportDataMgt.getReportData warn  
 [DEBUG] 2018-01-10 08:40:31,823 Line:587 ReportDataMgt.getReportData warn 最终显示数据的查询语句
 [DEBUG] 2018-01-10 08:40:31,823 Line:587 ReportDataMgt.getReportData warn SELECT ROW_NUMBER() OVER(ORDER BY tblGoods.GoodsNumber) AS rowid,
			tblGoods.classCode,
            tblGoods.isCatalog,
            tblGoods.classCode+ '#;#'+ CAST(tblGoods.isCatalog AS VARCHAR(10))+ '#;##;#' AS hide_GoodsCode,
            tblGoods.GoodsNumber AS GoodsNumber,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end as BatchNo,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end as Inch,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end as Hue,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end as yearNO,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end as ProDate,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end as Availably,sum(isnull(lastQty,0)),sum(isnull(inQtyNotAudit,0)),sum(isnull(SInQtyNotAudit,0)),sum(isnull(outQtyNotAudit,0)),sum(isnull(BOutQtyNotAudit,0)),sum(isnull(UseQty,0)),sum(isnull(buyOrderQty,0)),sum(isnull(salesOrderQty,0)),sum(isnull(UseQty,0))+sum(isnull(buyOrderQty,0))-sum(isnull(salesOrderQty,0)) as orderQty FROM (select GoodsNumber,classCode,isCatalog,upperQty,lowerQty from tblGoods where workFlowNodeName='finish' and (tblGoods.classCode like '_____')) as tblGoods  LEFT JOIN (SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,lastQty,inQtyNotAudit,SInQtyNotAudit,outQtyNotAudit,BOutQtyNotAudit,lastQty+inQtyNotAudit+SInQtyNotAudit-outQtyNotAudit-BOutQtyNotAudit as UseQty,0 as buyOrderQty,0 as salesOrderQty FROM tblStocks as b where 1=1 union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,NotInQty,0 FROM tblBuyOrder a,tblBuyOrderDet b WHERE a.id = b.f_ref AND b.NotInQty>0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish' union all SELECT GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,0,0,0,0,0,0,0,NotOutQty FROM tblSalesOrder a,tblSalesOrderDet b WHERE a.id = b.f_ref AND b.NotOutQty> 0 AND a.statusId = 0 AND a.workFlowNodeName = 'finish') as b on tblGoods.classCode = SUBSTRING(b.GoodsCode, 1, LEN(tblGoods.classCode)) group by tblGoods.classCode,tblGoods.GoodsNumber,tblGoods.isCatalog,tblGoods.upperQty,tblGoods.lowerQty,case when tblGoods.isCatalog=1 then '' else isnull(b.BatchNo,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Inch,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Hue,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.yearNO,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.ProDate,'') end,
						case when tblGoods.isCatalog=1 then '' else isnull(b.Availably,'') end  having 1=1 and abs(sum(isnull(lastQty,0)))+abs(sum(isnull(inQtyNotAudit,0)))+abs(sum(isnull(SInQtyNotAudit,0)))+abs(sum(isnull(outQtyNotAudit,0)))+abs(sum(isnull(BOutQtyNotAudit,0)))+abs(sum(isnull(buyOrderQty,0)))+abs(sum(isnull(salesOrderQty,0)))>0
 [DEBUG] 2018-01-10 08:40:31,823 Line:689 通过SQL读原始数据：7
 [DEBUG] 2018-01-10 08:40:31,824 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 08:40:31,829 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["StockCode",""],["GoodsCode",""],["NumberType","0"],["DataType","tblGoods"],["upperQtyQ",""],["mobileGoodsFullName","bs000"]],"cols":[["classCode","-1","string","","GoodsCode"],["","-1","string","","classCode"],["","-1","int","","isCatalog"],["商品编号","100","string","","GoodsNumber"],["商品名称","150","string","","GoodsFullName"],["商品规格","200","string","","GoodsSpec"],["单位","30","string","","BaseUnit"],["库存上限","90","float","","upperQty"],["库存下限","90","float"等等！
 [DEBUG] 2018-01-10 09:04:36,510 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 09:04:36,510 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 09:04:36,510 Line:243 AIOApi op=getSessEmp&sessionid=31B4B3A7DA7AED40DE420685CEF369EE
 [DEBUG] 2018-01-10 09:04:36,511 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 09:05:24,872 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 09:05:24,872 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 09:05:24,873 Line:243 AIOApi op=LOGIN&sessionid=31B4B3A7DA7AED40DE420685CEF369EE
 [DEBUG] 2018-01-10 09:05:24,915 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 09:05:24,952 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 09:05:24,966 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 09:05:25,015 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 09:05:25,455 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 09:05:25,456 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 09:05:25,457 Line:243 AIOApi op=getSessEmp&sessionid=31B4B3A7DA7AED40DE420685CEF369EE
 [DEBUG] 2018-01-10 09:05:25,458 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 09:05:25,475 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 09:05:25,475 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 09:05:25,476 Line:243 AIOApi op=getEnum&sessionid=31B4B3A7DA7AED40DE420685CEF369EE
 [DEBUG] 2018-01-10 09:05:25,480 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 09:05:31,799 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 09:05:31,800 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 09:05:31,800 Line:243 AIOApi op=getSessEmp&sessionid=31B4B3A7DA7AED40DE420685CEF369EE
 [DEBUG] 2018-01-10 09:05:31,800 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 09:05:31,825 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 09:05:31,826 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 09:05:31,826 Line:243 AIOApi op=getEnum&sessionid=31B4B3A7DA7AED40DE420685CEF369EE
 [DEBUG] 2018-01-10 09:05:31,828 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 09:09:06,789 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 09:39:24,863 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 10:09:43,295 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 10:21:56,543 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 10:21:56,543 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 10:21:56,544 Line:243 AIOApi op=getSessEmp&sessionid=9C9F315809E7AFF7861F9C353CA8D11F
 [DEBUG] 2018-01-10 10:21:56,547 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 10:21:58,669 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 10:21:58,669 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 10:21:58,669 Line:243 AIOApi op=LOGIN&sessionid=9C9F315809E7AFF7861F9C353CA8D11F
 [DEBUG] 2018-01-10 10:21:58,709 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:21:58,755 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 10:21:58,770 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 10:21:58,816 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 10:21:59,258 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 10:21:59,260 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 10:21:59,261 Line:243 AIOApi op=getSessEmp&sessionid=9C9F315809E7AFF7861F9C353CA8D11F
 [DEBUG] 2018-01-10 10:21:59,263 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 10:21:59,279 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 10:21:59,280 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 10:21:59,280 Line:243 AIOApi op=getEnum&sessionid=9C9F315809E7AFF7861F9C353CA8D11F
 [DEBUG] 2018-01-10 10:21:59,283 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 10:22:21,929 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 10:22:21,930 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 10:22:21,930 Line:243 AIOApi op=myworkflow&sessionid=9C9F315809E7AFF7861F9C353CA8D11F
 [DEBUG] 2018-01-10 10:22:21,965 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 10:22:21,968 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090942474080029","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:42","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 10:40:01,655 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 10:50:32,343 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 10:50:32,344 Line:3004 MobileAjax 操作人:;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 10:50:32,358 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 10:50:32,359 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 10:50:35,355 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 10:50:35,355 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 10:50:35,355 Line:243 AIOApi op=LOGIN&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 10:50:35,392 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:50:35,423 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 10:50:35,437 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 10:50:35,481 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 10:50:35,981 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 10:50:35,982 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 10:50:35,982 Line:243 AIOApi op=getSessEmp&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 10:50:35,983 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 10:50:35,995 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 10:50:35,995 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 10:50:35,995 Line:243 AIOApi op=getEnum&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 10:50:35,996 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 10:55:24,055 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 10:55:24,055 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 10:55:24,056 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 10:55:24,096 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 10:55:24,099 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090942474080029","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:42","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 10:57:05,159 Line:5242 GlobalsTool.js 生成js 时间50:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-10 10:57:05,228 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-10 10:57:05,230 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-10 10:57:05,527 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515553025502
 [DEBUG] 2018-01-10 10:57:05,551 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[valpwd,];time=[1515553025502,];
 [DEBUG] 2018-01-10 10:57:05,561 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-10 10:57:05,562 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[15,];
 [DEBUG] 2018-01-10 10:57:09,238 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515553029236
 [DEBUG] 2018-01-10 10:57:09,239 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515553029236,];
 [DEBUG] 2018-01-10 10:57:09,252 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515553029250
 [DEBUG] 2018-01-10 10:57:09,252 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[sunCompany,];name=[admin,];time=[1515553029250,];
 [DEBUG] 2018-01-10 10:57:09,325 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-10 10:57:09,325 Line:146 BaseAction.execute 操作人:admin;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 10:57:09,380 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 10:57:09,389 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 10:57:09,476 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-10 10:57:09,477 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-10 10:57:09,511 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:57:09,769 Line:5242 GlobalsTool.js 生成js 时间112:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2018-01-10 10:57:10,006 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-10 10:57:10,006 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-10 10:57:10,006 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-10 10:57:10,007 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-10 10:57:10,007 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:57:10,021 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-10 10:57:10,022 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-10 10:57:10,022 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:57:10,034 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-10 10:57:10,034 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-10 10:57:10,035 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:57:10,043 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-10 10:57:10,044 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-10 10:57:10,044 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 10:57:12,837 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-10 10:57:12,837 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-10 10:57:12,838 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOutStock
 [DEBUG] 2018-01-10 10:57:12,887 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNodeName as workFlowNodeName,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 10:57:12,887 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 10:57:12,943 Line:689 通过SQL读原始数据：56
 [DEBUG] 2018-01-10 10:57:12,944 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 10:57:13,117 Line:5242 GlobalsTool.js 生成js 时间40:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2018-01-10 10:57:13,195 Line:5242 GlobalsTool.js 生成js 时间76:/js/gen/defineList.vjstblSalesOutStock_zh_CN.js
 [DEBUG] 2018-01-10 10:57:16,292 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2018-01-10 10:57:16,294 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOutStock,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售出库,];moduleName=[销售出库,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNodeName as workFlowNodeName,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount@AddSign:tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo@AddSign:',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')@AddSign:tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@end:,];right=[@SQL:select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNodeName as workFlowNodeName,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount@AddSign:tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo@AddSign:',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')@AddSign:tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id@ParamList:2018-01-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[2018-01-01,];BillDate2=[,];workFlowNodeName=[all,];BillNo=[,];ComFullNamen=[,];ComName=[,];DeptFullName=[,];EmpFullName=[,];SalesOrderNo=[,];PayAccCode=[,];EmpFullName2=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2018-01-10 10:57:16,310 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNodeName as workFlowNodeName,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 10:57:16,310 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 10:57:16,311 Line:689 通过SQL读原始数据：1
 [DEBUG] 2018-01-10 10:57:16,312 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 10:57:20,541 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOutStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-10 10:57:20,542 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-10 10:57:20,663 Line:5242 GlobalsTool.js 生成js 时间15:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2018-01-10 10:57:20,904 Line:5242 GlobalsTool.js 生成js 时间240:/js/gen/define.vjstblSalesOutStock_zh_CN.js
 [DEBUG] 2018-01-10 10:57:22,890 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-10&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-10 10:57:22,891 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-10,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-10 10:57:23,014 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-10&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-10 10:57:23,014 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=83e8760a_0811132149504680232&editable=&subSql=
 [DEBUG] 2018-01-10 10:57:23,015 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-10,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 10:57:23,015 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[83e8760a_0811132149504680232,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 10:57:23,016 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-10 10:57:23,047 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDate; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-10'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 10:57:23,153 Line:5242 GlobalsTool.js 生成js 时间30:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2018-01-10 10:57:23,185 Line:5242 GlobalsTool.js 生成js 时间31:/js/gen/popupPage.vjs_zh_CN.js
 [DEBUG] 2018-01-10 10:57:29,146 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-10 10:57:29,146 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-10 10:57:29,169 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=83e8760a_0811132149504680232&editable=&subSql=
 [DEBUG] 2018-01-10 10:57:29,169 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132149504680232,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 10:57:29,169 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-10 10:57:29,169 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-10 10:57:29,169 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 10:57:29,172 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 10:57:35,736 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStockDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOutStockDet_StockCode=&tblSalesOutStockDet_BatchNo=&tblSalesOutStockDet_Inch=&tblSalesOutStockDet_Hue=&tblSalesOutStockDet_yearNO=&tblSalesOutStockDet_ProDate=&tblSalesOutStockDet_Availably=&CompanyCode=00002&isMain=false&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-10 10:57:35,737 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStockDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOutStockDet_StockCode=[,];tblSalesOutStockDet_BatchNo=[,];tblSalesOutStockDet_Inch=[,];tblSalesOutStockDet_Hue=[,];tblSalesOutStockDet_yearNO=[,];tblSalesOutStockDet_ProDate=[,];tblSalesOutStockDet_Availably=[,];CompanyCode=[00002,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-10 10:57:35,765 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=83e8760a_0811132149504680232&editable=&subSql=
 [DEBUG] 2018-01-10 10:57:35,766 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132149504680232,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 10:57:35,767 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-10 10:57:35,767 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStockDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOutStockDet_StockCode=&tblSalesOutStockDet_BatchNo=&tblSalesOutStockDet_Inch=&tblSalesOutStockDet_Hue=&tblSalesOutStockDet_yearNO=&tblSalesOutStockDet_ProDate=&tblSalesOutStockDet_Availably=&CompanyCode=00002&isMain=false&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-10 10:57:35,768 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStockDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOutStockDet_StockCode=[,];tblSalesOutStockDet_BatchNo=[,];tblSalesOutStockDet_Inch=[,];tblSalesOutStockDet_Hue=[,];tblSalesOutStockDet_yearNO=[,];tblSalesOutStockDet_ProDate=[,];tblSalesOutStockDet_Availably=[,];CompanyCode=[00002,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 10:57:35,781 Line:3434 DynDBManager.popSelect selectName=GoodsSales; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00002')
  left join tblCompany  on tblCompany.classCode='00002' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 10:57:51,730 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-10 10:57:51,730 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-10 10:57:51,730 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-10 10:57:52,528 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-10 10:57:52,529 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-10 10:57:53,490 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-10 10:57:53,490 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-10 10:57:53,490 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-10 10:58:01,631 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-10 10:58:01,632 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[销售出库,];
 [DEBUG] 2018-01-10 10:58:06,061 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&search=%E9%94%80%E5%94%AE%E5%87%BA%E5%BA%93&popWinName=TablemgtDiv
 [DEBUG] 2018-01-10 10:58:06,061 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];search=[é???????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-10 10:58:06,582 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-10 10:58:06,582 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-10 10:58:06,582 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-10 10:58:06,582 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-10 10:58:07,313 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 10:58:07,313 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 10:58:14,590 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=startFlow&tableName=tblSalesOutStock&MainModule=1
 [DEBUG] 2018-01-10 10:58:14,590 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[startFlow,];tableName=[tblSalesOutStock,];MainModule=[1,];
 [DEBUG] 2018-01-10 10:58:14,806 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=eae3edac_0906121936578750103&selectType=status&val=1&moduleType=sys&fromPage=table&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-10 10:58:14,807 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[eae3edac_0906121936578750103,];selectType=[status,];val=[1,];moduleType=[sys,];fromPage=[table,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-10 10:58:42,276 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-10 10:58:42,276 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistTable=[true,];tableName=[tblSalesOutStock,];moduleType=[sys,];
 [DEBUG] 2018-01-10 10:58:42,280 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=BillNotFinish&keyId=eae3edac_0906121936578750103&time=1515553122278
 [DEBUG] 2018-01-10 10:58:42,280 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[BillNotFinish,];keyId=[eae3edac_0906121936578750103,];time=[1515553122278,];
 [DEBUG] 2018-01-10 10:58:42,315 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?queryType=design&keyId=eae3edac_0906121936578750103&ip=localhost:8888&workFileName=eae3edac_0906121936578750103.xml&tableName=tblSalesOutStock&newCreate=true&moduleType=sys
 [DEBUG] 2018-01-10 10:58:42,315 Line:146 BaseAction.execute 操作人:admin;请求数据：queryType=[design,];keyId=[eae3edac_0906121936578750103,];ip=[localhost:8888,];workFileName=[eae3edac_0906121936578750103.xml,];tableName=[tblSalesOutStock,];newCreate=[true,];moduleType=[sys,];
 [DEBUG] 2018-01-10 10:58:43,127 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=getResourceFileFlow
 [DEBUG] 2018-01-10 10:58:43,128 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[getResourceFileFlow,];
 [DEBUG] 2018-01-10 10:59:31,495 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&type=saveFlow&flowId=eae3edac_0906121936578750103&moduleType=sys
 [DEBUG] 2018-01-10 10:59:31,495 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];type=[saveFlow,];flowId=[eae3edac_0906121936578750103,];moduleType=[sys,];json=[[{"keyId":"0","zAction":"START","display":"开始","to":"1515553127150"},{"keyId":"1515553127150","zAction":"CHECK","to":"-1","display":"部门主管","approvePeople":"select","autoSelectPeople":"2"},{"keyId":"-1","zAction":"STOP","display":"结束"}],];flowxml=[<FlowNodes>
  <FlowNodes>
    <flowNode id="0" zAction="START" display="开始" left="30" top="50" code="1515553123051" to="1515553127150"/>
    <flowNode zAction="CHECK" display="部门主管" allowBack="false" allowStop="false" allowJump="false" useAllApprove="false" timeLimit="" noteTime="" noteRate="" approvePeople="select" left="197.3" top="54.6" code="1515553127150" id="1515553127150" to="-1"/>
    <flowNode id="-1" zAction="STOP" display="结束" left="420.65" top="46.6" code="1515553130268"/>
  </FlowNodes>
  <Lines>
    <Line labelx="0" labely="0" from="0" to="1515553127150" fromCode="1515553123051" toCode="1515553127150" x1="0" y1="0" length1="0" isvertical1="false" arrowType1="none" x2="0" y2="0" length2="0" isvertical2="false" arrowType2="none" x3="67" y3="60" length3="130" isvertical3="false" arrowType3="right"/>
    <Line labelx="0" labely="0" from="1515553127150" to="-1" fromCode="1515553127150" toCode="1515553130268" x1="0" y1="0" length1="0" isvertical1="false" arrowType1="none" x2="0" y2="0" length2="0" isvertical2="false" arrowType2="none" x3="327" y3="57" length3="93" isvertical3="false" arrowType3="right"/>
  </Lines>
</FlowNodes>,];
 [DEBUG] 2018-01-10 10:59:33,012 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-10 10:59:33,012 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];isExistFile=[true,];fileName=[eae3edac_0906121936578750103,];moduleType=[sys,];
 [DEBUG] 2018-01-10 10:59:49,654 Line:135 BaseAction.execute 请求地址：/Accredit.do?popname=deptGroup&inputType=checkbox
 [DEBUG] 2018-01-10 10:59:49,655 Line:146 BaseAction.execute 操作人:admin;请求数据：popname=[deptGroup,];inputType=[checkbox,];
 [DEBUG] 2018-01-10 10:59:49,781 Line:135 BaseAction.execute 请求地址：/AccreditAction.do?operation=accreditInfo&popname=deptGroup&value=&inputType=checkbox&condition=&chooseParent=true&keyType=group&parameterCode=&value=00101
 [DEBUG] 2018-01-10 10:59:49,782 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[accreditInfo,];popname=[deptGroup,];value=[,00101,];inputType=[checkbox,];condition=[,];chooseParent=[true,];keyType=[group,];parameterCode=[,];
 [DEBUG] 2018-01-10 10:59:53,080 Line:135 BaseAction.execute 请求地址：/Accredit.do?popname=userGroup&inputType=checkbox
 [DEBUG] 2018-01-10 10:59:53,080 Line:146 BaseAction.execute 操作人:admin;请求数据：popname=[userGroup,];inputType=[checkbox,];
 [DEBUG] 2018-01-10 10:59:53,162 Line:135 BaseAction.execute 请求地址：/AccreditAction.do?operation=accreditInfo&popname=userGroup&value=&inputType=checkbox&condition=&chooseParent=true&value=&keyType=&parameterCode=&userCode=
 [DEBUG] 2018-01-10 10:59:53,162 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[accreditInfo,];popname=[userGroup,];value=[,,];inputType=[checkbox,];condition=[,];chooseParent=[true,];keyType=[,];parameterCode=[,];userCode=[,];
 [DEBUG] 2018-01-10 10:59:58,008 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do
 [DEBUG] 2018-01-10 10:59:58,008 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];templateType=[1,];selectType=[status,];val=[1,];popedomUserIds=[1,,];popedomDeptIds=[,];EmpGroupId=[,];monitorDeptIds=[,];monitorUserIds=[,];empTitleIds=[,];tableName=[tblSalesOutStock,];tableCHName=[销售出库单,];moduleType=[sys,];flag=[true,];designType=[,];templateFile=[tblSalesOutStock,];workFlowFile=[eae3edac_0906121936578750103,];id=[eae3edac_0906121936578750103,];fromPage=[table,];templateName=[销售出库单,];templateClass=[00001,];templateStatus=[1,];flowOrder=[0,];defStatus=[all,];titleTemp=[,];filetitleTemp=[,];fileContent=[,];fileContentDisplay=[,];setWakeDept=[,];setWakePer=[,];stopSetWakeDept=[,];stopSetWakePer=[,];wakeLimitSQL=[,];retCheckPerRule=[0,];detail=[,];
 [ERROR] 2018-01-10 10:59:58,043 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,044 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,045 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,045 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,046 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,047 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,048 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,049 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,049 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,050 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,067 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,074 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,082 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,104 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,105 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,106 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,107 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,118 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,118 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,119 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,120 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,121 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,122 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,130 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,144 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,146 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,147 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,149 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,149 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,150 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,162 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,163 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,164 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,183 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,194 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,221 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,222 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,223 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 10:59:58,235 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-10 10:59:59,726 Line:135 BaseAction.execute 请求地址：/OAWorkFlowTempAction.do?operation=7&keyId=eae3edac_0906121936578750103&winCurIndex=&val=1&selectType=status&val=1&moduleType=sys&fromPage=table
 [DEBUG] 2018-01-10 10:59:59,727 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[eae3edac_0906121936578750103,];winCurIndex=[,];val=[1,1,];selectType=[status,];moduleType=[sys,];fromPage=[table,];
 [DEBUG] 2018-01-10 11:00:10,542 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&src=menu&winCurIndex=4
 [DEBUG] 2018-01-10 11:00:10,542 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-10 11:00:10,542 Line:215 ---------->SET Page 4 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOutStock
 [DEBUG] 2018-01-10 11:00:10,593 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 11:00:10,594 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 11:00:10,664 Line:689 通过SQL读原始数据：70
 [DEBUG] 2018-01-10 11:00:10,665 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 11:00:12,242 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOutStock&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=4&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-10 11:00:12,243 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[4,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-10 11:00:14,635 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-10&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-10 11:00:14,636 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-10,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-10 11:00:14,675 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=83e8760a_0811132149504680232&editable=&subSql=
 [DEBUG] 2018-01-10 11:00:14,676 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=CompanyCode&operation=22&BillDate=2018-01-10&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-10 11:00:14,676 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[83e8760a_0811132149504680232,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 11:00:14,676 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[CompanyCode,];operation=[22,];BillDate=[2018-01-10,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 11:00:14,677 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComNumber
 [DEBUG] 2018-01-10 11:00:14,681 Line:3434 DynDBManager.popSelect selectName=ClientInVoiceWithAcceptDate; sql=select * from (select tblCompany.classCode f1 ,case when tblCompany.Discount>0 then tblCompany.Discount else 100 end f2 ,case when len(tblCompany.DepartmentCode)>0 then tblCompany.DepartmentCode else '00101' end f3 ,case when len(tblCompany.DepartmentCode)>0 then tblDepartment.DeptFullName else '默认部门' end f4 ,case when len(tblCompany.EmployeeID)>0 then tblCompany.EmployeeID else '1' end f5 ,case when len(tblCompany.EmployeeID)>0 then tblEmployee.EmpFullName else 'admin' end f6 ,CONVERT(varchar(10),dateadd(Day,case tblCompany.SettleCys when 0 then null else tblCompany.SettleCys end,'2018-01-10'),121) f7 ,case tblCompany.InVoiceType when 1 then '0' when 2 then '0' else '0' end f8 ,tblCompany.ComFullName f9 ,tblCompany.ComNumber f10 ,tblCompany.ComFullNamePYM f11 ,tblCompany.PreReceiveTotalRemain f12 ,tblCompany.ReceiveTotalRemain f13 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber,tblCompany.ComFullName) as row_id from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)   and (tblCompany.statusId!='-1')) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 11:00:27,299 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-10 11:00:27,300 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-10 11:00:27,328 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblStock&moduleType=&SysType=&MOID=83e8760a_0811132149504680232&editable=&subSql=
 [DEBUG] 2018-01-10 11:00:27,328 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStock&fieldName=StockCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-10 11:00:27,328 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblStock,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132149504680232,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 11:00:27,328 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStock,];fieldName=[StockCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 11:00:27,329 Line:229 TreeMgt.getTree sql= select classCode,StockFullName,StockNumber,id from tblStock where statusId =0   and isCatalog=1 order by StockNumber
 [DEBUG] 2018-01-10 11:00:27,330 Line:3434 DynDBManager.popSelect selectName=Stock; sql=select * from (select tblStock.classCode f1 ,tblStock.StockNumber f2 ,tblStock.StockFullName f3 ,tblStock.StockFullNamePYM f4 
,tblStock.isCatalog as childCount,ROW_NUMBER() over( order by tblStock.StockNumber,tblStock.StockFullName) as row_id from tblStock where 1=1 and tblStock.statusid!='-1' and tblStock.workFlowNodeName='finish' and tblStock.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 11:00:30,313 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStockDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOutStockDet_StockCode=&tblSalesOutStockDet_BatchNo=&tblSalesOutStockDet_Inch=&tblSalesOutStockDet_Hue=&tblSalesOutStockDet_yearNO=&tblSalesOutStockDet_ProDate=&tblSalesOutStockDet_Availably=&CompanyCode=00002&isMain=false&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2018-01-10 11:00:30,314 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStockDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOutStockDet_StockCode=[,];tblSalesOutStockDet_BatchNo=[,];tblSalesOutStockDet_Inch=[,];tblSalesOutStockDet_Hue=[,];tblSalesOutStockDet_yearNO=[,];tblSalesOutStockDet_ProDate=[,];tblSalesOutStockDet_Availably=[,];CompanyCode=[00002,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2018-01-10 11:00:30,359 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblGoods&moduleType=&SysType=&MOID=83e8760a_0811132149504680232&editable=&subSql=
 [DEBUG] 2018-01-10 11:00:30,360 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSalesOutStockDet&fieldName=GoodsCode&operation=22&StockCode=00001&tblSalesOutStockDet_StockCode=&tblSalesOutStockDet_BatchNo=&tblSalesOutStockDet_Inch=&tblSalesOutStockDet_Hue=&tblSalesOutStockDet_yearNO=&tblSalesOutStockDet_ProDate=&tblSalesOutStockDet_Availably=&CompanyCode=00002&isMain=false&src=menu&MOID=83e8760a_0811132149504680232&MOOP=add&url=@URL:&popupWin=ChildPopup&checkTab=Y
 [DEBUG] 2018-01-10 11:00:30,360 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblGoods,];moduleType=[,];SysType=[,];MOID=[83e8760a_0811132149504680232,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 11:00:30,360 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSalesOutStockDet,];fieldName=[GoodsCode,];operation=[22,];StockCode=[00001,];tblSalesOutStockDet_StockCode=[,];tblSalesOutStockDet_BatchNo=[,];tblSalesOutStockDet_Inch=[,];tblSalesOutStockDet_Hue=[,];tblSalesOutStockDet_yearNO=[,];tblSalesOutStockDet_ProDate=[,];tblSalesOutStockDet_Availably=[,];CompanyCode=[00002,];isMain=[false,];src=[menu,];MOID=[83e8760a_0811132149504680232,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 11:00:30,361 Line:229 TreeMgt.getTree sql= select classCode,GoodsFullName,GoodsNumber,id from tblGoods where statusId =0   and isCatalog=1 order by GoodsNumber
 [DEBUG] 2018-01-10 11:00:30,372 Line:3434 DynDBManager.popSelect selectName=GoodsSales; sql=select * from (select (case when (isnull(tblCustomerPriceDet.Price,0) = 0 or 'PriceNo'='PriceNo') then (case tblCompany.ComSalesType when 'FacePrice' then tblGoods.FacePrice when 'ProSalesPrice' then tblGoods.ProSalesPrice when 'ProSalesPrice2' then tblGoods.ProSalesPrice2 when 'ProSalesPrice3' then tblGoods.ProSalesPrice3 when 'ProSalesPrice4' then tblGoods.ProSalesPrice4 when 'ProjectPrice' then tblGoods.ProjectPrice  when 'ProSalesPrice5' then tblGoods.ProSalesPrice5 when 'ProSalesPrice6' then tblGoods.ProSalesPrice6 when 'ProSalesPrice7' then tblGoods.ProSalesPrice7 when 'ProSalesPrice8' then tblGoods.ProSalesPrice8 when 'ProSalesPrice9' then tblGoods.ProSalesPrice9 end) else tblCustomerPriceDet.Price end) f1 ,(case when 'false'='true' then isnull(tblCustomerPriceDet.OutDiscount,100) else 100 end) f2 ,tblGoods.classCode f3 ,tblGoodsUnit.UnitD f4 ,tblGoodsUnit.SecUnitD f5 ,tblGoods.GoodsNumber f6 ,tblGoods.GoodsFullName f7 ,tblGoods.GoodsSpec f8 ,tblGoods.BaseUnit f9 ,tblGoods.GoodsFullNamePYM f10 ,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) f11 ,(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) f12 
,tblGoods.isCatalog as childCount,ROW_NUMBER() over( order by tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblStocks.ProDate,tblStocks.Availably) as row_id from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001'        and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00002')
  left join tblCompany  on tblCompany.classCode='00002' where 1=1 and tblGoods.isCatalog=0  and ((case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end) >0 and (case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) >0)   and tblGoods.workFlowNodeName='finish' and tblGoods.statusid!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 11:00:34,617 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-10 11:00:34,618 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOutStock,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[4,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[true,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];designId=[eae3edac_0906121936578750103,];OAWorkFlow=[true,];BillNo=[SS1801100002,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];BillDate=[2018-01-10,];CompanyCode=[00002,];tblCompany_ComFullName=[顺誉,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];AcceptDate=[,];AlrAccAmt=[0,];AccAmt=[0,];FactIncome=[0,];InVoiceType=[3,];DiscountAmount=[0,];Currency=[,];CurAlrAccAmt=[0,];CurProceDureExp=[0,];CurDiscountAmount=[0,];deputyRece=[,];FreightCom=[,];deputyReceAmt=[0,];CurDeputyReceAmt=[,];ProjectCode=[,];PresentTotalAmt=[0,];SaleOutStockID=[,];SalesOrderID=[,];SalesOrderNo=[,];TrackNo=[,];TotalAlrAccAmt=[0,];ConfirmDate=[2018-01-10 11:00:12,];ConfirmID=[,];BackAmount=[0,];ChangeAmt=[0,];CheckPersont=[,];BuyInID=[,];CurNeedReturnAmt=[0,];CurPreAccAmt=[0,];CurTotalAlrAccAmt=[0,];CurBackAmount=[0,];NeedReturnAmt=[0,];NoInvoiceAmount=[0,];Period=[,];PeriodMonth=[,];PeriodYear=[,];InvoiceAmount=[0,];InvoiceStatus=[0,];EmpAccAmt=[,];Discount=[100,];DisAmount=[0,];Tax=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];hashDeputyReceAmt=[0,];CurhashDeputyReceAmt=[,];AfterChangeAmt=[,];CurAfterChangeAmt=[,];CurChangeAmt=[,];printCount=[0,];SCompanyID=[,];statusId=[0,];createBy=[,];createTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];finishTime=[,];tblSalesOutStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesRecAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOutStockDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOutStockDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOutStockDet_tblGoods_GoodsSpec=[,];tblSalesOutStockDet_tblGoods_BaseUnit=[,];tblSalesOutStockDet_tblStocks_lastQty=[40,];tblSalesOutStockDet_ViewVirtualStock_UseQty=[40,];tblSalesOutStockDet_Qty=[1,];tblSalesOutStockDet_Price=[1,];tblSalesOutStockDet_Amount=[1,];tblSalesOutStockDet_Remark=[,];tblSalesOutStockDet_Seq=[,];tblSalesOutStockDet_StockCode=[,];tblSalesOutStockDet_SalesOrderID=[,];tblSalesOutStockDet_GoodsCode=[0000300001,];tblSalesOutStockDet_BatchNo=[,];tblSalesOutStockDet_Inch=[,];tblSalesOutStockDet_Hue=[,];tblSalesOutStockDet_yearNO=[,];tblSalesOutStockDet_ProDate=[,];tblSalesOutStockDet_Availably=[,];tblSalesOutStockDet_Discount=[100,];tblSalesOutStockDet_DisPrice=[1,];tblSalesOutStockDet_DisBackAmt=[1,];tblSalesOutStockDet_DisAmount=[0,];tblSalesOutStockDet_TaxPrice=[1,];tblSalesOutStockDet_TaxAmount=[1,];tblSalesOutStockDet_CoTaxAmt=[0,];tblSalesOutStockDet_CurPrice=[1,];tblSalesOutStockDet_CurAmount=[1,];tblSalesOutStockDet_BuyQty=[,];tblSalesOutStockDet_NotBuyQty=[,];tblSalesOutStockDet_CheckBarCode=[,];tblSalesOutStockDet_PresentAmt=[0,];tblSalesOutStockDet_PresentPrice=[0,];tblSalesOutStockDet_ViewTotalQty=[,];tblSalesOutStockDet_lastQty=[,];tblSalesOutStockDet_CostAmount=[0,];tblSalesOutStockDet_CostPrice=[,];tblSalesOutStockDet_SourceID=[,];tblSalesOutStockDet_NoInvoiceQty=[0,];tblSalesOutStockDet_PresentSampleType=[,];tblSalesOutStockDet_BackPayQty=[,];tblSalesOutStockDet_BaseQty=[0,];tblSalesOutStockDet_PayQty=[,];tblSalesOutStockDet_NotPayQty=[,];tblSalesOutStockDet_SecQty=[0,];tblSalesOutStockDet_AfterChangeAmt=[,];tblSalesOutStockDet_detsId=[,];tblSalesRecAccount_SettleType=[1,];tblSalesRecAccount_tblAccTypeInfo_AccName=[,];tblSalesRecAccount_Amount=[0,];tblSalesRecAccount_Remark=[,];tblSalesRecAccount_Account=[,];tblSalesRecAccount_ExeBalFcAmt=[,];tblSalesRecAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-10 11:00:34,619 Line:3843 添加单据desingId=eae3edac_0906121936578750103工作流designId=eae3edac_0906121936578750103
 [DEBUG] 2018-01-10 11:00:34,673 Line:5847  INSERT INTO  tblSalesOutStock(BillNo,checkPersons,id,workFlowNode,workFlowNodeName,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,createBy,createTime,lastUpdateBy,lastUpdateTime,finishTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-10 11:00:34,674 Line:5853 1:SS1801100002
 [DEBUG] 2018-01-10 11:00:34,674 Line:5853 2:;1;
 [DEBUG] 2018-01-10 11:00:34,674 Line:5853 3:f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:34,674 Line:5853 4:0
 [DEBUG] 2018-01-10 11:00:34,674 Line:5853 5:notApprove
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 6:2018-01-10
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 7:00002
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 8:00101
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 9:1
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 10:00001
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 11:
 [DEBUG] 2018-01-10 11:00:34,675 Line:5853 12:0.0
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 13:0.0
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 14:0.0
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 15:3
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 16:0.0
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 17:
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 18:0.0
 [DEBUG] 2018-01-10 11:00:34,676 Line:5853 19:0.0
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 20:0.0
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 21:
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 22:
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 23:0.0
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 24:0.0
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 25:
 [DEBUG] 2018-01-10 11:00:34,677 Line:5853 26:0.0
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 27:
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 28:
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 29:
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 30:
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 31:
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 32:0.0
 [DEBUG] 2018-01-10 11:00:34,678 Line:5853 33:2018-01-10 11:00:12
 [DEBUG] 2018-01-10 11:00:34,679 Line:5853 34:
 [DEBUG] 2018-01-10 11:00:34,679 Line:5853 35:0.0
 [DEBUG] 2018-01-10 11:00:34,679 Line:5853 36:0.0
 [DEBUG] 2018-01-10 11:00:34,679 Line:5853 37:
 [DEBUG] 2018-01-10 11:00:34,679 Line:5853 38:
 [DEBUG] 2018-01-10 11:00:34,679 Line:5853 39:0.0
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 40:0.0
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 41:0.0
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 42:0.0
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 43:0.0
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 44:0.0
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 45:1
 [DEBUG] 2018-01-10 11:00:34,680 Line:5853 46:1
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 47:2018
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 48:0.0
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 49:0
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 50:0.0
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 51:100.0
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 52:0.0
 [DEBUG] 2018-01-10 11:00:34,681 Line:5853 53:0.0
 [DEBUG] 2018-01-10 11:00:34,682 Line:5853 54:1.0
 [DEBUG] 2018-01-10 11:00:34,682 Line:5853 55:1.0
 [DEBUG] 2018-01-10 11:00:34,682 Line:5853 56:1.0
 [DEBUG] 2018-01-10 11:00:34,682 Line:5853 57:0.0
 [DEBUG] 2018-01-10 11:00:34,682 Line:5853 58:1.0
 [DEBUG] 2018-01-10 11:00:34,682 Line:5853 59:
 [DEBUG] 2018-01-10 11:00:34,683 Line:5853 60:
 [DEBUG] 2018-01-10 11:00:34,683 Line:5853 61:0.0
 [DEBUG] 2018-01-10 11:00:34,683 Line:5853 62:0.0
 [DEBUG] 2018-01-10 11:00:34,683 Line:5853 63:0.0
 [DEBUG] 2018-01-10 11:00:34,683 Line:5853 64:0.0
 [DEBUG] 2018-01-10 11:00:34,684 Line:5853 65:0.0
 [DEBUG] 2018-01-10 11:00:34,684 Line:5853 66:0
 [DEBUG] 2018-01-10 11:00:34,684 Line:5853 67:00001
 [DEBUG] 2018-01-10 11:00:34,685 Line:5853 68:0
 [DEBUG] 2018-01-10 11:00:34,685 Line:5853 69:1
 [DEBUG] 2018-01-10 11:00:34,685 Line:5853 70:2018-01-10 11:00:34
 [DEBUG] 2018-01-10 11:00:34,685 Line:5853 71:1
 [DEBUG] 2018-01-10 11:00:34,685 Line:5853 72:2018-01-10 11:00:34
 [DEBUG] 2018-01-10 11:00:34,686 Line:5853 73:
 [DEBUG] 2018-01-10 11:00:34,705 Line:5847  INSERT INTO  tblSalesOutStockDet(f_ref,id,Seq,StockCode,SalesOrderID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,BuyQty,NotBuyQty,CheckBarCode,PreferAmount,PreferBackAmount,PresentAmt,PresentPrice,ViewTotalQty,AccountingPrice,lastQty,CurPreReceiveAmt,CurReceiveAmt,CostAmount,CostPrice,CurTotalReceiveAmt,BackQty,FactOutQty,InvoiceQty,InvoiceStatus,InvoiceAmount,SourceID,ReceiveAmt,PreReceiveAmt,NoInvoiceAmount,NoInvoiceQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,InvoiceAmountH,BackPayQty,BaseQty,PayQty,NotPayQty,SecQty,AfterChangeAmt,Remark,CurAfterChangeAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-10 11:00:34,705 Line:5853 1:f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:34,705 Line:5853 2:f7ed271b_1801101100347050010
 [DEBUG] 2018-01-10 11:00:34,705 Line:5853 3:
 [DEBUG] 2018-01-10 11:00:34,706 Line:5853 4:
 [DEBUG] 2018-01-10 11:00:34,706 Line:5853 5:
 [DEBUG] 2018-01-10 11:00:34,706 Line:5853 6:0000300001
 [DEBUG] 2018-01-10 11:00:34,710 Line:5853 7:
 [DEBUG] 2018-01-10 11:00:34,710 Line:5853 8:
 [DEBUG] 2018-01-10 11:00:34,710 Line:5853 9:
 [DEBUG] 2018-01-10 11:00:34,710 Line:5853 10:
 [DEBUG] 2018-01-10 11:00:34,710 Line:5853 11:
 [DEBUG] 2018-01-10 11:00:34,710 Line:5853 12:
 [DEBUG] 2018-01-10 11:00:34,711 Line:5853 13:1.0
 [DEBUG] 2018-01-10 11:00:34,711 Line:5853 14:1.0
 [DEBUG] 2018-01-10 11:00:34,711 Line:5853 15:1.0
 [DEBUG] 2018-01-10 11:00:34,711 Line:5853 16:0
 [DEBUG] 2018-01-10 11:00:34,711 Line:5853 17:0.0
 [DEBUG] 2018-01-10 11:00:34,711 Line:5853 18:0.0
 [DEBUG] 2018-01-10 11:00:34,712 Line:5853 19:0.0
 [DEBUG] 2018-01-10 11:00:34,712 Line:5853 20:100.0
 [DEBUG] 2018-01-10 11:00:34,712 Line:5853 21:1.0
 [DEBUG] 2018-01-10 11:00:34,712 Line:5853 22:1.0
 [DEBUG] 2018-01-10 11:00:34,712 Line:5853 23:0.0
 [DEBUG] 2018-01-10 11:00:34,713 Line:5853 24:1.0
 [DEBUG] 2018-01-10 11:00:34,713 Line:5853 25:1.0
 [DEBUG] 2018-01-10 11:00:34,713 Line:5853 26:0.0
 [DEBUG] 2018-01-10 11:00:34,713 Line:5853 27:1.0
 [DEBUG] 2018-01-10 11:00:34,713 Line:5853 28:1.0
 [DEBUG] 2018-01-10 11:00:34,714 Line:5853 29:0.0
 [DEBUG] 2018-01-10 11:00:34,714 Line:5853 30:0.0
 [DEBUG] 2018-01-10 11:00:34,714 Line:5853 31:
 [DEBUG] 2018-01-10 11:00:34,714 Line:5853 32:0.0
 [DEBUG] 2018-01-10 11:00:34,714 Line:5853 33:0.0
 [DEBUG] 2018-01-10 11:00:34,714 Line:5853 34:0.0
 [DEBUG] 2018-01-10 11:00:34,715 Line:5853 35:0.0
 [DEBUG] 2018-01-10 11:00:34,715 Line:5853 36:0.0
 [DEBUG] 2018-01-10 11:00:34,715 Line:5853 37:0.0
 [DEBUG] 2018-01-10 11:00:34,715 Line:5853 38:0.0
 [DEBUG] 2018-01-10 11:00:34,715 Line:5853 39:0.0
 [DEBUG] 2018-01-10 11:00:34,715 Line:5853 40:0.0
 [DEBUG] 2018-01-10 11:00:34,716 Line:5853 41:0.0
 [DEBUG] 2018-01-10 11:00:34,716 Line:5853 42:0.0
 [DEBUG] 2018-01-10 11:00:34,716 Line:5853 43:0.0
 [DEBUG] 2018-01-10 11:00:34,716 Line:5853 44:0.0
 [DEBUG] 2018-01-10 11:00:34,716 Line:5853 45:0.0
 [DEBUG] 2018-01-10 11:00:34,716 Line:5853 46:0.0
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 47:False
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 48:0.0
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 49:
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 50:0.0
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 51:0.0
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 52:0.0
 [DEBUG] 2018-01-10 11:00:34,717 Line:5853 53:0.0
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 54:
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 55:0.0
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 56:0.0
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 57:0.0
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 58:0.0
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 59:0.0
 [DEBUG] 2018-01-10 11:00:34,718 Line:5853 60:0.0
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 61:0
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 62:0.0
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 63:0.0
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 64:0
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 65:0.0
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 66:
 [DEBUG] 2018-01-10 11:00:34,719 Line:5853 67:0.0
 [DEBUG] 2018-01-10 11:00:34,720 Line:5853 68:00001
 [DEBUG] 2018-01-10 11:00:34,939 Line:921 自定义执行的语句显示： SalesOutStock_Add :select count(0) NoQuote from tblSalesOutStockDet a left join tblSalesOrderDet b on isnull(a.SalesOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-10 11:00:34,939 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:34,940 Line:988 1值：false
 [DEBUG] 2018-01-10 11:00:34,940 Line:988 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:34,954 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-10 11:00:34,954 Line:1043 ---上述语句时间---15
 [DEBUG] 2018-01-10 11:00:34,955 Line:313 exeCondition:SalesOutStock_Add :0>0
 [DEBUG] 2018-01-10 11:00:35,191 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,191 Line:313 exeCondition:SalesOutStock_Add :0 < 0
 [DEBUG] 2018-01-10 11:00:35,192 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,193 Line:313 exeCondition:SalesOutStock_Add :1 < 0
 [DEBUG] 2018-01-10 11:00:35,193 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,194 Line:313 exeCondition:SalesOutStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-10 11:00:35,196 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,196 Line:313 exeCondition:SalesOutStock_Add :0 < 0
 [DEBUG] 2018-01-10 11:00:35,197 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,197 Line:313 exeCondition:SalesOutStock_Add :''.length>0&&(''.length==0||0==0)
 [DEBUG] 2018-01-10 11:00:35,198 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,199 Line:313 exeCondition:SalesOutStock_Add :0!=0&&(''.length==0||''.length==0)
 [DEBUG] 2018-01-10 11:00:35,200 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,200 Line:921 自定义执行的语句显示： SalesOutStock_Add :select c.GoodsFullName as CheckGoods from tblSalesOutStockDet b join tblSalesOutStock a on a.id=b.f_ref join tblGoods c on c.classCode=b.GoodsCode where ?='true' and a.id=? and c.BarCode!=b.CheckBarCode 
 [DEBUG] 2018-01-10 11:00:35,200 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,200 Line:988 1值：false
 [DEBUG] 2018-01-10 11:00:35,201 Line:988 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,205 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-10 11:00:35,205 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,206 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,206 Line:921 自定义执行的语句显示： SalesOutStock_Add :select GoodsFullName as GoodsSeq from tblSalesOutStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-10 11:00:35,206 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,206 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,216 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-10 11:00:35,217 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,218 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,218 Line:921 自定义执行的语句显示： SalesOutStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblSalesOutStockDet,tblGoods where isnull(tblSalesOutStockDet.Qty,0)<=0 and tblGoods.classCode=tblSalesOutStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-10 11:00:35,218 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,218 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,221 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:00:35,222 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,223 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,224 Line:313 exeCondition:SalesOutStock_Add :''.length>0
 [DEBUG] 2018-01-10 11:00:35,225 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,225 Line:313 exeCondition:SalesOutStock_Add :true
 [DEBUG] 2018-01-10 11:00:35,225 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,226 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblSalesOrder a,tblSalesOutStockDet b where b.f_ref=? and b.SalesOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-10 11:00:35,227 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,227 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,227 Line:988 2值：2018-01-10
 [DEBUG] 2018-01-10 11:00:35,237 Line:1043 ---上述语句时间---11
 [DEBUG] 2018-01-10 11:00:35,237 Line:313 exeCondition:tblSalesOutStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:00:35,238 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,238 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblSalesOrder a,tblSalesOutStockDet b,tblCompany c where b.f_ref=? and b.SalesOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-10 11:00:35,238 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,239 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,239 Line:988 2值：00002
 [DEBUG] 2018-01-10 11:00:35,243 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-10 11:00:35,243 Line:313 exeCondition:tblSalesOutStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:00:35,245 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,245 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_QuoteOrder_Validate :select tblSalesOrder.BillNo as BuyOrderID from tblSalesOutStock left join tblSalesOutStockDet on tblSalesOutStock.id=tblSalesOutStockDet.f_ref left join tblSalesOrderDet on tblSalesOrderDet.id=tblSalesOutStockDet.SourceID inner join tblSalesOrder on tblSalesOrder.id=tblSalesOrderDet.f_ref where tblSalesOutStockDet.f_ref=? and tblSalesOutStock.InVoiceType!=tblSalesOrder.InVoiceType
 [DEBUG] 2018-01-10 11:00:35,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,245 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,258 Line:1043 ---上述语句时间---13
 [DEBUG] 2018-01-10 11:00:35,259 Line:313 exeCondition:tblSalesOutStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:00:35,260 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,261 Line:921 自定义执行的语句显示： SalesOutStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblSalesOutStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-10 11:00:35,261 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,261 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,266 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-10 11:00:35,266 Line:313 exeCondition:SalesOutStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,267 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,268 Line:313 exeCondition:SalesOutStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,269 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,269 Line:921 自定义执行的语句显示： SalesOutStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblSalesOutStockDet,tblGoods where isnull(tblSalesOutStockDet.Price,0)!=0 and tblGoods.classCode=tblSalesOutStockDet.GoodsCode and f_ref=? and tblSalesOutStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-10 11:00:35,269 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,270 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,273 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-10 11:00:35,273 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,274 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,274 Line:313 exeCondition:SalesOutStock_Add :false==true
 [DEBUG] 2018-01-10 11:00:35,275 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,275 Line:921 自定义执行的语句显示： SalesOutStock_Add :select 'disCountError' as disCountError from tblSalesOutStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-10 11:00:35,275 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,275 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,277 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-10 11:00:35,277 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,279 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,279 Line:921 自定义执行的语句显示： SalesOutStock_Add :select tblGoods.GoodsFullName as GoodsPresent from tblSalesOutStockDet,tblGoods where  f_ref=? and tblGoods.classCode=tblSalesOutStockDet.GoodsCode and tblSalesOutStockDet.PresentPrice<0
 [DEBUG] 2018-01-10 11:00:35,279 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,279 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,282 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:00:35,283 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:00:35,285 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,285 Line:921 自定义执行的语句显示： SalesOutStock_Add :select isnull(dbo.getDigits('tblSalesOutStockDet','TaxAmount',sum(tblSalesOutStockDet.TaxAmount)),'0') as SumDetAmt, dbo.getDigits('tblSalesOutStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblSalesOutStockDet where  f_ref=?
 [DEBUG] 2018-01-10 11:00:35,285 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,285 Line:988 1值：1
 [DEBUG] 2018-01-10 11:00:35,285 Line:988 2值：0
 [DEBUG] 2018-01-10 11:00:35,286 Line:988 3值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,335 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-10 11:00:35,335 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-10 11:00:35,335 Line:1043 ---上述语句时间---50
 [DEBUG] 2018-01-10 11:00:35,335 Line:313 exeCondition:SalesOutStock_Add :1.0!=1.0
 [DEBUG] 2018-01-10 11:00:35,337 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,337 Line:313 exeCondition:SalesOutStock_Add :true
 [DEBUG] 2018-01-10 11:00:35,338 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,338 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblSalesRecAccount where tblSalesRecAccount.f_ref=? and (isnull(tblSalesRecAccount.Amount,0)=0)
 [DEBUG] 2018-01-10 11:00:35,338 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,338 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,346 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-10 11:00:35,346 Line:313 exeCondition:tblSalesOutStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:00:35,347 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,347 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblSalesRecAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-10 11:00:35,348 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,348 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,352 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-10 11:00:35,353 Line:313 exeCondition:tblSalesOutStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-10 11:00:35,354 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,354 Line:313 exeCondition:SalesOutStock_Add :'1' == '1'&&false==true
 [DEBUG] 2018-01-10 11:00:35,355 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,355 Line:921 自定义执行的语句显示： SalesOutStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-10 11:00:35,355 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,355 Line:988 1值：
 [DEBUG] 2018-01-10 11:00:35,356 Line:988 2值：00001
 [DEBUG] 2018-01-10 11:00:35,367 Line:1043 ---上述语句时间---12
 [DEBUG] 2018-01-10 11:00:35,367 Line:313 exeCondition:SalesOutStock_Add :(''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-10 11:00:35,369 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,370 Line:921 自定义执行的语句显示： SalesOutStock_Add : select COUNT(0) as CurrencyC from tblSalesRecAccount a,tblAccTypeInfo b where a.f_ref=? and a.Account=b.AccNumber and b.Currency!=?
 [DEBUG] 2018-01-10 11:00:35,370 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,370 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,370 Line:988 2值：
 [DEBUG] 2018-01-10 11:00:35,374 Line:1025 query condition columnName:CurrencyC----value:0
 [DEBUG] 2018-01-10 11:00:35,374 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-10 11:00:35,374 Line:313 exeCondition:SalesOutStock_Add :0>0
 [DEBUG] 2018-01-10 11:00:35,375 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,375 Line:313 exeCondition:SalesOutStock_Add :'false'=='true'
 [DEBUG] 2018-01-10 11:00:35,376 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,376 Line:313 exeCondition:SalesOutStock_Add :true==true
 [DEBUG] 2018-01-10 11:00:35,377 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,378 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_UnderLimitPrice_Validate :select count(0) as allowCount from tblUserSunCompany a,tblRightType b where ((a.userid=? and a.roleids like '%'+b.id+';%') or b.id=?) and rightType='UnderLimitprice' and hasRight=1
 [DEBUG] 2018-01-10 11:00:35,378 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,378 Line:988 1值：1
 [DEBUG] 2018-01-10 11:00:35,378 Line:988 2值：1
 [DEBUG] 2018-01-10 11:00:35,388 Line:1025 query condition columnName:allowCount----value:0
 [DEBUG] 2018-01-10 11:00:35,388 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-10 11:00:35,388 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_UnderLimitPrice_Validate :select b.GoodsFullName as GoodsFullName,cast(a.DisPrice as numeric(18,4)) as DisPrice,cast(b.Pricefixing as numeric(18,4)) as Pricefixing from tblSalesOutStockDet a,tblGoods b where a.f_ref=? and a.goodsCode=b.classCode and a.PresentSampleType not in ('1','2') and b.Pricefixing>0 and a.DisPrice<b.Pricefixing
 [DEBUG] 2018-01-10 11:00:35,389 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,389 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,393 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-10 11:00:35,393 Line:313 exeCondition:tblSalesOutStock_Add_UnderLimitPrice_Validate :'null'!='null'&&0==0&&'1'!='1'
 [DEBUG] 2018-01-10 11:00:35,394 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,394 Line:313 exeCondition:tblSalesOutStock_Add_UnderLimitPrice_Validate :'null'!='null'&&(0!=0||'1'=='1')
 [DEBUG] 2018-01-10 11:00:35,395 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,395 Line:313 exeCondition:SalesOutStock_Add :'false'=='false'
 [DEBUG] 2018-01-10 11:00:35,396 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,396 Line:1081 自定义执行的语句显示： SalesOutStock_Add:update tblSalesOutStockDet set StockCode=? where f_ref=?
 [DEBUG] 2018-01-10 11:00:35,396 Line:1157 1值：00001
 [DEBUG] 2018-01-10 11:00:35,396 Line:1157 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,401 Line:1163 DefineSQLBean.execSql  define=SalesOutStock_Add,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,402 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:00:35,403 Line:313 exeCondition:SalesOutStock_Add :false==true
 [DEBUG] 2018-01-10 11:00:35,404 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,404 Line:921 自定义执行的语句显示： SalesOutStock_Add : select count(0) nostockcode from tblSalesOutStockDet where f_ref=? and len(isnull(stockcode,''))=0  
 [DEBUG] 2018-01-10 11:00:35,404 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,404 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,412 Line:1025 query condition columnName:nostockcode----value:0
 [DEBUG] 2018-01-10 11:00:35,412 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-10 11:00:35,412 Line:313 exeCondition:SalesOutStock_Add : 0 > 0 
 [DEBUG] 2018-01-10 11:00:35,413 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,413 Line:313 exeCondition:SalesOutStock_Add :false==true
 [DEBUG] 2018-01-10 11:00:35,414 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,414 Line:313 exeCondition:SalesOutStock_Add :true
 [DEBUG] 2018-01-10 11:00:35,416 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,417 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-10 11:00:35,418 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,418 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set StockCode=? where f_ref=?
 [DEBUG] 2018-01-10 11:00:35,418 Line:1157 1值：00001
 [DEBUG] 2018-01-10 11:00:35,419 Line:1157 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,422 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,422 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-10 11:00:35,423 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'false'=='true'
 [DEBUG] 2018-01-10 11:00:35,423 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,424 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :''.length>0
 [DEBUG] 2018-01-10 11:00:35,425 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,425 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:00:35,425 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,426 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStock set FactIncome=a.Amount,AlrAccAmt=a.Amount,AccAmt=a.Amount,CurAlrAccAmt=a.CurAmount from (select isnull(sum(Amount),0) as Amount,isnull(sum(isnull(ExeBalFcAmt,0)),0) curAmount from tblSalesRecAccount as a where a.f_ref=?) as a where tblSalesOutStock.id=?
 [DEBUG] 2018-01-10 11:00:35,426 Line:1157 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,426 Line:1157 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,430 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,430 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-10 11:00:35,430 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:00:35,431 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,431 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:UPDATE b SET b.PreferAmount=case when convert(numeric(18,8),?)+convert(numeric(18,8),?)=0 then 0 else round(convert(numeric(28,8),?*TaxAmount)/(convert(numeric(18,8),?)+convert(numeric(18,8),?)),?) end FROM tblSalesOutStock a, tblSalesOutStockDet b WHERE a.id=b.f_ref and a.id=?
 [DEBUG] 2018-01-10 11:00:35,431 Line:1157 1值：1
 [DEBUG] 2018-01-10 11:00:35,432 Line:1157 2值：0
 [DEBUG] 2018-01-10 11:00:35,432 Line:1157 3值：0
 [DEBUG] 2018-01-10 11:00:35,432 Line:1157 4值：1
 [DEBUG] 2018-01-10 11:00:35,432 Line:1157 5值：0
 [DEBUG] 2018-01-10 11:00:35,432 Line:1154 6整数 值：2
 [DEBUG] 2018-01-10 11:00:35,432 Line:1157 7值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,436 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,437 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:00:35,437 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set PreferAmount=PreferAmount+?-(select sum(PreferAmount) from tblSalesOutStockDet a where a.f_ref=?) where f_ref=? and id=(select top 1 id from tblSalesOutStockDet k where k.f_ref=? and TaxAmount!=0 order by detOrderNo desc)
 [DEBUG] 2018-01-10 11:00:35,437 Line:1157 1值：0
 [DEBUG] 2018-01-10 11:00:35,437 Line:1157 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,437 Line:1157 3值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,438 Line:1157 4值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,447 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,447 Line:408 ************上述语句执行时间：10
 [DEBUG] 2018-01-10 11:00:35,448 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:UPDATE tblSalesOutStockDet SET PreferBackAmount=TaxAmount-PreferAmount,AfterChangeAmt=TaxAmount-PreferAmount,NeedReceiveAmt=TaxAmount,CurAfterChangeAmt=CurAmount-PreferAmount/?,CurNeedReceiveAmt=CurAmount,FactOutQty=Qty,BackQty=0,BackAmount=0,NoInvoiceQty=Qty,InvoiceQty=0 where tblSalesOutStockDet.f_ref=?
 [DEBUG] 2018-01-10 11:00:35,448 Line:1157 1值：1
 [DEBUG] 2018-01-10 11:00:35,448 Line:1157 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,454 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,454 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:00:35,454 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStock set BackAmount=0,CurBackAmount=0,AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,InvoiceAmount=0,NoInvoiceAmount=TotalTaxAmount,InvoiceStatus='False',TotalAlrAccAmt=AlrAccAmt,NeedReturnAmt=TotalTaxAmount-AlrAccAmt,CurTotalAlrAccAmt=CurAlrAccAmt,CurNeedReturnAmt=CurTotalAmount-CurAlrAccAmt,hashDeputyReceAmt=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-10 11:00:35,454 Line:1157 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,460 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,460 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:00:35,460 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :1 > 0
 [DEBUG] 2018-01-10 11:00:35,461 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,461 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:UPDATE c SET c.InvoiceAmountH=round(c.TaxAmount/b.alltax*a.TotalTaxAmount,?) from tblSalesOutStock a,(SELECT SUM(TaxAmount) AS alltax FROM tblSalesOutStockDet where f_ref=?) b,tblSalesOutStockDet c WHERE a.id=c.f_ref and a.id=? 
 [DEBUG] 2018-01-10 11:00:35,461 Line:1154 1整数 值：2
 [DEBUG] 2018-01-10 11:00:35,462 Line:1157 2值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,462 Line:1157 3值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,469 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,469 Line:408 ************上述语句执行时间：8
 [DEBUG] 2018-01-10 11:00:35,469 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:00:35,470 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,470 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set NoInvoiceAmount=InvoiceAmountH-InvoiceAmount,InvoiceStatus='False' where f_ref=?
 [DEBUG] 2018-01-10 11:00:35,470 Line:1157 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,475 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,476 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:00:35,476 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:00:35,477 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,477 Line:1264 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:{call proc_SalesUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-10 11:00:35,477 Line:1270 f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,477 Line:1270 add
 [DEBUG] 2018-01-10 11:00:35,557 Line:425 ************上述语句执行时间：80
 [DEBUG] 2018-01-10 11:00:35,558 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-10 11:00:35,559 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,559 Line:1264 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:{call proc_updateStocksNotAudit(@GoodsCode=?,@StockCode=?,@BillType=?,@InstoreQty=?,@OutstoreQty=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-10 11:00:35,559 Line:1270 tblSalesOutStockDet.GoodsCode
 [DEBUG] 2018-01-10 11:00:35,559 Line:1270 tblSalesOutStockDet.StockCode
 [DEBUG] 2018-01-10 11:00:35,559 Line:1270 tblSalesOutStock
 [DEBUG] 2018-01-10 11:00:35,560 Line:1270 0
 [DEBUG] 2018-01-10 11:00:35,560 Line:1270 tblSalesOutStockDet.Qty
 [DEBUG] 2018-01-10 11:00:35,560 Line:1270 tblSalesOutStockDet
 [DEBUG] 2018-01-10 11:00:35,560 Line:1270 f_ref='f7ed271b_1801101100346570009'
 [DEBUG] 2018-01-10 11:00:35,589 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblSalesOutStockDet.GoodsCode),'tblSalesOutStock',tblSalesOutStockDet.GoodsCode,tblSalesOutStockDet.StockCode,0,tblSalesOutStockDet.Qty,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)) from tblSalesOutStockDet where f_ref='f7ed271b_1801101100346570009'
 [DEBUG] 2018-01-10 11:00:35,589 Line:425 ************上述语句执行时间：30
 [DEBUG] 2018-01-10 11:00:35,589 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-10 11:00:35,590 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,591 Line:1264 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:{call proc_insertSeqOutInDet(?,?,?,?)}
 [DEBUG] 2018-01-10 11:00:35,591 Line:1270 f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,591 Line:1270 add
 [DEBUG] 2018-01-10 11:00:35,677 Line:425 ************上述语句执行时间：87
 [DEBUG] 2018-01-10 11:00:35,678 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'1' == '0'&& false==false
 [DEBUG] 2018-01-10 11:00:35,678 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,679 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore :select isnull(sum(Amount),0) as sumAmount from tblSalesRecAccount where f_ref=?
			
 [DEBUG] 2018-01-10 11:00:35,679 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:00:35,679 Line:988 1值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,686 Line:1023 query condition columnName:sumAmount----value:0E-8
 [DEBUG] 2018-01-10 11:00:35,687 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-10 11:00:35,687 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :0.0>=1
 [DEBUG] 2018-01-10 11:00:35,688 Line:321 flag:false
 [DEBUG] 2018-01-10 11:00:35,688 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :0.0<1
 [DEBUG] 2018-01-10 11:00:35,688 Line:321 flag:true
 [DEBUG] 2018-01-10 11:00:35,689 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set TotalReceiveAmt=case when convert(numeric(28,8),?)+convert(numeric(28,8),?)=0 then 0 else round(convert(numeric(28,8),?*TaxAmount)/(convert(numeric(28,8),?)+convert(numeric(28,8),?)),?) end where f_ref=?
			
 [DEBUG] 2018-01-10 11:00:35,689 Line:1157 1值：1
 [DEBUG] 2018-01-10 11:00:35,689 Line:1157 2值：0
 [DEBUG] 2018-01-10 11:00:35,689 Line:1157 3值：0.0
 [DEBUG] 2018-01-10 11:00:35,689 Line:1157 4值：1
 [DEBUG] 2018-01-10 11:00:35,690 Line:1157 5值：0
 [DEBUG] 2018-01-10 11:00:35,690 Line:1154 6整数 值：2
 [DEBUG] 2018-01-10 11:00:35,690 Line:1157 7值：f7ed271b_1801101100346570009
 [DEBUG] 2018-01-10 11:00:35,695 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:00:35,695 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:00:35,725 Line:1064  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:35,729 Line:1064  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:35,731 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936578750103;tableName=tblSalesOutStock;id=f7ed271b_1801101100346570009;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-10 11:00:35,802 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=f7ed271b_1801101100346570009&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOutStock&designId=eae3edac_0906121936578750103&operation=82&winCurIndex=4
 [DEBUG] 2018-01-10 11:00:35,802 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[f7ed271b_1801101100346570009,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOutStock,];designId=[eae3edac_0906121936578750103,];operation=[82,];winCurIndex=[4,];
 [DEBUG] 2018-01-10 11:00:35,805 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101100346570009' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:00:35,859 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:35,864 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:35,941 Line:5242 GlobalsTool.js 生成js 时间13:/js/gen/fileUpload.vjs_zh_CN.js
 [DEBUG] 2018-01-10 11:00:37,906 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-10 11:00:37,906 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,4,];keyId=[f7ed271b_1801101100346570009,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936578750103,];currNode=[0,];department=[00101,];fromAdvice=[,];approveStatus=[,];noback=[false,];toPage=[,];fromPage=[,];tableName=[tblSalesOutStock,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1515553127150,];checkPerson=[2cf86be0_1712291628149430079,];
 [DEBUG] 2018-01-10 11:00:37,907 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101100346570009' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:00:37,911 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101100346570009' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:00:37,917 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:37,921 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:39,142 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&operation=5&parentCode=&f_brother=&keyId=f7ed271b_1801101100346570009&moduleType=&checkTab=Y&parentTableName=&winCurIndex=4
 [DEBUG] 2018-01-10 11:00:39,142 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[f7ed271b_1801101100346570009,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[4,];
 [DEBUG] 2018-01-10 11:00:39,143 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101100346570009' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:00:39,149 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:39,151 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:00:45,788 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:00:45,788 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:00:45,789 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:45,808 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:00:45,813 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090942474080029","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:42","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 11:00:49,845 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 11:00:49,846 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 11:00:49,846 Line:243 AIOApi op=getSessEmp&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:49,847 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 11:00:49,855 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 11:00:49,855 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 11:00:49,855 Line:243 AIOApi op=getEnum&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:49,856 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 11:00:51,498 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 11:00:51,498 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 11:00:51,498 Line:243 AIOApi op=getSessEmp&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:51,499 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 11:00:51,520 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 11:00:51,521 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 11:00:51,521 Line:243 AIOApi op=getEnum&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:51,523 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 11:00:53,479 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:00:53,480 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:00:53,480 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:53,488 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:00:53,492 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090942474080029","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:42","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 11:00:57,965 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:00:57,966 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[consignation,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:00:57,966 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:57,990 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and exists(select id from OAWorkConsignation where state=1 and CongignUserID='1' and CHARINDEX(';'+userId+';',a.checkPerson)>0 and (CHARINDEX((select sameFlow+';' from OAWorkFlowTemplate where id=a.applyType),flowName)>0 or len(ISNULL(flowName,''))=0) and substring(convert(varchar,GETDATE(),120),0,11)>=beginTime  and substring(convert(varchar,GETDATE(),120),0,11)<=endTime ) ) k
 [DEBUG] 2018-01-10 11:00:57,991 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":0,"list":[]}}
 [DEBUG] 2018-01-10 11:00:59,012 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:00:59,012 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:00:59,012 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:00:59,026 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:00:59,029 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101100346570009","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 11:01:06,529 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 11:01:06,530 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101100346570009,];
 [DEBUG] 2018-01-10 11:01:06,530 Line:243 AIOApi op=detail&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:01:06,575 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:01:06,577 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101100346570009' order by detOrderNo
 [DEBUG] 2018-01-10 11:01:06,578 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101100346570009' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:01:06,748 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:00:12","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.00000000,"Curren等等！
 [DEBUG] 2018-01-10 11:10:19,205 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 11:21:26,622 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-10 11:21:26,622 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-10 11:21:26,623 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 11:21:26,762 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-10 11:21:26,762 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-10 11:21:26,773 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-10 11:21:26,773 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-10 11:21:26,773 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 11:21:26,782 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-10 11:21:26,782 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-10 11:21:26,783 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 11:21:26,790 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-10 11:21:26,790 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-10 11:21:26,790 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 11:21:26,796 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-10 11:21:26,797 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-10 11:21:26,797 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 11:30:55,015 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-10 11:30:55,016 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-10 11:30:55,016 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOutStock
 [DEBUG] 2018-01-10 11:30:55,069 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,TotalTaxAmount,CurTotalTaxAmount,NeedReturnAmt,BackAmount,FatchAmt,TotalAlrAccAmt,DeptFullName,EmpFullName,InVoiceType,SalesOrderNo,id,Kid,Remark,PayAccCode,AlrAccAmt,printCount,EmpFullName2,CompanyCode,JAmount,lastUpdateBy,lastUpdateTime,FreightComFullName,NeedReturnAmt2,TotalAlrAccAmt2,AfterChangeAmt2,ChangeAmt2,TotalTaxAmount3,DiscountAmount2,TotalTaxAmount2,BillNo2,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOutStock.id as keyId,tblSalesOutStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOutStock.createBy) as deptCodeR,tblSalesOutStock.employeeId as employeeId,tblSalesOutStock.departmentCode as deptCodeRE, tblSalesOutStock.workFlowNode as workFlowNode,tblSalesOutStock.workFlowNodeName as workFlowNodeName,tblSalesOutStock.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOutStock.id and OAMyWorkFlow.tableName='tblSalesOutStock' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOutStock.workFlowNode!='-1' ) as lastNodeID,       tblSalesOutStock.BillDate as BillDate,     tblSalesOutStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount,     tblSalesOutStock.CurTotalAmount as CurTotalTaxAmount,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt,     tblSalesOutStock.BackAmount as BackAmount,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as FatchAmt,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblSalesOutStock.InVoiceType as InVoiceType,     tblSalesOrder.BillNo as SalesOrderNo,     tblSalesOutStock.id as id,     tblSalesOrder.id as Kid,     tblSalesOutStock.Remark as Remark,     (select dbo.SalesBillAccoutDetail(id,'zh_CN') from tblSalesOutStock a where a.id=tblSalesOutStock.id) as PayAccCode,     tblSalesOutStock.AlrAccAmt as AlrAccAmt,     tblSalesOutStock.printCount as printCount,     Mk.EmpFullName as EmpFullName2,     tblSalesOutStock.CompanyCode as CompanyCode,     abs(isnull(tblSalesOutStock.TotalTaxAmount,0)-isnull(tblSalesOutStock.BackAmount,0)) as JAmount,     emp2.EmpFullName as lastUpdateBy,     tblSalesOutStock.lastUpdateTime as lastUpdateTime,     tblFreightCom.ComFullName as FreightComFullName,     tblSalesOutStock.NeedReturnAmt as NeedReturnAmt2,     tblSalesOutStock.TotalAlrAccAmt as TotalAlrAccAmt2,     tblSalesOutStock.AfterChangeAmt as AfterChangeAmt2,     tblSalesOutStock.ChangeAmt as ChangeAmt2,     tblSalesOutStock.TotalTaxAmount as TotalTaxAmount3,     tblSalesOutStock.DiscountAmount as DiscountAmount2,     tblSalesOutStock.TotalTaxAmount+tblSalesOutStock.DiscountAmount as TotalTaxAmount2,     isnull((select top 1 BillNo+',' from tblSalesReturnStock where SalesOutStockNo=tblSalesOutStock.BillNo),'')+tblSalesOutStock.BillNo as BillNo2   ,ROW_NUMBER() over(order by     tblSalesOutStock.BillDate desc,    tblSalesOutStock.BillNo desc) as row_id  from tblSalesOutStock   left join tblCompany on tblCompany.classCode=tblSalesOutStock.CompanyCode  left join tblSalesOutStockDet on (tblSalesOutStock.id=tblSalesOutStockDet.f_ref and tblSalesOutStockDet.id=(select top 1 a.id from tblSalesOutStockDet a where a.f_ref=tblSalesOutStock.id))  left join tblDepartment on tblDepartment.classCode=tblSalesOutStock.DepartmentCode  left join tblEmployee on tblEmployee.id=tblSalesOutStock.EmployeeID   left join tblSalesOrder on  tblSalesOrder.id=tblSalesOutStockDet.SalesOrderID  left join tblEmployee Mk on Mk.id=tblSalesOutStock.createBy  left join tblemployee emp2 on emp2.id=tblSalesOutStock.lastUpdateBy  left join tblFreightCom on tblSalesOutStock.FreightCom=tblFreightCom.id where 1=1 and isNull(tblSalesOutStock.workFlowNodeName,'')!='print'        and (tblSalesOutStock.BillDate >= ?)                                                                                  )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 11:30:55,069 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 11:30:55,199 Line:689 通过SQL读原始数据：130
 [DEBUG] 2018-01-10 11:30:55,200 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 11:32:13,199 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=2
 [DEBUG] 2018-01-10 11:32:13,199 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-10 11:32:13,199 Line:215 ---------->SET Page 2 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2018-01-10 11:32:13,286 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)                                                        and (tblSalesOrder.statusId = ?)                   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 11:32:13,286 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 11:32:13,286 Line:582 ReportDataMgt.getReportData 参数2:0
 [DEBUG] 2018-01-10 11:32:13,381 Line:689 通过SQL读原始数据：95
 [DEBUG] 2018-01-10 11:32:13,381 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 11:32:13,452 Line:5242 GlobalsTool.js 生成js 时间27:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-10 11:32:15,019 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOrder&keyId=7b19df5c_1801090942474080029&moduleType=&f_brother=&operation=5&winCurIndex=2&pageNo=&parentCode=&parentTableName=&saveDraft=&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-10 11:32:15,019 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[7b19df5c_1801090942474080029,];moduleType=[,];f_brother=[,];operation=[5,];winCurIndex=[2,];pageNo=[,];parentCode=[,];parentTableName=[,];saveDraft=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-10 11:32:15,020 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090942474080029' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 11:32:15,075 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:15,285 Line:5242 GlobalsTool.js 生成js 时间114:/js/gen/define.vjstblSalesOrder_zh_CN.js
 [DEBUG] 2018-01-10 11:32:16,645 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-10 11:32:16,646 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];button=[,];frameName=[$fName,];winCurIndex=[2,];popWinName=[PopMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[notApprove,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[7b19df5c_1801090942474080029,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936571710021,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[7b19df5c_1801090942474080029,];parentCode=[,];checkPersons=[;1;,];HasBuyOrder=[0,];SCompanyID=[00001,];BillNo=[SO1801090009,];BillDate=[2018-01-09,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];ReceiveDate=[,];AccountAmount=[0,];Account=[,];tblAccTypeInfo_AccName=[,];Currency=[,];CurAccountAmount=[0,];InVoiceType=[3,];TradeType=[CreditSale,];InvoiceAmount=[0,];NoInvoiceAmount=[1,];InvoiceStatus=[0,];ProjectCode=[,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];NeedReturnAmt=[1,];RefSalseQuoteid=[,];TrackNo=[,];CheckPersont=[,];AlrAccAmt=[0,];AutoBillMarker=[0,];BackAmount=[0,];CRMIDS=[,];CertificateNo=[,];CRMpactID=[,];CurAlrAccAmt=[0,];CurBackAmount=[0,];CurfreightAmount=[0,];CurNeedReturnAmt=[1,];Discount=[100,];DisAmount=[0,];Tax=[0,];DiscountAmount=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];PayAmt=[0,];CurPayAmt=[0,];NotAmortDeposit=[0,];CurNotAmortDeposit=[0,];CurTotalAmount=[1,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-09 09:42:32,];printCount=[0,];statusId=[0,];workFlowNode=[0,];workFlowNodeName=[notApprove,];finishTime=[,];createBy=[1,];createTime=[2018-01-09 09:42:32,];tblSalesOrderDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOrderDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOrderDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOrderDet_tblGoods_GoodsSpec=[,];tblSalesOrderDet_tblGoods_BaseUnit=[,];tblSalesOrderDet_tblStocks_lastQty=[0,];tblSalesOrderDet_ViewVirtualStock_UseQty=[0,];tblSalesOrderDet_Qty=[1,];tblSalesOrderDet_Price=[1,];tblSalesOrderDet_Amount=[1,];tblSalesOrderDet_Remark=[,];tblSalesOrderDet_StockCode=[00001,];tblSalesOrderDet_GoodsCode=[0000300001,];tblSalesOrderDet_BatchNo=[,];tblSalesOrderDet_Inch=[,];tblSalesOrderDet_Hue=[,];tblSalesOrderDet_yearNO=[,];tblSalesOrderDet_ProDate=[,];tblSalesOrderDet_Availably=[,];tblSalesOrderDet_InvoiceStatus=[0,];tblSalesOrderDet_Discount=[100,];tblSalesOrderDet_DisPrice=[1,];tblSalesOrderDet_DisBackAmt=[1,];tblSalesOrderDet_DisAmount=[0,];tblSalesOrderDet_TaxPrice=[1,];tblSalesOrderDet_TaxAmount=[1,];tblSalesOrderDet_CoTaxAmt=[0,];tblSalesOrderDet_CurPrice=[1,];tblSalesOrderDet_CurAmount=[1,];tblSalesOrderDet_ViewTotalQty=[0,];tblSalesOrderDet_SendDate=[,];tblSalesOrderDet_NotPayQty=[1,];tblSalesOrderDet_SecQty=[0,];tblSalesOrderDet_BaseQty=[0,];tblSalesOrderDet_OutPayQty=[0,];tblSalesOrderDet_EmployeeID=[1,];tblSalesOrderDet_CostAmount=[0,];tblSalesOrderDet_CostPrice=[0,];tblSalesOrderDet_DepartmentCode=[00101,];tblSalesOrderDet_PresentSampleType=[,];tblSalesOrderDet_PlanQty=[0,];tblSalesOrderDet_detsId=[7b19df5c_1801090942474240030,];Remark=[,];attachFiles=[,];delFiles=[,];
 [DEBUG] 2018-01-10 11:32:16,664 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:16,688 Line:5104 DynDBManager.update 检查原单据状态 sql =select workflowNodeName from tblSalesOrder where id= ? id= 7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,704 Line:313 exeCondition:tblSalesOrder_Del :1==0 && false==false
 [DEBUG] 2018-01-10 11:32:16,706 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,706 Line:313 exeCondition:tblSalesOrder_Del :true
 [DEBUG] 2018-01-10 11:32:16,708 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:16,709 Line:1081 自定义执行的语句显示： tblSalesOrder_Del:update tblEBOrder set InSign='1' where id=?
 [DEBUG] 2018-01-10 11:32:16,709 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,714 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Del,  影响行数=0
 [DEBUG] 2018-01-10 11:32:16,715 Line:408 ************上述语句执行时间：6
 [DEBUG] 2018-01-10 11:32:16,717 Line:5984  UPDATE tblSalesOrder SET BillNo=?,BillDate=?,CompanyCode=?,DepartmentCode=?,EmployeeID=?,StockCode=?,ReceiveDate=?,AccountAmount=?,Account=?,Currency=?,CurAccountAmount=?,InVoiceType=?,TradeType=?,InvoiceStatus=?,Period=?,PeriodMonth=?,PeriodYear=?,Remark=?,CertificateNo=?,CurAlrAccAmt=?,CurBackAmount=?,CurfreightAmount=?,CurNeedReturnAmt=?,Discount=?,DisAmount=?,Tax=?,DiscountAmount=?,CurrencyRate=?,TotalAmount=?,TotalTaxAmount=?,TotalCoTaxAmt=?,CurTotalAmount=?,Attachment=?,lastUpdateBy=?,lastUpdateTime=? WHERE ID = ? 
 [DEBUG] 2018-01-10 11:32:16,717 Line:5993 1:SO1801090009
 [DEBUG] 2018-01-10 11:32:16,717 Line:5993 2:2018-01-09
 [DEBUG] 2018-01-10 11:32:16,717 Line:5993 3:00001
 [DEBUG] 2018-01-10 11:32:16,718 Line:5993 4:00101
 [DEBUG] 2018-01-10 11:32:16,718 Line:5993 5:1
 [DEBUG] 2018-01-10 11:32:16,718 Line:5993 6:00001
 [DEBUG] 2018-01-10 11:32:16,718 Line:5993 7:
 [DEBUG] 2018-01-10 11:32:16,718 Line:5993 8:0.0
 [DEBUG] 2018-01-10 11:32:16,718 Line:5993 9:
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 10:
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 11:0.0
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 12:3
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 13:CreditSale
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 14:0
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 15:1
 [DEBUG] 2018-01-10 11:32:16,719 Line:5993 16:1
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 17:2018
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 18:
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 19:
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 20:0.0
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 21:0.0
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 22:0.0
 [DEBUG] 2018-01-10 11:32:16,720 Line:5993 23:1.0
 [DEBUG] 2018-01-10 11:32:16,721 Line:5993 24:100.0
 [DEBUG] 2018-01-10 11:32:16,721 Line:5993 25:0.0
 [DEBUG] 2018-01-10 11:32:16,721 Line:5993 26:0.0
 [DEBUG] 2018-01-10 11:32:16,722 Line:5993 27:0.0
 [DEBUG] 2018-01-10 11:32:16,722 Line:5993 28:1.0
 [DEBUG] 2018-01-10 11:32:16,722 Line:5993 29:1.0
 [DEBUG] 2018-01-10 11:32:16,722 Line:5993 30:1.0
 [DEBUG] 2018-01-10 11:32:16,722 Line:5993 31:0.0
 [DEBUG] 2018-01-10 11:32:16,723 Line:5993 32:1.0
 [DEBUG] 2018-01-10 11:32:16,723 Line:5993 33:
 [DEBUG] 2018-01-10 11:32:16,723 Line:5993 34:1
 [DEBUG] 2018-01-10 11:32:16,723 Line:5993 35:2018-01-10 11:32:16
 [DEBUG] 2018-01-10 11:32:16,732 Line:5894  DELETE FROM  tblSalesOrderDet  WHERE f_ref = ? 
 [DEBUG] 2018-01-10 11:32:16,737 Line:5847  INSERT INTO  tblSalesOrderDet(f_ref,id,StockCode,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,InvoiceAmount,UnitIntQty,NoInvoiceAmount,InvoiceStatus,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,ViewTotalQty,SendDate,NotPayQty,AccountingPrice,SecQty,BaseQty,OutPayQty,OutQty,InvoiceQty,NotOutQty,EmployeeID,FinishStatus,BackQty,CostAmount,CostPrice,DepartmentCode,UnitBackQty,UnitOutQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,Remark,PlanQty,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-10 11:32:16,737 Line:5853 1:7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,737 Line:5853 2:f7ed271b_1801101132167370013
 [DEBUG] 2018-01-10 11:32:16,737 Line:5853 3:00001
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 4:0000300001
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 5:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 6:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 7:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 8:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 9:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 10:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 11:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 12:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 13:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 14:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 15:0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 16:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 17:0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 18:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 19:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 20:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 21:100.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 22:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 23:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 24:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 25:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 26:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 27:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 28:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 29:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 30:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 31:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 32:1.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 33:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 34:0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 35:0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 36:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 37:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 38:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 39:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 40:1
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 41:0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 42:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 43:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 44:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 45:00101
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 46:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 47:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 48:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 49:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 50:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 51:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 52:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 53:
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 54:0.0
 [DEBUG] 2018-01-10 11:32:16,738 Line:5853 55:00001
 [DEBUG] 2018-01-10 11:32:16,748 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from tblSalseQuote where id=?
 [DEBUG] 2018-01-10 11:32:16,749 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,749 Line:988 1值：
 [DEBUG] 2018-01-10 11:32:16,751 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:16,751 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2018-01-09' < 'null'
 [DEBUG] 2018-01-10 11:32:16,752 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,752 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from CRMsalesQuot where id=?
 [DEBUG] 2018-01-10 11:32:16,752 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,753 Line:988 1值：
 [DEBUG] 2018-01-10 11:32:16,755 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:16,755 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2018-01-09' < 'null'
 [DEBUG] 2018-01-10 11:32:16,756 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,756 Line:921 自定义执行的语句显示： tblSalesOrder_add :select billDate as QuoteDate from CRMSaleContract where id=?
 [DEBUG] 2018-01-10 11:32:16,756 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,756 Line:988 1值：
 [DEBUG] 2018-01-10 11:32:16,759 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:16,760 Line:313 exeCondition:tblSalesOrder_add :''.length>0&&'2018-01-09' < 'null'
 [DEBUG] 2018-01-10 11:32:16,760 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,761 Line:313 exeCondition:tblSalesOrder_add :0!=0 && ''.length==0 
 [DEBUG] 2018-01-10 11:32:16,761 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,761 Line:313 exeCondition:tblSalesOrder_add :0<=0 && ''.length > 0 
 [DEBUG] 2018-01-10 11:32:16,762 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,762 Line:313 exeCondition:tblSalesOrder_add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-10 11:32:16,763 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,763 Line:921 自定义执行的语句显示： tblSalesOrder_add :select SendDate as SendDate from tblSalesOrderDet a where a.f_ref=? and len(a.SendDate)!=0 and a.SendDate < ? 
 [DEBUG] 2018-01-10 11:32:16,763 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,764 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,764 Line:988 2值：2018-01-09
 [DEBUG] 2018-01-10 11:32:16,769 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-10 11:32:16,770 Line:313 exeCondition:tblSalesOrder_add :'null'!='null'
 [DEBUG] 2018-01-10 11:32:16,770 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,771 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsQ from tblSalesOrderDet a,tblGoods b where len(ProDate)>0 and len(Availably)>0 and ProDate>Availably and b.classCode=a.GoodsCode and a.f_ref=?
 [DEBUG] 2018-01-10 11:32:16,771 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,771 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,777 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-10 11:32:16,778 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:16,778 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,779 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsQ,Qty from tblSalesOrderDet a,tblGoods b where a.f_ref=? and b.classCode=a.GoodsCode and isnull(a.Qty,0)<=0
 [DEBUG] 2018-01-10 11:32:16,779 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,779 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,786 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-10 11:32:16,786 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:16,787 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,787 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsP,b.garniture from tblSalesOrderDet a,tblGoods b where a.f_ref=? and a.PresentSampleType not in ('1','2') and b.classCode=a.GoodsCode and (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0))
 [DEBUG] 2018-01-10 11:32:16,787 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,787 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,795 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-10 11:32:16,795 Line:313 exeCondition:tblSalesOrder_add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-10 11:32:16,796 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,796 Line:313 exeCondition:tblSalesOrder_add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-10 11:32:16,797 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,798 Line:921 自定义执行的语句显示： tblSalesOrder_add :select 'disCountError' as disCountError from tblSalesOrderDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-10 11:32:16,799 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,799 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,804 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-10 11:32:16,805 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:16,806 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,806 Line:313 exeCondition:tblSalesOrder_add :false==true
 [DEBUG] 2018-01-10 11:32:16,807 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,807 Line:921 自定义执行的语句显示： tblSalesOrder_add :select b.GoodsFullName as GoodsSample from tblSalesOrderDet a,tblGoods b where a.f_ref=? and b.classCode=a.GoodsCode and a.PresentSampleType in ('1','2') and isnull(a.Price,0)!=0
 [DEBUG] 2018-01-10 11:32:16,807 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,807 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,814 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-10 11:32:16,814 Line:313 exeCondition:tblSalesOrder_add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:16,815 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,815 Line:921 自定义执行的语句显示： tblSalesOrder_add :select dbo.getDigits('tblSalesOrderDet','TaxAmount',sum(tblSalesOrderDet.TaxAmount)) as SumDetAmt from tblSalesOrderDet where  f_ref=?
 [DEBUG] 2018-01-10 11:32:16,815 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,816 Line:988 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,856 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-10 11:32:16,856 Line:1043 ---上述语句时间---41
 [DEBUG] 2018-01-10 11:32:16,857 Line:313 exeCondition:tblSalesOrder_add : 1.0 != 1
 [DEBUG] 2018-01-10 11:32:16,857 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,858 Line:921 自定义执行的语句显示： tblSalesOrder_add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-10 11:32:16,858 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:16,858 Line:988 1值：
 [DEBUG] 2018-01-10 11:32:16,858 Line:988 2值：00001
 [DEBUG] 2018-01-10 11:32:16,860 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-10 11:32:16,861 Line:313 exeCondition:tblSalesOrder_add :''.length != 0 && ''.length != 0 && !( '' == 'null' || ('null' =='' && 'null'=='1'  )  ) 
 [DEBUG] 2018-01-10 11:32:16,862 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,862 Line:313 exeCondition:tblSalesOrder_add :''.length == 0 && ''.length != 0 && ( 'null'.length != 0 && 'null' !=' '  && 'null' != 'null' && 'null' != 'NULL')
 [DEBUG] 2018-01-10 11:32:16,863 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,863 Line:313 exeCondition:tblSalesOrder_add : (''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-10 11:32:16,864 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,864 Line:313 exeCondition:tblSalesOrder_add :false==true
 [DEBUG] 2018-01-10 11:32:16,865 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,865 Line:313 exeCondition:tblSalesOrder_add :true
 [DEBUG] 2018-01-10 11:32:16,865 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:16,866 Line:313 exeCondition:tblSalesOrder_Add_One1 :'false'=='false'
 [DEBUG] 2018-01-10 11:32:16,867 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:16,867 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrderDet set StockCode=? where f_ref=?
 [DEBUG] 2018-01-10 11:32:16,867 Line:1157 1值：00001
 [DEBUG] 2018-01-10 11:32:16,868 Line:1157 2值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,871 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2018-01-10 11:32:16,871 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-10 11:32:16,871 Line:313 exeCondition:tblSalesOrder_Add_One1 :true
 [DEBUG] 2018-01-10 11:32:16,871 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:16,871 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrderDet set OutQty=0,NotOutQty=Qty,FinishStatus=0,NeedReceiveAmt=TaxAmount,CurNeedReceiveAmt=CurAmount,NotPayQty=Qty,NoInvoiceAmount=TaxAmount,InvoiceAmount=0,InvoiceStatus=0 where f_ref=?
 [DEBUG] 2018-01-10 11:32:16,871 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,871 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2018-01-10 11:32:16,871 Line:408 ************上述语句执行时间：0
 [DEBUG] 2018-01-10 11:32:16,871 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:update tblSalesOrder set statusId=0,NeedReturnAmt=TotalTaxAmount-AccountAmount,CurNeedReturnAmt=CurTotalAmount-CurAccountAmount,AlrAccAmt=AccountAmount,NotAmortDeposit=AccountAmount,CurAlrAccAmt=CurAccountAmount,CurNotAmortDeposit=CurAccountAmount,PayAmt=0,CurPayAmt=0,CertificateNo='',NoInvoiceAmount=TotalTaxAmount,InvoiceAmount=0,InvoiceStatus=0 where id=?
 [DEBUG] 2018-01-10 11:32:16,871 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,886 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=1
 [DEBUG] 2018-01-10 11:32:16,886 Line:408 ************上述语句执行时间：15
 [DEBUG] 2018-01-10 11:32:16,886 Line:313 exeCondition:tblSalesOrder_Add_One1 :'true'=='true'
 [DEBUG] 2018-01-10 11:32:16,887 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:16,888 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:
			update tblSalesOrderDet set tblSalesOrderDet.Availably=a.Availably from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,tblGoods.Validity,ProDate),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,tblGoods.Validity,ProDate),21) else '' end as Availably from tblSalesOrder  a join tblSalesOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(Availably)=0 and len(ProDate)!=0 and tblGoods.Validity!=0)a where tblSalesOrderDet.id=a.id
			
 [DEBUG] 2018-01-10 11:32:16,888 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,901 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=0
 [DEBUG] 2018-01-10 11:32:16,901 Line:408 ************上述语句执行时间：13
 [DEBUG] 2018-01-10 11:32:16,901 Line:1081 自定义执行的语句显示： tblSalesOrder_Add_One1:
			update tblSalesOrderDet set tblSalesOrderDet.ProDate=a.ProDate from(select  b.id as id,case when tblGoods.AvailablyType='Day' then convert(varchar(10),dateadd(Day,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Month' then convert(varchar(10),dateadd(Month,(-1)*tblGoods.Validity,Availably),21) when tblGoods.AvailablyType='Year' then convert(varchar(10),dateadd(Year,(-1)*tblGoods.Validity,Availably),21) else '' end as ProDate from tblSalesOrder a join tblSalesOrderDet b on b.f_ref=a.id join tblGoods on tblGoods.classCode=b.GoodsCode where a.id=? and len(ProDate)=0 and len(Availably)!=0 and tblGoods.Validity!=0)a where tblSalesOrderDet.id=a.id
			 
 [DEBUG] 2018-01-10 11:32:16,901 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:16,916 Line:1163 DefineSQLBean.execSql  define=tblSalesOrder_Add_One1,  影响行数=0
 [DEBUG] 2018-01-10 11:32:16,916 Line:408 ************上述语句执行时间：15
 [DEBUG] 2018-01-10 11:32:16,916 Line:313 exeCondition:tblSalesOrder_Add_One1 :'1' == '0'&& false==false
 [DEBUG] 2018-01-10 11:32:16,917 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:16,921 Line:1064  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:16,957 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?tableName=tblSalesOrder&keyId=7b19df5c_1801090942474080029&fromAdvice=false&currNodeId=0&approveStatus=transing&nextNodeIds=null&department=00101&designId=eae3edac_0906121936571710021&fromPage=erp&operation=82&winCurIndex=2
 [DEBUG] 2018-01-10 11:32:16,957 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];keyId=[7b19df5c_1801090942474080029,];fromAdvice=[false,];currNodeId=[0,];approveStatus=[transing,];nextNodeIds=[null,];department=[00101,];designId=[eae3edac_0906121936571710021,];fromPage=[erp,];operation=[82,];winCurIndex=[2,];
 [DEBUG] 2018-01-10 11:32:16,959 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090942474080029' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 11:32:16,967 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:16,971 Line:1462 审核流条件：( 0.0<=100)
 [DEBUG] 2018-01-10 11:32:20,860 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-10 11:32:20,861 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,2,];keyId=[7b19df5c_1801090942474080029,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936571710021,];currNode=[0,];department=[00101,];fromAdvice=[false,];approveStatus=[transing,];noback=[false,];toPage=[,];fromPage=[erp,];tableName=[tblSalesOrder,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[-1,];
 [DEBUG] 2018-01-10 11:32:20,861 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090942474080029' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 11:32:20,866 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090942474080029' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 11:32:20,871 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:20,908 Line:313 exeCondition:tblSalesOrder_Add_One :0.0>0
 [DEBUG] 2018-01-10 11:32:20,909 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:22,623 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&operation=5&keyId=7b19df5c_1801090942474080029&parentCode=&f_brother=&draftQuery=&approveStatus=transing&moduleType=&checkTab=Y&parentTableName=&pageNo=1&winCurIndex=2
 [DEBUG] 2018-01-10 11:32:22,624 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];operation=[5,];keyId=[7b19df5c_1801090942474080029,];parentCode=[,];f_brother=[,];draftQuery=[,];approveStatus=[transing,];moduleType=[,];checkTab=[Y,];parentTableName=[,];pageNo=[1,];winCurIndex=[2,];
 [DEBUG] 2018-01-10 11:32:22,624 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090942474080029' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 11:32:22,630 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:29,530 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSalesOutStock&parentTableName=&sourceTableName=tblSalesOrder&sourceId=7b19df5c_1801090942474080029&operation=15&popWinName=PopPushMainOpdiv
 [DEBUG] 2018-01-10 11:32:29,531 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];parentTableName=[,];sourceTableName=[tblSalesOrder,];sourceId=[7b19df5c_1801090942474080029,];operation=[15,];popWinName=[PopPushMainOpdiv,];
 [DEBUG] 2018-01-10 11:32:29,532 Line:3434 DynDBManager.popSelect selectName=quote_SalesOrderDet; sql=select viewsalesorder.id f1 ,tblGoods.GoodsNumber f2 ,tblGoods.GoodsFullName f3 ,tblGoods.GoodsSpec f4 ,tblGoods.BaseUnit f5 ,tblGoods.GoodsFullNamePYM f6 ,viewsalesorder.Qty f7 ,viewsalesorder.Price f8 ,viewsalesorder.OutQty f9 ,viewsalesorder.NotOutQty f10 ,viewsalesorder.lastQty f11 
from viewsalesorder
	left join tblGoods on viewsalesorder.GoodsCode=tblGoods.classCode where 1=1 and  viewsalesorder.f_ref='7b19df5c_1801090942474080029'   and (viewsalesorder.FinishStatus=0) and tblGoods.workFlowNodeName='finish' order by tblGoods.GoodsNumber,tblGoods.GoodsFullName
 [DEBUG] 2018-01-10 11:32:29,564 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090942474080029' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:29,574 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblSalesOrder' and childTable='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:32:29,597 Line:2014 DynDBManager.getRefSql:弹出窗ClientInVoiceWithAcceptDate: select tblCompany.ComFullName from tblCompany
  left join tblEmployee on tblCompany.EmployeeID=tblEmployee.id
  left join tblDepartment on tblCompany.DepartmentCode=tblDepartment.classCode
      where 1=1  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3)
		 and tblCompany.classCode = '00001'
 [DEBUG] 2018-01-10 11:32:29,602 Line:2014 DynDBManager.getRefSql:弹出窗Department: select tblDepartment.DeptFullName from tblDepartment
      where 1=1 and tblDepartment.classCode = '00101'
 [DEBUG] 2018-01-10 11:32:29,603 Line:2014 DynDBManager.getRefSql:弹出窗Employee: select tblEmployee.EmpFullName,tblDepartment.DeptFullName from tblEmployee left join tblDepartment on tblEmployee.DepartmentCode=tblDepartment.classCode
      where 1=1  and ((tblEmployee.SCompanyID='00001' and (tblEmployee.statusId!='-1' or tblEmployee.id='1') and tblEmployee.workFlowNodeName='finish') and tblEmployee.workFlowNodeName='finish' and tblDepartment.workFlowNodeName='finish')
		 and tblEmployee.id = '1' and tblEmployee.DepartmentCode = '00101'
 [DEBUG] 2018-01-10 11:32:29,607 Line:2014 DynDBManager.getRefSql:弹出窗Stock: select tblStock.StockFullName from tblStock
      where 1=1 and tblStock.classCode = '00001'
 [DEBUG] 2018-01-10 11:32:29,608 Line:2014 DynDBManager.getRefSql:弹出窗CurrencyWithRate: select tblSetExchange.CurrencyName from tblSetExchange
      where 1=1 and tblSetExchange.Currency = ''
 [DEBUG] 2018-01-10 11:32:29,613 Line:2014 DynDBManager.getRefSql:弹出窗SelectProjectInfo: select tblProject.ProjectName from tblProject
      where 1=1 and tblProject.id = ''   and tblProject.workFlowNodeName='finish'
 [DEBUG] 2018-01-10 11:32:29,615 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblSalesOrderDet' and childTable='tblSalesOutStockDet'
 [DEBUG] 2018-01-10 11:32:29,617 Line:2014 DynDBManager.getRefSql:弹出窗SalesOrderGoods: select tblSalesOrder.BillNo from tblSalesOrderDet left join tblSalesOrder on tblSalesOrderDet.f_ref=tblSalesOrder.id
	    left join tblGoods on tblSalesOrderDet.goodsCode=tblGoods.classCode
		  left join ViewVirtualStock as tblStocks on tblStocks.GoodsCode=tblGoods.classCode and tblStocks.StockCode='00001' and tblStocks.StockCode='00001' and tblStocks.BatchNo=isnull(tblSalesOrderDet.BatchNo,'') and tblStocks.Inch=isnull(tblSalesOrderDet.Inch,'') and tblStocks.Hue=isnull(tblSalesOrderDet.Hue,'') and tblStocks.yearNo=isnull(tblSalesOrderDet.yearNo,'') and tblStocks.ProDate=isnull(tblSalesOrderDet.ProDate,'') and tblStocks.Availably =isnull(tblSalesOrderDet.Availably,'')
      where 1=1  and ((tblSalesOrder.InvoiceType='3' and tblSalesOrder.CompanyCode='00001' and tblSalesOrder.BillDate<='2018-01-09' and tblSalesOrder.statusId =0 and tblSalesOrderDet.finishStatus=0 and tblSalesOrder.workFlowNodeName = 'finish')) and tblGoods.workFlowNodeName='finish'
		  and 1=1
         and tblSalesOrder.id = '7b19df5c_1801090942474080029' and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-10 11:32:29,639 Line:2014 DynDBManager.getRefSql:弹出窗GoodsSales: select tblGoods.GoodsNumber,tblGoods.GoodsFullName,tblGoods.GoodsSpec,tblGoods.BaseUnit,(case tblGoods.isCatalog when 0 then tblStocks.lastQty else -99999999 end),(case tblGoods.isCatalog when 0 then tblStocks.UseQty else -99999999 end) from tblGoods left join (select GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,sum(LastQty) as LastQty,sum(tblStocks.LastQty+tblStocks.inQtyNotAudit+tblStocks.SInQtyNotAudit-tblStocks.outQtyNotAudit-tblStocks.BOutQtyNotAudit) as UseQty from tblStocks where 2=2 and tblStocks.StockCode='00001' and tblStocks.StockCode='00001'       and tblStocks.LastQty>0 GROUP BY GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably) as tblStocks on tblStocks.GoodsCode=tblGoods.classCode 
  left join tblGoodsUnit with(index(IX_tblGoodsUnit_refdefault)) on tblGoodsUnit.f_ref=tblGoods.id and tblGoodsUnit.DefaultAssit=1
  left join tblCustomerPriceDet on tblGoods.classcode = tblCustomerPriceDet.GoodsCode and tblCustomerPriceDet.f_ref=(select id from tblCustomerPrice where companyCode='00001')
  left join tblCompany noRight on tblCompany.classCode='00001'
		 where 1=1 and tblGoods.classCode = '0000300001'
 [DEBUG] 2018-01-10 11:32:29,657 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblSalesOrderDet' and childTable='tblSalesRecAccount'
 [DEBUG] 2018-01-10 11:32:29,660 Line:491 select childTableField,mostlyTableField from tbltableMapped where mostlyTable='tblSalesOrder' and childTable='tblSalesRecAccount'
 [DEBUG] 2018-01-10 11:32:33,728 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2018-01-10 11:32:33,729 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOutStock,];button=[,];frameName=[$fName,];winCurIndex=[$winCurIndex,];popWinName=[PopPushMainOpdiv,];pageNo=[1,];parentTableName=[,];defineInfo=[,];moduleType=[,];detLineNo=[,];saveDraft=[$saveDraft,];noback=[false,];logicValidate=[,];defineName=[,];popReturnVal=[,];checkFieldName=[,];fromCRM=[,];fromPage=[,];checkTab=[,];pageType=[update,];LinkType=[,];pframeName=[,];varKeyIds=[,];fresh=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];deliverTo=[true,];OAWorkFlow=[true,];designId=[eae3edac_0906121936578750103,];approveStatus=[transing,];currNodeId=[0,];fromAdvice=[false,];id=[,];parentCode=[,];BillNo=[SS1801100003,];checkPersons=[,];workFlowNode=[-1,];workFlowNodeName=[finish,];BillDate=[2018-01-10,];CompanyCode=[00001,];tblCompany_ComFullName=[包盛,];DepartmentCode=[00101,];EmployeeID=[1,];tblEmployee_EmpFullName=[admin,];tblDepartment_DeptFullName=[默认部门,];StockCode=[00001,];tblStock_StockFullName=[总仓1,];AcceptDate=[,];AlrAccAmt=[0,];AccAmt=[0,];FactIncome=[0,];InVoiceType=[3,];DiscountAmount=[0,];Currency=[,];CurAlrAccAmt=[0,];CurProceDureExp=[0,];CurDiscountAmount=[0,];deputyRece=[,];FreightCom=[,];deputyReceAmt=[0,];CurDeputyReceAmt=[0,];ProjectCode=[,];PresentTotalAmt=[0,];SaleOutStockID=[,];SalesOrderID=[7b19df5c_1801090942474080029,];SalesOrderNo=[SO1801090009,];TrackNo=[,];TotalAlrAccAmt=[0,];ConfirmDate=[2018-01-10 11:32:29,];ConfirmID=[,];BackAmount=[0,];ChangeAmt=[0,];CheckPersont=[,];BuyInID=[,];CurNeedReturnAmt=[1,];CurPreAccAmt=[0,];CurTotalAlrAccAmt=[0,];CurBackAmount=[0,];NeedReturnAmt=[1,];NoInvoiceAmount=[0,];Period=[1,];PeriodMonth=[1,];PeriodYear=[2018,];InvoiceAmount=[0,];InvoiceStatus=[0,];EmpAccAmt=[0,];Discount=[100,];DisAmount=[0,];Tax=[0,];CurrencyRate=[1,];TotalAmount=[1,];TotalTaxAmount=[1,];TotalCoTaxAmt=[0,];CurTotalAmount=[1,];CertificateNo=[,];hashDeputyReceAmt=[0,];CurhashDeputyReceAmt=[0,];AfterChangeAmt=[0,];CurAfterChangeAmt=[0,];CurChangeAmt=[0,];printCount=[0,];SCompanyID=[00001,];statusId=[0,];createBy=[,];createTime=[2018-01-09 09:42:32,];lastUpdateBy=[1,];lastUpdateTime=[2018-01-10 11:32:16,];finishTime=[2018-01-10 11:32:20,];tblSalesOutStockDetPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesRecAccountPopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblSalesOutStockDet_tblGoods_GoodsNumber=[bl0001,];tblSalesOutStockDet_tblGoods_GoodsFullName=[叉烧包,];tblSalesOutStockDet_tblGoods_GoodsSpec=[,];tblSalesOutStockDet_tblGoods_BaseUnit=[,];tblSalesOutStockDet_tblStocks_lastQty=[40,];tblSalesOutStockDet_ViewVirtualStock_UseQty=[39,];tblSalesOutStockDet_Qty=[1,];tblSalesOutStockDet_Price=[1,];tblSalesOutStockDet_Amount=[1,];tblSalesOutStockDet_Remark=[,];tblSalesOutStockDet_Seq=[,];tblSalesOutStockDet_StockCode=[00001,];tblSalesOutStockDet_SalesOrderID=[7b19df5c_1801090942474080029,];tblSalesOutStockDet_GoodsCode=[0000300001,];tblSalesOutStockDet_BatchNo=[,];tblSalesOutStockDet_Inch=[,];tblSalesOutStockDet_Hue=[,];tblSalesOutStockDet_yearNO=[,];tblSalesOutStockDet_ProDate=[,];tblSalesOutStockDet_Availably=[,];tblSalesOutStockDet_Discount=[100,];tblSalesOutStockDet_DisPrice=[1,];tblSalesOutStockDet_DisBackAmt=[1,];tblSalesOutStockDet_DisAmount=[0,];tblSalesOutStockDet_TaxPrice=[1,];tblSalesOutStockDet_TaxAmount=[1,];tblSalesOutStockDet_CoTaxAmt=[0,];tblSalesOutStockDet_CurPrice=[1,];tblSalesOutStockDet_CurAmount=[1,];tblSalesOutStockDet_BuyQty=[0,];tblSalesOutStockDet_NotBuyQty=[0,];tblSalesOutStockDet_CheckBarCode=[,];tblSalesOutStockDet_PresentAmt=[0,];tblSalesOutStockDet_PresentPrice=[0,];tblSalesOutStockDet_ViewTotalQty=[0,];tblSalesOutStockDet_lastQty=[0,];tblSalesOutStockDet_CostAmount=[0,];tblSalesOutStockDet_CostPrice=[0,];tblSalesOutStockDet_SourceID=[f7ed271b_1801101132167370013,];tblSalesOutStockDet_NoInvoiceQty=[0,];tblSalesOutStockDet_PresentSampleType=[,];tblSalesOutStockDet_BackPayQty=[0,];tblSalesOutStockDet_BaseQty=[0,];tblSalesOutStockDet_PayQty=[0,];tblSalesOutStockDet_NotPayQty=[1,];tblSalesOutStockDet_SecQty=[0,];tblSalesOutStockDet_AfterChangeAmt=[0,];tblSalesOutStockDet_detsId=[,];tblSalesRecAccount_SettleType=[1,];tblSalesRecAccount_tblAccTypeInfo_AccName=[,];tblSalesRecAccount_Amount=[0,];tblSalesRecAccount_Remark=[,];tblSalesRecAccount_Account=[,];tblSalesRecAccount_ExeBalFcAmt=[,];tblSalesRecAccount_detsId=[,];Remark=[,];
 [DEBUG] 2018-01-10 11:32:33,730 Line:3843 添加单据desingId=eae3edac_0906121936578750103工作流designId=eae3edac_0906121936578750103
 [DEBUG] 2018-01-10 11:32:33,743 Line:5847  INSERT INTO  tblSalesOutStock(BillNo,checkPersons,id,workFlowNode,workFlowNodeName,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,printCount,SCompanyID,statusId,createBy,createTime,lastUpdateBy,lastUpdateTime,finishTime) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-10 11:32:33,743 Line:5853 1:SS1801100003
 [DEBUG] 2018-01-10 11:32:33,743 Line:5853 2:;1;
 [DEBUG] 2018-01-10 11:32:33,743 Line:5853 3:f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 4:0
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 5:notApprove
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 6:2018-01-10
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 7:00001
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 8:00101
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 9:1
 [DEBUG] 2018-01-10 11:32:33,744 Line:5853 10:00001
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 11:
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 12:0.0
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 13:0.0
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 14:0.0
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 15:3
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 16:0.0
 [DEBUG] 2018-01-10 11:32:33,745 Line:5853 17:
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 18:0.0
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 19:0.0
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 20:0.0
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 21:
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 22:
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 23:0.0
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 24:0.0
 [DEBUG] 2018-01-10 11:32:33,746 Line:5853 25:
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 26:0.0
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 27:
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 28:
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 29:7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 30:SO1801090009
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 31:
 [DEBUG] 2018-01-10 11:32:33,747 Line:5853 32:0.0
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 33:2018-01-10 11:32:29
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 34:
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 35:0.0
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 36:0.0
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 37:
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 38:
 [DEBUG] 2018-01-10 11:32:33,748 Line:5853 39:1.0
 [DEBUG] 2018-01-10 11:32:33,749 Line:5853 40:0.0
 [DEBUG] 2018-01-10 11:32:33,749 Line:5853 41:0.0
 [DEBUG] 2018-01-10 11:32:33,749 Line:5853 42:0.0
 [DEBUG] 2018-01-10 11:32:33,749 Line:5853 43:1.0
 [DEBUG] 2018-01-10 11:32:33,749 Line:5853 44:0.0
 [DEBUG] 2018-01-10 11:32:33,749 Line:5853 45:1
 [DEBUG] 2018-01-10 11:32:33,750 Line:5853 46:1
 [DEBUG] 2018-01-10 11:32:33,750 Line:5853 47:2018
 [DEBUG] 2018-01-10 11:32:33,750 Line:5853 48:0.0
 [DEBUG] 2018-01-10 11:32:33,751 Line:5853 49:0
 [DEBUG] 2018-01-10 11:32:33,751 Line:5853 50:0.0
 [DEBUG] 2018-01-10 11:32:33,751 Line:5853 51:100.0
 [DEBUG] 2018-01-10 11:32:33,751 Line:5853 52:0.0
 [DEBUG] 2018-01-10 11:32:33,751 Line:5853 53:0.0
 [DEBUG] 2018-01-10 11:32:33,751 Line:5853 54:1.0
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 55:1.0
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 56:1.0
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 57:0.0
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 58:1.0
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 59:
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 60:
 [DEBUG] 2018-01-10 11:32:33,752 Line:5853 61:0.0
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 62:0.0
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 63:0.0
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 64:0.0
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 65:0.0
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 66:0
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 67:00001
 [DEBUG] 2018-01-10 11:32:33,753 Line:5853 68:0
 [DEBUG] 2018-01-10 11:32:33,754 Line:5853 69:1
 [DEBUG] 2018-01-10 11:32:33,754 Line:5853 70:2018-01-09 09:42:32
 [DEBUG] 2018-01-10 11:32:33,754 Line:5853 71:1
 [DEBUG] 2018-01-10 11:32:33,754 Line:5853 72:2018-01-10 11:32:16
 [DEBUG] 2018-01-10 11:32:33,754 Line:5853 73:
 [DEBUG] 2018-01-10 11:32:33,760 Line:5847  INSERT INTO  tblSalesOutStockDet(f_ref,id,Seq,StockCode,SalesOrderID,GoodsCode,BatchNo,Inch,Hue,yearNO,ProDate,Availably,Qty,Price,Amount,UnitIntQty,UnitBaseQty,UnitQty,UnitPrice,Discount,DisPrice,DisBackAmt,DisAmount,TaxPrice,TaxAmount,CoTaxAmt,CurPrice,CurAmount,BuyQty,NotBuyQty,CheckBarCode,PreferAmount,PreferBackAmount,PresentAmt,PresentPrice,ViewTotalQty,AccountingPrice,lastQty,CurPreReceiveAmt,CurReceiveAmt,CostAmount,CostPrice,CurTotalReceiveAmt,BackQty,FactOutQty,InvoiceQty,InvoiceStatus,InvoiceAmount,SourceID,ReceiveAmt,PreReceiveAmt,NoInvoiceAmount,NoInvoiceQty,PresentSampleType,BackAmount,TotalReceiveAmt,NeedReceiveAmt,CurNeedReceiveAmt,InvoiceAmountH,BackPayQty,BaseQty,PayQty,NotPayQty,SecQty,AfterChangeAmt,Remark,CurAfterChangeAmt,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2018-01-10 11:32:33,761 Line:5853 1:f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,761 Line:5853 2:f7ed271b_1801101132337600016
 [DEBUG] 2018-01-10 11:32:33,761 Line:5853 3:
 [DEBUG] 2018-01-10 11:32:33,761 Line:5853 4:00001
 [DEBUG] 2018-01-10 11:32:33,761 Line:5853 5:7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:33,761 Line:5853 6:0000300001
 [DEBUG] 2018-01-10 11:32:33,762 Line:5853 7:
 [DEBUG] 2018-01-10 11:32:33,762 Line:5853 8:
 [DEBUG] 2018-01-10 11:32:33,762 Line:5853 9:
 [DEBUG] 2018-01-10 11:32:33,762 Line:5853 10:
 [DEBUG] 2018-01-10 11:32:33,762 Line:5853 11:
 [DEBUG] 2018-01-10 11:32:33,762 Line:5853 12:
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 13:1.0
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 14:1.0
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 15:1.0
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 16:0
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 17:0.0
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 18:0.0
 [DEBUG] 2018-01-10 11:32:33,763 Line:5853 19:0.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 20:100.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 21:1.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 22:1.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 23:0.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 24:1.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 25:1.0
 [DEBUG] 2018-01-10 11:32:33,764 Line:5853 26:0.0
 [DEBUG] 2018-01-10 11:32:33,765 Line:5853 27:1.0
 [DEBUG] 2018-01-10 11:32:33,765 Line:5853 28:1.0
 [DEBUG] 2018-01-10 11:32:33,765 Line:5853 29:0.0
 [DEBUG] 2018-01-10 11:32:33,765 Line:5853 30:0.0
 [DEBUG] 2018-01-10 11:32:33,765 Line:5853 31:
 [DEBUG] 2018-01-10 11:32:33,765 Line:5853 32:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 33:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 34:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 35:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 36:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 37:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 38:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 39:0.0
 [DEBUG] 2018-01-10 11:32:33,766 Line:5853 40:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 41:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 42:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 43:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 44:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 45:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 46:0.0
 [DEBUG] 2018-01-10 11:32:33,767 Line:5853 47:False
 [DEBUG] 2018-01-10 11:32:33,768 Line:5853 48:0.0
 [DEBUG] 2018-01-10 11:32:33,768 Line:5853 49:f7ed271b_1801101132167370013
 [DEBUG] 2018-01-10 11:32:33,768 Line:5853 50:0.0
 [DEBUG] 2018-01-10 11:32:33,768 Line:5853 51:0.0
 [DEBUG] 2018-01-10 11:32:33,768 Line:5853 52:0.0
 [DEBUG] 2018-01-10 11:32:33,768 Line:5853 53:0.0
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 54:
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 55:0.0
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 56:0.0
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 57:0.0
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 58:0.0
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 59:0.0
 [DEBUG] 2018-01-10 11:32:33,769 Line:5853 60:0.0
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 61:0
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 62:0.0
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 63:1.0
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 64:0
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 65:0.0
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 66:
 [DEBUG] 2018-01-10 11:32:33,770 Line:5853 67:0.0
 [DEBUG] 2018-01-10 11:32:33,771 Line:5853 68:00001
 [DEBUG] 2018-01-10 11:32:33,776 Line:921 自定义执行的语句显示： SalesOutStock_Add :select count(0) NoQuote from tblSalesOutStockDet a left join tblSalesOrderDet b on isnull(a.SalesOrderID,'')=b.f_ref and a.GoodsCode=b.GoodsCode and (a.BatchNo=b.BatchNo or b.BatchNo='') and (a.Inch=b.Inch or b.Inch='') and (a.Hue=b.Hue or b.Hue='') and (a.yearNo=b.yearNo or b.yearNo='') and (a.ProDate=b.ProDate or b.ProDate='') and (a.Availably=b.Availably or b.Availably='') where ? ='true' and a.f_ref=? and b.id is null
 [DEBUG] 2018-01-10 11:32:33,777 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,777 Line:988 1值：false
 [DEBUG] 2018-01-10 11:32:33,777 Line:988 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,783 Line:1025 query condition columnName:NoQuote----value:0
 [DEBUG] 2018-01-10 11:32:33,783 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :0>0
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :0 < 0
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :1 < 0
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :('3'=='3'&&0!=0)||0<0
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :0 < 0
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :''.length>0&&(''.length==0||0==0)
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:313 exeCondition:SalesOutStock_Add :0!=0&&(''.length==0||''.length==0)
 [DEBUG] 2018-01-10 11:32:33,783 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,783 Line:921 自定义执行的语句显示： SalesOutStock_Add :select c.GoodsFullName as CheckGoods from tblSalesOutStockDet b join tblSalesOutStock a on a.id=b.f_ref join tblGoods c on c.classCode=b.GoodsCode where ?='true' and a.id=? and c.BarCode!=b.CheckBarCode 
 [DEBUG] 2018-01-10 11:32:33,783 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,783 Line:988 1值：false
 [DEBUG] 2018-01-10 11:32:33,783 Line:988 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,799 Line:1043 ---上述语句时间---16
 [DEBUG] 2018-01-10 11:32:33,799 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,801 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,801 Line:921 自定义执行的语句显示： SalesOutStock_Add :select GoodsFullName as GoodsSeq from tblSalesOutStockDet a left join tblgoods c on c.classCode=a.GoodsCode where c.seqIsUsed=0 and len(isnull(a.seq,''))=0 and (select isUsed from tblGoodsAttribute where propName='Seq')=1 and a.f_ref=?
 [DEBUG] 2018-01-10 11:32:33,801 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,801 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,810 Line:1043 ---上述语句时间---9
 [DEBUG] 2018-01-10 11:32:33,811 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,811 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,812 Line:921 自定义执行的语句显示： SalesOutStock_Add :select tblGoods.GoodsFullName as GoodsQ from tblSalesOutStockDet,tblGoods where isnull(tblSalesOutStockDet.Qty,0)<=0 and tblGoods.classCode=tblSalesOutStockDet.GoodsCode and f_ref=?
 [DEBUG] 2018-01-10 11:32:33,812 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,812 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,815 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:33,815 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,815 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,816 Line:313 exeCondition:SalesOutStock_Add :'7b19df5c_1801090942474080029'.length>0
 [DEBUG] 2018-01-10 11:32:33,817 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,818 Line:1081 自定义执行的语句显示： SalesOutStock_Add:update tblSalesOutStockDet set SalesOrderID=? where f_ref=? and len(isnull(SalesOrderID,''))=0
 [DEBUG] 2018-01-10 11:32:33,818 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:33,818 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,820 Line:1163 DefineSQLBean.execSql  define=SalesOutStock_Add,  影响行数=0
 [DEBUG] 2018-01-10 11:32:33,820 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-10 11:32:33,821 Line:313 exeCondition:SalesOutStock_Add :true
 [DEBUG] 2018-01-10 11:32:33,821 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,822 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_QuoteOrder_Validate :select a.BillNo,billDate as BuyInDate from tblSalesOrder a,tblSalesOutStockDet b where b.f_ref=? and b.SalesOrderID=a.id and a.BillDate>?
 [DEBUG] 2018-01-10 11:32:33,822 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,822 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,822 Line:988 2值：2018-01-10
 [DEBUG] 2018-01-10 11:32:33,825 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:33,825 Line:313 exeCondition:tblSalesOutStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:32:33,826 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,826 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_QuoteOrder_Validate :select a.BillNo,c.ComFullName from tblSalesOrder a,tblSalesOutStockDet b,tblCompany c where b.f_ref=? and b.SalesOrderID=a.id and a.CompanyCode=c.classCode and a.CompanyCode!=?
 [DEBUG] 2018-01-10 11:32:33,826 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,827 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,827 Line:988 2值：00001
 [DEBUG] 2018-01-10 11:32:33,833 Line:1043 ---上述语句时间---7
 [DEBUG] 2018-01-10 11:32:33,833 Line:313 exeCondition:tblSalesOutStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:32:33,834 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,835 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_QuoteOrder_Validate :select tblSalesOrder.BillNo as BuyOrderID from tblSalesOutStock left join tblSalesOutStockDet on tblSalesOutStock.id=tblSalesOutStockDet.f_ref left join tblSalesOrderDet on tblSalesOrderDet.id=tblSalesOutStockDet.SourceID inner join tblSalesOrder on tblSalesOrder.id=tblSalesOrderDet.f_ref where tblSalesOutStockDet.f_ref=? and tblSalesOutStock.InVoiceType!=tblSalesOrder.InVoiceType
 [DEBUG] 2018-01-10 11:32:33,835 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,835 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,843 Line:1043 ---上述语句时间---8
 [DEBUG] 2018-01-10 11:32:33,843 Line:313 exeCondition:tblSalesOutStock_Add_QuoteOrder_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:32:33,844 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,844 Line:921 自定义执行的语句显示： SalesOutStock_Add :select b.GoodsFullName as GoodsP,b.garniture from tblSalesOutStockDet a,tblGoods b where (isnull(a.Price,0)<0 or (b.garniture='2' and isnull(a.Price,0)=0)) and b.classCode=a.GoodsCode and a.f_ref=? and a.PresentSampleType not in ('1','2')
 [DEBUG] 2018-01-10 11:32:33,845 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,845 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,849 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-10 11:32:33,850 Line:313 exeCondition:SalesOutStock_Add :'null'=='2' && 'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,851 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,851 Line:313 exeCondition:SalesOutStock_Add :'null'=='1' && 'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,852 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,852 Line:921 自定义执行的语句显示： SalesOutStock_Add :select tblGoods.GoodsFullName as GoodsSample from tblSalesOutStockDet,tblGoods where isnull(tblSalesOutStockDet.Price,0)!=0 and tblGoods.classCode=tblSalesOutStockDet.GoodsCode and f_ref=? and tblSalesOutStockDet.PresentSampleType in ('1','2')
 [DEBUG] 2018-01-10 11:32:33,852 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,852 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,856 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-10 11:32:33,856 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,857 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,857 Line:313 exeCondition:SalesOutStock_Add :false==true
 [DEBUG] 2018-01-10 11:32:33,858 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,858 Line:921 自定义执行的语句显示： SalesOutStock_Add :select 'disCountError' as disCountError from tblSalesOutStockDet a where a.f_ref=? and (Discount<=0 or Discount>100)
 [DEBUG] 2018-01-10 11:32:33,858 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,858 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,861 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:33,861 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,862 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,862 Line:921 自定义执行的语句显示： SalesOutStock_Add :select tblGoods.GoodsFullName as GoodsPresent from tblSalesOutStockDet,tblGoods where  f_ref=? and tblGoods.classCode=tblSalesOutStockDet.GoodsCode and tblSalesOutStockDet.PresentPrice<0
 [DEBUG] 2018-01-10 11:32:33,862 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,862 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,865 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:33,865 Line:313 exeCondition:SalesOutStock_Add :'null' != 'null'
 [DEBUG] 2018-01-10 11:32:33,866 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,866 Line:921 自定义执行的语句显示： SalesOutStock_Add :select isnull(dbo.getDigits('tblSalesOutStockDet','TaxAmount',sum(tblSalesOutStockDet.TaxAmount)),'0') as SumDetAmt, dbo.getDigits('tblSalesOutStockDet','TaxAmount',(cast(? as numeric(18,8))+cast(? as numeric(18,8)))) as sumMainAmt from tblSalesOutStockDet where  f_ref=?
 [DEBUG] 2018-01-10 11:32:33,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,867 Line:988 1值：1
 [DEBUG] 2018-01-10 11:32:33,867 Line:988 2值：0
 [DEBUG] 2018-01-10 11:32:33,867 Line:988 3值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,871 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2018-01-10 11:32:33,871 Line:1025 query condition columnName:sumMainAmt----value:1.0
 [DEBUG] 2018-01-10 11:32:33,872 Line:1043 ---上述语句时间---6
 [DEBUG] 2018-01-10 11:32:33,872 Line:313 exeCondition:SalesOutStock_Add :1.0!=1.0
 [DEBUG] 2018-01-10 11:32:33,873 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,873 Line:313 exeCondition:SalesOutStock_Add :true
 [DEBUG] 2018-01-10 11:32:33,875 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,876 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_ManyAccount_Validate :select 'exisAccErr' as exisAccErr from tblSalesRecAccount where tblSalesRecAccount.f_ref=? and (isnull(tblSalesRecAccount.Amount,0)=0)
 [DEBUG] 2018-01-10 11:32:33,876 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,877 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,878 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-10 11:32:33,878 Line:313 exeCondition:tblSalesOutStock_Add_ManyAccount_Validate :'null'!='null'
 [DEBUG] 2018-01-10 11:32:33,879 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,879 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_ManyAccount_Validate :select 'sameAcc' as sameAcc from tblSalesRecAccount where f_ref=? group by Account having count(Account)>1
 [DEBUG] 2018-01-10 11:32:33,879 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,880 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,884 Line:1043 ---上述语句时间---5
 [DEBUG] 2018-01-10 11:32:33,885 Line:313 exeCondition:tblSalesOutStock_Add_ManyAccount_Validate :'null'=='sameAcc'
 [DEBUG] 2018-01-10 11:32:33,886 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,886 Line:313 exeCondition:SalesOutStock_Add :'1' == '1'&&false==true
 [DEBUG] 2018-01-10 11:32:33,887 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,887 Line:921 自定义执行的语句显示： SalesOutStock_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2018-01-10 11:32:33,887 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,888 Line:988 1值：
 [DEBUG] 2018-01-10 11:32:33,888 Line:988 2值：00001
 [DEBUG] 2018-01-10 11:32:33,889 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-10 11:32:33,889 Line:313 exeCondition:SalesOutStock_Add :(''.length == 0 && 1>0 &&1!=1)
 [DEBUG] 2018-01-10 11:32:33,890 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,890 Line:921 自定义执行的语句显示： SalesOutStock_Add : select COUNT(0) as CurrencyC from tblSalesRecAccount a,tblAccTypeInfo b where a.f_ref=? and a.Account=b.AccNumber and b.Currency!=?
 [DEBUG] 2018-01-10 11:32:33,890 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,890 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,890 Line:988 2值：
 [DEBUG] 2018-01-10 11:32:33,894 Line:1025 query condition columnName:CurrencyC----value:0
 [DEBUG] 2018-01-10 11:32:33,894 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-10 11:32:33,895 Line:313 exeCondition:SalesOutStock_Add :0>0
 [DEBUG] 2018-01-10 11:32:33,895 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,895 Line:313 exeCondition:SalesOutStock_Add :'false'=='true'
 [DEBUG] 2018-01-10 11:32:33,896 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,896 Line:313 exeCondition:SalesOutStock_Add :true==true
 [DEBUG] 2018-01-10 11:32:33,897 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,897 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_UnderLimitPrice_Validate :select count(0) as allowCount from tblUserSunCompany a,tblRightType b where ((a.userid=? and a.roleids like '%'+b.id+';%') or b.id=?) and rightType='UnderLimitprice' and hasRight=1
 [DEBUG] 2018-01-10 11:32:33,897 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,898 Line:988 1值：1
 [DEBUG] 2018-01-10 11:32:33,898 Line:988 2值：1
 [DEBUG] 2018-01-10 11:32:33,906 Line:1025 query condition columnName:allowCount----value:0
 [DEBUG] 2018-01-10 11:32:33,907 Line:1043 ---上述语句时间---10
 [DEBUG] 2018-01-10 11:32:33,907 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_UnderLimitPrice_Validate :select b.GoodsFullName as GoodsFullName,cast(a.DisPrice as numeric(18,4)) as DisPrice,cast(b.Pricefixing as numeric(18,4)) as Pricefixing from tblSalesOutStockDet a,tblGoods b where a.f_ref=? and a.goodsCode=b.classCode and a.PresentSampleType not in ('1','2') and b.Pricefixing>0 and a.DisPrice<b.Pricefixing
 [DEBUG] 2018-01-10 11:32:33,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,907 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,911 Line:1043 ---上述语句时间---4
 [DEBUG] 2018-01-10 11:32:33,911 Line:313 exeCondition:tblSalesOutStock_Add_UnderLimitPrice_Validate :'null'!='null'&&0==0&&'1'!='1'
 [DEBUG] 2018-01-10 11:32:33,912 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,912 Line:313 exeCondition:tblSalesOutStock_Add_UnderLimitPrice_Validate :'null'!='null'&&(0!=0||'1'=='1')
 [DEBUG] 2018-01-10 11:32:33,913 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,913 Line:313 exeCondition:SalesOutStock_Add :'false'=='false'
 [DEBUG] 2018-01-10 11:32:33,913 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,913 Line:1081 自定义执行的语句显示： SalesOutStock_Add:update tblSalesOutStockDet set StockCode=? where f_ref=?
 [DEBUG] 2018-01-10 11:32:33,914 Line:1157 1值：00001
 [DEBUG] 2018-01-10 11:32:33,914 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,916 Line:1163 DefineSQLBean.execSql  define=SalesOutStock_Add,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,916 Line:408 ************上述语句执行时间：3
 [DEBUG] 2018-01-10 11:32:33,916 Line:313 exeCondition:SalesOutStock_Add :false==true
 [DEBUG] 2018-01-10 11:32:33,917 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,918 Line:921 自定义执行的语句显示： SalesOutStock_Add : select count(0) nostockcode from tblSalesOutStockDet where f_ref=? and len(isnull(stockcode,''))=0  
 [DEBUG] 2018-01-10 11:32:33,918 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:33,918 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,920 Line:1025 query condition columnName:nostockcode----value:0
 [DEBUG] 2018-01-10 11:32:33,921 Line:1043 ---上述语句时间---3
 [DEBUG] 2018-01-10 11:32:33,921 Line:313 exeCondition:SalesOutStock_Add : 0 > 0 
 [DEBUG] 2018-01-10 11:32:33,922 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,922 Line:313 exeCondition:SalesOutStock_Add :false==true
 [DEBUG] 2018-01-10 11:32:33,923 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,923 Line:313 exeCondition:SalesOutStock_Add :true
 [DEBUG] 2018-01-10 11:32:33,923 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,928 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'false'=='false'
 [DEBUG] 2018-01-10 11:32:33,931 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,931 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set StockCode=? where f_ref=?
 [DEBUG] 2018-01-10 11:32:33,932 Line:1157 1值：00001
 [DEBUG] 2018-01-10 11:32:33,932 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,932 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,933 Line:408 ************上述语句执行时间：2
 [DEBUG] 2018-01-10 11:32:33,933 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'false'=='true'
 [DEBUG] 2018-01-10 11:32:33,934 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:33,935 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'7b19df5c_1801090942474080029'.length>0
 [DEBUG] 2018-01-10 11:32:33,935 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,936 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set SalesOrderID=? where f_ref=? and len(isnull(SalesOrderID,''))=0
 [DEBUG] 2018-01-10 11:32:33,936 Line:1157 1值：7b19df5c_1801090942474080029
 [DEBUG] 2018-01-10 11:32:33,936 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,936 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=0
 [DEBUG] 2018-01-10 11:32:33,937 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-10 11:32:33,937 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:32:33,937 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,938 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStock set FactIncome=a.Amount,AlrAccAmt=a.Amount,AccAmt=a.Amount,CurAlrAccAmt=a.CurAmount from (select isnull(sum(Amount),0) as Amount,isnull(sum(isnull(ExeBalFcAmt,0)),0) curAmount from tblSalesRecAccount as a where a.f_ref=?) as a where tblSalesOutStock.id=?
 [DEBUG] 2018-01-10 11:32:33,938 Line:1157 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,938 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,942 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,942 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-10 11:32:33,943 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:32:33,943 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,944 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:UPDATE b SET b.PreferAmount=case when convert(numeric(18,8),?)+convert(numeric(18,8),?)=0 then 0 else round(convert(numeric(28,8),?*TaxAmount)/(convert(numeric(18,8),?)+convert(numeric(18,8),?)),?) end FROM tblSalesOutStock a, tblSalesOutStockDet b WHERE a.id=b.f_ref and a.id=?
 [DEBUG] 2018-01-10 11:32:33,944 Line:1157 1值：1
 [DEBUG] 2018-01-10 11:32:33,944 Line:1157 2值：0
 [DEBUG] 2018-01-10 11:32:33,944 Line:1157 3值：0
 [DEBUG] 2018-01-10 11:32:33,944 Line:1157 4值：1
 [DEBUG] 2018-01-10 11:32:33,944 Line:1157 5值：0
 [DEBUG] 2018-01-10 11:32:33,944 Line:1154 6整数 值：2
 [DEBUG] 2018-01-10 11:32:33,945 Line:1157 7值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,948 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,948 Line:408 ************上述语句执行时间：5
 [DEBUG] 2018-01-10 11:32:33,949 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set PreferAmount=PreferAmount+?-(select sum(PreferAmount) from tblSalesOutStockDet a where a.f_ref=?) where f_ref=? and id=(select top 1 id from tblSalesOutStockDet k where k.f_ref=? and TaxAmount!=0 order by detOrderNo desc)
 [DEBUG] 2018-01-10 11:32:33,949 Line:1157 1值：0
 [DEBUG] 2018-01-10 11:32:33,949 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,949 Line:1157 3值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,950 Line:1157 4值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,950 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,950 Line:408 ************上述语句执行时间：1
 [DEBUG] 2018-01-10 11:32:33,950 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:UPDATE tblSalesOutStockDet SET PreferBackAmount=TaxAmount-PreferAmount,AfterChangeAmt=TaxAmount-PreferAmount,NeedReceiveAmt=TaxAmount,CurAfterChangeAmt=CurAmount-PreferAmount/?,CurNeedReceiveAmt=CurAmount,FactOutQty=Qty,BackQty=0,BackAmount=0,NoInvoiceQty=Qty,InvoiceQty=0 where tblSalesOutStockDet.f_ref=?
 [DEBUG] 2018-01-10 11:32:33,950 Line:1157 1值：1
 [DEBUG] 2018-01-10 11:32:33,950 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,950 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,950 Line:408 ************上述语句执行时间：0
 [DEBUG] 2018-01-10 11:32:33,950 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStock set BackAmount=0,CurBackAmount=0,AfterChangeAmt=TotalTaxAmount,CurAfterChangeAmt=CurTotalAmount,InvoiceAmount=0,NoInvoiceAmount=TotalTaxAmount,InvoiceStatus='False',TotalAlrAccAmt=AlrAccAmt,NeedReturnAmt=TotalTaxAmount-AlrAccAmt,CurTotalAlrAccAmt=CurAlrAccAmt,CurNeedReturnAmt=CurTotalAmount-CurAlrAccAmt,hashDeputyReceAmt=0,CertificateNo='' where id=?
 [DEBUG] 2018-01-10 11:32:33,950 Line:1157 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,966 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,966 Line:408 ************上述语句执行时间：16
 [DEBUG] 2018-01-10 11:32:33,966 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :1 > 0
 [DEBUG] 2018-01-10 11:32:33,966 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,966 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:UPDATE c SET c.InvoiceAmountH=round(c.TaxAmount/b.alltax*a.TotalTaxAmount,?) from tblSalesOutStock a,(SELECT SUM(TaxAmount) AS alltax FROM tblSalesOutStockDet where f_ref=?) b,tblSalesOutStockDet c WHERE a.id=c.f_ref and a.id=? 
 [DEBUG] 2018-01-10 11:32:33,966 Line:1154 1整数 值：2
 [DEBUG] 2018-01-10 11:32:33,966 Line:1157 2值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,966 Line:1157 3值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,966 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,966 Line:408 ************上述语句执行时间：0
 [DEBUG] 2018-01-10 11:32:33,966 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:32:33,966 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,966 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set NoInvoiceAmount=InvoiceAmountH-InvoiceAmount,InvoiceStatus='False' where f_ref=?
 [DEBUG] 2018-01-10 11:32:33,966 Line:1157 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,966 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:33,966 Line:408 ************上述语句执行时间：0
 [DEBUG] 2018-01-10 11:32:33,966 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :true
 [DEBUG] 2018-01-10 11:32:33,966 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:33,966 Line:1264 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:{call proc_SalesUpdateOrderQty(?,?,?,?)}
 [DEBUG] 2018-01-10 11:32:33,966 Line:1270 f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:33,966 Line:1270 add
 [DEBUG] 2018-01-10 11:32:34,055 Line:425 ************上述语句执行时间：89
 [DEBUG] 2018-01-10 11:32:34,055 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-10 11:32:34,056 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:34,056 Line:1264 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:{call proc_updateStocksNotAudit(@GoodsCode=?,@StockCode=?,@BillType=?,@InstoreQty=?,@OutstoreQty=?,@from=?,@where=?,@retCode=?,@retVal=?)}
 [DEBUG] 2018-01-10 11:32:34,056 Line:1270 tblSalesOutStockDet.GoodsCode
 [DEBUG] 2018-01-10 11:32:34,056 Line:1270 tblSalesOutStockDet.StockCode
 [DEBUG] 2018-01-10 11:32:34,057 Line:1270 tblSalesOutStock
 [DEBUG] 2018-01-10 11:32:34,057 Line:1270 0
 [DEBUG] 2018-01-10 11:32:34,057 Line:1270 tblSalesOutStockDet.Qty
 [DEBUG] 2018-01-10 11:32:34,057 Line:1270 tblSalesOutStockDet
 [DEBUG] 2018-01-10 11:32:34,057 Line:1270 f_ref='f7ed271b_1801101132337340015'
 [DEBUG] 2018-01-10 11:32:34,081 Line:1292 存储过程内部信息： select ROW_NUMBER() over(order by tblSalesOutStockDet.GoodsCode),'tblSalesOutStock',tblSalesOutStockDet.GoodsCode,tblSalesOutStockDet.StockCode,0,tblSalesOutStockDet.Qty,LTRIM(RTRIM(BatchNo)),LTRIM(RTRIM(Inch)),LTRIM(RTRIM(Hue)),LTRIM(RTRIM(yearNO)),LTRIM(RTRIM(ProDate)),LTRIM(RTRIM(Availably)) from tblSalesOutStockDet where f_ref='f7ed271b_1801101132337340015'
 [DEBUG] 2018-01-10 11:32:34,083 Line:425 ************上述语句执行时间：27
 [DEBUG] 2018-01-10 11:32:34,083 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'1' != '0'
 [DEBUG] 2018-01-10 11:32:34,083 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:34,083 Line:1264 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:{call proc_insertSeqOutInDet(?,?,?,?)}
 [DEBUG] 2018-01-10 11:32:34,083 Line:1270 f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:34,083 Line:1270 add
 [DEBUG] 2018-01-10 11:32:34,133 Line:425 ************上述语句执行时间：50
 [DEBUG] 2018-01-10 11:32:34,134 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :'1' == '0'&& false==false
 [DEBUG] 2018-01-10 11:32:34,135 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:34,135 Line:921 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore :select isnull(sum(Amount),0) as sumAmount from tblSalesRecAccount where f_ref=?
			
 [DEBUG] 2018-01-10 11:32:34,135 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2018-01-10 11:32:34,135 Line:988 1值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:34,137 Line:1023 query condition columnName:sumAmount----value:0E-8
 [DEBUG] 2018-01-10 11:32:34,137 Line:1043 ---上述语句时间---2
 [DEBUG] 2018-01-10 11:32:34,137 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :0.0>=1
 [DEBUG] 2018-01-10 11:32:34,138 Line:321 flag:false
 [DEBUG] 2018-01-10 11:32:34,138 Line:313 exeCondition:tblSalesOutStock_Add_AccBefore :0.0<1
 [DEBUG] 2018-01-10 11:32:34,139 Line:321 flag:true
 [DEBUG] 2018-01-10 11:32:34,139 Line:1081 自定义执行的语句显示： tblSalesOutStock_Add_AccBefore:update tblSalesOutStockDet set TotalReceiveAmt=case when convert(numeric(28,8),?)+convert(numeric(28,8),?)=0 then 0 else round(convert(numeric(28,8),?*TaxAmount)/(convert(numeric(28,8),?)+convert(numeric(28,8),?)),?) end where f_ref=?
			
 [DEBUG] 2018-01-10 11:32:34,139 Line:1157 1值：1
 [DEBUG] 2018-01-10 11:32:34,139 Line:1157 2值：0
 [DEBUG] 2018-01-10 11:32:34,140 Line:1157 3值：0.0
 [DEBUG] 2018-01-10 11:32:34,140 Line:1157 4值：1
 [DEBUG] 2018-01-10 11:32:34,140 Line:1157 5值：0
 [DEBUG] 2018-01-10 11:32:34,140 Line:1154 6整数 值：2
 [DEBUG] 2018-01-10 11:32:34,140 Line:1157 7值：f7ed271b_1801101132337340015
 [DEBUG] 2018-01-10 11:32:34,142 Line:1163 DefineSQLBean.execSql  define=tblSalesOutStock_Add_AccBefore,  影响行数=1
 [DEBUG] 2018-01-10 11:32:34,143 Line:408 ************上述语句执行时间：4
 [DEBUG] 2018-01-10 11:32:34,165 Line:1064  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:34,169 Line:1064  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:34,171 Line:108 插入OAMyWorkFlow表开始 designId=eae3edac_0906121936578750103;tableName=tblSalesOutStock;id=f7ed271b_1801101132337340015;loginBean=1;locale=zh_CN
 [DEBUG] 2018-01-10 11:32:34,191 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do?keyId=f7ed271b_1801101132337340015&currNodeId=0&nextNodeIds=null&department=00101&tableName=tblSalesOutStock&designId=eae3edac_0906121936578750103&operation=82&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-10 11:32:34,191 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[f7ed271b_1801101132337340015,];currNodeId=[0,];nextNodeIds=[null,];department=[00101,];tableName=[tblSalesOutStock,];designId=[eae3edac_0906121936578750103,];operation=[82,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-10 11:32:34,194 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:32:34,205 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:34,210 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:35,754 Line:135 BaseAction.execute 请求地址：/OAMyWorkFlow.do
 [DEBUG] 2018-01-10 11:32:35,754 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[79,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[$winCurIndex,$winCurIndex,];keyId=[f7ed271b_1801101132337340015,];attachFiles=[,];delFiles=[,];designId=[eae3edac_0906121936578750103,];currNode=[0,];department=[00101,];fromAdvice=[,];approveStatus=[,];noback=[false,];toPage=[,];fromPage=[,];tableName=[tblSalesOutStock,];checkFlag=[,];moduleType=[,];f_brother=[,];pageNo=[,];parentCode=[,];parentTableName=[,];popedomUserIds=[,];popedomDeptIds=[,];saveDraft=[,];type=[,];deliverance=[,];nextStep=[1515553127150,];checkPerson=[2cf86be0_1712291628149430079,];
 [DEBUG] 2018-01-10 11:32:35,754 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:32:35,758 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:32:35,765 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:35,768 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:36,887 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOutStock&operation=5&parentCode=&f_brother=&keyId=f7ed271b_1801101132337340015&moduleType=&checkTab=Y&parentTableName=&winCurIndex=$winCurIndex
 [DEBUG] 2018-01-10 11:32:36,887 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOutStock,];operation=[5,];parentCode=[,];f_brother=[,];keyId=[f7ed271b_1801101132337340015,];moduleType=[,];checkTab=[Y,];parentTableName=[,];winCurIndex=[$winCurIndex,];
 [DEBUG] 2018-01-10 11:32:36,888 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:32:36,893 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:32:36,894 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:38:16,052 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-10 11:38:16,052 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-10 11:38:16,053 Line:215 ---------->SET Page 3 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-10 11:38:17,086 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-10 11:38:17,086 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-10 11:38:18,577 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=4
 [DEBUG] 2018-01-10 11:38:18,577 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-10 11:38:18,577 Line:215 ---------->SET Page 4 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-10 11:38:24,016 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-10 11:38:24,016 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[4,];search=[销售出库单,];
 [DEBUG] 2018-01-10 11:38:26,431 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&search=%E9%94%80%E5%94%AE%E5%87%BA%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-10 11:38:26,432 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];search=[é??????????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-10 11:38:26,682 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-10 11:38:26,682 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-10 11:38:26,700 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-10 11:38:26,701 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-10 11:38:27,327 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 11:38:27,327 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 11:39:27,474 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:39:27,475 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:39:27,475 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:39:27,521 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:39:27,523 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 11:40:16,792 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:40:16,793 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:40:16,793 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:40:16,808 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:40:16,810 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 11:40:18,058 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 11:40:18,059 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 11:40:18,060 Line:243 AIOApi op=detail&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:40:18,241 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:40:18,249 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:40:18,253 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:40:18,400 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 11:40:37,052 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 11:40:37,204 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 11:40:37,205 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 11:40:37,205 Line:243 AIOApi op=detail&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:40:37,209 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:40:37,211 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:40:37,213 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:40:37,394 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 11:41:24,142 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:41:24,143 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:41:24,143 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:41:24,168 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:41:24,170 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 11:41:25,874 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 11:41:25,875 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 11:41:25,875 Line:243 AIOApi op=myworkflow&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:41:25,890 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 11:41:25,892 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 11:41:26,620 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 11:41:26,620 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 11:41:26,621 Line:243 AIOApi op=detail&sessionid=F0959AC4133A0AD643F5995A367C2F33
 [DEBUG] 2018-01-10 11:41:26,728 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:41:26,736 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 11:41:26,739 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 11:41:26,877 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 12:10:55,776 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 12:56:53,847 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 12:58:57,065 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 12:58:57,065 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 12:58:57,066 Line:243 AIOApi op=detail&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:58:57,071 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 12:58:58,962 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 12:58:58,962 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 12:58:58,962 Line:243 AIOApi op=LOGIN&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:58:59,001 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 12:58:59,047 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 12:58:59,061 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 12:58:59,108 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 12:58:59,563 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 12:58:59,564 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 12:58:59,564 Line:243 AIOApi op=getSessEmp&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:58:59,565 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 12:58:59,577 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 12:58:59,577 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 12:58:59,577 Line:243 AIOApi op=getEnum&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:58:59,578 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 12:59:01,760 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-10 12:59:01,760 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];tableName=[tblSalesOrder,];selectName=[model_getWorkNodeByTblName,];pageNo=[1,];pageSize=[10,];
 [DEBUG] 2018-01-10 12:59:01,761 Line:243 AIOApi op=popup&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:59:01,771 Line:3434 DynDBManager.popSelect selectName=model_getWorkNodeByTblName; sql=select *  from (select OAWorkFlowNode.keyId f1 ,OAWorkFlowNode.display f2 
,ROW_NUMBER() over( order by OAWorkFlowNode.keyId) as row_id from OAWorkFlowNode 
left join OAWorkFlowTemplate on OAWorkFlowNode.flowId = OAWorkFlowTemplate.id
where OAWorkFlowTemplate.templateFile = 'tblSalesOrder' and statusId = 0) a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2018-01-10 12:59:01,783 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"label":"开始","value":"0"},{"label":"结束","value":"-1"},{"label":"财务审核","value":"1513322743692"},{"label":"预收金额","value":"1515461868057"}]}}
 [DEBUG] 2018-01-10 12:59:03,277 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2018-01-10 12:59:03,279 Line:3004 MobileAjax 操作人:admin;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2018-01-10T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2018-01-10 12:59:03,279 Line:243 AIOApi op=report&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:59:03,360 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,DeptFullName,EmpFullName,ReceiveDate,TotalTaxAmount,CurTotalTaxAmount,SaleAmount,AccAmount,BackAmount,AccName,AlrAccAmt,sysName,id,statusId,Qty,OutQty,NotOut,Remark,CompanyCode,JAmount,JAmountz,InvoiceType,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblSalesOrder.ReceiveDate as ReceiveDate,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     isnull((select SUM(a.AfterChangeAmt) from tblSalesOutStockDet a,tblSalesOutStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0)-isnull((select SUM(a.TaxAmount) from tblSalesReturnStockDet a,tblSalesReturnStock b where a.SalesOrderID=tblSalesOrder.id and a.f_ref=b.id and b.workFlowNodeName='finish'),0) as SaleAmount,     (select isnull(sum(a.TotalAlrAccAmt),0) from tblsalesoutstock a where a.SalesOrderID=tblSalesOrder.id and a.workFlowNodeName='finish') as AccAmount,     tblSalesOrder.BackAmount as BackAmount,     tblAccTypeInfo.AccName as AccName,     tblSalesOrder.AlrAccAmt as AlrAccAmt,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.statusId as statusId,     (select isnull(sum(Qty),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as Qty,     (select isnull(sum(isnull(case when OutQty<=0 then 0 else OutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as OutQty,     (select isnull(sum(isnull(case when NotOutQty<=0 then 0 else NotOutQty end,0)),0) from tblsalesOrderDet where tblsalesOrderDet.f_ref=tblSalesOrder.id) as NotOut,     tblSalesOrder.Remark as Remark,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmountz,     tblSalesOrder.InvoiceType as InvoiceType   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   left join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'        and (tblSalesOrder.BillDate >= ?)       and (tblSalesOrder.BillDate <= ?)                                                                    )  a  where row_id between 1 and 11 order by row_id
 [DEBUG] 2018-01-10 12:59:03,361 Line:582 ReportDataMgt.getReportData 参数1:2009-12-31T16:00:00.000Z
 [DEBUG] 2018-01-10 12:59:03,361 Line:582 ReportDataMgt.getReportData 参数2:2018-01-10T16:00:00.000Z
 [DEBUG] 2018-01-10 12:59:03,420 Line:689 通过SQL读原始数据：59
 [DEBUG] 2018-01-10 12:59:03,421 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 12:59:03,425 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"conditions":[["BillDate1","2009-12-31T16:00:00.000Z"],["BillDate2","2018-01-10T16:00:00.000Z"],["BillNo",""],["ComFullNamen",""],["ComName",""],["DeptFullName",""],["EmpFullName",""],["sysName",""],["statusId",""],["JAmount",""],["workFlowNodeName",""]],"cols":[["单据日期","70","date","","BillDate"],["单据编号","100","stringcall","","BillNo"],["客户全称","200","string","","ComFullName"],["客户编号","100","string","","ComNumber"],["部门","75","string","","DeptFullName"],["经手人","50","s等等！
 [DEBUG] 2018-01-10 12:59:09,989 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 12:59:09,990 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[ea9434ab_1801021457313380005,];
 [DEBUG] 2018-01-10 12:59:09,990 Line:243 AIOApi op=detail&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:59:10,026 Line:1525  select * from  tblSalesOrderDet where f_ref = 'ea9434ab_1801021457313380005' order by detOrderNo
 [DEBUG] 2018-01-10 12:59:10,033 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='ea9434ab_1801021457313380005' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 12:59:10,148 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"","Tax":0.0,"CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"TotalTaxAmount":12.00000000,"NoInvoiceAmount":12.00000000,"CurNeedReturnAmt":0.0,"id":"ea9434ab_1801021457313380005","tblCompany.ComFullName":"包盛","AlrAccAmt":0.0,"finishTi等等！
 [DEBUG] 2018-01-10 12:59:10,175 Line:2993 MobileAjax 请求地址：/MobileAjax?op=popup
 [DEBUG] 2018-01-10 12:59:10,176 Line:3004 MobileAjax 操作人:admin;请求数据：op=[popup,];selectName=[model_getClientInfo,];pageNo=[1,];pageSize=[10,];CompanyCode=[00001,];
 [DEBUG] 2018-01-10 12:59:10,177 Line:243 AIOApi op=popup&sessionid=9F00ABF95BC556ADD772DB84DB346C5A
 [DEBUG] 2018-01-10 12:59:10,177 Line:3434 DynDBManager.popSelect selectName=model_getClientInfo; sql=select *  from (select tblCompany.classCode f1 ,tblCompany.ComFullName f2 
,ROW_NUMBER() over( order by tblCompany.classCode) as row_id from  tblCompany as  tblCompany 
where  tblCompany.classCode= '00001') a where  row_id between 1 and 10 order by row_id 
 [DEBUG] 2018-01-10 12:59:10,182 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"result":[{"ComFullName":"包盛","CompanyCode":"00001"}]}}
 [DEBUG] 2018-01-10 13:27:15,635 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 13:45:02,984 Line:2993 MobileAjax 请求地址：/MobileAjax?op=report&tableName=tblSalesOrder
 [DEBUG] 2018-01-10 13:45:02,985 Line:3004 MobileAjax 操作人:;请求数据：op=[report,];tableName=[tblSalesOrder,];pageNo=[1,];pageSize=[10,];src=[menu,];statusId=[,];BillNo=[,];BillDate1=[2009-12-31T16:00:00.000Z,];BillDate2=[2018-01-10T16:00:00.000Z,];workFlowNodeName=[,];
 [DEBUG] 2018-01-10 13:45:02,985 Line:243 AIOApi op=report&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:45:02,986 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 13:45:08,138 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 13:45:08,139 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 13:45:08,139 Line:243 AIOApi op=LOGIN&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:45:08,180 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 13:45:08,245 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 13:45:08,264 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 13:45:08,313 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 13:45:08,804 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 13:45:08,805 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 13:45:08,805 Line:243 AIOApi op=getSessEmp&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:45:08,805 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 13:45:08,815 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 13:45:08,816 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 13:45:08,816 Line:243 AIOApi op=getEnum&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:45:08,816 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 13:46:29,596 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 13:46:29,597 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 13:46:29,597 Line:243 AIOApi op=myworkflow&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:46:29,644 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 13:46:29,647 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 13:46:32,053 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 13:46:32,054 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 13:46:32,054 Line:243 AIOApi op=myworkflow&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:46:32,069 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 13:46:32,071 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 13:46:35,414 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 13:46:35,415 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 13:46:35,415 Line:243 AIOApi op=detail&sessionid=95EA0185CC9B6DAB6653B6D22299CC66
 [DEBUG] 2018-01-10 13:46:35,574 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 13:46:35,582 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 13:46:35,585 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 13:46:35,740 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 13:57:33,906 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 14:27:52,421 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 14:32:18,669 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:32:18,670 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:32:18,671 Line:243 AIOApi op=detail&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:32:18,672 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 14:32:20,381 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 14:32:20,381 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 14:32:20,381 Line:243 AIOApi op=LOGIN&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:32:20,418 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 14:32:20,454 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 14:32:20,467 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 14:32:20,510 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 14:32:20,930 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 14:32:20,931 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 14:32:20,931 Line:243 AIOApi op=getSessEmp&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:32:20,931 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 14:32:23,862 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:32:23,862 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:32:23,863 Line:243 AIOApi op=detail&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:32:23,940 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:32:23,953 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:32:23,956 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:32:24,136 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:33:48,938 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:33:48,939 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:33:48,939 Line:243 AIOApi op=detail&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:33:49,040 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:33:49,049 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:33:49,052 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:33:49,225 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:34:29,643 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:34:29,644 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:34:29,644 Line:243 AIOApi op=detail&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:34:29,747 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:34:29,757 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:34:29,760 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:34:29,931 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [ERROR] 2018-01-10 14:34:29,938 Line:2966 MobileAjax.respMsg
 org.apache.catalina.connector.ClientAbortException: java.net.SocketException: Software caused connection abort: socket write error
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:407)
	at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:371)
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:432)
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:420)
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:91)
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:84)
	at com.menyi.aio.web.mobile.AIOApi.respMsg(AIOApi.java:2964)
	at com.menyi.aio.web.mobile.AIOApi.setMsg(AIOApi.java:2942)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1533)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.net.SocketException: Software caused connection abort: socket write error
	at java.net.SocketOutputStream.socketWrite0(Native Method)
	at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)
	at java.net.SocketOutputStream.write(SocketOutputStream.java:153)
	at org.apache.coyote.http11.InternalOutputBuffer.realWriteBytes(InternalOutputBuffer.java:215)
	at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:480)
	at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:366)
	at org.apache.coyote.http11.InternalOutputBuffer$OutputStreamOutputBuffer.doWrite(InternalOutputBuffer.java:240)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:119)
	at org.apache.coyote.http11.AbstractOutputBuffer.doWrite(AbstractOutputBuffer.java:192)
	at org.apache.coyote.Response.doWrite(Response.java:499)
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:402)
	... 33 more
[DEBUG] 2018-01-10 14:34:30,097 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:34:30,098 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:34:30,098 Line:243 AIOApi op=detail&sessionid=8103DA7F2E208883F291EB5182D468D0
 [DEBUG] 2018-01-10 14:34:30,102 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:34:30,105 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:34:30,107 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:34:30,243 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:35:12,709 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 14:35:12,709 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 14:35:12,710 Line:243 AIOApi op=getSessEmp&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:12,710 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 14:35:19,704 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 14:35:19,705 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 14:35:19,705 Line:243 AIOApi op=LOGIN&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:19,725 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 14:35:19,745 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 14:35:19,753 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 14:35:19,801 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 14:35:20,271 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 14:35:20,272 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 14:35:20,272 Line:243 AIOApi op=getSessEmp&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:20,272 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 14:35:20,285 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 14:35:20,285 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 14:35:20,286 Line:243 AIOApi op=getEnum&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:20,286 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 14:35:29,991 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 14:35:29,991 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 14:35:29,991 Line:243 AIOApi op=myworkflow&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:30,020 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 14:35:30,022 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 14:35:31,085 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 14:35:31,085 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 14:35:31,085 Line:243 AIOApi op=myworkflow&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:31,100 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 14:35:31,102 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 14:35:32,113 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:35:32,114 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:35:32,114 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:35:32,206 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:35:32,214 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:35:32,217 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:35:32,346 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:36:02,231 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:36:02,231 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:36:02,231 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:36:02,237 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:36:02,240 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:36:02,241 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:36:02,378 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:36:25,139 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:36:25,140 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:36:25,140 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:36:25,212 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:36:25,221 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:36:25,225 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:36:25,384 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:37:32,650 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:37:32,650 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:37:32,651 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:37:32,684 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:37:32,691 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:37:32,694 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:37:32,820 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:38:39,472 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:38:39,473 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:38:39,473 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:38:39,570 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:38:39,579 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:38:39,584 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:38:39,741 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:39:06,840 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:39:06,841 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:39:06,843 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:39:06,847 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:06,849 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:06,851 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:39:06,987 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:39:20,798 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:39:20,799 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:39:20,799 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:39:20,802 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:20,805 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:20,806 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:39:20,950 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:39:22,819 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 14:39:22,819 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 14:39:22,819 Line:243 AIOApi op=myworkflow&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:39:22,846 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 14:39:22,848 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 14:39:24,530 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:39:24,531 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOrder,];keyId=[7b19df5c_1801090941197570016,];
 [DEBUG] 2018-01-10 14:39:24,531 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:39:24,583 Line:1525  select * from  tblSalesOrderDet where f_ref = '7b19df5c_1801090941197570016' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:24,591 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='7b19df5c_1801090941197570016' and  a.tableName='tblSalesOrder'
 [DEBUG] 2018-01-10 14:39:24,684 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":true,"hurryTrans":false,"hasCancel":false,"opType":"update","updateRight":true,"deleteRight":true,"values":{"Account":"","PeriodYear":2018,"CurrencyRate":1.00000000,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurfreightAmount":0.0,"Remark":"","CurNotAmortDeposit":0.0,"ReceiveDate":"","CRMpactID":"","TotalTaxAmount":1.00000000,"Currency":"","NoInvoiceAmount":1.00000000,"CurNeedReturnAmt":等等！
 [DEBUG] 2018-01-10 14:39:28,547 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 14:39:28,547 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 14:39:28,548 Line:243 AIOApi op=myworkflow&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:39:28,567 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 14:39:28,568 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 14:39:29,113 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 14:39:29,113 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 14:39:29,113 Line:243 AIOApi op=detail&sessionid=413CA9ABC0AB59BF26D2A79BF36C2CE7
 [DEBUG] 2018-01-10 14:39:29,117 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:29,120 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 14:39:29,121 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 14:39:29,237 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 14:58:11,742 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 15:28:30,126 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 15:58:49,571 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 16:23:23,817 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-10 16:23:23,818 Line:146 BaseAction.execute 操作人:;请求数据：
 [DEBUG] 2018-01-10 16:23:23,818 Line:59 MenuManager.doAuth() ---------- loginBean is null
 [DEBUG] 2018-01-10 16:23:24,022 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-10 16:23:24,023 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-10 16:23:24,114 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-10 16:23:24,115 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-10 16:23:24,202 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515572604201
 [DEBUG] 2018-01-10 16:23:24,203 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515572604201,];
 [DEBUG] 2018-01-10 16:23:25,885 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515572605884
 [DEBUG] 2018-01-10 16:23:25,886 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515572605884,];
 [DEBUG] 2018-01-10 16:23:25,890 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515572605888
 [DEBUG] 2018-01-10 16:23:25,890 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515572605888,];
 [DEBUG] 2018-01-10 16:23:25,898 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-10 16:23:25,898 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 16:23:25,950 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 16:23:25,960 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 16:23:26,023 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-10 16:23:26,023 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-10 16:23:26,024 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:23:26,233 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-10 16:23:26,234 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-10 16:23:26,245 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-10 16:23:26,245 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-10 16:23:26,246 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:23:26,254 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-10 16:23:26,254 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-10 16:23:26,254 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:23:26,261 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-10 16:23:26,261 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-10 16:23:26,262 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:23:26,268 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-10 16:23:26,268 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-10 16:23:26,269 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:23:28,186 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblBuyInStock&src=menu&winCurIndex=1
 [DEBUG] 2018-01-10 16:23:28,186 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblBuyInStock,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-10 16:23:28,186 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblBuyInStock
 [DEBUG] 2018-01-10 16:23:28,230 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullNamen,ComFullName,ComNumber,InVoiceType,TotalTaxAmount,freightAmount,CurTotalTaxAmount,AlreadyPayAmt,BackAmount,CertificateNo,EmpFullName,DeptFullName,BuyOrderNo,EmpFullName2,id,Kid,Remark,lastUpdateBy,lastUpdateTime,NeedPayAmt2,AlreadyPayAmt2,AfterChangeAmt2,ChangeAmt2,DiscountAmount2,TotalTaxAmount2,workFlowNodeName from ( select tblBuyInStock.id as keyId,tblBuyInStock.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblBuyInStock.createBy) as deptCodeR,tblBuyInStock.employeeId as employeeId,tblBuyInStock.departmentCode as deptCodeRE, tblBuyInStock.workFlowNodeName as workFlowNodeName,       tblBuyInStock.BillDate as BillDate,     tblBuyInStock.BillNo as BillNo,     tblCompany.ComFullName as ComFullNamen,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     tblBuyInStock.InVoiceType as InVoiceType,     tblBuyInStock.TotalTaxAmount as TotalTaxAmount,     tblBuyInStock.freightAmount as freightAmount,     tblBuyInStock.CurTotalAmount as CurTotalTaxAmount,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt,     tblBuyInStock.BackAmount as BackAmount,     case when len(tblBuyInStock.CertificateNo)>0 then 1 else 0 end as CertificateNo,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblBuyOrder.BillNo as BuyOrderNo,     tblEmployee2.EmpFullName as EmpFullName2,     tblBuyInStock.id as id,     tblBuyOrder.id as Kid,     tblBuyInStock.Remark as Remark,     emp2.EmpFullName as lastUpdateBy,     tblBuyInStock.lastUpdateTime as lastUpdateTime,     tblBuyInStock.NeedPayAmt as NeedPayAmt2,     tblBuyInStock.AlreadyPayAmt as AlreadyPayAmt2,     tblBuyInStock.AfterChangeAmt as AfterChangeAmt2,     tblBuyInStock.ChangeAmt as ChangeAmt2,     tblBuyInStock.DiscountAmount as DiscountAmount2,     tblBuyInStock.TotalAmount as TotalTaxAmount2   ,ROW_NUMBER() over(order by     tblBuyInStock.BillDate desc,    tblBuyInStock.BillNo desc) as row_id  from tblBuyInStock   left join tblCompany on tblCompany.classCode=tblBuyInStock.CompanyCode  left join tblBuyInStockDet on (tblBuyInStock.id=tblBuyInStockDet.f_ref and tblBuyInStockDet.id=(select top 1 a.id from tblBuyInStockDet a where a.f_ref=tblBuyInStock.id))  left join tblDepartment on tblDepartment.classCode=tblBuyInStock.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblBuyInStock.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblBuyInStock.createBy  left join tblBuyOrder on tblBuyOrder.id=tblBuyInStockDet.BuyOrderID  left join tblemployee emp2 on emp2.id=tblBuyInStock.lastUpdateBy where 1=1 and isNull(tblBuyInStock.workFlowNodeName,'')!='print'        and (tblBuyInStock.BillDate >= ?)                                                                    )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 16:23:28,231 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 16:23:28,275 Line:689 通过SQL读原始数据：44
 [DEBUG] 2018-01-10 16:23:28,276 Line:1391 整理数据：1
 [DEBUG] 2018-01-10 16:23:28,347 Line:5242 GlobalsTool.js 生成js 时间29:/js/gen/defineList.vjstblBuyInStock_zh_CN.js
 [DEBUG] 2018-01-10 16:23:33,775 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-10 16:23:33,776 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-10 16:23:33,776 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-10 16:23:34,470 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-10 16:23:34,471 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-10 16:23:35,388 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2018-01-10 16:23:35,390 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2018-01-10 16:23:35,390 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-10 16:23:41,093 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-10 16:23:41,093 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[3,];search=[采购入库,];
 [DEBUG] 2018-01-10 16:23:44,106 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblBuyInStock&search=%E9%87%87%E8%B4%AD%E5%85%A5%E5%BA%93&popWinName=TablemgtDiv
 [DEBUG] 2018-01-10 16:23:44,107 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblBuyInStock,];search=[é??è????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-10 16:23:44,323 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-10 16:23:44,323 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-10 16:23:44,860 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 16:24:22,825 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSaleReceive&moduleType=xxx&src=menu&winCurIndex=4
 [DEBUG] 2018-01-10 16:24:22,825 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSaleReceive,];moduleType=[xxx,];src=[menu,];winCurIndex=[4,];
 [DEBUG] 2018-01-10 16:24:22,826 Line:215 ---------->SET Page 4 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSaleReceive&moduleType=xxx
 [DEBUG] 2018-01-10 16:24:22,876 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComFullName,ComNumber,AccName,ExeBalAmt,FactIncome,BillFcAmt,EmpFullName,DeptFullName,id,AcceptTypeID,printCount,sysName,Remark,workFlowNodeName from ( select tblSaleReceive.id as keyId,tblSaleReceive.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSaleReceive.createBy) as deptCodeR,tblSaleReceive.employeeId as employeeId,tblSaleReceive.departmentCode as deptCodeRE, tblSaleReceive.workFlowNodeName as workFlowNodeName,       tblSaleReceive.BillDate as BillDate,     tblSaleReceive.BillNo as BillNo,     tblCompany.ComFullName as ComFullName,     tblCompany.ComNumber as ComNumber,     (select dbo.SalesAccoutDetail(id,'zh_CN') from tblSaleReceive a where a.id=tblSaleReceive.id ) as AccName,     case tblSaleReceive.AcceptTypeID when 'RetrunReceive' then (-1)*tblSaleReceive.ExeBalAmt when 'ReturnPay' then (-1)*tblSaleReceive.ExeBalAmt else tblSaleReceive.ExeBalAmt end as ExeBalAmt,     tblSaleReceive.FactIncome as FactIncome,     case tblSaleReceive.AcceptTypeID when 'RetrunReceive' then (-1)*tblSaleReceive.BillFcAmt when 'ReturnPay' then (-1)*tblSaleReceive.BillFcAmt else tblSaleReceive.BillFcAmt end as BillFcAmt,     tblEmployee1.EmpFullName as EmpFullName,     tblDepartment.DeptFullName as DeptFullName,     tblSaleReceive.id as id,     tblSaleReceive.AcceptTypeID as AcceptTypeID,     tblSaleReceive.printCount as printCount,     tblEmployee2.EmpFullName as sysName,     tblSaleReceive.Remark as Remark   ,ROW_NUMBER() over(order by     tblSaleReceive.BillDate desc,    tblSaleReceive.BillNo desc) as row_id  from tblSaleReceive   left join tblDepartment on tblDepartment.classCode=tblSaleReceive.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSaleReceive.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSaleReceive.createBy   left join (     select classCode,ComFullName,ComNumber,ComFullNamePYM,ComName,ComTel,ComFax,            ComContactor,ComContactorTel,ComContactorMobile,ComSalesType,ShippingAddress,            ComEmail,ComWebsite,ComAddress,Account1,Account2,Account3      from tblCompany     union all     select id as classCode,ComFullName,ComNbr as ComNumber,ComFullNamePYM,ComName,ComTel,ComFax,            ComContactor,ComContactorTel,ComContactorMobile,'' as ComSalesType,'' as ShippingAddress,            ComEmail,ComWebsite,ComAddress,'' as Account1,'' as Account2,'' as Account3     from tblFreightCom   ) tblCompany on tblCompany.classCode=tblSaleReceive.CompanyCode  where 1=1 and isNull(tblSaleReceive.workFlowNodeName,'')!='print'        and (tblSaleReceive.BillDate >= ?)                                                             )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2018-01-10 16:24:22,877 Line:582 ReportDataMgt.getReportData 参数1:2018-01-01
 [DEBUG] 2018-01-10 16:24:22,957 Line:689 通过SQL读原始数据：81
 [DEBUG] 2018-01-10 16:24:22,958 Line:1391 整理数据：0
 [DEBUG] 2018-01-10 16:24:23,033 Line:5242 GlobalsTool.js 生成js 时间27:/js/gen/defineList.vjstblSaleReceive_zh_CN.js
 [DEBUG] 2018-01-10 16:24:24,763 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblSaleReceive&parentCode=&operation=6&moduleType=xxx&f_brother=&parentTableName=&winCurIndex=4&popWinName=PopMainOpdiv
 [DEBUG] 2018-01-10 16:24:24,765 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSaleReceive,];parentCode=[,];operation=[6,];moduleType=[xxx,];f_brother=[,];parentTableName=[,];winCurIndex=[4,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2018-01-10 16:24:24,886 Line:5242 GlobalsTool.js 生成js 时间102:/js/gen/define.vjstblSaleReceive_zh_CN.js
 [DEBUG] 2018-01-10 16:24:41,087 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSaleReceive&fieldName=CompanyCode&operation=22&AcceptTypeID=Receive&isMain=true&url=@URL:&src=menu&MOID=2eda25be_1004151205469680040&MOOP=add&popupWin=MainPopup
 [DEBUG] 2018-01-10 16:24:41,088 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSaleReceive,];fieldName=[CompanyCode,];operation=[22,];AcceptTypeID=[Receive,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[2eda25be_1004151205469680040,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2018-01-10 16:24:41,153 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=ViewCompanyTotal&moduleType=&SysType=Customer&MOID=2eda25be_1004151205469680040&editable=&subSql=
 [DEBUG] 2018-01-10 16:24:41,153 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblSaleReceive&fieldName=CompanyCode&operation=22&AcceptTypeID=Receive&isMain=true&url=@URL:&src=menu&MOID=2eda25be_1004151205469680040&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2018-01-10 16:24:41,153 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[ViewCompanyTotal,];moduleType=[,];SysType=[Customer,];MOID=[2eda25be_1004151205469680040,];editable=[,];subSql=[,];
 [DEBUG] 2018-01-10 16:24:41,154 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblSaleReceive,];fieldName=[CompanyCode,];operation=[22,];AcceptTypeID=[Receive,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[2eda25be_1004151205469680040,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2018-01-10 16:24:41,154 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,ComNumber,id from ViewCompanyTotal where statusId =0   and isCatalog=1 order by ComNumber
 [DEBUG] 2018-01-10 16:24:41,163 Line:3434 DynDBManager.popSelect selectName=ClientSaleReceive; sql=select * from (select ViewCompanyTotal.CompanyCode f1 ,case when len(ViewCompanyTotal.EmployeeID)>0 then ViewCompanyTotal.EmployeeID else '1' end f2 ,case when len(ViewCompanyTotal.DepartmentCode)>0 then ViewCompanyTotal.DepartmentCode else '00101' end f3 ,case when len(ViewCompanyTotal.EmployeeID)>0 then ViewCompanyTotal.EmpFullName else 'admin' end f4 ,case when len(ViewCompanyTotal.DepartmentCode)>0 then ViewCompanyTotal.DeptFullName else '默认部门' end f5 ,ViewCompanyTotal.ComNumber f6 ,ViewCompanyTotal.ComFullName f7 ,ViewCompanyTotal.ComFullNamePYM f8 ,ViewCompanyTotal.ComContactor f9 ,ViewCompanyTotal.ComContactorTel f10 ,ViewCompanyTotal.ComContactorMobile f11 ,ViewCompanyTotal.ComAddress f12 ,ViewCompanyTotal.PreReceiveTotalRemain f13 ,ViewCompanyTotal.ReceiveTotalRemain f14 ,ViewCompanyTotal.classCode f15
,ViewCompanyTotal.isCatalog as childCount,ROW_NUMBER() over( order by ViewCompanyTotal.ComNumber,ViewCompanyTotal.ComFullName) as row_id from ViewCompanyTotal 
  left join tblCompany on tblCompany.classCode=ViewCompanyTotal.CompanyCode
      where 1=1  and (('DeputyRec'!='Receive' and (ViewCompanyTotal.ClientFlag=2 or ViewCompanyTotal.ClientFlag=3)) or ('DeputyRec'='Receive' and ViewCompanyTotal.ClientFlag=4))   and ViewCompanyTotal.statusId!='-1') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2018-01-10 16:28:49,984 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:28:49,984 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:28:49,984 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:28:50,114 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:28:50,123 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:28:50,128 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:28:50,305 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:29:09,566 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 16:30:06,112 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:30:06,112 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:30:06,112 Line:243 AIOApi op=getSessEmp&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:06,113 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 16:30:15,394 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 16:30:15,395 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 16:30:15,395 Line:243 AIOApi op=LOGIN&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:15,429 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:30:15,452 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 16:30:15,463 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 16:30:15,503 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 16:30:15,927 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:30:15,928 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:30:15,930 Line:243 AIOApi op=getSessEmp&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:15,932 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 16:30:15,952 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 16:30:15,953 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 16:30:15,953 Line:243 AIOApi op=getEnum&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:15,954 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 16:30:22,760 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:30:22,760 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:30:22,760 Line:243 AIOApi op=myworkflow&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:22,784 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:30:22,785 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 16:30:24,168 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:30:24,168 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:30:24,169 Line:243 AIOApi op=myworkflow&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:24,185 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:30:24,187 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 16:30:25,227 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:30:25,228 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:30:25,229 Line:243 AIOApi op=detail&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:30:25,314 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:30:25,322 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:30:25,327 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:30:25,459 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:31:17,948 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:31:17,948 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:31:17,949 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:31:17,949 Line:243 AIOApi op=detail&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:31:17,949 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:31:17,950 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:31:18,104 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:31:18,104 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:31:18,123 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:31:18,123 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:31:18,131 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:31:18,131 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:31:18,154 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:31:18,154 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:31:18,155 Line:243 AIOApi op=getSessEmp&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:31:18,155 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [ERROR] 2018-01-10 16:31:18,169 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: multiple points
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1890)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.text.DigitList.getDouble(DigitList.java:169)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-10 16:31:18,169 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: multiple points
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1890)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.text.DigitList.getDouble(DigitList.java:169)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2018-01-10 16:31:18,215 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 16:31:18,216 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 16:31:18,217 Line:243 AIOApi op=getEnum&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:31:18,218 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 16:31:18,581 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:31:18,582 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:31:25,197 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:31:25,198 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:31:25,198 Line:243 AIOApi op=myworkflow&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:31:25,223 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:31:25,224 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 16:31:27,227 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:31:27,227 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:31:27,227 Line:243 AIOApi op=myworkflow&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:31:27,248 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:31:27,251 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 16:31:28,501 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:31:28,502 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:31:28,502 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:31:28,508 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:31:28,512 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:31:28,515 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:31:28,660 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:32:17,729 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:32:17,730 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:32:17,730 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:32:17,839 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:32:17,854 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:32:17,860 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:32:18,027 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:32:27,171 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:32:27,171 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:32:27,172 Line:243 AIOApi op=detail&sessionid=DFC15C5732E103BF4092EE5BA0A040C7
 [DEBUG] 2018-01-10 16:32:27,208 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:32:27,216 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:32:27,218 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:32:27,372 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:32:56,232 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:32:56,232 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:32:56,232 Line:243 AIOApi op=getSessEmp&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:32:56,233 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 16:32:58,019 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 16:32:58,019 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 16:32:58,019 Line:243 AIOApi op=LOGIN&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:32:58,041 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:32:58,061 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 16:32:58,067 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 16:32:58,098 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 16:32:58,528 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:32:58,529 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:32:58,529 Line:243 AIOApi op=getSessEmp&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:32:58,530 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 16:32:58,543 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 16:32:58,544 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 16:32:58,544 Line:243 AIOApi op=getEnum&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:32:58,545 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 16:33:03,197 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:33:03,199 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:33:03,200 Line:243 AIOApi op=myworkflow&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:33:03,233 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:33:03,234 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 16:33:04,512 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:33:04,513 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:33:04,513 Line:243 AIOApi op=myworkflow&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:33:04,531 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:33:04,532 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 16:33:07,249 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:33:07,250 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:33:07,251 Line:243 AIOApi op=detail&sessionid=C74E3ACF5EBC4F25AC8F9E1E2CB792D1
 [DEBUG] 2018-01-10 16:33:07,316 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:33:07,324 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:33:07,327 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:33:07,463 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:49:51,458 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:49:51,458 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:49:51,459 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:49:51,584 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:49:51,597 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:49:51,602 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:49:51,788 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:50:08,656 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:50:08,657 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:50:08,658 Line:243 AIOApi op=myworkflow&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:50:08,687 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:50:08,689 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 16:50:10,878 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:50:10,879 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:50:10,879 Line:243 AIOApi op=getSessEmp&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:50:10,879 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 16:50:10,891 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 16:50:10,891 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 16:50:10,891 Line:243 AIOApi op=getEnum&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:50:10,892 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 16:51:16,318 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 16:51:16,318 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 16:51:16,318 Line:243 AIOApi op=myworkflow&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:51:16,336 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 16:51:16,339 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 16:51:17,062 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:51:17,063 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:51:17,064 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:51:17,168 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:51:17,179 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:51:17,182 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:51:17,347 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:59:28,778 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 16:59:33,624 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:59:33,625 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:59:33,625 Line:243 AIOApi op=detail&sessionid=9A27D94386144D0106435F47F6C0B1A8
 [DEBUG] 2018-01-10 16:59:33,625 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 16:59:33,652 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:59:33,653 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:59:33,654 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 16:59:33,746 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:59:33,758 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:59:33,761 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:59:33,944 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:59:35,579 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 16:59:35,580 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 16:59:35,581 Line:243 AIOApi op=LOGIN&sessionid=9A27D94386144D0106435F47F6C0B1A8
 [DEBUG] 2018-01-10 16:59:35,610 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 16:59:35,639 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 16:59:35,653 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 16:59:35,701 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 16:59:36,121 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 16:59:36,122 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 16:59:36,122 Line:243 AIOApi op=getSessEmp&sessionid=9A27D94386144D0106435F47F6C0B1A8
 [DEBUG] 2018-01-10 16:59:36,122 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 16:59:47,683 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:59:47,684 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:59:47,684 Line:243 AIOApi op=detail&sessionid=9A27D94386144D0106435F47F6C0B1A8
 [DEBUG] 2018-01-10 16:59:47,685 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 16:59:47,686 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 16:59:47,686 Line:243 AIOApi op=detail&sessionid=9A27D94386144D0106435F47F6C0B1A8
 [DEBUG] 2018-01-10 16:59:47,751 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:59:47,751 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:59:47,758 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:59:47,758 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 16:59:47,762 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:59:47,764 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 16:59:48,036 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 16:59:48,037 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 17:00:15,351 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 17:00:15,352 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 17:00:15,352 Line:243 AIOApi op=detail&sessionid=318F3A40988672B22EA29976761A3421
 [DEBUG] 2018-01-10 17:00:15,356 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 17:00:15,358 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 17:00:15,359 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 17:00:15,529 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 17:29:49,505 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 17:45:34,407 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 17:45:34,408 Line:3004 MobileAjax 操作人:;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 17:45:34,408 Line:243 AIOApi op=myworkflow&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:45:34,408 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 17:45:38,194 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 17:45:38,194 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 17:45:38,194 Line:243 AIOApi op=LOGIN&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:45:38,237 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 17:45:38,282 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 17:45:38,293 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 17:45:38,341 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 17:45:38,858 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 17:45:38,858 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 17:45:38,858 Line:243 AIOApi op=getSessEmp&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:45:38,858 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 17:45:38,871 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 17:45:38,872 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 17:45:38,872 Line:243 AIOApi op=getEnum&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:45:38,873 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 17:45:47,617 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 17:45:47,617 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 17:45:47,618 Line:243 AIOApi op=myworkflow&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:45:47,658 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 17:45:47,661 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 17:45:49,394 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 17:45:49,395 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 17:45:49,395 Line:243 AIOApi op=myworkflow&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:45:49,419 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 17:45:49,420 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 17:46:08,752 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 17:46:08,753 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 17:46:08,754 Line:243 AIOApi op=detail&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:46:08,934 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 17:46:08,953 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 17:46:08,961 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 17:46:09,140 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 17:55:46,269 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 17:55:46,271 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 17:55:46,272 Line:243 AIOApi op=detail&sessionid=03755802CC0CA9359A1C6604E2F08FE0
 [DEBUG] 2018-01-10 17:55:46,459 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 17:55:46,467 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 17:55:46,471 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 17:55:46,624 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 17:59:42,236 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 17:59:42,237 Line:3004 MobileAjax 操作人:;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 17:59:42,237 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 17:59:42,238 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 18:00:08,534 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 18:01:51,555 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 18:01:51,555 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 18:01:51,556 Line:243 AIOApi op=LOGIN&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:01:51,594 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 18:01:51,625 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 18:01:51,643 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 18:01:51,688 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 18:01:52,122 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 18:01:52,122 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 18:01:52,123 Line:243 AIOApi op=getSessEmp&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:01:52,123 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 18:03:38,873 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:03:38,874 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:03:38,874 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:03:38,875 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:03:38,876 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:03:38,876 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:03:38,882 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:03:38,882 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:03:38,882 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:03:39,029 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:03:39,029 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:03:39,029 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:03:39,039 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:03:39,039 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:03:39,039 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:03:39,042 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:03:39,042 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:03:39,042 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [ERROR] 2018-01-10 18:03:39,061 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: multiple points
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1914)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.text.DigitList.getDouble(DigitList.java:169)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-10 18:03:39,061 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: For input string: ""
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Long.parseLong(Long.java:601)
	at java.lang.Long.parseLong(Long.java:631)
	at java.text.DigitList.getLong(DigitList.java:195)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2051)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-10 18:03:39,061 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: multiple points
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1914)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.text.DigitList.getDouble(DigitList.java:169)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2018-01-10 18:03:39,456 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:03:39,456 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:03:39,461 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:05:13,126 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:05:13,126 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:05:13,127 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:05:13,130 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:05:13,131 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:05:13,131 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:05:13,131 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:05:13,132 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:05:13,132 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:05:13,225 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:05:13,226 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:05:13,226 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:05:13,235 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:05:13,236 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:05:13,235 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:05:13,238 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:05:13,239 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:05:13,239 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [ERROR] 2018-01-10 18:05:13,256 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: For input string: ".20182018E4.20182018E4"
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.text.DigitList.getDouble(DigitList.java:169)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2018-01-10 18:05:13,256 Line:528 MobileAjax.detail 转化日期格式错误
 java.lang.NumberFormatException: For input string: ".20182018E4.20182018E4"
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2043)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.text.DigitList.getDouble(DigitList.java:169)
	at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
	at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1869)
	at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
	at java.text.DateFormat.parse(DateFormat.java:364)
	at com.menyi.aio.bean.BaseDateFormat.parse(BaseDateFormat.java:43)
	at com.menyi.web.util.AIOConnect.detail(AIOConnect.java:526)
	at com.menyi.aio.web.mobile.AIOApi.detail(AIOApi.java:1463)
	at com.menyi.aio.web.mobile.AIOApi.service(AIOApi.java:273)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at com.menyi.web.util.BaseFilter.doFilter(BaseFilter.java:172)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1074)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
[DEBUG] 2018-01-10 18:05:13,426 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:05:13,434 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:05:13,439 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:06:53,438 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-10 18:06:53,439 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-10 18:06:53,519 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-10 18:06:53,519 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-10 18:06:53,693 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515578813676
 [DEBUG] 2018-01-10 18:06:53,694 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515578813676,];
 [DEBUG] 2018-01-10 18:06:55,401 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1515578815398
 [DEBUG] 2018-01-10 18:06:55,401 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1515578815398,];
 [DEBUG] 2018-01-10 18:06:55,404 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1515578815402
 [DEBUG] 2018-01-10 18:06:55,404 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1515578815402,];
 [DEBUG] 2018-01-10 18:06:55,411 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2018-01-10 18:06:55,411 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1263,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 18:06:55,465 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 18:06:55,474 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 18:06:55,547 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2018-01-10 18:06:55,548 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2018-01-10 18:06:55,548 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 18:06:55,816 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2018-01-10 18:06:55,817 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2018-01-10 18:06:55,849 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2018-01-10 18:06:55,849 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2018-01-10 18:06:55,850 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 18:06:55,866 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2018-01-10 18:06:55,866 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2018-01-10 18:06:55,868 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 18:06:55,877 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2018-01-10 18:06:55,877 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2018-01-10 18:06:55,878 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 18:06:55,885 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2018-01-10 18:06:55,886 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2018-01-10 18:06:55,887 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 18:09:22,640 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2018-01-10 18:09:22,640 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2018-01-10 18:09:22,641 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2018-01-10 18:09:23,380 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2018-01-10 18:09:23,380 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2018-01-10 18:09:24,190 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2018-01-10 18:09:24,190 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2018-01-10 18:09:24,191 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2018-01-10 18:09:31,694 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2018-01-10 18:09:31,694 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[销售出库单,];
 [DEBUG] 2018-01-10 18:09:33,777 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&search=%E9%94%80%E5%94%AE%E5%87%BA%E5%BA%93%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2018-01-10 18:09:33,778 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];search=[é??????????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2018-01-10 18:09:34,019 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-10 18:09:34,019 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-10 18:09:34,035 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-10 18:09:34,035 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-10 18:09:34,621 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 18:09:34,621 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 18:18:50,125 Line:135 BaseAction.execute 请求地址：/CustomAction.do?OAWorkFlowId=$designId
 [DEBUG] 2018-01-10 18:18:50,129 Line:146 BaseAction.execute 操作人:admin;请求数据：OAWorkFlowId=[$designId,];operation=[2,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[,];popWinName=[TablemgtDiv,];tableId=[3977b668_0811062208378590351,];tableType=[0,];isSunCmpShare=[0,];needsCopy=[0,];hasNext=[1,];relationTable=[,];classCount=[6,];tableName=[tblSalesOutStock,];oldtableName=[tblSalesOutStock,];tableDisplay=[en:;zh_CN:销售出库单;,];tableDisplayDis=[销售出库单,];MainModule=[1,];sysParameter=[CurrentAccBefBillAndUnUseBeforeStart,];tableSysType=[Normal,];tWidth=[0,];tHeight=[0,];isUsed=[1,];draftFlag=[1,];triggerExpress=[1,];fieldCalculate=[<sql operation="add" id="SalesOutStock_Add"><sql operation="delete" post="before" id="SalesOutStock_Delete"><sql operation="update" post="before" id="SalesOutStock_Delete" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="update" id="SalesOutStock_Add" saveField="tblAccMain_OrderNo" selfKey="BillNo" matchKey="tblAccMain_RefBillNo"><sql operation="auditing" id="SalesOutStock_confirm"><sql operation="reverse" id="SalesOutStock_reverse">,];extendButton=[<button type="copy" operation="list">  <button type="quote" operation="add" value="tblSalesOrder:quote_SalesOrder" name="SalesOutStock"><button type="billExport" operation="list"><button type="quote" operation="add" value="tblBuyInStock:tblSalesOutStock_quote_buyinStock" name="BuyOutStock"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=RptCompanyClist&mainNumber=RptCompanyC&CompanyCode=@ValueofDB:CompanyCode&hide_CompanyCode=@ValueofDB:CompanyCode#;#0#;##;#&tblCompany.ComFullName=@ValueofDB:tblCompany_ComFullName" name="往来应收"><button type="tool" operation="update" value="/ReportDataAction.do?reportNumber=tblVirtualStock&BatchNo=@ValueofDB:@TABLENAME_BatchNo&Inch=@ValueofDB:@TABLENAME_Inch&Hue=@ValueofDB:@TABLENAME_Hue&yearNO=@ValueofDB:@TABLENAME_yearNO&ProDate=@ValueofDB:@TABLENAME_ProDate&Availably=@ValueofDB:@TABLENAME_Availably&GoodsCode=@ValueofDB:@TABLENAME_GoodsCode&hide_GoodsCode=@ValueofDB:@TABLENAME_GoodsCode#;#0#;##;#&tblGoods.GoodsNumber=@ValueofDB:@TABLENAME_tblGoods_GoodsNumber&tblGoods.GoodsSpec=@ValueofDB:@TABLENAME_tblGoods_GoodsSpec&tblGoods.GoodsFullName=@ValueofDB:@TABLENAME_tblGoods_GoodsFullName&StockCode=@ValueofDB:@TABLENAME_StockCode|StockCode&hide_StockCode=@ValueofDB:@TABLENAME_StockCode|@ValueofDB:StockCode#;#0#;##;#&tblStock.StockFullName=@ValueofDB:@TABLENAME_tblStock_StockFullName1|tblStock_StockFullName" name="虚拟库存"><button type="query" operation="update" value="/VoucherManageAction.do?operation=5&tableName=tblAccMain&id=@ValueofDB:CertificateNo&isEspecial=1&NoButton=true" name="凭证" ><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=tblSalesReplaceDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReplace&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售换货明细"> <button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesReturnStockDet&SalesOutStockID=@ValueofDB:id&detTable_list=tblSalesReturnStock&BillDate1=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售退货明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSaleReceiveDet&RefbillNo=@ValueofDB:BillNo&detTable_list=tblSaleReceive&BillDate1=@ValueofDB:BillDate&workFlowNodeName=all" name="收款明细"><button type="query" operation="update" value="/ReportDataAction.do?reportNumber=ReportSalesOrderDet&id=@ValueofDB:tblSalesOutStockDet_SalesOrderID&detTable_list=tblSalesOrder&startDate=@ValueofDB:periodBegin&workFlowNodeName=all" name="销售订单明细"><button type="tool" operation="update" value="/UserFunctionAction.do?tableName=tblGoods&classCode=@ValueofMustDB:@TABLENAME_GoodsCode&operation=5" name="商品详情" >,];tableDesc=[,];PopDisSentence=[select tblCompany.[tblCompany_2],(select top 1 (isnull(b.Credit,0)-(b.ReceiveTotalRemain-b.PayTotalRemain+b.PrePayTotalRemain-b.PreReceiveTotalRemain))from tblCompany b where tblSalesOutStock.CompanyCode=b.classCode)+isnull((select Credit from tblTempCreditApply where tblSalesOutStock.BillDate >=tblTempCreditApply.StartDate and tblSalesOutStock.BillDate <= tblTempCreditApply.EndDate and tblSalesOutStock.CompanyCode = tblTempCreditApply.CompanyCode),0) AS ViewCompanyTotal_usableCredit, b.id,isnull(tblCompany.ReceiveTotalRemain,0)-isnull(tblCompany.PreReceiveTotalRemain,0) AS tblCompany_CompanyleaveAmt,d.DeptFullName as tblDepartment_DeptFullName,e.EmpFullName as tblEmployee_EmpFullName,f.StockFullName as tblStock_StockFullName,s.StockFullName as tblStock_StockFullName1,tblFreightCom.ComFullName as tblFreightCom_ComFullName,tblFreightCom.ComContactor as tblFreightCom_ComContactor,tblFreightCom.ComContactorTel as tblFreightCom_ComContactorTel,tblGoods.[tblGoods],j.CurrencyName as tblSetExchange_CurrencyName,so.BillNo as tblSalesOrder_BillNo,tblProject.ProjectName AS tblProject_ProjectName  from tblSalesOutStock  left join tblSalesOutStockDet b on tblSalesOutStock.id=b.f_ref   left join tblCompany  on tblCompany.classCode=tblSalesOutStock.companyCode   left join  tblDepartMent d on  tblSalesOutStock.DepartmentCode=d.classCode   left join  tblEmployee e on tblSalesOutStock.EmployeeId=e.id    left join tblStock f  on tblSalesOutStock.stockCode=f.classCode left join tblStock s  on b.stockCode=s.classCode left join tblGoods  on b.GoodsCode=tblGoods.classCode left join tblCurrency j on j.id=tblSalesOutStock.Currency  left join tblFreightCom on tblFreightCom.id=tblSalesOutStock.FreightCom left join tblSalesOrder so on b.SalesOrderID=so.id LEFT JOIN tblProject ON tblProject.id = tblSalesOutStock.ProjectCode,];fieldId=[d56fb40a_0912061751164060249,3977b668_0811062208378590359,3977b668_0811062208378590367,3977b668_0811062208378590363,191714eb_0811252114253750071,3977b668_0811062208378590369,342cc104_0901171533170620092,3977b668_0811062208378590385,b12103b0_1103021039245000307,b12103b0_1103021039245000309,3977b668_0811062208378590361,e2d1183d_0903110926150620047,80ceb173_0903171502499530103,3977b668_0811062208378590393,5d40aa36_1111181359121090473,2558e45d_0903191734579060119,61e23f20_1304251556371670261,5bf12750_0907171544039370061,61e23f20_1304251556371670263,8a40fb3c_1606281208599380533,05072AD2EAAE4E4F882DFEFA80B0,9667724e_1207262354598590327,bb8d748f_0901201642303750327,b6e7171b_0811212209125930067,a86e7804_0901071619075460116,a86e7804_0901071619075460114,ec688797_150943202810001,8c64eab3_0901102133235150188,e9331305_0908011608594680075,e9331305_0908011608594680073,3977b668_0811062208378590383,4ad4e571_1003061534047340076,03977b668_0811062208378590351,19878827_1206271007427760075,1a4b84c9_0903131855418900281,3977b668_0811062208378590395,1a4b84c9_0903131855418900277,3977b668_0811062208378590391,e0629724_0812221507593120464,f0ac3925_1108192100253356265,26017417_0811271452110930041,26017417_0811271452110930039,26017417_0811271452110930037,f0ac3925_0912181312252650145,4d3ffa25_0906171101547960054,FB9E66110B034F22B96E32FD703C38,31BB131DBD5543C285C1FC04697CB2,AB5BCD61B2E94E1F82E1680A3F6BAA,2FE359DE14964E38A12CB690CD9FB5,00DBCFEE01E9444882B602D1DBB9F7,1CEDD254846C4E53BCE581FCE8672D,802287B24AA54A33AE704028981BDD,F740899A7B5C468ABCCB456AE109DE,3017305DEABF4094B6EAEB1EFDE0D2,bb8d748f_0901201642303750329,2c44409f_121207235457890138,61e23f20_1304251602478420357,8a40fb3c_1606281208599510575,33420dde_1106061729496250061,6d824300_1607041834259401033,6d824300_1607051625524871957,];languageId=[717cf81e_1305071743153590306,717cf81e_1305071743153590307,717cf81e_1305071743153590308,717cf81e_1305071743153590309,717cf81e_1305071743153590311,717cf81e_1305071743153590312,717cf81e_1305071743153590313,717cf81e_1305071743153590316,717cf81e_1305071743153590317,717cf81e_1305071743153590318,717cf81e_1305071743153590320,717cf81e_1305071743153590322,717cf81e_1305071743153590324,717cf81e_1305071743153590326,717cf81e_1305071743153590327,717cf81e_1305071743153590328,717cf81e_1305071743153590333,717cf81e_1305071743153590334,717cf81e_1305071743153590335,8a40fb3c_1606281208599380534,F438B07315A54D2881C65E52598C,717cf81e_1305071743153590344,717cf81e_1305071743153590373,717cf81e_1305071743153590374,717cf81e_1305071743153590375,717cf81e_1305071743153590376,717cf81e_1305071743153590383,717cf81e_1305071743153590381,717cf81e_1305071743153590347,717cf81e_1305071743153590348,717cf81e_1305071743153590355,717cf81e_1305071743153590346,717cf81e_1305071743153590356,717cf81e_1305071743153590358,717cf81e_1305071743153590351,717cf81e_1305071743153590352,717cf81e_1305071743153590353,717cf81e_1305071743153590349,717cf81e_1305071743153590367,717cf81e_1305071743153590368,717cf81e_1305071743153590362,717cf81e_1305071743153590363,717cf81e_1305071743153590364,717cf81e_1305071743153590371,717cf81e_1305071743153590372,D3839F6C1253443C82E57CC2E795A4,298F3FC2E8FB4B9FA906A1D594643B,79388A192328463FB985350409292A,2E42E6C45CAF45B7B9E39DD5A979F0,7D9A732BC3F148568DD4F6FF9097B7,2E2E4895D6284C17B00D2A9BE7DF7E,206FE8005CBE41B9AE3031FA553CF1,258763946ADB4DFC9D1FF5FA2E6E5D,81E2C0DDECF346989B0536E80C17DC,717cf81e_1305071743153590385,717cf81e_1305071743153590386,717cf81e_1305071743153590388,8a40fb3c_1606281208599510576,717cf81e_1305071743153590389,6d824300_1607041834259411034,6d824300_1607051625524871958,];listOrder=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,];isStat=[0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,0,1,1,1,1,0,0,1,0,1,0,0,];isNull=[1,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isUnique=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];digits=[0,0,0,0,0,0,0,2,2,2,0,2,0,2,2,2,0,0,2,2,0,2,0,0,0,0,0,2,0,0,2,2,0,0,2,2,2,2,2,2,0,0,0,2,0,2,4,2,4,4,2,2,2,2,0,0,0,0,2,2,2,];refEnumerationName=[,,,,,,,,,,InvoiceType,,,,,,CheckCompany,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];inputValue=[,,ClientInVoiceWithAcceptDate:ClientInVoiceWithAcceptDate,Department:Department,Employee:Employee,Stock:Stock,,,,,,,CurrencyWithRate:CurrencyWithRate,,,,,FreightCom:FreightCom,,,SelectProjectInfo:SelectProjectInfo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];calculate=[,,,,,,,,,,@ValueOfDB:InVoiceType;,@ValueOfDB:DiscountAmount;,,,{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp},@ValueOfDB:CurDiscountAmount;,,,{CurDeputyReceAmt}={deputyReceAmt}/{CurrencyRate};,{deputyReceAmt}={CurDeputyReceAmt}*{CurrencyRate};,,,,,,,,,,,,,,,,,,,,,,,,,,,@ValueOfDB:DiscountM;,,@ValueOfDB:Tax;,@ValueOfDB:CurrencyRate;{CurTotalAmount}=sum{tblSalesOutStockDet_CurAmount}-{CurDiscountAmount}+{CurProceDureExp};{tblSalesRecAccount_Amount}={tblSalesRecAccount_ExeBalFcAmt}*{CurrencyRate};{FactIncome}=sum{tblSalesRecAccount_Amount};{AlrAccAmt}=sum{tblSalesRecAccount_Amount};{AccAmt}=sum{tblSalesRecAccount_Amount};{CurAlrAccAmt}={AccAmt}/{CurrencyRate};@ValueOfDB:CurDiscountAmount;,,,,,,,,,,,,];fieldSysType=[RowMarker,,,,,,,,,,BillTax,,currency,currency,currency,currency,,,,,Project,,,,,,,,,,,,,,currency,currency,currency,currency,,,,,,,,,BillDiscount,BillDiscount,BillTax,currency,,,BillTax,currency,,,,,,,,];fieldIdentityStr=[BillNo,accendnotstart,Customer,,,,,SAmountIdentifier,SAmountIdentifier,Amount,,SAmountIdentifier,,SAmountIdentifier,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,SAmountIdentifier,,,,,,SAmountIdentifier,,,SAmountIdentifier,SAmountIdentifier,,,SAmountIdentifier,Amount,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,SAmountIdentifier,,SAmountIdentifier,Price,SAmountIdentifier,Price,Price,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,,,,,SAmountIdentifier,SAmountIdentifier,SAmountIdentifier,];copyType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];logicValidate=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];popupType=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupLanguageId=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];groupName=[,,,,,,,,,,,,,,,,,,,,,,,,zh_CN:;,zh_CN:;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];insertTable=[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];isCopy=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,];isReAudit=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];isLog=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,];inputTypeOld=[0,0,2,2,2,2,0,3,8,3,1,0,2,8,3,0,5,2,0,0,2,0,0,0,0,0,0,0,100,100,0,3,0,100,3,3,3,3,0,100,0,0,0,100,100,3,0,8,0,0,8,8,8,8,0,3,3,0,0,0,0,];isMobile=[,,,,,,,,,,,,,,,,,,,,,,,,2,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,];fieldName=[BillNo,BillDate,CompanyCode,DepartmentCode,EmployeeID,StockCode,AcceptDate,AlrAccAmt,AccAmt,FactIncome,InVoiceType,DiscountAmount,Currency,CurAlrAccAmt,CurProceDureExp,CurDiscountAmount,deputyRece,FreightCom,deputyReceAmt,CurDeputyReceAmt,ProjectCode,PresentTotalAmt,Remark,SaleOutStockID,SalesOrderID,SalesOrderNo,TrackNo,TotalAlrAccAmt,ConfirmDate,ConfirmID,BackAmount,ChangeAmt,CheckPersont,BuyInID,CurNeedReturnAmt,CurPreAccAmt,CurTotalAlrAccAmt,CurBackAmount,NeedReturnAmt,NoInvoiceAmount,Period,PeriodMonth,PeriodYear,InvoiceAmount,InvoiceStatus,EmpAccAmt,Discount,DisAmount,Tax,CurrencyRate,TotalAmount,TotalTaxAmount,TotalCoTaxAmt,CurTotalAmount,Attachment,CertificateNo,hashDeputyReceAmt,CurhashDeputyReceAmt,AfterChangeAmt,CurAfterChangeAmt,CurChangeAmt,];fieldDisplay=[en:;zh_CN:单据编号;,en:;zh_CN:单据日期;,en:;zh_CN:客户;,en:;zh_CN:部门;,en:;zh_CN:经手人;,en:;zh_CN:仓库;,en:;zh_CN:收款日期;,en:;zh_CN:本次结算金额;,en:;zh_CN:账户金额;,en:;zh_CN:实收金额;,en:;zh_CN:发票类型;,en:;zh_CN:优惠金额;,en:;zh_CN:币种;,en:;zh_CN:外币收款金额;,en:;zh_CN:外币手续费;,en:;zh_CN:外币优惠金额;,en:;zh_CN:代收款;,en:;zh_CN:物流公司;,en:;zh_CN:代收金额;,zh_CN:外币代收金额;,en:;zh_CN:项目名称;,en:;zh_CN:赠(样)品总额;,en:;zh_CN:备注;,en:;zh_CN:销售出库单类型;,en:;zh_CN:销售订单ID;,en:;zh_CN:销售订单号;,en:;zh_CN:追踪单号;,en:;zh_CN:累计收款金额;,en:;zh_CN:审核时间;,en:;zh_CN:审核人;,en:;zh_CN:退货金额;,en:;zh_CN:调价金额;,en:;zh_CN:复核人;,en:;zh_CN:采购单ID;,en:;zh_CN:外币待收款金额;,en:;zh_CN:外币预收订金;,en:;zh_CN:外币累计收款金额;,en:;zh_CN:外币销售退货金额;,en:;zh_CN:待收款金额;,en:;zh_CN:未开票金额;,en:;zh_CN:会计期间;,en:;zh_CN:会计期间月;,en:;zh_CN:会计期间年;,en:;zh_CN:已开票金额;,en:;zh_CN:开票状态;,en:;zh_CN:多经手人结算金额;,en:;zh_CN:折扣率%;,en:;zh_CN:折让金额;,en:;zh_CN:税率%;,en:;zh_CN:汇率;,en:;zh_CN:单据总额;,en:;zh_CN:优惠后金额;,en:;zh_CN:总税额;,en:;zh_CN:外币总额;,en:;zh_CN:附件;,en:;zh_CN:凭证;,en:;zh_CN:已代收金额;,zh_CN:外币已代收金额;,en:;zh_CN:调价后金额;,zh_CN:外币调价后金额;,zh_CN:外币调价金额;,];fieldDisplayDis=[单据编号,单据日期,客户,部门,经手人,仓库,收款日期,本次结算金额,账户金额,实收金额,发票类型,优惠金额,币种,外币收款金额,外币手续费,外币优惠金额,代收款,物流公司,代收金额,外币代收金额,项目名称,赠(样)品总额,备注,销售出库单类型,销售订单ID,销售订单号,追踪单号,累计收款金额,审核时间,审核人,退货金额,调价金额,复核人,采购单ID,外币待收款金额,外币预收订金,外币累计收款金额,外币销售退货金额,待收款金额,未开票金额,会计期间,会计期间月,会计期间年,已开票金额,开票状态,多经手人结算金额,折扣率%,折让金额,税率%,汇率,单据总额,优惠后金额,总税额,外币总额,附件,凭证,已代收金额,外币已代收金额,调价后金额,外币调价后金额,外币调价金额,];fieldType=[2,5,2,2,2,2,5,1,1,1,0,1,2,1,1,1,2,2,1,1,2,1,3,2,2,2,2,1,6,2,1,1,2,2,1,1,1,1,1,1,0,0,0,1,2,1,1,1,1,1,1,1,1,1,14,2,1,1,1,1,1,];maxLength=[100,10,100,100,30,100,10,0,0,0,0,0,50,0,0,0,10,50,0,0,100,9999999,8000,50,50,50,100,0,0,50,0,0,500,30,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,0,0,0,100,0,0,0,0,0,];defaultValue=[,2009-12-06,@Sess:CompanyCode;@Sess:ComFullName,@Sess:DepartmentCode;@Sess:DepartmentName,@Sess:UserId;@Sess:UserName,@Sess:StockCode;@Sess:StockFullName,,0,0,0,3,0,,0,0,0,,,0,,,0,,,tblSalesOrder,,,0,2009-12-06 16:59:42,,0,0,,,0,0,0,0,0,0,,,,0,0,,100,,0,1,0,0,,0,,,0,,,,,];isNullId=[1,1,1,1,1,1,];isUniqueId=[1,];width=[80,200,200,200,200,200,200,80,200,200,200,200,80,80,80,80,224,200,224,200,100,80,200,200,200,200,200,200,0,200,200,200,0,100,80,80,80,80,200,200,100,100,100,200,200,200,100,100,100,100,100,100,100,100,200,80,224,200,80,200,200,];inputType=[0,0,2,3,2,2,0,3,6,3,3,0,3,3,3,3,6,6,6,6,100,6,0,100,100,100,100,3,100,100,100,3,100,100,3,3,3,3,100,100,100,100,100,100,100,3,3,3,3,3,8,8,3,3,0,3,3,3,3,3,100,];moreInputId=[ClientInVoiceWithAcceptDate,Department,Employee,Stock,1,CurrencyWithRate,1,FreightCom,SelectProjectInfo,];zhWidth=[200,200,];inputTypeOldId=[0,];fieldSysTypeId=[,];fieldIdentityStrId=[,];groupNameId=[,];logicValidateId=[,];copyTypeId=[,];
 [DEBUG] 2018-01-10 18:18:50,207 Line:1235  update tblDBTableInfo set lastUpdateTime='2018-01-10 18:18:50' where tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:18:50,210 Line:1235  update tblDBFieldInfo set defaultValue='tblSalesOrder' where tableid=(select id from tblDBTableInfo where tableName='tblSalesOutStock') and fieldName = 'SalesOrderID'
 [DEBUG] 2018-01-10 18:18:50,216 Line:1235  update tblDBFieldInfo set groupName=null where tableid=(select id from tblDBTableInfo where tableName='tblSalesOutStock') and fieldName = 'CurChangeAmt'
 [DEBUG] 2018-01-10 18:18:50,219 Line:1643 update tblInitTime set lastTime = ? where initName=?
 [DEBUG] 2018-01-10 18:18:50,781 Line:297  select * from tblDBTableInfo where tableName = 'tblSalesOutStock'
 [DEBUG] 2018-01-10 18:18:50,786 Line:370 select * from tblDBFieldInfo where tableId = (select id from tblDBTableInfo where tableName='tblSalesOutStock') order by tableId,listOrder
 [DEBUG] 2018-01-10 18:18:50,801 Line:538 ------Init TableInfo record:1
 [DEBUG] 2018-01-10 18:18:52,299 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblSalesOutStock&popWinName=TablemgtDiv&winCurIndex=
 [DEBUG] 2018-01-10 18:18:52,301 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblSalesOutStock,];popWinName=[TablemgtDiv,];winCurIndex=[,];
 [DEBUG] 2018-01-10 18:18:52,535 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=InvoiceType
 [DEBUG] 2018-01-10 18:18:52,535 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[InvoiceType,];
 [DEBUG] 2018-01-10 18:18:52,552 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2018-01-10 18:18:52,552 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2018-01-10 18:18:53,081 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 18:18:53,082 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 18:19:03,680 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:19:03,680 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:19:03,681 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:19:03,772 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:19:03,789 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:19:03,792 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:19:03,950 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:25:49,831 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:25:49,832 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:25:49,832 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:25:49,908 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:49,915 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:49,918 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:25:50,051 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:25:51,274 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:25:51,274 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:25:51,274 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:25:51,279 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:51,282 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:51,283 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:25:51,400 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:25:52,600 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:25:52,601 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:25:52,601 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:25:52,606 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:52,608 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:52,611 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:25:52,737 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:25:53,946 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:25:53,946 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:25:53,947 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:25:53,951 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:53,954 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:53,956 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:25:54,077 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:25:55,202 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:25:55,202 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:25:55,203 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:25:55,207 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:55,210 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:55,212 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:25:55,332 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:25:56,555 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:25:56,555 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:25:56,556 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:25:56,560 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:56,563 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:25:56,566 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:25:56,698 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 18:30:28,031 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 18:42:23,223 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 18:42:23,224 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 18:42:23,225 Line:243 AIOApi op=detail&sessionid=A06BD3545A84E68A1559DD1D329253BF
 [DEBUG] 2018-01-10 18:42:23,444 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:42:23,465 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 18:42:23,474 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 18:42:23,959 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [INFO ] 2018-01-10 23:29:45,851 Line:206 系统开始启动，最大内存：1792;目前总内存：253;目前空闲内存：166
 [INFO ] 2018-01-10 23:29:45,998 Line:284 ===========Tomcat Port=8888
 [INFO ] 2018-01-10 23:29:50,490 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2018-01-10 23:29:50,881 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2018-01-10 23:29:50,919 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2018-01-10 23:29:50,928 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2018-01-10 23:29:50,938 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2018-01-10 23:29:50,969 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2018-01-10 23:29:50,992 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2018-01-10 23:29:52,738 Line:1061 ------Init Enumeration record:392
 [DEBUG] 2018-01-10 23:29:52,829 Line:1091 ------Init WorkProfession record:58
 [DEBUG] 2018-01-10 23:29:52,892 Line:1121 ------Init District record:3984
 [DEBUG] 2018-01-10 23:29:52,909 Line:1152 ------Init deptMap record:2
 [DEBUG] 2018-01-10 23:29:55,027 Line:1832 ------Init ModuleList record:
 [DEBUG] 2018-01-10 23:29:55,027 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2018-01-10 23:29:57,339 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2018-01-10 23:29:57,542 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2018-01-10 23:30:06,609 Line:538 ------Init TableInfo record:643
 [DEBUG] 2018-01-10 23:30:06,658 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2018-01-10 23:30:06,669 Line:682 ------Init TableInfo record:4
 [DEBUG] 2018-01-10 23:30:06,692 Line:775 ------Init initModuleField record:0
 [DEBUG] 2018-01-10 23:30:06,712 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2018-01-10 23:30:06,728 Line:721 ------Init TableInfo record:26
 [DEBUG] 2018-01-10 23:30:06,803 Line:891 ------Init PropInfo record:7
 [DEBUG] 2018-01-10 23:30:12,847 Line:2947 --------Init Config File ---------------
 [ERROR] 2018-01-10 23:30:13,083 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\12bbe4d0_1309251420149973794.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,086 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\16498250_1107301011023635761.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,088 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1696218b_1303071432056211826.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,091 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\1e49ec73_1310141513554302768.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,093 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301151535291656265.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,095 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\2b637a85_1301161408119037671.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,097 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\3222e73f_1303110904036610349.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,099 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301050950293021694.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,101 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061557287273935.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,104 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\33eaec0d_1301061608391253982.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,154 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\41c430d2_1208141805027402835.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,174 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\46a78652_1210151349025782027.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,195 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\4f7f6b1e_1303221111597339437.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,249 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304021554367043609.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,253 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304071406166069339.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,256 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304090927277926103.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,258 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\5fcf5f77_1304091008228756401.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,293 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209071615094958205.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,294 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209080902548768433.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,296 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\634bf574_1209121614089763945.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,298 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205210942199878477.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,299 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205221639204860973.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,301 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\6b602213_1205301613391641532.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,322 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\73eed876_1309241732076726431.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,364 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\8161d7ca_1312251105052885382.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,366 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\84e5c0c2_1203162038085610023.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,368 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\93da24a1_1205160946069131222.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,371 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\948d1bcf_1203241057415520350.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,373 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204191406175403275.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,375 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\978c0b22_1204251048517142444.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,405 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1306281020552880950.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,406 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a348895a_1307010903526496874.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,409 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\a95dce41_1204281406032060703.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,468 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ad48c0ba_1204141758384922624.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,509 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\c60c0a1d_1305161604424726111.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,555 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eae3edac_0906121936590150223.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,556 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203161107216570078.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,558 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\eb548c0f_1203162014422750845.xml (系统找不到指定的文件。)
 [ERROR] 2018-01-10 23:30:13,582 Line:48 java.io.FileNotFoundException: D:\Project\aio\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2018-01-10 23:30:13,595 Line:1873 ------Init RefreshTime 
 [DEBUG] 2018-01-10 23:30:13,642 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2018-01-10 23:30:14,051 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2018-01-10 23:30:14,052 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2018-01-10 23:30:16,525 Line:89 SAFE 数据库第一个备份任务启动，时间2018-01-11 00:00:00
 [INFO ] 2018-01-10 23:30:16,525 Line:137 SAFE 碎片任务启动，时间2018-01-14 00:00:00
 [DEBUG] 2018-01-10 23:31:05,262 Line:5242 GlobalsTool.js 生成js 时间55:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2018-01-10 23:31:05,335 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2018-01-10 23:31:05,337 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2018-01-10 23:31:05,633 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1515598265622
 [DEBUG] 2018-01-10 23:31:05,649 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1515598265622,];
 [DEBUG] 2018-01-10 23:31:05,733 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2018-01-10 23:31:05,734 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2018-01-10 23:31:14,415 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2018-01-10 23:31:47,174 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 23:31:47,175 Line:3004 MobileAjax 操作人:;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 23:31:47,175 Line:243 AIOApi op=getSessEmp&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:31:47,203 Line:2962 MobileAjax 操作人:;返回数据：{"code":"NOLOGIN","msg":"未登陆"}
 [DEBUG] 2018-01-10 23:32:06,718 Line:2993 MobileAjax 请求地址：/MobileAjax?op=LOGIN
 [DEBUG] 2018-01-10 23:32:06,719 Line:3004 MobileAjax 操作人:;请求数据：op=[LOGIN,];name=[admin,];password=[21232f297a57a5a743894a0e4a801fc3,];
 [DEBUG] 2018-01-10 23:32:06,719 Line:243 AIOApi op=LOGIN&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:06,790 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2018-01-10 23:32:06,987 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2018-01-10 23:32:07,055 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2018-01-10 23:32:07,451 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"登陆成功"}
 [DEBUG] 2018-01-10 23:32:07,952 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getSessEmp
 [DEBUG] 2018-01-10 23:32:07,954 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getSessEmp,];
 [DEBUG] 2018-01-10 23:32:07,955 Line:243 AIOApi op=getSessEmp&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:07,964 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"departmentName":"默认部门","titleId":"12","name":"admin","id":"1"}}
 [DEBUG] 2018-01-10 23:32:08,159 Line:2993 MobileAjax 请求地址：/MobileAjax?op=getEnum&enum=duty
 [DEBUG] 2018-01-10 23:32:08,161 Line:3004 MobileAjax 操作人:admin;请求数据：op=[getEnum,];enum=[duty,];
 [DEBUG] 2018-01-10 23:32:08,162 Line:243 AIOApi op=getEnum&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:08,189 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":[{"name":"职员","value":"11"},{"name":"出纳","value":"16"},{"name":"会计","value":"17"},{"name":"法人","value":"1"},{"name":"代理商","value":"10"},{"name":"董事长","value":"9"},{"name":"总经理","value":"2"},{"name":"部门经理","value":"3"},{"name":"副总经理","value":"5"},{"name":"组长","value":"4"},{"name":"副部长","value":"6"},{"name":"主管","value":"7"},{"name":"副主管","value":"8"},{"name":"其它","value":"12"},{"name":"老板","value":"5136"},{"name":"产品经理","value":"15"},{"name":"总监","value":"14"}]}
 [DEBUG] 2018-01-10 23:32:10,330 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 23:32:10,331 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 23:32:10,331 Line:243 AIOApi op=myworkflow&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:10,384 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and ((a.createBy='1' and a.currentNode='0') or (p.curApprover=1  and p.checkPerson='1'  ))  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 23:32:10,400 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-09","applyBy":"admin","createBy":"1","checkPerson":";1;","department":"默认部门","applyType":"eae3edac_0906121936571710021","templateName":"销售订单","orderIndex":0,"billId":"7b19df5c_1801090941197570016","applyContent":"","currentNode":"0","nextNodeIds":"","tableName":"tblSalesOrder","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastUpdateTime":"2018-01-09","createTime":"09:41","flowDepict":"","flowDepictTi等等！
 [DEBUG] 2018-01-10 23:32:12,354 Line:2993 MobileAjax 请求地址：/MobileAjax?op=myworkflow
 [DEBUG] 2018-01-10 23:32:12,355 Line:3004 MobileAjax 操作人:admin;请求数据：op=[myworkflow,];approveStatus=[transing2,];keyWord=[,];pageNo=[1,];tempFile=[,];
 [DEBUG] 2018-01-10 23:32:12,355 Line:243 AIOApi op=myworkflow&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:12,383 Line:4764  select k.*,ROW_NUMBER() over(order by (case charindex(';1;',k.checkPerson) when 0 then 0 else 1 end) desc, k.oldLastUpdateTime desc) as row_id from ( select distinct a.id,a.keyId,t.designType,applyDate,applyBy,department,applyType,templateName,a.tableName,applyContent,currentNode,nextNodeIds,a.checkPerson,departmentCode,a.createBy,substring(a.createTime,12,5) as createTime,flowDepict,lastNodeId,lastCheckPerson ,substring(a.lastUpdateTime,0,11) as lastUpdateTime,substring(a.lastUpdateTime,12,5) as times,a.flowDepictTitle,a.allApprovePerson,t.parentTableName,a.lastUpdateTime oldLastUpdateTime from OAMyWorkFlow a join OAWorkFlowTemplate t  on t.id=a.applyType  join OAMyWorkFlowPerson p on p.keyId=a.keyId and p.tableName=a.tableName   where t.templateStatus=1 and a.statusId=0  and (p.curApprover=0  and p.checkPerson='1' )  and ( p.hadApprover=1  and p.checkPerson='1' )  and a.currentNode!='-1' ) k
 [DEBUG] 2018-01-10 23:32:12,397 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"查询成功","obj":{"totalPage":1,"list":[{"applyDate":"2018-01-10","applyBy":"admin","createBy":"1","checkPerson":";2cf86be0_1712291628149430079;","department":"默认部门","applyType":"eae3edac_0906121936578750103","templateName":"销售出库单","orderIndex":0,"billId":"f7ed271b_1801101132337340015","applyContent":"","currentNode":"1515553127150","nextNodeIds":"","tableName":"tblSalesOutStock","departmentCode":"00101","oaTimeLimitUnit":0,"benchmarkTime":0.0,"lastNodeName":"开始","lastNodeCheckper等等！
 [DEBUG] 2018-01-10 23:32:13,585 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 23:32:13,588 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 23:32:13,589 Line:243 AIOApi op=detail&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:13,899 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 23:32:13,926 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 23:32:13,956 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 23:32:14,720 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 [DEBUG] 2018-01-10 23:32:42,627 Line:2993 MobileAjax 请求地址：/MobileAjax?op=detail
 [DEBUG] 2018-01-10 23:32:42,627 Line:3004 MobileAjax 操作人:admin;请求数据：op=[detail,];tableName=[tblSalesOutStock,];keyId=[f7ed271b_1801101132337340015,];
 [DEBUG] 2018-01-10 23:32:42,628 Line:243 AIOApi op=detail&sessionid=DFA4D3E82ACB57DDF4446F4F840B1366
 [DEBUG] 2018-01-10 23:32:42,686 Line:1525  select * from  tblSalesOutStockDet where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 23:32:42,700 Line:1525  select * from  tblSalesRecAccount where f_ref = 'f7ed271b_1801101132337340015' order by detOrderNo
 [DEBUG] 2018-01-10 23:32:42,705 Line:5010 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='f7ed271b_1801101132337340015' and  a.tableName='tblSalesOutStock'
 [DEBUG] 2018-01-10 23:32:43,061 Line:2962 MobileAjax 操作人:admin;返回数据：{"code":"OK","msg":"","obj":{"code":0,"retCheckRight":false,"checkRight":false,"hurryTrans":true,"hasCancel":false,"opType":"detail","updateRight":false,"deleteRight":false,"values":{"CurProceDureExp":0.0,"PeriodYear":2018,"CurrencyRate":1.00000000,"ConfirmDate":"2018-01-10 11:32:29","CurPreAccAmt":0.0,"tblDepartment.DeptFullName":"默认部门","CheckPersont":"","Tax":0.0,"Attachment":"","CurhashDeputyReceAmt":0.0,"SalesOrderNo":"SO1801090009","Remark":"","CurTotalAlrAccAmt":0.0,"TotalTaxAmount":1.0000等等！
 