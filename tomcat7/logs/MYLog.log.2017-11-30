[INFO ] 2017-11-30 16:34:38,373 Line:205 系统开始启动，最大内存：891;目前总内存：158;目前空闲内存：42
 [INFO ] 2017-11-30 16:34:38,860 Line:283 ===========Tomcat Port=8888
 [DEBUG] 2017-11-30 16:34:44,661 Line:3843 --------Init Hibernate Successful---------------
 [DEBUG] 2017-11-30 16:34:45,434 Line:1203 ------Init SystemSetting record:212
 [INFO ] 2017-11-30 16:34:45,445 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-11-30 16:34:45,664 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-11-30 16:34:45,685 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-11-30 16:34:45,693 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-11-30 16:34:45,703 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-11-30 16:34:45,726 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-11-30 16:34:45,738 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-11-30 16:34:48,377 Line:1061 ------Init Enumeration record:518
 [DEBUG] 2017-11-30 16:34:48,406 Line:1091 ------Init WorkProfession record:6
 [DEBUG] 2017-11-30 16:34:48,463 Line:1121 ------Init District record:3984
 [DEBUG] 2017-11-30 16:34:48,480 Line:1152 ------Init deptMap record:15
 [DEBUG] 2017-11-30 16:34:50,722 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-11-30 16:34:50,722 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-11-30 16:34:52,575 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-11-30 16:34:52,966 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-11-30 16:34:55,821 Line:538 ------Init TableInfo record:879
 [DEBUG] 2017-11-30 16:34:55,890 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-11-30 16:34:55,899 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-11-30 16:34:55,919 Line:775 ------Init initModuleField record:4
 [DEBUG] 2017-11-30 16:34:55,941 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-11-30 16:34:55,954 Line:721 ------Init TableInfo record:24
 [DEBUG] 2017-11-30 16:34:56,014 Line:891 ------Init PropInfo record:7
 [ERROR] 2017-11-30 16:35:04,960 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.InitMenData.initDog(InitMenData.java:2946)
	at com.menyi.web.util.InitMenData.initSystem(InitMenData.java:3850)
	at com.menyi.web.util.BaseFilter.init(BaseFilter.java:215)
	at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)
	at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)
	at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:105)
	at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4854)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5542)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649)
	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:672)
	at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1859)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-11-30 16:35:07,129 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 16:35:07,227 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-11-30 16:35:08,675 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\25183d52_1706281731170782890.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:35:09,411 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\726c06ce_1603150934567560417.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:35:09,536 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\916dc5e8_1512091148254894807.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:35:09,580 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\9d47f247_1706091716571082648.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:35:09,850 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\c30fac90_1604291410068132941.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:35:10,834 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\fd21c05c_1606131813438340088.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:35:10,836 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-11-30 16:35:10,850 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-11-30 16:35:10,905 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-11-30 16:35:11,291 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-11-30 16:35:11,292 Line:3855 --------Init Dog Successful---------------
 [DEBUG] 2017-11-30 16:35:13,517 Line:549 ReportDataMgt.getReportData SQL=select      tblSalesOrder.BillDate as startDate,     tblSalesOrder.BillDate as endDate,     tblSalesOrder.BillNo as BillNo,     tblSalesOrder.BillDate as BillDate,     tblProject.ProjectName as ProjectName,     tblGoods.classCode as GoodsCode,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as createBy,     tblGoods.GoodsNumber as GoodsNumber,     tblGoods.GoodsFullName as GoodsFullName,     tblGoods.GoodsSpec as GoodsSpec,     tblGoods.BaseUnit as BaseUnit,     tblGoods.BarCode as BarCode,     tblSalesOrderDet.BatchNo as BatchNo,     tblSalesOrderDet.Inch as Inch,     tblSalesOrderDet.Hue as Hue,     tblSalesOrderDet.yearNO as yearNO,     tblSalesOrderDet.ProDate as ProDate,     tblSalesOrderDet.Availably as Availably,     tblSalesOrderDet.SendDate as SendDate,     tblSalesOrderDet.Qty as Qty,     tblSalesOrderDet.Price as Price,     tblSalesOrderDet.Amount as Amount,     (select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastPrice,     tblSalesOrderDet.Qty*(select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastAmount,     tblSalesOrderDet.SalesGoodsType as SalesGoodsType,     tblSalesOrderDet.SecUnit as SecName,     tblSalesOrderDet.UnitIntQty as SecUnitQty,     tblSalesOrderDet.UnitBaseQty as SecBaseQty,     tblSalesOrderDet.UnitQty as UnitQty,     tblSalesOrderDet.UnitPrice as UnitPrice,     tblSalesOrderDet.Discount as Discount,     tblSalesOrderDet.DisPrice as DisPrice,     tblSalesOrderDet.DisBackAmt as DisBackAmt,     tblSalesOrderDet.DisAmount as DisAmount,     tblSalesOrder.Tax as Tax,     tblSalesOrderDet.TaxPrice as TaxPrice,     tblSalesOrderDet.TaxAmount as TaxAmount,     tblSalesOrderDet.CoTaxAmt as CoTaxAmt,     tblCurrency.CurrencyName as CurrencyName,     tblSalesOrder.CurrencyRate as CurrencyRate,     tblSalesOrderDet.CurPrice as CurPrice,     tblSalesOrderDet.CurAmount as CurAmount,     tblSalesOrderDet.AccountingPrice as AccountingPrice,     tblSalesOrder.hasBuyOrder as hasBuyOrder,     tblSalesOrderDet.MRPQty as MRPQty,     tblSalesOrderDet.WorkOrderQty as WorkOrderQty,     (select sum(isnull(k.InQty,0)) from tblBuyOrderDet k where k.SourceID=tblSalesOrderDet.id) as inQty,     tblSalesOrderDet.OutQty as OutQty,     case when tblSalesOrderDet.NotOutQty <=0 or tblSalesOrder.statusId!=0 then 0 else tblSalesOrderDet.NotOutQty end as NotOutQty,     tblSalesOrderDet.BackQty as BackQty,     tblSalesOrder.id as id,     tblSalesOrderDet.SCompanyID as SCompanyID,     tblSalesOrderDet.FinishStatus as FinishStatus,     tblSalesOrderDet.PresentSampleType as PresentSampleType,     tblSalesOrder.Remark as Remark,     tblSalesOrderDet.Remark as ReRemark,     case when (tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) <0 then (-1)*(tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) else 0 end as OverOutQty,     viewcompanytotal.ComFullName as ComFullName1,     tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice as profitPrice,     tblSalesOrderDet.Qty*(tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice) as profitAmt,     tblGoods.classCode+'#;#0#;##;#' as hideCode,     tblSalesOrder.workFlowNodeName as workFlowNodeName,     tblSalesOrder.OldGiftId as OldGiftId from tblSalesOrderDet    left join tblGoods on tblGoods.ClassCode=tblSalesOrderDet.GoodsCode   left join viewcompanytotal on tblGoods.CompanyCode=viewcompanytotal.classCode   left join tblSalesOrder on tblSalesOrderDet.f_ref=tblSalesOrder.id   left join tblStock on tblStock.classCode=tblSalesOrderDet.StockCode   left join tblCurrency on tblCurrency.id=tblSalesOrder.Currency   left join tblEmployee on tblEmployee.id = tblSalesOrder.EmployeeID   left join tblEmployee as tblEmployee2 on tblEmployee2.id = tblSalesOrder.createBy   left join tblCompany on tblCompany.classCode = tblSalesOrder.CompanyCode   left join tblDepartment on tblDepartment.classCode = tblSalesOrder.DepartmentCode left join tblProject on tblSalesOrder.ProjectCode=tblProject.id  where 1=1        and (tblSalesOrder.BillDate >= '2017-11-01')                                                                                                                                                                 and (tblSalesOrder.workFlowNodeName ='finish')         
 [INFO ] 2017-11-30 16:35:13,767 Line:89 SAFE 数据库第一个备份任务启动，时间2017-11-30 00:00:00
 [INFO ] 2017-11-30 16:35:13,767 Line:144 SAFE 备份任务开始执行，时间2017-11-30 16:35:13
 [INFO ] 2017-11-30 16:35:13,768 Line:137 SAFE 碎片任务启动，时间2017-12-03 00:00:00
 [DEBUG] 2017-11-30 16:35:14,542 Line:690 通过SQL读原始数据：851
 [DEBUG] 2017-11-30 16:35:14,543 Line:1392 整理数据：0
 [DEBUG] 2017-11-30 16:35:14,792 Line:549 ReportDataMgt.getReportData SQL=select      tblBuyOrder.BillDate as BillDate,     tblBuyOrder.BillNo as BillNo,     tblProject.ProjectName as ProjectName,     tblGoods.classCode as GoodsCode,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblBuyOrder.TradeType as TradeType,     tblBuyOrder.InvoiceType as InvoiceType,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblEmployee.EmpNumber as EmpNumber,     tblStock.StockFullName as StockFullName,     tblGoods.GoodsNumber as GoodsNumber,     tblGoods.GoodsFullName as GoodsFullName,     tblGoods.GoodsSpec as GoodsSpec,     tblGoods.BaseUnit as BaseUnit,     tblGoods.BarCode as BarCode,     tblBuyOrderDet.BatchNo as BatchNo,     tblBuyOrderDet.Inch as Inch,     tblBuyOrderDet.Hue as Hue,     tblBuyOrderDet.yearNO as yearNO,     tblBuyOrderDet.ProDate as ProDate,     tblBuyOrderDet.Availably as Availably,     tblBuyOrderDet.ArriveDate as ArriveDate,     tblBuyOrderDet.Qty as Qty,     tblBuyOrderDet.Price as Price,     tblBuyOrderDet.Amount as Amount,     tblBuyOrderDet.SecUnit as SecName,     tblBuyOrderDet.UnitIntQty as UnitIntQty,     tblBuyOrderDet.UnitBaseQty as UnitBaseQty,     tblBuyOrderDet.UnitQty as UnitQty,     tblBuyOrderDet.UnitPrice as UnitPrice,     tblCurrency.CurrencyName as CurrencyName,     tblBuyOrder.CurrencyRate as CurrencyRate,     tblBuyOrderDet.CurPrice as CurPrice,     tblBuyOrderDet.CurAmount as CurAmount,     tblBuyOrderDet.Discount as Discount,     tblBuyOrderDet.DisPrice as DisPrice,     tblBuyOrderDet.DisBackAmt as DisBackAmt,     tblBuyOrderDet.DisAmount as DisAmount,     tblBuyOrder.Tax as Tax,     tblBuyOrderDet.TaxPrice as TaxPrice,     tblBuyOrderDet.TaxAmount as TaxAmount,     tblBuyOrderDet.CoTaxAmt as CoTaxAmt,     tblBuyOrderDet.InQty as InQty,     tblBuyOrderDet.BackQty as BackQty,     case when isnull(tblBuyOrderDet.NotInQty,0)<=0 or tblBuyOrder.statusId!=0 then 0 else isnull(tblBuyOrderDet.NotInQty,0) end as NotInQty,     tblBuyOrder.id as id,     tblBuyOrderDet.PresentSampleType as PresentSampleType,     tblBuyOrderDet.FinishStatus as FinishStatus,     tblBuyOrder.Remark as Remark,     tblBuyOrderDet.Remark as DetRemark,     tblGoods.Validity as Validity,     case when isnull(tblBuyOrderDet.NotInQty,0)<0 then (-1)*isnull(tblBuyOrderDet.NotInQty,0) else 0 end as OverInQty,     tblGoods.classCode as GoodsCodeA,     tblBuyOrder.CompanyCode as CompanyCodeA,     tblGoods.classCode+'#;#0#;##;#' as hideCode,     tblBuyOrderDet.BuyAskPriceID as BuyAskPriceID,     tblBuyOrderDet.BuyAppTotalID as BuyAppTotalID,     tblBuyOrder.workFlowNodeName as workFlowNodeName,     tblBuyApplication.BillNo as AppNo from tblBuyOrder left join tblBuyOrderDet on tblBuyOrderDet.f_ref=tblBuyOrder.id left join tblCompany on tblCompany.classCode=tblBuyOrder.CompanyCode left join tblDepartment on tblDepartment.classCode=tblBuyOrder.DepartmentCode left join tblEmployee on tblEmployee.id=tblBuyOrder.EmployeeID left join tblStock on tblStock.classCode=tblBuyOrderDet.StockCode left join tblGoods on tblGoods.classCode=tblBuyOrderDet.GoodsCode left join tblCurrency on tblCurrency.id=tblBuyOrder.Currency left join tblProject on tblBuyOrder.ProjectCode=tblProject.id left join tblBuyApplication on tblBuyApplication.id=tblBuyOrder.BuyApplyID  where 1=1        and (tblBuyOrder.BillDate >= '2017-11-01')                                                                                                                                                                               and (NotInQty>0 and DATEDIFF(DAY,CONVERT(varchar(20),getDate(),23),ArriveDate)+1<=?)                            and (tblBuyOrder.workFlowNodeName ='finish')         
 [DEBUG] 2017-11-30 16:35:14,842 Line:583 ReportDataMgt.getReportData 参数1:2
 [ERROR] 2017-11-30 16:35:14,955 Line:1395 ReportDataMgt.getReportData() Error:
 com.microsoft.sqlserver.jdbc.SQLServerException: 列名 'ArriveDate' 不明确。
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:197)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1493)
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:390)
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:340)
	at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4575)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1400)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:179)
	at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:154)
	at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:283)
	at org.apache.tomcat.dbcp.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)
	at org.apache.tomcat.dbcp.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:96)
	at com.menyi.aio.web.report.ReportDataMgt$12$1.execute(ReportDataMgt.java:585)
	at org.hibernate.impl.SessionImpl.doWork(SessionImpl.java:1850)
	at com.menyi.aio.web.report.ReportDataMgt$12.exec(ReportDataMgt.java:553)
	at com.dbfactory.hibernate.DBUtil.execute(DBUtil.java:364)
	at com.menyi.aio.web.report.ReportDataMgt.getReportData(ReportDataMgt.java:551)
	at com.menyi.aio.web.alert.AlertCenterMgt.showData(AlertCenterMgt.java:933)
	at com.menyi.aio.web.alert.AlertCenterMgt.queryAlertTotals(AlertCenterMgt.java:177)
	at com.menyi.web.util.TimingMsgThread.run(TimingMsgThread.java:44)
[DEBUG] 2017-11-30 16:36:11,456 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-11-30 16:36:20,329 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:36:22,425 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 16:36:56,864 Line:5227 GlobalsTool.js 生成js 时间159:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-11-30 16:36:57,013 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-11-30 16:36:57,015 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-11-30 16:36:57,572 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1512031017550
 [DEBUG] 2017-11-30 16:36:57,596 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1512031017550,];
 [DEBUG] 2017-11-30 16:36:57,741 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-11-30 16:36:57,742 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [ERROR] 2017-11-30 16:37:26,487 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:37:27,903 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [INFO ] 2017-11-30 16:37:29,282 Line:148 SAFE 备份任务执行成功，时间2017-11-30 16:37:29
 [ERROR] 2017-11-30 16:38:30,544 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:38:31,645 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:39:38,411 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:39:40,762 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 16:40:15,120 Line:549 ReportDataMgt.getReportData SQL=select      tblSalesOrder.BillDate as startDate,     tblSalesOrder.BillDate as endDate,     tblSalesOrder.BillNo as BillNo,     tblSalesOrder.BillDate as BillDate,     tblProject.ProjectName as ProjectName,     tblGoods.classCode as GoodsCode,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as createBy,     tblGoods.GoodsNumber as GoodsNumber,     tblGoods.GoodsFullName as GoodsFullName,     tblGoods.GoodsSpec as GoodsSpec,     tblGoods.BaseUnit as BaseUnit,     tblGoods.BarCode as BarCode,     tblSalesOrderDet.BatchNo as BatchNo,     tblSalesOrderDet.Inch as Inch,     tblSalesOrderDet.Hue as Hue,     tblSalesOrderDet.yearNO as yearNO,     tblSalesOrderDet.ProDate as ProDate,     tblSalesOrderDet.Availably as Availably,     tblSalesOrderDet.SendDate as SendDate,     tblSalesOrderDet.Qty as Qty,     tblSalesOrderDet.Price as Price,     tblSalesOrderDet.Amount as Amount,     (select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastPrice,     tblSalesOrderDet.Qty*(select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastAmount,     tblSalesOrderDet.SalesGoodsType as SalesGoodsType,     tblSalesOrderDet.SecUnit as SecName,     tblSalesOrderDet.UnitIntQty as SecUnitQty,     tblSalesOrderDet.UnitBaseQty as SecBaseQty,     tblSalesOrderDet.UnitQty as UnitQty,     tblSalesOrderDet.UnitPrice as UnitPrice,     tblSalesOrderDet.Discount as Discount,     tblSalesOrderDet.DisPrice as DisPrice,     tblSalesOrderDet.DisBackAmt as DisBackAmt,     tblSalesOrderDet.DisAmount as DisAmount,     tblSalesOrder.Tax as Tax,     tblSalesOrderDet.TaxPrice as TaxPrice,     tblSalesOrderDet.TaxAmount as TaxAmount,     tblSalesOrderDet.CoTaxAmt as CoTaxAmt,     tblCurrency.CurrencyName as CurrencyName,     tblSalesOrder.CurrencyRate as CurrencyRate,     tblSalesOrderDet.CurPrice as CurPrice,     tblSalesOrderDet.CurAmount as CurAmount,     tblSalesOrderDet.AccountingPrice as AccountingPrice,     tblSalesOrder.hasBuyOrder as hasBuyOrder,     tblSalesOrderDet.MRPQty as MRPQty,     tblSalesOrderDet.WorkOrderQty as WorkOrderQty,     (select sum(isnull(k.InQty,0)) from tblBuyOrderDet k where k.SourceID=tblSalesOrderDet.id) as inQty,     tblSalesOrderDet.OutQty as OutQty,     case when tblSalesOrderDet.NotOutQty <=0 or tblSalesOrder.statusId!=0 then 0 else tblSalesOrderDet.NotOutQty end as NotOutQty,     tblSalesOrderDet.BackQty as BackQty,     tblSalesOrder.id as id,     tblSalesOrderDet.SCompanyID as SCompanyID,     tblSalesOrderDet.FinishStatus as FinishStatus,     tblSalesOrderDet.PresentSampleType as PresentSampleType,     tblSalesOrder.Remark as Remark,     tblSalesOrderDet.Remark as ReRemark,     case when (tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) <0 then (-1)*(tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) else 0 end as OverOutQty,     viewcompanytotal.ComFullName as ComFullName1,     tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice as profitPrice,     tblSalesOrderDet.Qty*(tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice) as profitAmt,     tblGoods.classCode+'#;#0#;##;#' as hideCode,     tblSalesOrder.workFlowNodeName as workFlowNodeName,     tblSalesOrder.OldGiftId as OldGiftId from tblSalesOrderDet    left join tblGoods on tblGoods.ClassCode=tblSalesOrderDet.GoodsCode   left join viewcompanytotal on tblGoods.CompanyCode=viewcompanytotal.classCode   left join tblSalesOrder on tblSalesOrderDet.f_ref=tblSalesOrder.id   left join tblStock on tblStock.classCode=tblSalesOrderDet.StockCode   left join tblCurrency on tblCurrency.id=tblSalesOrder.Currency   left join tblEmployee on tblEmployee.id = tblSalesOrder.EmployeeID   left join tblEmployee as tblEmployee2 on tblEmployee2.id = tblSalesOrder.createBy   left join tblCompany on tblCompany.classCode = tblSalesOrder.CompanyCode   left join tblDepartment on tblDepartment.classCode = tblSalesOrder.DepartmentCode left join tblProject on tblSalesOrder.ProjectCode=tblProject.id  where 1=1        and (tblSalesOrder.BillDate >= '2017-11-01')                                                                                                                                                                 and (tblSalesOrder.workFlowNodeName ='finish')         
 [DEBUG] 2017-11-30 16:40:15,642 Line:690 通过SQL读原始数据：520
 [DEBUG] 2017-11-30 16:40:15,643 Line:1392 整理数据：0
 [ERROR] 2017-11-30 16:40:42,963 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:40:44,044 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:41:46,552 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:41:47,714 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:42:51,137 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:42:53,109 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:43:55,670 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:43:56,711 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 16:44:51,077 Line:73 --------Destroy Config Refresh Thread---------------
 [DEBUG] 2017-11-30 16:44:51,079 Line:105 --------Destroy Hibernate---------------
 [INFO ] 2017-11-30 16:44:51,099 Line:127 测试执行路径
 java.lang.Exception
	at com.menyi.web.util.BaseFilter.destroy(BaseFilter.java:125)
	at org.apache.catalina.core.ApplicationFilterConfig.release(ApplicationFilterConfig.java:313)
	at org.apache.catalina.core.StandardContext.filterStop(StandardContext.java:4890)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5711)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.core.StandardContext.reload(StandardContext.java:4026)
	at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1479)
	at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1462)
	at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1646)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:328)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1374)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1546)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1556)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1524)
	at java.lang.Thread.run(Thread.java:745)
[INFO ] 2017-11-30 16:44:59,336 Line:205 系统开始启动，最大内存：891;目前总内存：425;目前空闲内存：68
 [INFO ] 2017-11-30 16:44:59,348 Line:283 ===========Tomcat Port=8888
 [DEBUG] 2017-11-30 16:45:04,446 Line:3843 --------Init Hibernate Successful---------------
 [DEBUG] 2017-11-30 16:45:04,891 Line:1203 ------Init SystemSetting record:212
 [INFO ] 2017-11-30 16:45:04,898 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-11-30 16:45:05,084 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-11-30 16:45:05,090 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-11-30 16:45:05,097 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-11-30 16:45:05,104 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-11-30 16:45:05,118 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-11-30 16:45:05,125 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-11-30 16:45:07,357 Line:1061 ------Init Enumeration record:518
 [DEBUG] 2017-11-30 16:45:07,381 Line:1091 ------Init WorkProfession record:6
 [DEBUG] 2017-11-30 16:45:07,419 Line:1121 ------Init District record:3984
 [DEBUG] 2017-11-30 16:45:07,430 Line:1152 ------Init deptMap record:15
 [DEBUG] 2017-11-30 16:45:09,582 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-11-30 16:45:09,582 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-11-30 16:45:11,420 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-11-30 16:45:11,776 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-11-30 16:45:15,336 Line:538 ------Init TableInfo record:879
 [DEBUG] 2017-11-30 16:45:15,440 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-11-30 16:45:15,450 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-11-30 16:45:15,470 Line:775 ------Init initModuleField record:4
 [DEBUG] 2017-11-30 16:45:15,491 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-11-30 16:45:15,502 Line:721 ------Init TableInfo record:24
 [DEBUG] 2017-11-30 16:45:15,558 Line:891 ------Init PropInfo record:7
 [ERROR] 2017-11-30 16:45:24,536 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.InitMenData.initDog(InitMenData.java:2946)
	at com.menyi.web.util.InitMenData.initSystem(InitMenData.java:3850)
	at com.menyi.web.util.BaseFilter.init(BaseFilter.java:215)
	at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)
	at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)
	at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:105)
	at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4854)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5542)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.StandardContext.reload(StandardContext.java:4033)
	at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1479)
	at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1462)
	at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1646)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:328)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
	at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)
	at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1374)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1546)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1556)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1524)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-11-30 16:45:26,844 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 16:45:26,900 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-11-30 16:45:28,087 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\25183d52_1706281731170782890.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:45:28,861 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\726c06ce_1603150934567560417.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:45:28,999 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\916dc5e8_1512091148254894807.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:45:29,031 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\9d47f247_1706091716571082648.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:45:29,246 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\c30fac90_1604291410068132941.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:45:29,955 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\fd21c05c_1606131813438340088.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 16:45:29,956 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-11-30 16:45:29,967 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-11-30 16:45:29,999 Line:2994 --------Init SMS Start ---------------
 [ERROR] 2017-11-30 16:45:30,311 Line:3005 --------Init MSGConnectCenter Failture-----------
 [INFO ] 2017-11-30 16:45:30,311 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-11-30 16:45:30,311 Line:3855 --------Init Dog Successful---------------
 [DEBUG] 2017-11-30 16:45:32,174 Line:549 ReportDataMgt.getReportData SQL=select      tblSalesOrder.BillDate as startDate,     tblSalesOrder.BillDate as endDate,     tblSalesOrder.BillNo as BillNo,     tblSalesOrder.BillDate as BillDate,     tblProject.ProjectName as ProjectName,     tblGoods.classCode as GoodsCode,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as createBy,     tblGoods.GoodsNumber as GoodsNumber,     tblGoods.GoodsFullName as GoodsFullName,     tblGoods.GoodsSpec as GoodsSpec,     tblGoods.BaseUnit as BaseUnit,     tblGoods.BarCode as BarCode,     tblSalesOrderDet.BatchNo as BatchNo,     tblSalesOrderDet.Inch as Inch,     tblSalesOrderDet.Hue as Hue,     tblSalesOrderDet.yearNO as yearNO,     tblSalesOrderDet.ProDate as ProDate,     tblSalesOrderDet.Availably as Availably,     tblSalesOrderDet.SendDate as SendDate,     tblSalesOrderDet.Qty as Qty,     tblSalesOrderDet.Price as Price,     tblSalesOrderDet.Amount as Amount,     (select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastPrice,     tblSalesOrderDet.Qty*(select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastAmount,     tblSalesOrderDet.SalesGoodsType as SalesGoodsType,     tblSalesOrderDet.SecUnit as SecName,     tblSalesOrderDet.UnitIntQty as SecUnitQty,     tblSalesOrderDet.UnitBaseQty as SecBaseQty,     tblSalesOrderDet.UnitQty as UnitQty,     tblSalesOrderDet.UnitPrice as UnitPrice,     tblSalesOrderDet.Discount as Discount,     tblSalesOrderDet.DisPrice as DisPrice,     tblSalesOrderDet.DisBackAmt as DisBackAmt,     tblSalesOrderDet.DisAmount as DisAmount,     tblSalesOrder.Tax as Tax,     tblSalesOrderDet.TaxPrice as TaxPrice,     tblSalesOrderDet.TaxAmount as TaxAmount,     tblSalesOrderDet.CoTaxAmt as CoTaxAmt,     tblCurrency.CurrencyName as CurrencyName,     tblSalesOrder.CurrencyRate as CurrencyRate,     tblSalesOrderDet.CurPrice as CurPrice,     tblSalesOrderDet.CurAmount as CurAmount,     tblSalesOrderDet.AccountingPrice as AccountingPrice,     tblSalesOrder.hasBuyOrder as hasBuyOrder,     tblSalesOrderDet.MRPQty as MRPQty,     tblSalesOrderDet.WorkOrderQty as WorkOrderQty,     (select sum(isnull(k.InQty,0)) from tblBuyOrderDet k where k.SourceID=tblSalesOrderDet.id) as inQty,     tblSalesOrderDet.OutQty as OutQty,     case when tblSalesOrderDet.NotOutQty <=0 or tblSalesOrder.statusId!=0 then 0 else tblSalesOrderDet.NotOutQty end as NotOutQty,     tblSalesOrderDet.BackQty as BackQty,     tblSalesOrder.id as id,     tblSalesOrderDet.SCompanyID as SCompanyID,     tblSalesOrderDet.FinishStatus as FinishStatus,     tblSalesOrderDet.PresentSampleType as PresentSampleType,     tblSalesOrder.Remark as Remark,     tblSalesOrderDet.Remark as ReRemark,     case when (tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) <0 then (-1)*(tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) else 0 end as OverOutQty,     viewcompanytotal.ComFullName as ComFullName1,     tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice as profitPrice,     tblSalesOrderDet.Qty*(tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice) as profitAmt,     tblGoods.classCode+'#;#0#;##;#' as hideCode,     tblSalesOrder.workFlowNodeName as workFlowNodeName,     tblSalesOrder.OldGiftId as OldGiftId from tblSalesOrderDet    left join tblGoods on tblGoods.ClassCode=tblSalesOrderDet.GoodsCode   left join viewcompanytotal on tblGoods.CompanyCode=viewcompanytotal.classCode   left join tblSalesOrder on tblSalesOrderDet.f_ref=tblSalesOrder.id   left join tblStock on tblStock.classCode=tblSalesOrderDet.StockCode   left join tblCurrency on tblCurrency.id=tblSalesOrder.Currency   left join tblEmployee on tblEmployee.id = tblSalesOrder.EmployeeID   left join tblEmployee as tblEmployee2 on tblEmployee2.id = tblSalesOrder.createBy   left join tblCompany on tblCompany.classCode = tblSalesOrder.CompanyCode   left join tblDepartment on tblDepartment.classCode = tblSalesOrder.DepartmentCode left join tblProject on tblSalesOrder.ProjectCode=tblProject.id  where 1=1        and (tblSalesOrder.BillDate >= '2017-11-01')                                                                                                                                                                 and (tblSalesOrder.workFlowNodeName ='finish')         
 [INFO ] 2017-11-30 16:45:32,386 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-01 00:00:00
 [INFO ] 2017-11-30 16:45:32,387 Line:137 SAFE 碎片任务启动，时间2017-12-03 00:00:00
 [DEBUG] 2017-11-30 16:45:32,711 Line:690 通过SQL读原始数据：469
 [DEBUG] 2017-11-30 16:45:32,713 Line:1392 整理数据：1
 [DEBUG] 2017-11-30 16:46:30,455 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-11-30 16:47:20,005 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:47:21,146 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 16:47:27,106 Line:5227 GlobalsTool.js 生成js 时间121:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-11-30 16:47:27,145 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-11-30 16:47:27,146 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-11-30 16:47:27,467 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1512031647460
 [DEBUG] 2017-11-30 16:47:27,485 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1512031647460,];
 [DEBUG] 2017-11-30 16:47:27,688 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-11-30 16:47:27,688 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-11-30 16:47:31,373 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1512031651370
 [DEBUG] 2017-11-30 16:47:31,373 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1512031651370,];
 [DEBUG] 2017-11-30 16:47:31,459 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1512031651457
 [DEBUG] 2017-11-30 16:47:31,460 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1512031651457,];
 [DEBUG] 2017-11-30 16:47:31,563 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-11-30 16:47:31,564 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1366,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[c4ca4238a0b923820dcc509a6f75849b,];
 [DEBUG] 2017-11-30 16:47:31,686 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-11-30 16:47:31,713 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-11-30 16:47:31,927 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 16:47:31,928 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 16:47:32,075 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 16:47:32,550 Line:5227 GlobalsTool.js 生成js 时间54:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-11-30 16:47:32,965 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 16:47:32,965 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 16:47:32,966 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 16:47:32,966 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 16:47:32,968 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 16:47:33,010 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 16:47:33,010 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 16:47:33,011 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 16:47:33,046 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 16:47:33,047 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 16:47:33,048 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 16:47:33,069 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 16:47:33,070 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 16:47:33,072 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 16:48:48,325 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:49:27,730 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:50:30,465 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:50:38,951 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:51:58,392 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:51:59,629 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:53:01,996 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:53:03,011 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:54:05,052 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:54:06,030 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:55:08,032 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:55:08,984 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:56:11,043 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:56:12,008 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:57:14,153 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:57:15,176 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:58:17,505 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:58:18,664 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 16:59:20,758 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 16:59:21,879 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:00:24,092 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:00:25,419 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:01:27,904 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:01:29,257 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:02:31,350 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:02:32,392 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:03:34,550 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:03:35,776 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:04:37,778 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:04:38,750 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:05:41,061 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:05:42,023 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:06:44,038 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:06:45,063 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:07:47,209 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:07:48,390 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:08:50,627 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:08:51,734 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:09:53,828 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:09:54,989 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:10:28,302 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-11-30 17:10:28,303 Line:99 CommonServlet.service 操作人:admin;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-11-30 17:10:28,457 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-11-30 17:10:28,458 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[15,];
 [DEBUG] 2017-11-30 17:10:28,634 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1512033028630
 [DEBUG] 2017-11-30 17:10:28,634 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[valpwd,];time=[1512033028630,];
 [DEBUG] 2017-11-30 17:10:30,340 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1512033030338
 [DEBUG] 2017-11-30 17:10:30,341 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[getUserInfo,];name=[admin,];time=[1512033030338,];
 [DEBUG] 2017-11-30 17:10:30,348 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1512033030346
 [DEBUG] 2017-11-30 17:10:30,348 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[sunCompany,];name=[admin,];time=[1512033030346,];
 [DEBUG] 2017-11-30 17:10:30,361 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-11-30 17:10:30,361 Line:146 BaseAction.execute 操作人:admin;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1366,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[c4ca4238a0b923820dcc509a6f75849b,];
 [DEBUG] 2017-11-30 17:10:30,442 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-11-30 17:10:30,453 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-11-30 17:10:30,545 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 17:10:30,546 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 17:10:30,547 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:10:30,882 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 17:10:30,883 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 17:10:30,940 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 17:10:30,940 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:10:30,942 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:10:30,988 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 17:10:30,989 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:10:30,990 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:10:31,011 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 17:10:31,011 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:10:31,013 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:10:31,030 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 17:10:31,030 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:10:31,031 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 17:10:57,077 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:10:58,232 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:12:00,529 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:12:01,695 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:13:03,928 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:13:04,955 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:14:07,142 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:14:08,180 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:15:10,360 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:15:11,451 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:16:13,766 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:16:14,837 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:17:00,684 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblExpensed&src=menu&winCurIndex=1
 [DEBUG] 2017-11-30 17:17:00,689 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblExpensed,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-11-30 17:17:00,692 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblExpensed
 [DEBUG] 2017-11-30 17:17:01,007 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,ComNumber,ComFullName,AccName,BillAmt,FcBillAmt,sysName,id,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblExpensed.id as keyId,tblExpensed.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblExpensed.createBy) as deptCodeR,tblExpensed.employeeId as employeeId,tblExpensed.departmentCode as deptCodeRE, tblExpensed.workFlowNode as workFlowNode,tblExpensed.workFlowNodeName as workFlowNodeName,tblExpensed.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblExpensed.id and OAMyWorkFlow.tableName='tblExpensed' and '1' = OAMyWorkFlow.lastCheckPerson and tblExpensed.workFlowNode!='-1' ) as lastNodeID,       tblExpensed.BillDate as BillDate,     tblExpensed.BillNo as BillNo,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblAccTypeInfo.AccName as AccName,     tblExpensed.BillAmt as BillAmt,     tblExpensed.FcBillAmt as FcBillAmt,     tblEmployee.EmpFullName as sysName,     tblExpensed.id as id   ,ROW_NUMBER() over(order by     tblExpensed.BillDate desc,    tblExpensed.BillNo desc) as row_id  from tblExpensed   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblExpensed.SubCode  left join tblEmployee on tblEmployee.id=tblExpensed.createBy  left join tblcompany on tblcompany.classCode=tblExpensed.CompanyCode where 1=1 and isNull(tblExpensed.workFlowNodeName,'')!='print'        and (tblExpensed.BillDate >= ?)                                        )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 17:17:01,009 Line:583 ReportDataMgt.getReportData 参数1:2017-11-01
 [DEBUG] 2017-11-30 17:17:01,126 Line:690 通过SQL读原始数据：117
 [DEBUG] 2017-11-30 17:17:01,131 Line:1392 整理数据：5
 [DEBUG] 2017-11-30 17:17:01,608 Line:5227 GlobalsTool.js 生成js 时间95:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-11-30 17:17:01,734 Line:5227 GlobalsTool.js 生成js 时间125:/js/gen/defineList.vjstblExpensed_zh_CN.js
 [DEBUG] 2017-11-30 17:17:04,145 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblExpensed&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=1&popWinName=PopMainOpdiv
 [DEBUG] 2017-11-30 17:17:04,146 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblExpensed,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[1,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-11-30 17:17:04,723 Line:5227 GlobalsTool.js 生成js 时间19:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-11-30 17:17:05,526 Line:5227 GlobalsTool.js 生成js 时间802:/js/gen/define.vjstblExpensed_zh_CN.js
 [DEBUG] 2017-11-30 17:17:14,852 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-11-30 17:17:15,147 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblExpenseDet&fieldName=SubCode&operation=22&isMain=false&src=menu&MOID=2e9767a1_0811051339146090001&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-11-30 17:17:15,147 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblExpenseDet,];fieldName=[SubCode,];operation=[22,];isMain=[false,];src=[menu,];MOID=[2e9767a1_0811051339146090001,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-11-30 17:17:15,220 Line:3434 DynDBManager.popSelect selectName=BillAccType; sql=select *  from (select tblBillAccSetup.SubCode f1 ,tblBillAccSetup.SubType f2 
,ROW_NUMBER() over( order by tblBillAccSetup.SubCode) as row_id from tblBillAccSetup where 1=1  and (tblBillAccSetup.MainType=(case when 'tblExpenseDet'='tblseqCheck' then 'tblCheck' else 'tblExpenseDet' end))) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-11-30 17:17:15,510 Line:5227 GlobalsTool.js 生成js 时间46:/js/gen/Main.vjs_zh_CN.js
 [DEBUG] 2017-11-30 17:17:15,584 Line:5227 GlobalsTool.js 生成js 时间74:/js/gen/popupPage.vjs_zh_CN.js
 [ERROR] 2017-11-30 17:17:17,899 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:17:18,952 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:18:21,411 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:18:22,439 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:19:24,663 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:19:26,287 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:20:28,476 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:20:29,624 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:21:32,157 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:21:33,245 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:22:35,582 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:22:37,113 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:23:39,151 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:23:40,404 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:24:42,912 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:24:44,121 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:25:46,626 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:25:47,698 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:26:49,746 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:26:51,011 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:27:53,074 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:27:54,089 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:28:56,456 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:28:57,454 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:29:59,817 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:30:01,304 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:31:03,390 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:31:04,392 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:32:06,775 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:32:07,740 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:33:09,794 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:33:11,033 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:34:06,896 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 17:34:06,897 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 17:34:06,901 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:34:07,267 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 17:34:07,268 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 17:34:07,295 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 17:34:07,296 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:34:07,297 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:34:07,322 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 17:34:07,323 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:34:07,324 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:34:07,341 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 17:34:07,341 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:34:07,342 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:34:07,357 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 17:34:07,358 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:34:07,359 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 17:34:13,370 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:34:14,750 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:35:16,318 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 17:35:16,319 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 17:35:16,320 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:35:16,597 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 17:35:16,597 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 17:35:16,637 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 17:35:16,637 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:35:16,638 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:35:16,669 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 17:35:16,669 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:35:16,671 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:35:16,705 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 17:35:16,706 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:35:16,707 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:35:16,730 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 17:35:16,731 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:35:16,732 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 17:35:17,728 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:35:18,782 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:36:02,020 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2017-11-30 17:36:02,021 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-11-30 17:36:02,022 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2017-11-30 17:36:02,281 Line:5227 GlobalsTool.js 生成js 时间81:/js/gen/defineList.vjstblSalesOrder_zh_CN.js
 [ERROR] 2017-11-30 17:36:21,591 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:36:22,568 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:36:31,212 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2017-11-30 17:36:31,213 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:@ParamList:2017-11-01@end:,];right=[@SQL:@ParamList:2017-11-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[all,];statusId=[,];InvoiceType=[,];BillNo=[SL1711095,];ComFullName1=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];id=[,];Combo=[,];ComNumber=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2017-11-30 17:36:31,265 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,statusId,ComNumber,ComFullName,InvoiceType,CurTotalTaxAmount,TotalAmount,TotalTaxAmount,DeptFullName,EmpFullName,sysName,id,CompanyCode,JAmount,FreightAmt,DJAmount,Combo,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblSalesOrder.statusId as statusId,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblSalesOrder.InvoiceType as InvoiceType,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     tblSalesOrder.TotalAmount as TotalAmount,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     tblSalesOrder.FreightAmt as FreightAmt,     abs(isnull(tblSalesOrder.TotalAmount,0)-isnull(tblSalesOrder.khFreightAmt,0)) as DJAmount,     tblCombo.Combo as Combo   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account  left join tblCombo on tblCombo.id = tblSalesOrder.ComboId      where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'                      and (tblSalesOrder.BillNo like '%'+?+'%' escape '!')                                                                           )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 17:36:31,266 Line:583 ReportDataMgt.getReportData 参数1:SL1711095
 [DEBUG] 2017-11-30 17:36:31,298 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do
 [DEBUG] 2017-11-30 17:36:31,304 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblSalesOrder,];optionType=[,];parentCode=[,];f_brother=[,];defineName=[,];winCurIndex=[1,];parentTableName=[,];reportName=[销售订单,];moduleName=[销售订单,];isAllListQuery=[,];parentCodeList=[,];src=[,];queryChannel=[normal,];newCreateBy=[,];wakeUp=[,];sendMessage=[,];classCode=[,];SQLSave=[@SQL:@ParamList:2017-11-01@end:,];right=[@SQL:@ParamList:2017-11-01@end:,];draftQuery=[,];export=[,];query=[true,];defineInfo=[,];isTab=[,];ButtonType=[,billExport,];ButtonTypeName=[,];varKeyIds=[,];brotherEnter=[,];hasFrame=[,];detTable_list=[,];checkTab=[Y,];popReturnVal=[,];defineOrderBy=[,];BillDate1=[,];BillDate2=[,];workFlowNodeName=[all,];statusId=[,];InvoiceType=[,];BillNo=[SL1711095,];ComFullName1=[,];DeptFullName=[,];EmpFullName=[,];sysName=[,];id=[,];Combo=[,];ComNumber=[,];pageSize=[100,];pageNo=[1,];moduleType=[,];
 [DEBUG] 2017-11-30 17:36:31,333 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,statusId,ComNumber,ComFullName,InvoiceType,CurTotalTaxAmount,TotalAmount,TotalTaxAmount,DeptFullName,EmpFullName,sysName,id,CompanyCode,JAmount,FreightAmt,DJAmount,Combo,workFlowNodeName,workFlowNode,checkPersons,lastNodeID from ( select tblSalesOrder.id as keyId,tblSalesOrder.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblSalesOrder.createBy) as deptCodeR,tblSalesOrder.employeeId as employeeId,tblSalesOrder.departmentCode as deptCodeRE, tblSalesOrder.workFlowNode as workFlowNode,tblSalesOrder.workFlowNodeName as workFlowNodeName,tblSalesOrder.checkPersons as checkPersons,(select lastNodeId from OAMyWorkFlow where OAMyWorkFlow.keyID=tblSalesOrder.id and OAMyWorkFlow.tableName='tblSalesOrder' and '1' = OAMyWorkFlow.lastCheckPerson and tblSalesOrder.workFlowNode!='-1' ) as lastNodeID,       tblSalesOrder.BillDate as BillDate,     tblSalesOrder.BillNo as BillNo,     tblSalesOrder.statusId as statusId,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblSalesOrder.InvoiceType as InvoiceType,     tblSalesOrder.CurTotalAmount as CurTotalTaxAmount,     tblSalesOrder.TotalAmount as TotalAmount,     tblSalesOrder.TotalTaxAmount as TotalTaxAmount,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee1.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as sysName,     tblSalesOrder.id as id,     tblSalesOrder.CompanyCode as CompanyCode,     abs(isnull(tblSalesOrder.TotalTaxAmount,0)-isnull(tblSalesOrder.BackAmount,0)) as JAmount,     tblSalesOrder.FreightAmt as FreightAmt,     abs(isnull(tblSalesOrder.TotalAmount,0)-isnull(tblSalesOrder.khFreightAmt,0)) as DJAmount,     tblCombo.Combo as Combo   ,ROW_NUMBER() over(order by     tblSalesOrder.BillDate desc,    tblSalesOrder.BillNo desc) as row_id  from tblSalesOrder   join tblCompany on tblCompany.classCode=tblSalesOrder.CompanyCode  left join tblDepartment on tblDepartment.classCode=tblSalesOrder.DepartmentCode  left join tblEmployee tblEmployee1 on tblEmployee1.id=tblSalesOrder.EmployeeID   left join tblEmployee tblEmployee2 on tblEmployee2.id=tblSalesOrder.createBy   left join tblAccTypeInfo on tblAccTypeInfo.AccNumber=tblSalesOrder.Account  left join tblCombo on tblCombo.id = tblSalesOrder.ComboId      where 1=1 and isNull(tblSalesOrder.workFlowNodeName,'')!='print'                      and (tblSalesOrder.BillNo like '%'+?+'%' escape '!')                                                                           )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 17:36:31,334 Line:583 ReportDataMgt.getReportData 参数1:SL1711095
 [DEBUG] 2017-11-30 17:36:31,425 Line:690 通过SQL读原始数据：92
 [DEBUG] 2017-11-30 17:36:31,425 Line:690 通过SQL读原始数据：160
 [DEBUG] 2017-11-30 17:36:31,427 Line:1392 整理数据：1
 [DEBUG] 2017-11-30 17:36:31,427 Line:1392 整理数据：0
 [ERROR] 2017-11-30 17:37:24,702 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:37:25,985 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:38:28,475 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:38:29,565 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:39:32,047 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:39:33,195 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:40:35,569 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:40:36,957 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:41:39,030 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:41:40,234 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:42:42,416 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:42:43,390 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:43:45,798 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:43:46,956 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:44:49,096 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:44:50,217 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:45:52,487 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:45:53,531 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:46:55,754 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:46:56,950 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:47:34,842 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 17:47:34,846 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 17:47:34,848 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:47:35,212 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 17:47:35,213 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 17:47:35,298 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 17:47:35,299 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:47:35,301 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:47:35,342 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 17:47:35,343 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:47:35,344 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:47:35,388 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 17:47:35,389 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:47:35,391 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:47:35,430 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 17:47:35,431 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:47:35,432 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:47:56,970 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-11-30 17:47:59,265 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:48:00,464 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:49:02,703 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:49:03,701 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:50:05,979 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:50:06,999 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:51:09,132 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:51:10,093 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:52:12,721 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:52:13,697 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:53:15,941 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:53:17,004 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:54:19,024 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:54:20,033 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:55:22,357 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:55:23,347 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:56:18,840 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 17:56:18,841 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 17:56:18,842 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:56:19,137 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 17:56:19,138 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 17:56:19,165 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 17:56:19,166 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:56:19,167 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:56:19,190 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 17:56:19,191 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:56:19,192 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:56:19,209 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 17:56:19,210 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:56:19,211 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:56:19,231 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 17:56:19,232 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:56:19,233 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 17:56:25,454 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:56:26,651 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:57:04,051 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 17:57:04,053 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 17:57:04,056 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:57:04,272 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 17:57:04,273 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 17:57:04,298 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 17:57:04,299 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:57:04,300 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:57:04,321 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 17:57:04,322 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:57:04,323 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:57:04,332 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 17:57:04,332 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:57:04,333 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 17:57:04,343 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 17:57:04,343 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 17:57:04,344 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 17:57:28,604 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:57:29,561 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:58:31,504 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:58:32,509 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 17:59:34,559 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 17:59:35,553 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 17:59:53,573 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblSalesOrder&src=menu&winCurIndex=1
 [DEBUG] 2017-11-30 17:59:53,574 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblSalesOrder,];src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-11-30 17:59:53,575 Line:215 ---------->SET Page 1 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblSalesOrder
 [DEBUG] 2017-11-30 18:00:00,537 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-11-30 18:00:00,538 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-11-30 18:00:00,539 Line:215 ---------->SET Page 2 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-11-30 18:00:01,507 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-11-30 18:00:01,508 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-11-30 18:00:33,514 Line:549 ReportDataMgt.getReportData SQL=select      tblSalesOrder.BillDate as startDate,     tblSalesOrder.BillDate as endDate,     tblSalesOrder.BillNo as BillNo,     tblSalesOrder.BillDate as BillDate,     tblProject.ProjectName as ProjectName,     tblGoods.classCode as GoodsCode,     tblCompany.ComNumber as ComNumber,     tblCompany.ComFullName as ComFullName,     tblDepartment.DeptFullName as DeptFullName,     tblEmployee.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as createBy,     tblGoods.GoodsNumber as GoodsNumber,     tblGoods.GoodsFullName as GoodsFullName,     tblGoods.GoodsSpec as GoodsSpec,     tblGoods.BaseUnit as BaseUnit,     tblGoods.BarCode as BarCode,     tblSalesOrderDet.BatchNo as BatchNo,     tblSalesOrderDet.Inch as Inch,     tblSalesOrderDet.Hue as Hue,     tblSalesOrderDet.yearNO as yearNO,     tblSalesOrderDet.ProDate as ProDate,     tblSalesOrderDet.Availably as Availably,     tblSalesOrderDet.SendDate as SendDate,     tblSalesOrderDet.Qty as Qty,     tblSalesOrderDet.Price as Price,     tblSalesOrderDet.Amount as Amount,     (select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastPrice,     tblSalesOrderDet.Qty*(select Top 1 lastPrice from tblStocks a where a.GoodsCode=tblSalesOrderDet.GoodsCode and tblSalesOrderDet.PresentSampleType!=0) as lastAmount,     tblSalesOrderDet.SalesGoodsType as SalesGoodsType,     tblSalesOrderDet.SecUnit as SecName,     tblSalesOrderDet.UnitIntQty as SecUnitQty,     tblSalesOrderDet.UnitBaseQty as SecBaseQty,     tblSalesOrderDet.UnitQty as UnitQty,     tblSalesOrderDet.UnitPrice as UnitPrice,     tblSalesOrderDet.Discount as Discount,     tblSalesOrderDet.DisPrice as DisPrice,     tblSalesOrderDet.DisBackAmt as DisBackAmt,     tblSalesOrderDet.DisAmount as DisAmount,     tblSalesOrder.Tax as Tax,     tblSalesOrderDet.TaxPrice as TaxPrice,     tblSalesOrderDet.TaxAmount as TaxAmount,     tblSalesOrderDet.CoTaxAmt as CoTaxAmt,     tblCurrency.CurrencyName as CurrencyName,     tblSalesOrder.CurrencyRate as CurrencyRate,     tblSalesOrderDet.CurPrice as CurPrice,     tblSalesOrderDet.CurAmount as CurAmount,     tblSalesOrderDet.AccountingPrice as AccountingPrice,     tblSalesOrder.hasBuyOrder as hasBuyOrder,     tblSalesOrderDet.MRPQty as MRPQty,     tblSalesOrderDet.WorkOrderQty as WorkOrderQty,     (select sum(isnull(k.InQty,0)) from tblBuyOrderDet k where k.SourceID=tblSalesOrderDet.id) as inQty,     tblSalesOrderDet.OutQty as OutQty,     case when tblSalesOrderDet.NotOutQty <=0 or tblSalesOrder.statusId!=0 then 0 else tblSalesOrderDet.NotOutQty end as NotOutQty,     tblSalesOrderDet.BackQty as BackQty,     tblSalesOrder.id as id,     tblSalesOrderDet.SCompanyID as SCompanyID,     tblSalesOrderDet.FinishStatus as FinishStatus,     tblSalesOrderDet.PresentSampleType as PresentSampleType,     tblSalesOrder.Remark as Remark,     tblSalesOrderDet.Remark as ReRemark,     case when (tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) <0 then (-1)*(tblSalesOrderDet.Qty-tblSalesOrderDet.OutQty) else 0 end as OverOutQty,     viewcompanytotal.ComFullName as ComFullName1,     tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice as profitPrice,     tblSalesOrderDet.Qty*(tblSalesOrderDet.taxPrice-tblGoods.PreBuyPrice) as profitAmt,     tblGoods.classCode+'#;#0#;##;#' as hideCode,     tblSalesOrder.workFlowNodeName as workFlowNodeName,     tblSalesOrder.OldGiftId as OldGiftId from tblSalesOrderDet    left join tblGoods on tblGoods.ClassCode=tblSalesOrderDet.GoodsCode   left join viewcompanytotal on tblGoods.CompanyCode=viewcompanytotal.classCode   left join tblSalesOrder on tblSalesOrderDet.f_ref=tblSalesOrder.id   left join tblStock on tblStock.classCode=tblSalesOrderDet.StockCode   left join tblCurrency on tblCurrency.id=tblSalesOrder.Currency   left join tblEmployee on tblEmployee.id = tblSalesOrder.EmployeeID   left join tblEmployee as tblEmployee2 on tblEmployee2.id = tblSalesOrder.createBy   left join tblCompany on tblCompany.classCode = tblSalesOrder.CompanyCode   left join tblDepartment on tblDepartment.classCode = tblSalesOrder.DepartmentCode left join tblProject on tblSalesOrder.ProjectCode=tblProject.id  where 1=1        and (tblSalesOrder.BillDate >= '2017-11-01')                                                                                                                                                                 and (tblSalesOrder.workFlowNodeName ='finish')         
 [DEBUG] 2017-11-30 18:00:33,943 Line:690 通过SQL读原始数据：428
 [DEBUG] 2017-11-30 18:00:33,944 Line:1392 整理数据：0
 [ERROR] 2017-11-30 18:00:37,666 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:00:38,670 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 18:00:57,310 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblTransferSale1&src=menu&winCurIndex=3
 [DEBUG] 2017-11-30 18:00:57,311 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblTransferSale1,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-11-30 18:00:57,312 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblTransferSale1
 [DEBUG] 2017-11-30 18:00:57,344 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,BillDate,BillNo,CompanyCode,InCompanyCode,ExeTransferAmt,FcExeTransferAmt,EmpFullName,sysName,id,workFlowNodeName from ( select tblTransferSale1.id as keyId,tblTransferSale1.createBy as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id=tblTransferSale1.createBy) as deptCodeR,tblTransferSale1.employeeId as employeeId,tblTransferSale1.departmentCode as deptCodeRE, tblTransferSale1.workFlowNodeName as workFlowNodeName,       tblTransferSale1.BillDate as BillDate,     tblTransferSale1.BillNo as BillNo,     tblCompany1.ComFullName as CompanyCode,     tblCompany2.ComFullName as InCompanyCode,     tblTransferSale1.ExeTransferAmt as ExeTransferAmt,     tblTransferSale1.FcExeTransferAmt as FcExeTransferAmt,     tblEmployee1.EmpFullName as EmpFullName,     tblEmployee2.EmpFullName as sysName,     tblTransferSale1.id as id   ,ROW_NUMBER() over(order by     tblTransferSale1.BillDate desc,    tblTransferSale1.BillNo desc) as row_id  from tblTransferSale1  left join tblCompany as tblCompany1 on tblTransferSale1.CompanyCode=tblCompany1.classCode  left join tblCompany as tblCompany2 on tblTransferSale1.InCompanyCode=tblCompany2.classCode   left join tblEmployee as tblEmployee1 on tblEmployee1.id=tblTransferSale1.EmployeeID   left join tblEmployee as tblEmployee2 on tblEmployee2.id=tblTransferSale1.createBy where 1=1 and isNull(tblTransferSale1.workFlowNodeName,'')!='print'        and (tblTransferSale1.BillDate >= ?)                                               )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 18:00:57,345 Line:583 ReportDataMgt.getReportData 参数1:2017-11-01
 [DEBUG] 2017-11-30 18:00:57,390 Line:690 通过SQL读原始数据：46
 [DEBUG] 2017-11-30 18:00:57,392 Line:1392 整理数据：1
 [DEBUG] 2017-11-30 18:00:57,543 Line:5227 GlobalsTool.js 生成js 时间108:/js/gen/defineList.vjstblTransferSale1_zh_CN.js
 [DEBUG] 2017-11-30 18:00:59,778 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?tableName=tblTransferSale1&parentCode=&operation=6&moduleType=&f_brother=&parentTableName=&winCurIndex=3&popWinName=PopMainOpdiv
 [DEBUG] 2017-11-30 18:00:59,778 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblTransferSale1,];parentCode=[,];operation=[6,];moduleType=[,];f_brother=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-11-30 18:01:00,146 Line:5227 GlobalsTool.js 生成js 时间334:/js/gen/define.vjstblTransferSale1_zh_CN.js
 [DEBUG] 2017-11-30 18:01:02,179 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblTransferSale1&fieldName=CompanyCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=cde35566_0812271808463280963&MOOP=add&popupWin=MainPopup
 [DEBUG] 2017-11-30 18:01:02,180 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblTransferSale1,];fieldName=[CompanyCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[cde35566_0812271808463280963,];MOOP=[add,];popupWin=[MainPopup,];
 [DEBUG] 2017-11-30 18:01:02,320 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblCompany&moduleType=&SysType=Customer&MOID=cde35566_0812271808463280963&editable=&subSql=
 [DEBUG] 2017-11-30 18:01:02,320 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblTransferSale1&fieldName=CompanyCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=cde35566_0812271808463280963&MOOP=add&popupWin=MainPopup&checkTab=Y
 [DEBUG] 2017-11-30 18:01:02,321 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCompany,];moduleType=[,];SysType=[Customer,];MOID=[cde35566_0812271808463280963,];editable=[,];subSql=[,];
 [DEBUG] 2017-11-30 18:01:02,322 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblTransferSale1,];fieldName=[CompanyCode,];operation=[22,];isMain=[true,];url=[@URL:,];src=[menu,];MOID=[cde35566_0812271808463280963,];MOOP=[add,];popupWin=[MainPopup,];checkTab=[Y,];
 [DEBUG] 2017-11-30 18:01:02,324 Line:229 TreeMgt.getTree sql= select classCode,ComFullName,'',id from tblCompany where statusId =0   and isCatalog=1  and moduleType in ('2','3') order by ComFullName
 [DEBUG] 2017-11-30 18:01:02,360 Line:3434 DynDBManager.popSelect selectName=SelectClientOut; sql=select * from (select tblCompany.classCode f1 ,tblCompany.classCode+'' f2 ,tblCompany.ComFullName+'' f3 ,tblCompany.Currency f4 ,isnull(tblSetExchange.RecordExchange,1) f5 ,tblSetExchange.CurrencyName f6 ,tblCompany.PreReceiveTotalRemain f7 ,tblCompany.ComNumber f8 ,tblCompany.ComFullName f9 ,tblCompany.ComFullNamePYM f10 ,case tblCompany.isCatalog when 1 then '-99999999' else tblCompany.PreReceiveTotalRemain end f11 ,case tblCompany.isCatalog when 1 then '-99999999' else tblCompany.ReceiveTotalRemain end f12 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber) as row_id from tblCompany
       left join tblSetExchange  on tblSetExchange.Currency=tblCompany.Currency
       left join tblDistrict on tblCompany.District=tblDistrict.classCode
      where 1=1 and (ISNULL(tblSetExchange.id,'')='' or tblSetExchange.id in (select Top 1 id from tblSetExchange a where a.Currency=tblSetExchange.Currency order by a.PeriodYear desc,a.Period desc))  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3 )   and (tblCompany.statusId!='-1') and tblCompany.classCode like '_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-11-30 18:01:03,777 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-11-30 18:01:03,778 Line:146 BaseAction.execute 操作人:admin;请求数据：root=[,];isRoot=[,];operation=[22,];tableName=[tblTransferSale1,];parentTableName=[,];fieldName=[CompanyCode,];popDataType=[,];parentCode=[0003H,];selectName=[SelectClientOut,];popupType=[,];displayName=[,];reportNumber=[,];reportName=[,];backType=[,];isQuote=[,];MOID=[cde35566_0812271808463280963,];MOOP=[add,];iniPropField=[,];keyIdType=[saveType,];queryChannel=[,];strAction=[/UserFunctionAction.do?keyId=&tableName=tblTransferSale1&fieldName=CompanyCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=cde35566_0812271808463280963&MOOP=add&popupWin=MainPopup&checkTab=Y,];nextClass=[next,];popPop=[,];noOp=[,];popupWin=[MainPopup,];isMain=[true,];topId=[,];toDetail=[,];checkTab=[Y,];queryField=[,];keySearch=[,];tblCompany.ComNumber=[,];ViewCompanyTotal.PreReceiveTotalRemain_S=[,];ViewCompanyTotal.PreReceiveTotalRemain_E=[,];ViewCompanyTotal.ReceiveTotalRemain_S=[,];ViewCompanyTotal.ReceiveTotalRemain_E=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2017-11-30 18:01:03,793 Line:3434 DynDBManager.popSelect selectName=SelectClientOut; sql=select * from (select tblCompany.classCode f1 ,tblCompany.classCode+'' f2 ,tblCompany.ComFullName+'' f3 ,tblCompany.Currency f4 ,isnull(tblSetExchange.RecordExchange,1) f5 ,tblSetExchange.CurrencyName f6 ,tblCompany.PreReceiveTotalRemain f7 ,tblCompany.ComNumber f8 ,tblCompany.ComFullName f9 ,tblCompany.ComFullNamePYM f10 ,case tblCompany.isCatalog when 1 then '-99999999' else tblCompany.PreReceiveTotalRemain end f11 ,case tblCompany.isCatalog when 1 then '-99999999' else tblCompany.ReceiveTotalRemain end f12 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber) as row_id from tblCompany
       left join tblSetExchange  on tblSetExchange.Currency=tblCompany.Currency
       left join tblDistrict on tblCompany.District=tblDistrict.classCode
      where 1=1 and (ISNULL(tblSetExchange.id,'')='' or tblSetExchange.id in (select Top 1 id from tblSetExchange a where a.Currency=tblSetExchange.Currency order by a.PeriodYear desc,a.Period desc))  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3 )   and (tblCompany.statusId!='-1') and tblCompany.classCode like '0003H_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-11-30 18:01:05,526 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-11-30 18:01:05,527 Line:146 BaseAction.execute 操作人:admin;请求数据：root=[,];isRoot=[,];operation=[22,];tableName=[tblTransferSale1,];parentTableName=[,];fieldName=[CompanyCode,];popDataType=[,];parentCode=[0003H00001,];selectName=[SelectClientOut,];popupType=[,];displayName=[,];reportNumber=[,];reportName=[,];backType=[,];isQuote=[,];MOID=[cde35566_0812271808463280963,];MOOP=[add,];iniPropField=[,];keyIdType=[saveType,];queryChannel=[,];strAction=[/UserFunctionAction.do?keyId=&tableName=tblTransferSale1&fieldName=CompanyCode&operation=22&isMain=true&url=@URL:&src=menu&MOID=cde35566_0812271808463280963&MOOP=add&popupWin=MainPopup&checkTab=Y,];nextClass=[next,];popPop=[,];noOp=[,];popupWin=[MainPopup,];isMain=[true,];topId=[,];toDetail=[,];checkTab=[Y,];queryField=[,];keySearch=[,];tblCompany.ComNumber=[,];ViewCompanyTotal.PreReceiveTotalRemain_S=[,];ViewCompanyTotal.PreReceiveTotalRemain_E=[,];ViewCompanyTotal.ReceiveTotalRemain_S=[,];ViewCompanyTotal.ReceiveTotalRemain_E=[,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2017-11-30 18:01:05,533 Line:3434 DynDBManager.popSelect selectName=SelectClientOut; sql=select * from (select tblCompany.classCode f1 ,tblCompany.classCode+'' f2 ,tblCompany.ComFullName+'' f3 ,tblCompany.Currency f4 ,isnull(tblSetExchange.RecordExchange,1) f5 ,tblSetExchange.CurrencyName f6 ,tblCompany.PreReceiveTotalRemain f7 ,tblCompany.ComNumber f8 ,tblCompany.ComFullName f9 ,tblCompany.ComFullNamePYM f10 ,case tblCompany.isCatalog when 1 then '-99999999' else tblCompany.PreReceiveTotalRemain end f11 ,case tblCompany.isCatalog when 1 then '-99999999' else tblCompany.ReceiveTotalRemain end f12 
,tblCompany.isCatalog as childCount,ROW_NUMBER() over( order by tblCompany.ComNumber) as row_id from tblCompany
       left join tblSetExchange  on tblSetExchange.Currency=tblCompany.Currency
       left join tblDistrict on tblCompany.District=tblDistrict.classCode
      where 1=1 and (ISNULL(tblSetExchange.id,'')='' or tblSetExchange.id in (select Top 1 id from tblSetExchange a where a.Currency=tblSetExchange.Currency order by a.PeriodYear desc,a.Period desc))  and (tblCompany.ClientFlag=2 or tblCompany.ClientFlag=3 )   and (tblCompany.statusId!='-1') and tblCompany.classCode like '0003H00001_____') a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-11-30 18:01:11,842 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do?keyId=&tableName=tblTransferSaleDet1&fieldName=RefbillID&operation=22&BillDate=2017-11-30&InCompanyCode=0003H000010000D&isMain=false&src=menu&MOID=cde35566_0812271808463280963&MOOP=add&url=@URL:&popupWin=ChildPopup
 [DEBUG] 2017-11-30 18:01:11,843 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[,];tableName=[tblTransferSaleDet1,];fieldName=[RefbillID,];operation=[22,];BillDate=[2017-11-30,];InCompanyCode=[0003H000010000D,];isMain=[false,];src=[menu,];MOID=[cde35566_0812271808463280963,];MOOP=[add,];url=[@URL:,];popupWin=[ChildPopup,];
 [DEBUG] 2017-11-30 18:01:11,864 Line:3434 DynDBManager.popSelect selectName=TranSaleDet1OutStockSelect; sql=select *  from (select tblSalesOutStock.NeedReturnAmt f1 ,tblSalesOutStock.BillNo f2 ,tblSalesOutStock.TotalTaxAmount f3 ,tblSalesOutStock.TotalAlrAccAmt f4 ,tblSalesOutStock.NeedReturnAmt f5 ,tblSalesOutStock.id f6 ,tblSalesOutStock.SalesOrderID f7 ,tblSalesOutStock.SalesOrderNo f8 ,tblCompany.ComFullName f9 
,ROW_NUMBER() over( order by tblSalesOutStock.BillNo,tblCompany.ComFullName) as row_id from tblSalesOutStock
  left join tblCompany on tblSalesOutStock.CompanyCode = tblCompany.classCode
      where 1=1  and tblSalesOutStock.workFlowNodeName = 'finish' and tblSalesOutStock.BillDate<='2017-11-30' and tblCompany.classCode='0003H000010000D' and tblSalesOutStock.NeedReturnAmt > 0) a where  row_id between 1 and 100 order by row_id 
 [DEBUG] 2017-11-30 18:01:16,633 Line:135 BaseAction.execute 请求地址：/UserFunctionAction.do
 [DEBUG] 2017-11-30 18:01:16,635 Line:146 BaseAction.execute 操作人:admin;请求数据：conver=[,];operation=[1,];org.apache.struts.taglib.html.TOKEN=[,];tableName=[tblTransferSale1,];parentCode=[,];button=[,];noback=[false,];fresh=[,];detLineNo=[,];logicValidate=[,];defineInfo=[,];moduleType=[,];parentTableName=[,];winCurIndex=[3,];popWinName=[PopMainOpdiv,];defineName=[,];checkFieldName=[,];isTab=[,];deliverTo=[,];hasFrame=[,];ButtonType=[,];ButtonTypeName=[,];OAWorkFlow=[false,];BillNo=[TSA1711300001,];checkPersons=[,];workFlowNode=[,];workFlowNodeName=[,];BillDate=[2017-11-30,];CompanyCode=[0003H000010000D,];SelectClientOut_ComFullName=[长春泓禹商贸有限公司,];InCompanyCode=[0003H000010000D,];SelectClientIn_ComFullName=[长春泓禹商贸有限公司,];DepartmentCode=[00101,];EmployeeID=[1,];ExeTransferAmt=[104874.98,];Currency=[42428a07_1604181718549566965,];tblSetExchange_CurrencyName=[人民币,];CurrencyRate=[1,];FcExeTransferAmt=[104874.98,];RefBillNo=[,];ProjectCode=[,];CheckPersont=[,];CashUserID=[,];AccDetCode=[,];AccDetStatus=[,];InDepartmentCode=[,];statusId1=[,];Period=[,];PeriodMonth=[,];PeriodYear=[,];CertificateNo=[,];AdvanceBalance=[389715.35,];createBy=[,];createTime=[,];lastUpdateBy=[,];lastUpdateTime=[,];finishTime=[,];SCompanyID=[,];printCount=[0,];tblTransferSaleDet1PopupType=[$globals.getTableInfoBean(${rowlist.tableName}).popupType,];tblTransferSaleDet1_RefbillID=[CK1703038,];tblTransferSaleDet1_BillAmt=[104874.98,];tblTransferSaleDet1_SettledAmt=[0.00,];tblTransferSaleDet1_WexeBalAmt=[104874.98,];tblTransferSaleDet1_ExeBalAmt=[104874.98,];tblTransferSaleDet1_ExeBalFcAmt=[104874.98,];tblTransferSaleDet1_Remark=[,];tblTransferSaleDet1_SalesOrderID=[,];tblTransferSaleDet1_SalesOrderNo=[,];tblTransferSaleDet1_RefSalesOutID=[40944010_1705021723016454856,];tblTransferSaleDet1_detsId=[,];Remark=[,];
 [DEBUG] 2017-11-30 18:01:16,637 Line:3833 添加单据desingId=null工作流designId=eae3edac_0906121936572500030
 [DEBUG] 2017-11-30 18:01:16,699 Line:5866  INSERT INTO  tblTransferSale1(BillNo,checkPersons,id,workFlowNode,workFlowNodeName,BillDate,CompanyCode,InCompanyCode,DepartmentCode,EmployeeID,ExeTransferAmt,Currency,CurrencyRate,FcExeTransferAmt,RefBillNo,ProjectCode,CheckPersont,CashUserID,AccDetCode,AccDetStatus,InDepartmentCode,statusId1,Period,PeriodMonth,PeriodYear,Remark,Attachment,CertificateNo,AdvanceBalance,createBy,createTime,lastUpdateBy,lastUpdateTime,finishTime,SCompanyID,printCount) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 18:01:16,700 Line:5872 1:TSA1711300001
 [DEBUG] 2017-11-30 18:01:16,700 Line:5872 2:
 [DEBUG] 2017-11-30 18:01:16,700 Line:5872 3:45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:16,700 Line:5872 4:-1
 [DEBUG] 2017-11-30 18:01:16,701 Line:5872 5:finish
 [DEBUG] 2017-11-30 18:01:16,701 Line:5872 6:2017-11-30
 [DEBUG] 2017-11-30 18:01:16,701 Line:5872 7:0003H000010000D
 [DEBUG] 2017-11-30 18:01:16,701 Line:5872 8:0003H000010000D
 [DEBUG] 2017-11-30 18:01:16,701 Line:5872 9:00101
 [DEBUG] 2017-11-30 18:01:16,702 Line:5872 10:1
 [DEBUG] 2017-11-30 18:01:16,702 Line:5872 11:104874.98
 [DEBUG] 2017-11-30 18:01:16,702 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 18:01:16,703 Line:5872 13:1.0
 [DEBUG] 2017-11-30 18:01:16,703 Line:5872 14:104874.98
 [DEBUG] 2017-11-30 18:01:16,704 Line:5872 15:
 [DEBUG] 2017-11-30 18:01:16,704 Line:5872 16:
 [DEBUG] 2017-11-30 18:01:16,704 Line:5872 17:
 [DEBUG] 2017-11-30 18:01:16,704 Line:5872 18:0
 [DEBUG] 2017-11-30 18:01:16,705 Line:5872 19:
 [DEBUG] 2017-11-30 18:01:16,705 Line:5872 20:0
 [DEBUG] 2017-11-30 18:01:16,705 Line:5872 21:
 [DEBUG] 2017-11-30 18:01:16,706 Line:5872 22:0
 [DEBUG] 2017-11-30 18:01:16,706 Line:5872 23:11
 [DEBUG] 2017-11-30 18:01:16,706 Line:5872 24:11
 [DEBUG] 2017-11-30 18:01:16,707 Line:5872 25:2017
 [DEBUG] 2017-11-30 18:01:16,707 Line:5872 26:
 [DEBUG] 2017-11-30 18:01:16,707 Line:5872 27:
 [DEBUG] 2017-11-30 18:01:16,707 Line:5872 28:
 [DEBUG] 2017-11-30 18:01:16,708 Line:5872 29:389715.35
 [DEBUG] 2017-11-30 18:01:16,708 Line:5872 30:1
 [DEBUG] 2017-11-30 18:01:16,708 Line:5872 31:2017-11-30 18:01:16
 [DEBUG] 2017-11-30 18:01:16,708 Line:5872 32:1
 [DEBUG] 2017-11-30 18:01:16,709 Line:5872 33:2017-11-30 18:01:16
 [DEBUG] 2017-11-30 18:01:16,709 Line:5872 34:2017-11-30 18:01:16
 [DEBUG] 2017-11-30 18:01:16,709 Line:5872 35:00001
 [DEBUG] 2017-11-30 18:01:16,710 Line:5872 36:0
 [DEBUG] 2017-11-30 18:01:16,819 Line:5866  INSERT INTO  tblTransferSaleDet1(CurBillAmt,CurSettledAmt,CurWexeBalAmt,f_ref,id,SCompanyID,RefbillID,BillAmt,SettledAmt,WexeBalAmt,ExeBalAmt,ExeBalFcAmt,Remark,SalesOrderID,SalesOrderNo,RefSalesOutID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 18:01:16,819 Line:5872 1:0.0
 [DEBUG] 2017-11-30 18:01:16,820 Line:5872 2:0.0
 [DEBUG] 2017-11-30 18:01:16,820 Line:5872 3:0.0
 [DEBUG] 2017-11-30 18:01:16,820 Line:5872 4:45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:16,821 Line:5872 5:45faeb07_1711301801168190045
 [DEBUG] 2017-11-30 18:01:16,821 Line:5872 6:00001
 [DEBUG] 2017-11-30 18:01:16,821 Line:5872 7:CK1703038
 [DEBUG] 2017-11-30 18:01:16,821 Line:5872 8:104874.98
 [DEBUG] 2017-11-30 18:01:16,822 Line:5872 9:0.0
 [DEBUG] 2017-11-30 18:01:16,822 Line:5872 10:104874.98
 [DEBUG] 2017-11-30 18:01:16,822 Line:5872 11:104874.98
 [DEBUG] 2017-11-30 18:01:16,822 Line:5872 12:104874.98
 [DEBUG] 2017-11-30 18:01:16,823 Line:5872 13:
 [DEBUG] 2017-11-30 18:01:16,823 Line:5872 14:
 [DEBUG] 2017-11-30 18:01:16,823 Line:5872 15:
 [DEBUG] 2017-11-30 18:01:16,824 Line:5872 16:40944010_1705021723016454856
 [DEBUG] 2017-11-30 18:01:17,117 Line:313 exeCondition:tblTransferSale1_Add :104874.98<=0
 [DEBUG] 2017-11-30 18:01:17,519 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,520 Line:921 自定义执行的语句显示： tblTransferSale1_Add :select b.BillNo as difCom from tblTransferSaleDet1 a,tblSalesOutStock b where a.f_ref=? and a.RefSalesOutID=b.id and b.CompanyCode!=?
 [DEBUG] 2017-11-30 18:01:17,520 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 18:01:17,521 Line:988 1值：45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,521 Line:988 2值：0003H000010000D
 [DEBUG] 2017-11-30 18:01:17,530 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-11-30 18:01:17,531 Line:313 exeCondition:tblTransferSale1_Add :'null'!='null'
 [DEBUG] 2017-11-30 18:01:17,533 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,533 Line:921 自定义执行的语句显示： tblTransferSale1_Add :select COUNT(0) as billC from tblTransferSaleDet1 where f_ref=? group by RefSalesOutID having COUNT(0)>1
 [DEBUG] 2017-11-30 18:01:17,534 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 18:01:17,534 Line:988 1值：45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,539 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 18:01:17,539 Line:313 exeCondition:tblTransferSale1_Add :null>0
 [DEBUG] 2017-11-30 18:01:17,541 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,542 Line:921 自定义执行的语句显示： tblTransferSale1_Add :select RefbillID from tblTransferSaleDet1 where f_ref=? and (ExeBalAmt>WexeBalAmt or ExeBalAmt<=0)
 [DEBUG] 2017-11-30 18:01:17,542 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 18:01:17,543 Line:988 1值：45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,546 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 18:01:17,546 Line:313 exeCondition:tblTransferSale1_Add :'null'!='null'
 [DEBUG] 2017-11-30 18:01:17,548 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,549 Line:921 自定义执行的语句显示： tblTransferSale1_Add :select dbo.getDigits('tblTransferSaleDet1','ExeBalAmt',isnull(sum(tblTransferSaleDet1.ExeBalAmt),0)) as SumDetAmt from tblTransferSaleDet1 where f_ref=?
 [DEBUG] 2017-11-30 18:01:17,549 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 18:01:17,549 Line:988 1值：45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,578 Line:1025 query condition columnName:SumDetAmt----value:104874.98
 [DEBUG] 2017-11-30 18:01:17,579 Line:1043 ---上述语句时间---30
 [DEBUG] 2017-11-30 18:01:17,579 Line:313 exeCondition:tblTransferSale1_Add :104874.98<104874.98
 [DEBUG] 2017-11-30 18:01:17,581 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,581 Line:921 自定义执行的语句显示： tblTransferSale1_Add :SELECT a.BillDate AS QuoteDate, len(isnull(a.BillDate,'')) as QuoteDateLen FROM tblSalesOutStock a JOIN tblTransferSaleDet1 b ON a.id=b.RefSalesOutID WHERE b.f_ref=?
 [DEBUG] 2017-11-30 18:01:17,582 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 18:01:17,582 Line:988 1值：45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,589 Line:1025 query condition columnName:QuoteDate----value:2017-03-14
 [DEBUG] 2017-11-30 18:01:17,590 Line:1025 query condition columnName:QuoteDateLen----value:10
 [DEBUG] 2017-11-30 18:01:17,590 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-11-30 18:01:17,590 Line:313 exeCondition:tblTransferSale1_Add :10 > 0  &&'2017-11-30' < '2017-03-14'
 [DEBUG] 2017-11-30 18:01:17,593 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,593 Line:313 exeCondition:tblTransferSale1_Add :true
 [DEBUG] 2017-11-30 18:01:17,595 Line:321 flag:true
 [DEBUG] 2017-11-30 18:01:17,595 Line:1081 自定义执行的语句显示： tblTransferSale1_Add:update tblTransferSale1 set CertificateNo='' where id=?
 [DEBUG] 2017-11-30 18:01:17,595 Line:1157 1值：45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,598 Line:1163 DefineSQLBean.execSql  define=tblTransferSale1_Add,  影响行数=1
 [DEBUG] 2017-11-30 18:01:17,599 Line:408 ************上述语句执行时间：4
 [DEBUG] 2017-11-30 18:01:17,599 Line:313 exeCondition:tblTransferSale1_Add :'0' == '0' && false==false
 [DEBUG] 2017-11-30 18:01:17,600 Line:321 flag:true
 [DEBUG] 2017-11-30 18:01:17,602 Line:313 exeCondition:tblTransferSale1_Add_One :'false'=='true'
 [DEBUG] 2017-11-30 18:01:17,604 Line:321 flag:false
 [DEBUG] 2017-11-30 18:01:17,604 Line:313 exeCondition:tblTransferSale1_Add_One :true
 [DEBUG] 2017-11-30 18:01:17,605 Line:321 flag:true
 [DEBUG] 2017-11-30 18:01:17,606 Line:1264 自定义执行的语句显示： tblTransferSale1_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-11-30 18:01:17,607 Line:1270 45faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,609 Line:1270 0003H000010000D
 [DEBUG] 2017-11-30 18:01:17,609 Line:1270 4
 [DEBUG] 2017-11-30 18:01:17,610 Line:1270 2017-11-30
 [DEBUG] 2017-11-30 18:01:17,610 Line:1270 PreReceiveTotalDebit=104874.98@SPFieldLink:PreReceiveTotalLend=0@SPFieldLink:RelationDocID=45faeb07_1711301801166870044@SPFieldLink:PeriodYear=2017@SPFieldLink:BillType=tblTransferSale1@SPFieldLink:PeriodMonth=11@SPFieldLink:Period=11@SPFieldLink:createBy=1@SPFieldLink:lastUpdateBy=1@SPFieldLink:createTime=2017-11-30 18:01:16@SPFieldLink:lastUpdateTime=2017-11-30 18:01:16@SPFieldLink:SCompanyID=00001@SPFieldLink:Currency=42428a07_1604181718549566965@SPFieldLink:CurrencyRate=1@SPFieldLink:FcPreRecTotalDebit=104874.98@SPFieldLink:FcPreRecTotalCredit=0@SPFieldLink:BillNo=TSA1711300001@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:Remark=
 [DEBUG] 2017-11-30 18:01:17,730 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,PreReceiveTotalDebit,PreReceiveTotalLend,RelationDocID,PeriodYear,BillType,PeriodMonth,Period,createBy,lastUpdateBy,createTime,lastUpdateTime,SCompanyID,Currency,CurrencyRate,FcPreRecTotalDebit,FcPreRecTotalCredit,BillNo,EmployeeID,DepartmentCode,Remark) values('45faeb07_1711301801166870044',24,'0003H000010000D','2017-11-30','104874.98','0','45faeb07_1711301801166870044','2017','tblTransferSale1','11','11','1','1','2017-11-30 18:01:16','2017-11-30 18:01:16','00001','42428a07_1604181718549566965','1','104874.98','0','TSA1711300001','1','00101','')
 [DEBUG] 2017-11-30 18:01:17,731 Line:425 ************上述语句执行时间：125
 [DEBUG] 2017-11-30 18:01:17,732 Line:1264 自定义执行的语句显示： tblTransferSale1_Add_One:{call proc_insertComIni(?,?,?,?,?,?,?)}
 [DEBUG] 2017-11-30 18:01:17,732 Line:1270 145faeb07_1711301801166870044
 [DEBUG] 2017-11-30 18:01:17,733 Line:1270 0003H000010000D
 [DEBUG] 2017-11-30 18:01:17,733 Line:1270 2
 [DEBUG] 2017-11-30 18:01:17,733 Line:1270 2017-11-30
 [DEBUG] 2017-11-30 18:01:17,734 Line:1270 ReceiveTotalDebit=0@SPFieldLink:ReceiveTotalLend=104874.98@SPFieldLink:RelationDocID=45faeb07_1711301801166870044@SPFieldLink:PeriodYear=2017@SPFieldLink:BillType=tblTransferSale1@SPFieldLink:PeriodMonth=11@SPFieldLink:Period=11@SPFieldLink:createBy=1@SPFieldLink:lastUpdateBy=1@SPFieldLink:createTime=2017-11-30 18:01:16@SPFieldLink:lastUpdateTime=2017-11-30 18:01:16@SPFieldLink:SCompanyID=00001@SPFieldLink:Currency=42428a07_1604181718549566965@SPFieldLink:CurrencyRate=1@SPFieldLink:FcRecTotalDebit=0@SPFieldLink:FcRecTotalCredit=104874.98@SPFieldLink:BillNo=TSA1711300001@SPFieldLink:EmployeeID=1@SPFieldLink:DepartmentCode=00101@SPFieldLink:Remark=
 [DEBUG] 2017-11-30 18:01:17,751 Line:1292 存储过程内部信息： insert into tblCompanyIni (id,ItemNo,CompanyCode,BillDate,ReceiveTotalDebit,ReceiveTotalLend,RelationDocID,PeriodYear,BillType,PeriodMonth,Period,createBy,lastUpdateBy,createTime,lastUpdateTime,SCompanyID,Currency,CurrencyRate,FcRecTotalDebit,FcRecTotalCredit,BillNo,EmployeeID,DepartmentCode,Remark) values('145faeb07_1711301801166870044',25,'0003H000010000D','2017-11-30','0','104874.98','45faeb07_1711301801166870044','2017','tblTransferSale1','11','11','1','1','2017-11-30 18:01:16','2017-11-30 18:01:16','00001','42428a07_1604181718549566965','1','0','104874.98','TSA1711300001','1','00101','')
 [DEBUG] 2017-11-30 18:01:17,751 Line:425 ************上述语句执行时间：20
 [DEBUG] 2017-11-30 18:01:17,751 Line:1264 自定义执行的语句显示： tblTransferSale1_Add_One:{call proc_iterateExeProc(?,?,?,?,?)}
 [DEBUG] 2017-11-30 18:01:17,752 Line:1270 select RefSalesOutID as RefbillID@SPFieldLink:ExeBalAmt as ExeBalAmt@SPFieldLink:ExeBalFcAmt as ExeBalFcAmt from tblTransferSaleDet1 k where k.f_ref='45faeb07_1711301801166870044'
 [DEBUG] 2017-11-30 18:01:17,752 Line:1270 proc_SalesReceiveAboutRecPD
 [DEBUG] 2017-11-30 18:01:17,752 Line:1270 @RefbillID@ParamLink:'tblSalesOutStock'@ParamLink:@ExeBalAmt@ParamLink:@ExeBalFcAmt@ParamLink:'add'@ParamLink:2
 [DEBUG] 2017-11-30 18:01:17,896 Line:1292 存储过程内部信息： declare @RefbillID varchar(500) declare @ExeBalAmt varchar(500) declare @ExeBalFcAmt varchar(500)  declare @param1 varchar(5000)  declare @param2 varchar(5000)  declare @param3 varchar(5000)  declare @param4 varchar(5000)  declare @param5 varchar(5000)  declare @param6 varchar(5000)  declare iterCursor cursor for select RefSalesOutID as RefbillID,ExeBalAmt as ExeBalAmt,ExeBalFcAmt as ExeBalFcAmt from tblTransferSaleDet1 k where k.f_ref='45faeb07_1711301801166870044'
open iterCursor
fetch next from iterCursor into @RefbillID,@ExeBalAmt,@ExeBalFcAmt

declare @retCode int
declare @retVal  varchar(100)

while(@@fetch_status=0)
     begin	 set @param1=@RefbillID set @param2='tblSalesOutStock' set @param3=@ExeBalAmt set @param4=@ExeBalFcAmt set @param5='add' set @param6=2 exec proc_SalesReceiveAboutRecPD @param1,@param2,@param3,@param4,@param5,@param6, @retCode output,@retVal output  fetch next from iterCursor into @RefbillID,@ExeBalAmt,@ExeBalFcAmt    end	

deallocate iterCursor
 [DEBUG] 2017-11-30 18:01:17,896 Line:425 ************上述语句执行时间：145
 [DEBUG] 2017-11-30 18:01:19,458 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblTransferSale1&operation=5&keyId=45faeb07_1711301801166870044&parentCode=null&f_brother=&checkTab=Y&parentTableName=&moduleType=&winCurIndex=3&fresh=&popWinName=PopMainOpdiv
 [DEBUG] 2017-11-30 18:01:19,459 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblTransferSale1,];operation=[5,];keyId=[45faeb07_1711301801166870044,];parentCode=[null,];f_brother=[,];checkTab=[Y,];parentTableName=[,];moduleType=[,];winCurIndex=[3,];fresh=[,];popWinName=[PopMainOpdiv,];
 [DEBUG] 2017-11-30 18:01:19,461 Line:5011 OAMyWorkFLowMgt.getOAMyWorkFlowInfo 取流程详情 sql=select a.createBy,applyType,a.checkPerson,nextNodeIds,currentNode,b.oaTimeLimitUnit,b.benchmarkTime,a.applyContent,a.departmentCode,a.tableName,a.keyId,a.id,a.lastNodeId,a.lastCheckPerson,a.applyContent,display as currentNodeName from OAMyWorkFlow a  left join OAMyWorkFlowDet b on a.id=b.f_ref left join OAWorkFlowNode c on c.flowId=a.applyType and c.keyId=a.currentNode  where a.keyId='45faeb07_1711301801166870044' and  a.tableName='tblTransferSale1'
 [DEBUG] 2017-11-30 18:01:19,873 Line:1525  select * from  tblTransferSaleDet1 where f_ref = '45faeb07_1711301801166870044' order by detOrderNo
 [ERROR] 2017-11-30 18:01:40,961 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:01:42,140 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:02:44,258 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:02:45,357 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:03:47,438 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:03:48,508 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:04:50,673 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:04:51,681 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 18:05:40,074 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 18:05:40,076 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 18:05:40,078 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 18:05:40,357 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 18:05:40,357 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 18:05:40,382 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 18:05:40,383 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 18:05:40,384 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 18:05:40,419 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 18:05:40,420 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 18:05:40,421 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 18:05:40,444 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 18:05:40,445 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 18:05:40,446 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 18:05:40,459 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 18:05:40,459 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 18:05:40,461 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 18:05:53,693 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:05:54,704 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:06:56,730 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:06:57,698 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:07:59,687 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:08:00,677 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:09:02,970 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:09:04,161 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:10:06,098 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:10:07,116 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:11:09,058 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:11:10,022 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:12:12,007 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:12:12,969 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:13:14,974 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:13:15,957 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:14:18,357 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:14:19,391 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 18:15:21,612 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 18:15:22,772 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [INFO ] 2017-11-30 20:41:37,939 Line:205 系统开始启动，最大内存：891;目前总内存：148;目前空闲内存：52
 [INFO ] 2017-11-30 20:41:38,430 Line:283 ===========Tomcat Port=8888
 [DEBUG] 2017-11-30 20:41:44,019 Line:3843 --------Init Hibernate Successful---------------
 [DEBUG] 2017-11-30 20:41:44,625 Line:1203 ------Init SystemSetting record:212
 [INFO ] 2017-11-30 20:41:44,634 Line:2660 ---------------------------------first read dog =======-----------
 [DEBUG] 2017-11-30 20:41:44,829 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canJxc=1 
 [DEBUG] 2017-11-30 20:41:44,858 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canOa=1 
 [DEBUG] 2017-11-30 20:41:44,864 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canCrm=1 
 [DEBUG] 2017-11-30 20:41:44,871 Line:3336  select count(*) from tblEmployee where openFlag = 1 and statusid=0 and id <> '1' and canHr=1 
 [DEBUG] 2017-11-30 20:41:44,886 Line:594 select AccPeriod,AccMonth,AccYear,scompanyId,statusId,isBegin from tblAccPeriod where statusId=1 or isBegin=1
 [DEBUG] 2017-11-30 20:41:44,900 Line:626 ------Init initAccPeriod record:1
 [DEBUG] 2017-11-30 20:41:47,512 Line:1061 ------Init Enumeration record:518
 [DEBUG] 2017-11-30 20:41:47,539 Line:1091 ------Init WorkProfession record:6
 [DEBUG] 2017-11-30 20:41:47,586 Line:1121 ------Init District record:3984
 [DEBUG] 2017-11-30 20:41:47,605 Line:1152 ------Init deptMap record:15
 [DEBUG] 2017-11-30 20:41:49,845 Line:1832 ------Init ModuleList record:
 [DEBUG] 2017-11-30 20:41:49,846 Line:2855 --------Init ModuleList Successful---------------
 [DEBUG] 2017-11-30 20:41:51,617 Line:297  select * from tblDBTableInfo order by TableName 
 [DEBUG] 2017-11-30 20:41:51,895 Line:370 select * from tblDBFieldInfo order by tableId,listOrder
 [DEBUG] 2017-11-30 20:41:54,610 Line:538 ------Init TableInfo record:879
 [DEBUG] 2017-11-30 20:41:54,660 Line:651  select cataName,disName,module,tableName,nameField,codeField from tblScopeCataData order by orderby 
 [DEBUG] 2017-11-30 20:41:54,670 Line:682 ------Init TableInfo record:4
 [DEBUG] 2017-11-30 20:41:54,688 Line:775 ------Init initModuleField record:4
 [DEBUG] 2017-11-30 20:41:54,709 Line:702  select tableName,sentence from tblPopDisSentence where statusId=0 order by tableName 
 [DEBUG] 2017-11-30 20:41:54,719 Line:721 ------Init TableInfo record:24
 [DEBUG] 2017-11-30 20:41:54,767 Line:891 ------Init PropInfo record:7
 [ERROR] 2017-11-30 20:42:04,366 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.InitMenData.initDog(InitMenData.java:2946)
	at com.menyi.web.util.InitMenData.initSystem(InitMenData.java:3850)
	at com.menyi.web.util.BaseFilter.init(BaseFilter.java:215)
	at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)
	at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)
	at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:105)
	at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4854)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5542)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649)
	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:672)
	at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1859)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
[ERROR] 2017-11-30 20:42:06,559 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 20:42:06,659 Line:2947 --------Init Config File ---------------
 [ERROR] 2017-11-30 20:42:08,284 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\25183d52_1706281731170782890.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 20:42:09,126 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\726c06ce_1603150934567560417.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 20:42:09,256 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\916dc5e8_1512091148254894807.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 20:42:09,287 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\9d47f247_1706091716571082648.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 20:42:09,532 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\c30fac90_1604291410068132941.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 20:42:10,316 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\fd21c05c_1606131813438340088.xml (系统找不到指定的文件。)
 [ERROR] 2017-11-30 20:42:10,318 Line:48 java.io.FileNotFoundException: C:\koron\HFtomcat\tomcat7\bin\..\..\fileServer_v7\wokeflow\ffd4bcdd_1701241708235230006.xml (系统找不到指定的文件。)
 [DEBUG] 2017-11-30 20:42:10,332 Line:1873 ------Init RefreshTime 
 [DEBUG] 2017-11-30 20:42:10,367 Line:2994 --------Init SMS Start ---------------
 [INFO ] 2017-11-30 20:42:10,705 Line:3011 -------System init Secussful Set Normal status--------------
 [DEBUG] 2017-11-30 20:42:10,705 Line:3855 --------Init Dog Successful---------------
 [INFO ] 2017-11-30 20:42:12,345 Line:89 SAFE 数据库第一个备份任务启动，时间2017-12-01 00:00:00
 [INFO ] 2017-11-30 20:42:12,346 Line:137 SAFE 碎片任务启动，时间2017-12-03 00:00:00
 [DEBUG] 2017-11-30 20:42:18,167 Line:5227 GlobalsTool.js 生成js 时间136:/js/gen/login.vjs_zh_CN.js
 [DEBUG] 2017-11-30 20:42:18,281 Line:88 CommonServlet.service 请求地址：/CommonServlet?operation=qrcodeDownload
 [DEBUG] 2017-11-30 20:42:18,283 Line:99 CommonServlet.service 操作人:;请求数据：operation=[qrcodeDownload,];
 [DEBUG] 2017-11-30 20:42:18,675 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=valpwd&time=1512045738648
 [DEBUG] 2017-11-30 20:42:18,695 Line:163 UtilServlet.service 操作人:;请求数据：operation=[valpwd,];time=[1512045738648,];
 [DEBUG] 2017-11-30 20:42:18,881 Line:135 BaseAction.execute 请求地址：/loginAction.do?operation=15
 [DEBUG] 2017-11-30 20:42:18,882 Line:146 BaseAction.execute 操作人:;请求数据：operation=[15,];
 [DEBUG] 2017-11-30 20:42:20,551 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=getUserInfo&name=admin&time=1512045740549
 [DEBUG] 2017-11-30 20:42:20,552 Line:163 UtilServlet.service 操作人:;请求数据：operation=[getUserInfo,];name=[admin,];time=[1512045740549,];
 [DEBUG] 2017-11-30 20:42:20,673 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=sunCompany&name=admin&time=1512045740671
 [DEBUG] 2017-11-30 20:42:20,673 Line:163 UtilServlet.service 操作人:;请求数据：operation=[sunCompany,];name=[admin,];time=[1512045740671,];
 [DEBUG] 2017-11-30 20:42:20,795 Line:135 BaseAction.execute 请求地址：/loginAction.do
 [DEBUG] 2017-11-30 20:42:20,796 Line:146 BaseAction.execute 操作人:;请求数据：org.apache.struts.taglib.html.TOKEN=[,];NOTTOKEN=[true,];operation=[10,];ukId=[,];strM1=[,];strM2=[,];clientKey=[,];random=[,];screenWidth=[1366,];sunCompany=[1,];style=[style1,];system=[new,];loc=[zh_CN,];name=[admin,];password=[c4ca4238a0b923820dcc509a6f75849b,];
 [DEBUG] 2017-11-30 20:42:20,897 Line:2987 select count(*) from tblSunCompanys a where a.classCode like '00001_____%'
 [DEBUG] 2017-11-30 20:42:20,916 Line:530 select AccYear,AccOverYear from  tblAccPeriod group by Accyear,AccOverYear
 [DEBUG] 2017-11-30 20:42:21,085 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 20:42:21,086 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 20:42:21,191 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 20:42:21,532 Line:5227 GlobalsTool.js 生成js 时间72:/js/gen/body2.vjs_zh_CN.js
 [DEBUG] 2017-11-30 20:42:22,023 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 20:42:22,023 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 20:42:22,024 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 20:42:22,024 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 20:42:22,027 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 20:42:22,072 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 20:42:22,072 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 20:42:22,074 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 20:42:22,102 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 20:42:22,103 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 20:42:22,109 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 20:42:22,145 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 20:42:22,146 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 20:42:22,150 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 20:42:25,282 Line:135 BaseAction.execute 请求地址：/importDataQueryAction.do?src=menu&winCurIndex=1
 [DEBUG] 2017-11-30 20:42:25,282 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-11-30 20:42:25,283 Line:215 ---------->SET Page 1 DEFAULT URL = /importDataQueryAction.do
 [DEBUG] 2017-11-30 20:42:32,335 Line:135 BaseAction.execute 请求地址：/importDataQueryAction.do
 [DEBUG] 2017-11-30 20:42:32,336 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[1,];dir=[,];opType=[,];name=[费用支出,];pageSize=[100,];pageNo=[1,];
 [DEBUG] 2017-11-30 20:42:34,428 Line:135 BaseAction.execute 请求地址：/importDataAction.do?fromPage=importList&operation=91&tableName=tblExpensed&parentTableName=&moduleType=&winCurIndex=1
 [DEBUG] 2017-11-30 20:42:34,429 Line:146 BaseAction.execute 操作人:admin;请求数据：fromPage=[importList,];operation=[91,];tableName=[tblExpensed,];parentTableName=[,];moduleType=[,];winCurIndex=[1,];
 [DEBUG] 2017-11-30 20:42:51,501 Line:135 BaseAction.execute 请求地址：/importDataAction.do
 [DEBUG] 2017-11-30 20:42:51,502 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[1,];moduleType=[,];fromPage=[importList,];importName=[tblExpensed,];org.apache.struts.taglib.html.TOKEN=[,];operation=[92,];moduleParam=[,];NoBack=[,];
 [DEBUG] 2017-11-30 20:42:52,733 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045772428
 [DEBUG] 2017-11-30 20:42:52,733 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045772428,];
 [DEBUG] 2017-11-30 20:42:53,439 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0001
 [DEBUG] 2017-11-30 20:42:53,440 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-07
 [DEBUG] 2017-11-30 20:42:53,530 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:53,531 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:53,547 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:53,547 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:53,547 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:53,548 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:53,548 Line:861 ImportDataMgt.queryPopSql 如果是分级报表，查询是否选择了父级:
select 
tblAccTypeInfo.isCatalog,
 tblAccTypeInfo.AccNumber f1 ,tblAccTypeInfo.AccName f2 ,tblAccTypeInfo.AccFullName f3 ,tblAccTypeInfo.PyCode f4 ,tblAccTypeInfo.classCode f5
from tblAccTypeInfo
      where 1=1  and tblAccTypeInfo.AccName in ( select id from tblLanguage where  zh_CN ='建设银行东莞宏伟路支行' ) 
 [DEBUG] 2017-11-30 20:42:53,577 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045773575
 [DEBUG] 2017-11-30 20:42:53,578 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045773575,];
 [DEBUG] 2017-11-30 20:42:53,618 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:53,618 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:53,624 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:53,625 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:53,625 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:53,625 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:53,626 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=300.00
 [DEBUG] 2017-11-30 20:42:53,626 Line:1322 JXLTOOL.setValue 主表字段BillAmt=300.00
 [DEBUG] 2017-11-30 20:42:53,626 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:53,627 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:53,627 Line:1344 JXLTOOL.setValue 明细表字段Amt=300.00
 [DEBUG] 2017-11-30 20:42:53,627 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=300.00
 [DEBUG] 2017-11-30 20:42:53,628 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:53,628 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:54,207 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:54,208 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:54,208 Line:5872 2:2d6dcd1b_1711302042541950043
 [DEBUG] 2017-11-30 20:42:54,208 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:54,208 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:54,208 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:54,209 Line:5872 6:OE0001
 [DEBUG] 2017-11-30 20:42:54,209 Line:5872 7:2017-10-07
 [DEBUG] 2017-11-30 20:42:54,209 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:54,209 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:54,209 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:54,210 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:54,210 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:54,210 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:54,210 Line:5872 14:300.0
 [DEBUG] 2017-11-30 20:42:54,211 Line:5872 15:300.0
 [DEBUG] 2017-11-30 20:42:54,211 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:54,211 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:54,211 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:54,212 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:54,212 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:54,212 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:54,212 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:54,212 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:54,213 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:54,213 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:54,213 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:54,213 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:54,213 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:54,214 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:54,214 Line:5872 30:2017-11-30 20:42:54
 [DEBUG] 2017-11-30 20:42:54,214 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:54,214 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:54,214 Line:5872 33:2017-11-30 20:42:54
 [DEBUG] 2017-11-30 20:42:54,215 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:54,215 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:54,215 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:54,522 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:54,522 Line:5872 1:2d6dcd1b_1711302042541950043
 [DEBUG] 2017-11-30 20:42:54,522 Line:5872 2:2d6dcd1b_1711302042545220044
 [DEBUG] 2017-11-30 20:42:54,523 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:54,523 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:54,523 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:54,523 Line:5872 6:300.0
 [DEBUG] 2017-11-30 20:42:54,523 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:54,524 Line:5872 8:300.0
 [DEBUG] 2017-11-30 20:42:54,524 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:54,524 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:54,524 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:54,524 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:54,525 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:54,525 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:54,525 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:54,582 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045774580
 [DEBUG] 2017-11-30 20:42:54,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045774580,];
 [DEBUG] 2017-11-30 20:42:54,813 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:54,819 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,820 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:54,821 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,822 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:54,823 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,823 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:54,824 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,824 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:54,827 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:54,827 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:54,828 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:54,828 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,829 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:54,829 Line:988 2值：2d6dcd1b_1711302042541950043
 [DEBUG] 2017-11-30 20:42:54,829 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:54,834 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:54,835 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:42:54,835 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:54,836 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,837 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:54,837 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,838 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:54,842 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:54,842 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:54,844 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,844 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:54,844 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,845 Line:988 1值：2d6dcd1b_1711302042541950043
 [DEBUG] 2017-11-30 20:42:54,847 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:54,848 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:54,848 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:54,850 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,851 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:54,851 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,851 Line:988 1值：2d6dcd1b_1711302042541950043
 [DEBUG] 2017-11-30 20:42:54,873 Line:1025 query condition columnName:SumDetAmt----value:300.0
 [DEBUG] 2017-11-30 20:42:54,873 Line:1043 ---上述语句时间---22
 [DEBUG] 2017-11-30 20:42:54,874 Line:313 exeCondition:tblExpense_Add : 300.0 != 300.00
 [DEBUG] 2017-11-30 20:42:54,876 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,876 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:54,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,877 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:54,877 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:54,877 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:54,878 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:54,878 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:54,878 Line:988 6值：300.00
 [DEBUG] 2017-11-30 20:42:54,922 Line:1043 ---上述语句时间---46
 [DEBUG] 2017-11-30 20:42:54,941 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:54,943 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:54,944 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:54,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:54,944 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:54,944 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:54,950 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:54,950 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:54,951 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:54,951 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:54,951 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:42:54,951 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:54,953 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:54,954 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:54,955 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:54,960 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0002
 [DEBUG] 2017-11-30 20:42:54,961 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-07
 [DEBUG] 2017-11-30 20:42:54,961 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:54,962 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:54,962 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:54,962 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:54,963 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:54,963 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:54,963 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:54,963 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:54,964 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:54,964 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:54,964 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:54,965 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:54,965 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=40.00
 [DEBUG] 2017-11-30 20:42:54,965 Line:1322 JXLTOOL.setValue 主表字段BillAmt=40.00
 [DEBUG] 2017-11-30 20:42:54,965 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:54,966 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:54,966 Line:1344 JXLTOOL.setValue 明细表字段Amt=40.00
 [DEBUG] 2017-11-30 20:42:54,966 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=40.00
 [DEBUG] 2017-11-30 20:42:54,966 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:54,967 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:55,023 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,024 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:55,024 Line:5872 2:2d6dcd1b_1711302042550190045
 [DEBUG] 2017-11-30 20:42:55,024 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:55,024 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:55,025 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:55,025 Line:5872 6:OE0002
 [DEBUG] 2017-11-30 20:42:55,025 Line:5872 7:2017-10-07
 [DEBUG] 2017-11-30 20:42:55,025 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:55,026 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:55,027 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:55,028 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:55,028 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,028 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:55,029 Line:5872 14:40.0
 [DEBUG] 2017-11-30 20:42:55,029 Line:5872 15:40.0
 [DEBUG] 2017-11-30 20:42:55,029 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:55,029 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:55,030 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:55,030 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:55,030 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:55,030 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:55,031 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:55,031 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:55,031 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:55,031 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:55,031 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:55,032 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:55,032 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:55,032 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:55,032 Line:5872 30:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,033 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:55,033 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:55,033 Line:5872 33:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,033 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:55,034 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:55,034 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:55,052 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,053 Line:5872 1:2d6dcd1b_1711302042550190045
 [DEBUG] 2017-11-30 20:42:55,053 Line:5872 2:2d6dcd1b_1711302042550520046
 [DEBUG] 2017-11-30 20:42:55,053 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:55,053 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:55,054 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:55,054 Line:5872 6:40.0
 [DEBUG] 2017-11-30 20:42:55,054 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:55,054 Line:5872 8:40.0
 [DEBUG] 2017-11-30 20:42:55,055 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:55,055 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:55,056 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:55,056 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:55,056 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:55,057 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:55,057 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:55,060 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:55,063 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,064 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:55,066 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,066 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:55,068 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,069 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:55,069 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,070 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:55,073 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:55,074 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:55,074 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:55,075 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,075 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:55,076 Line:988 2值：2d6dcd1b_1711302042550190045
 [DEBUG] 2017-11-30 20:42:55,077 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:55,078 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:55,078 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,078 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,080 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,080 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:55,080 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,081 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:55,082 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,083 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:55,085 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,085 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:55,086 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,086 Line:988 1值：2d6dcd1b_1711302042550190045
 [DEBUG] 2017-11-30 20:42:55,088 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:55,088 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,088 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,090 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,091 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:55,091 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,091 Line:988 1值：2d6dcd1b_1711302042550190045
 [DEBUG] 2017-11-30 20:42:55,094 Line:1025 query condition columnName:SumDetAmt----value:40.0
 [DEBUG] 2017-11-30 20:42:55,094 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,095 Line:313 exeCondition:tblExpense_Add : 40.0 != 40.00
 [DEBUG] 2017-11-30 20:42:55,097 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,097 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:55,098 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,098 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,098 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:55,098 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:55,099 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:55,099 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:55,099 Line:988 6值：40.00
 [DEBUG] 2017-11-30 20:42:55,102 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:55,103 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:55,105 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,105 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:55,105 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,106 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,106 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:55,107 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:55,108 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:55,108 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:55,108 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:55,109 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,109 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:55,110 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:55,111 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:55,111 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:55,115 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0003
 [DEBUG] 2017-11-30 20:42:55,116 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-07
 [DEBUG] 2017-11-30 20:42:55,116 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,116 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:55,118 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:55,118 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,118 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:55,118 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:55,119 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:55,119 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:55,120 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:55,120 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,120 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:55,121 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:55,121 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4011.44
 [DEBUG] 2017-11-30 20:42:55,121 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4011.44
 [DEBUG] 2017-11-30 20:42:55,122 Line:1344 JXLTOOL.setValue 明细表字段Remark=代收通讯费主办行归集户
 [DEBUG] 2017-11-30 20:42:55,122 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:55,123 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:55,123 Line:1344 JXLTOOL.setValue 明细表字段Amt=4011.44
 [DEBUG] 2017-11-30 20:42:55,123 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4011.44
 [DEBUG] 2017-11-30 20:42:55,124 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:55,124 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:55,228 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,229 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:55,229 Line:5872 2:2d6dcd1b_1711302042551760047
 [DEBUG] 2017-11-30 20:42:55,229 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:55,230 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:55,230 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:55,230 Line:5872 6:OE0003
 [DEBUG] 2017-11-30 20:42:55,231 Line:5872 7:2017-10-07
 [DEBUG] 2017-11-30 20:42:55,231 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:55,231 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:55,231 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:55,232 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:55,232 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,232 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:55,232 Line:5872 14:4011.44
 [DEBUG] 2017-11-30 20:42:55,233 Line:5872 15:4011.44
 [DEBUG] 2017-11-30 20:42:55,233 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:55,233 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:55,234 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:55,234 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:55,234 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:55,234 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:55,235 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:55,235 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:55,235 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:55,235 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:55,236 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:55,236 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:55,236 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:55,236 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:55,236 Line:5872 30:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,237 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:55,237 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:55,237 Line:5872 33:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,237 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:55,237 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:55,238 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:55,240 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,241 Line:5872 1:2d6dcd1b_1711302042551760047
 [DEBUG] 2017-11-30 20:42:55,241 Line:5872 2:2d6dcd1b_1711302042552400048
 [DEBUG] 2017-11-30 20:42:55,241 Line:5872 3:代收通讯费主办行归集户
 [DEBUG] 2017-11-30 20:42:55,241 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:55,242 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:55,242 Line:5872 6:4011.44
 [DEBUG] 2017-11-30 20:42:55,242 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:55,243 Line:5872 8:4011.44
 [DEBUG] 2017-11-30 20:42:55,243 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:55,243 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:55,243 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:55,244 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:55,244 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:55,244 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:55,244 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:55,250 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:55,252 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,253 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:55,255 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,256 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:55,258 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,258 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:55,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,259 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:55,260 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:55,261 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,261 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:55,261 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,262 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:55,262 Line:988 2值：2d6dcd1b_1711302042551760047
 [DEBUG] 2017-11-30 20:42:55,262 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:55,264 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:55,264 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,265 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,267 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,267 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:55,267 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,268 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:55,269 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,270 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:55,272 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,272 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:55,273 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,273 Line:988 1值：2d6dcd1b_1711302042551760047
 [DEBUG] 2017-11-30 20:42:55,274 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:55,275 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,275 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,276 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,277 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:55,277 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,277 Line:988 1值：2d6dcd1b_1711302042551760047
 [DEBUG] 2017-11-30 20:42:55,278 Line:1025 query condition columnName:SumDetAmt----value:4011.44
 [DEBUG] 2017-11-30 20:42:55,279 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,279 Line:313 exeCondition:tblExpense_Add : 4011.44 != 4011.44
 [DEBUG] 2017-11-30 20:42:55,281 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,281 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:55,282 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,282 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,282 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:55,282 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:55,283 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:55,283 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:55,283 Line:988 6值：4011.44
 [DEBUG] 2017-11-30 20:42:55,285 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,285 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:55,286 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,287 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:55,287 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,287 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,288 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:55,289 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:55,289 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:55,289 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:55,289 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:55,289 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,290 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:55,292 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:55,292 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:55,292 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:55,296 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0004
 [DEBUG] 2017-11-30 20:42:55,297 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-09
 [DEBUG] 2017-11-30 20:42:55,298 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,298 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:55,299 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:55,299 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,300 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:55,300 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:55,300 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:55,301 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:55,301 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:55,301 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,302 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:55,302 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:55,302 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=50000.00
 [DEBUG] 2017-11-30 20:42:55,303 Line:1322 JXLTOOL.setValue 主表字段BillAmt=50000.00
 [DEBUG] 2017-11-30 20:42:55,303 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:55,303 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:55,304 Line:1344 JXLTOOL.setValue 明细表字段Amt=50000.00
 [DEBUG] 2017-11-30 20:42:55,304 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=50000.00
 [DEBUG] 2017-11-30 20:42:55,304 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:55,305 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:55,354 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,355 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:55,355 Line:5872 2:2d6dcd1b_1711302042553360049
 [DEBUG] 2017-11-30 20:42:55,356 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:55,356 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:55,356 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:55,357 Line:5872 6:OE0004
 [DEBUG] 2017-11-30 20:42:55,357 Line:5872 7:2017-10-09
 [DEBUG] 2017-11-30 20:42:55,357 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:55,357 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:55,358 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:55,358 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:55,358 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,358 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:55,358 Line:5872 14:50000.0
 [DEBUG] 2017-11-30 20:42:55,359 Line:5872 15:50000.0
 [DEBUG] 2017-11-30 20:42:55,359 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:55,359 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:55,359 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:55,359 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:55,360 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:55,360 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:55,360 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:55,360 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:55,361 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:55,361 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:55,361 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:55,361 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:55,361 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:55,362 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:55,362 Line:5872 30:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,363 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:55,370 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:55,370 Line:5872 33:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,370 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:55,371 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:55,371 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:55,373 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,374 Line:5872 1:2d6dcd1b_1711302042553360049
 [DEBUG] 2017-11-30 20:42:55,374 Line:5872 2:2d6dcd1b_1711302042553730050
 [DEBUG] 2017-11-30 20:42:55,374 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:55,375 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:55,375 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:55,375 Line:5872 6:50000.0
 [DEBUG] 2017-11-30 20:42:55,375 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:55,376 Line:5872 8:50000.0
 [DEBUG] 2017-11-30 20:42:55,376 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:55,376 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:55,376 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:55,376 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:55,377 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:55,377 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:55,377 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:55,380 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:55,382 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,383 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:55,385 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,385 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:55,387 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,387 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:55,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,388 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:55,392 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:55,393 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:42:55,393 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:55,394 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,394 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:55,398 Line:988 2值：2d6dcd1b_1711302042553360049
 [DEBUG] 2017-11-30 20:42:55,398 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:55,401 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:55,401 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:42:55,401 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,403 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,404 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:55,404 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,404 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:55,407 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,407 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:55,409 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,409 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:55,410 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,410 Line:988 1值：2d6dcd1b_1711302042553360049
 [DEBUG] 2017-11-30 20:42:55,430 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:55,430 Line:1043 ---上述语句时间---21
 [DEBUG] 2017-11-30 20:42:55,430 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,432 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,433 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:55,433 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,433 Line:988 1值：2d6dcd1b_1711302042553360049
 [DEBUG] 2017-11-30 20:42:55,457 Line:1025 query condition columnName:SumDetAmt----value:50000.0
 [DEBUG] 2017-11-30 20:42:55,457 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:42:55,458 Line:313 exeCondition:tblExpense_Add : 50000.0 != 50000.00
 [DEBUG] 2017-11-30 20:42:55,459 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,460 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:55,460 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,461 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,461 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:55,461 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:55,461 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:55,461 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:55,462 Line:988 6值：50000.00
 [DEBUG] 2017-11-30 20:42:55,464 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,465 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:55,467 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,467 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:55,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,468 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,468 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:55,469 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:55,470 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:55,470 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:55,470 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:55,470 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,471 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:55,472 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:55,473 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:55,473 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:55,483 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0005
 [DEBUG] 2017-11-30 20:42:55,483 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-09
 [DEBUG] 2017-11-30 20:42:55,484 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,484 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:55,486 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:55,486 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,486 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:55,486 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:55,487 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:55,487 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:55,488 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:55,489 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,489 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:55,489 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:55,490 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=30032.01
 [DEBUG] 2017-11-30 20:42:55,490 Line:1322 JXLTOOL.setValue 主表字段BillAmt=30032.01
 [DEBUG] 2017-11-30 20:42:55,490 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:42:55,491 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:55,491 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:55,491 Line:1344 JXLTOOL.setValue 明细表字段Amt=30032.01
 [DEBUG] 2017-11-30 20:42:55,491 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=30032.01
 [DEBUG] 2017-11-30 20:42:55,492 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:55,492 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:55,628 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045775624
 [DEBUG] 2017-11-30 20:42:55,629 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045775624,];
 [DEBUG] 2017-11-30 20:42:55,680 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,681 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:55,681 Line:5872 2:2d6dcd1b_1711302042556780051
 [DEBUG] 2017-11-30 20:42:55,682 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:55,682 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:55,682 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:55,682 Line:5872 6:OE0005
 [DEBUG] 2017-11-30 20:42:55,683 Line:5872 7:2017-10-09
 [DEBUG] 2017-11-30 20:42:55,683 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:55,683 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:55,684 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:55,684 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:55,684 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,684 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:55,685 Line:5872 14:30032.01
 [DEBUG] 2017-11-30 20:42:55,685 Line:5872 15:30032.01
 [DEBUG] 2017-11-30 20:42:55,685 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:55,685 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:55,686 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:55,686 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:55,686 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:55,686 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:55,687 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:55,687 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:55,687 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:55,687 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:55,687 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:55,688 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:55,688 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:55,689 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:55,689 Line:5872 30:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,689 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:55,690 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:55,690 Line:5872 33:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,690 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:55,690 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:55,691 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:55,692 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,693 Line:5872 1:2d6dcd1b_1711302042556780051
 [DEBUG] 2017-11-30 20:42:55,693 Line:5872 2:2d6dcd1b_1711302042556920052
 [DEBUG] 2017-11-30 20:42:55,693 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:42:55,693 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:55,694 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:55,694 Line:5872 6:30032.01
 [DEBUG] 2017-11-30 20:42:55,694 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:55,694 Line:5872 8:30032.01
 [DEBUG] 2017-11-30 20:42:55,695 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:55,695 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:55,695 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:55,695 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:55,696 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:55,696 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:55,696 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:55,699 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:55,701 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,701 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:55,703 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,703 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:55,705 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,706 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:55,706 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,707 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:55,708 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:55,708 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,708 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:55,709 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,709 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:55,709 Line:988 2值：2d6dcd1b_1711302042556780051
 [DEBUG] 2017-11-30 20:42:55,710 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:55,711 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:55,712 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,712 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,714 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,714 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:55,714 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,715 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:55,718 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,718 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:55,720 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,720 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:55,721 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,721 Line:988 1值：2d6dcd1b_1711302042556780051
 [DEBUG] 2017-11-30 20:42:55,722 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:55,723 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,723 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,725 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,725 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:55,725 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,725 Line:988 1值：2d6dcd1b_1711302042556780051
 [DEBUG] 2017-11-30 20:42:55,727 Line:1025 query condition columnName:SumDetAmt----value:30032.01
 [DEBUG] 2017-11-30 20:42:55,727 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,727 Line:313 exeCondition:tblExpense_Add : 30032.01 != 30032.01
 [DEBUG] 2017-11-30 20:42:55,728 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,729 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:55,729 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,730 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,730 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:55,730 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:55,730 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:55,731 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:55,731 Line:988 6值：30032.01
 [DEBUG] 2017-11-30 20:42:55,733 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:55,733 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:55,735 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,735 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:55,735 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,736 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,736 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:55,737 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:55,737 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:55,737 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:55,738 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:55,738 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,738 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:55,740 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:55,741 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:55,741 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:55,746 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0006
 [DEBUG] 2017-11-30 20:42:55,746 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-10
 [DEBUG] 2017-11-30 20:42:55,747 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,747 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:55,748 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:55,748 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,748 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:55,749 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:55,749 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:55,750 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:55,750 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:55,750 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,750 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:55,751 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:55,751 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=218400.00
 [DEBUG] 2017-11-30 20:42:55,752 Line:1322 JXLTOOL.setValue 主表字段BillAmt=218400.00
 [DEBUG] 2017-11-30 20:42:55,752 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:42:55,752 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:55,752 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:55,753 Line:1344 JXLTOOL.setValue 明细表字段Amt=218400.00
 [DEBUG] 2017-11-30 20:42:55,753 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=218400.00
 [DEBUG] 2017-11-30 20:42:55,753 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:55,754 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:55,800 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,800 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:55,801 Line:5872 2:2d6dcd1b_1711302042557980053
 [DEBUG] 2017-11-30 20:42:55,801 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:55,801 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:55,801 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:55,802 Line:5872 6:OE0006
 [DEBUG] 2017-11-30 20:42:55,802 Line:5872 7:2017-10-10
 [DEBUG] 2017-11-30 20:42:55,802 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:55,802 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:55,802 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:55,803 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:55,803 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,803 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:55,803 Line:5872 14:218400.0
 [DEBUG] 2017-11-30 20:42:55,804 Line:5872 15:218400.0
 [DEBUG] 2017-11-30 20:42:55,804 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:55,804 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:55,804 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:55,804 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:55,805 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:55,805 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:55,805 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:55,805 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:55,806 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:55,807 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:55,807 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:55,807 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:55,808 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:55,808 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:55,808 Line:5872 30:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,808 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:55,809 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:55,809 Line:5872 33:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,809 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:55,809 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:55,810 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:55,811 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,812 Line:5872 1:2d6dcd1b_1711302042557980053
 [DEBUG] 2017-11-30 20:42:55,812 Line:5872 2:2d6dcd1b_1711302042558110054
 [DEBUG] 2017-11-30 20:42:55,812 Line:5872 3:广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:42:55,813 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:55,813 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:55,813 Line:5872 6:218400.0
 [DEBUG] 2017-11-30 20:42:55,813 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:55,814 Line:5872 8:218400.0
 [DEBUG] 2017-11-30 20:42:55,814 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:55,814 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:55,814 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:55,815 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:55,815 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:55,815 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:55,815 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:55,818 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:55,820 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,821 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:55,822 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,823 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:55,824 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,825 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:55,825 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,825 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:55,826 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:55,826 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:55,827 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:55,827 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,828 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:55,828 Line:988 2值：2d6dcd1b_1711302042557980053
 [DEBUG] 2017-11-30 20:42:55,828 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:55,829 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:55,829 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,830 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,831 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,832 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:55,832 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,832 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:55,834 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:55,834 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:55,836 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,836 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:55,837 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,837 Line:988 1值：2d6dcd1b_1711302042557980053
 [DEBUG] 2017-11-30 20:42:55,838 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:55,839 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,839 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,840 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,841 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:55,841 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,841 Line:988 1值：2d6dcd1b_1711302042557980053
 [DEBUG] 2017-11-30 20:42:55,844 Line:1025 query condition columnName:SumDetAmt----value:218400.0
 [DEBUG] 2017-11-30 20:42:55,844 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,845 Line:313 exeCondition:tblExpense_Add : 218400.0 != 218400.00
 [DEBUG] 2017-11-30 20:42:55,846 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,847 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:55,847 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,847 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,847 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:55,848 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:55,848 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:55,848 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:55,848 Line:988 6值：218400.00
 [DEBUG] 2017-11-30 20:42:55,850 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,850 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:55,853 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,853 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:55,853 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,854 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:55,854 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:55,855 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:55,855 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:55,856 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:55,856 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:55,856 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,856 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:55,858 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:55,858 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:55,858 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:55,861 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0007
 [DEBUG] 2017-11-30 20:42:55,862 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-11
 [DEBUG] 2017-11-30 20:42:55,862 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,863 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:55,863 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:55,863 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:55,863 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:55,864 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:55,864 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:55,864 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:55,865 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:55,865 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,866 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:55,866 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:55,866 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=15.00
 [DEBUG] 2017-11-30 20:42:55,867 Line:1322 JXLTOOL.setValue 主表字段BillAmt=15.00
 [DEBUG] 2017-11-30 20:42:55,867 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:55,867 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:55,868 Line:1344 JXLTOOL.setValue 明细表字段Amt=15.00
 [DEBUG] 2017-11-30 20:42:55,868 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=15.00
 [DEBUG] 2017-11-30 20:42:55,868 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:55,869 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:55,916 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,917 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:55,917 Line:5872 2:2d6dcd1b_1711302042559140055
 [DEBUG] 2017-11-30 20:42:55,917 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:55,918 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:55,918 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:55,918 Line:5872 6:OE0007
 [DEBUG] 2017-11-30 20:42:55,918 Line:5872 7:2017-10-11
 [DEBUG] 2017-11-30 20:42:55,919 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:55,919 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:55,919 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:55,919 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:55,919 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:55,920 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:55,920 Line:5872 14:15.0
 [DEBUG] 2017-11-30 20:42:55,920 Line:5872 15:15.0
 [DEBUG] 2017-11-30 20:42:55,920 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:55,921 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:55,921 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:55,922 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:55,922 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:55,923 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:55,923 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:55,923 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:55,923 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:55,924 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:55,924 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:55,924 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:55,924 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:55,925 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:55,925 Line:5872 30:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,925 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:55,925 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:55,925 Line:5872 33:2017-11-30 20:42:55
 [DEBUG] 2017-11-30 20:42:55,926 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:55,926 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:55,926 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:55,934 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:55,934 Line:5872 1:2d6dcd1b_1711302042559140055
 [DEBUG] 2017-11-30 20:42:55,934 Line:5872 2:2d6dcd1b_1711302042559330056
 [DEBUG] 2017-11-30 20:42:55,935 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:55,935 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:55,935 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:55,935 Line:5872 6:15.0
 [DEBUG] 2017-11-30 20:42:55,936 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:55,936 Line:5872 8:15.0
 [DEBUG] 2017-11-30 20:42:55,936 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:55,936 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:55,936 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:55,937 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:55,937 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:55,937 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:55,937 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:55,941 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:55,943 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,944 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:55,945 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,946 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:55,948 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,948 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:55,949 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,949 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:55,957 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:55,957 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-11-30 20:42:55,957 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:55,958 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,958 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:55,958 Line:988 2值：2d6dcd1b_1711302042559140055
 [DEBUG] 2017-11-30 20:42:55,958 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:55,960 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:55,960 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:55,960 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:55,962 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:55,962 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:55,963 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:55,963 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,003 Line:1043 ---上述语句时间---41
 [DEBUG] 2017-11-30 20:42:56,004 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,006 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,007 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,007 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,008 Line:988 1值：2d6dcd1b_1711302042559140055
 [DEBUG] 2017-11-30 20:42:56,011 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,011 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,011 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,013 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,014 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,014 Line:988 1值：2d6dcd1b_1711302042559140055
 [DEBUG] 2017-11-30 20:42:56,018 Line:1025 query condition columnName:SumDetAmt----value:15.0
 [DEBUG] 2017-11-30 20:42:56,019 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:56,019 Line:313 exeCondition:tblExpense_Add : 15.0 != 15.00
 [DEBUG] 2017-11-30 20:42:56,021 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,022 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,022 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,022 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,023 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,023 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,023 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,023 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,024 Line:988 6值：15.00
 [DEBUG] 2017-11-30 20:42:56,027 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:42:56,027 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,029 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,029 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,030 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,030 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,030 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,032 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,032 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,032 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,033 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,033 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,033 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,035 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,035 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,036 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,041 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0008
 [DEBUG] 2017-11-30 20:42:56,042 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-12
 [DEBUG] 2017-11-30 20:42:56,042 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,043 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,043 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,044 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,044 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,044 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,045 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,045 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,045 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,046 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,046 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,046 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,046 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=24327.00
 [DEBUG] 2017-11-30 20:42:56,047 Line:1322 JXLTOOL.setValue 主表字段BillAmt=24327.00
 [DEBUG] 2017-11-30 20:42:56,047 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市鑫昌金属结构工程有限公司
 [DEBUG] 2017-11-30 20:42:56,047 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,048 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,048 Line:1344 JXLTOOL.setValue 明细表字段Amt=24327.00
 [DEBUG] 2017-11-30 20:42:56,048 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=24327.00
 [DEBUG] 2017-11-30 20:42:56,049 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,049 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,085 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,086 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,086 Line:5872 2:2d6dcd1b_1711302042560830057
 [DEBUG] 2017-11-30 20:42:56,086 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,086 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,087 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,087 Line:5872 6:OE0008
 [DEBUG] 2017-11-30 20:42:56,087 Line:5872 7:2017-10-12
 [DEBUG] 2017-11-30 20:42:56,087 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,088 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,089 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,089 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,089 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,090 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,090 Line:5872 14:24327.0
 [DEBUG] 2017-11-30 20:42:56,090 Line:5872 15:24327.0
 [DEBUG] 2017-11-30 20:42:56,090 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,090 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,094 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,094 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,094 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,094 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,095 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,095 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,095 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,095 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,095 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,096 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,096 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,096 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,096 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,097 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,097 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,097 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,097 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,097 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,098 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,100 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,100 Line:5872 1:2d6dcd1b_1711302042560830057
 [DEBUG] 2017-11-30 20:42:56,100 Line:5872 2:2d6dcd1b_1711302042561000058
 [DEBUG] 2017-11-30 20:42:56,101 Line:5872 3:东莞市鑫昌金属结构工程有限公司
 [DEBUG] 2017-11-30 20:42:56,101 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,101 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,101 Line:5872 6:24327.0
 [DEBUG] 2017-11-30 20:42:56,102 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,102 Line:5872 8:24327.0
 [DEBUG] 2017-11-30 20:42:56,102 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,102 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,102 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,103 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,103 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,103 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,103 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,109 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,111 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,112 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,114 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,114 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,116 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,116 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,117 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,117 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,139 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,140 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:42:56,140 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,140 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,141 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,141 Line:988 2值：2d6dcd1b_1711302042560830057
 [DEBUG] 2017-11-30 20:42:56,141 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,143 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,143 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,143 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,145 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,145 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,146 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,148 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,149 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,150 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,151 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,151 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,151 Line:988 1值：2d6dcd1b_1711302042560830057
 [DEBUG] 2017-11-30 20:42:56,153 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,154 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,154 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,155 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,156 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,156 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,157 Line:988 1值：2d6dcd1b_1711302042560830057
 [DEBUG] 2017-11-30 20:42:56,162 Line:1025 query condition columnName:SumDetAmt----value:24327.0
 [DEBUG] 2017-11-30 20:42:56,162 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:42:56,163 Line:313 exeCondition:tblExpense_Add : 24327.0 != 24327.00
 [DEBUG] 2017-11-30 20:42:56,164 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,165 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,165 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,166 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,166 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,166 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,166 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,167 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,167 Line:988 6值：24327.00
 [DEBUG] 2017-11-30 20:42:56,170 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:56,170 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,173 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,173 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,173 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,174 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,174 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,176 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,177 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,177 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,177 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,177 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,178 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,180 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,180 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,180 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,187 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0009
 [DEBUG] 2017-11-30 20:42:56,188 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:56,188 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,189 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,190 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,190 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,190 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,190 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,191 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,191 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,192 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,192 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,192 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,192 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,193 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.00
 [DEBUG] 2017-11-30 20:42:56,193 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.00
 [DEBUG] 2017-11-30 20:42:56,193 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,194 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,194 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.00
 [DEBUG] 2017-11-30 20:42:56,195 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.00
 [DEBUG] 2017-11-30 20:42:56,195 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,195 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,252 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,252 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,252 Line:5872 2:2d6dcd1b_1711302042562500059
 [DEBUG] 2017-11-30 20:42:56,253 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,253 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,253 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,253 Line:5872 6:OE0009
 [DEBUG] 2017-11-30 20:42:56,254 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:56,254 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,254 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,254 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,254 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,255 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,255 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,255 Line:5872 14:1.0
 [DEBUG] 2017-11-30 20:42:56,256 Line:5872 15:1.0
 [DEBUG] 2017-11-30 20:42:56,257 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,257 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,257 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,257 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,258 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,258 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,258 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,258 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,258 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,259 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,259 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,259 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,259 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,260 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,260 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,260 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,260 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,260 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,261 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,261 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,261 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,264 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,265 Line:5872 1:2d6dcd1b_1711302042562500059
 [DEBUG] 2017-11-30 20:42:56,265 Line:5872 2:2d6dcd1b_1711302042562640060
 [DEBUG] 2017-11-30 20:42:56,265 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:56,265 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,266 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,266 Line:5872 6:1.0
 [DEBUG] 2017-11-30 20:42:56,266 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,266 Line:5872 8:1.0
 [DEBUG] 2017-11-30 20:42:56,266 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,267 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,267 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,267 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,267 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,267 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,268 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,271 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,273 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,273 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,276 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,276 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,278 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,278 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,278 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,278 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,280 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,280 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,281 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,281 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,282 Line:988 2值：2d6dcd1b_1711302042562500059
 [DEBUG] 2017-11-30 20:42:56,282 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,283 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,284 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,284 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,285 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,286 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,286 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,287 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,289 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,290 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,292 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,292 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,292 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,293 Line:988 1值：2d6dcd1b_1711302042562500059
 [DEBUG] 2017-11-30 20:42:56,319 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,320 Line:1043 ---上述语句时间---28
 [DEBUG] 2017-11-30 20:42:56,320 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,322 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,323 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,323 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,324 Line:988 1值：2d6dcd1b_1711302042562500059
 [DEBUG] 2017-11-30 20:42:56,339 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-11-30 20:42:56,339 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:42:56,340 Line:313 exeCondition:tblExpense_Add : 1.0 != 1.00
 [DEBUG] 2017-11-30 20:42:56,341 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,341 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,342 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,342 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,342 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,342 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,342 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,343 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,343 Line:988 6值：1.00
 [DEBUG] 2017-11-30 20:42:56,344 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,345 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,347 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,347 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,347 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,347 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,348 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,348 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,349 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,349 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,349 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,349 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,350 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,351 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,352 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,352 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,356 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0010
 [DEBUG] 2017-11-30 20:42:56,357 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:56,357 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,357 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,358 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,359 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,359 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,359 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,359 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,359 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,360 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,360 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,360 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,361 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,361 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5.00
 [DEBUG] 2017-11-30 20:42:56,361 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5.00
 [DEBUG] 2017-11-30 20:42:56,361 Line:1344 JXLTOOL.setValue 明细表字段Remark=广东哈弗石油能源股份有限公司
 [DEBUG] 2017-11-30 20:42:56,362 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,362 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,362 Line:1344 JXLTOOL.setValue 明细表字段Amt=5.00
 [DEBUG] 2017-11-30 20:42:56,362 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5.00
 [DEBUG] 2017-11-30 20:42:56,363 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,363 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,387 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,388 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,388 Line:5872 2:2d6dcd1b_1711302042563860061
 [DEBUG] 2017-11-30 20:42:56,388 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,389 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,389 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,389 Line:5872 6:OE0010
 [DEBUG] 2017-11-30 20:42:56,389 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:56,390 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,390 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,390 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,390 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,390 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,390 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,391 Line:5872 14:5.0
 [DEBUG] 2017-11-30 20:42:56,391 Line:5872 15:5.0
 [DEBUG] 2017-11-30 20:42:56,391 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,391 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,391 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,391 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,392 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,392 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,392 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,392 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,392 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,393 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,393 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,393 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,393 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,393 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,394 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,394 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,394 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,394 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,395 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,395 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,395 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,397 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,398 Line:5872 1:2d6dcd1b_1711302042563860061
 [DEBUG] 2017-11-30 20:42:56,398 Line:5872 2:2d6dcd1b_1711302042563970062
 [DEBUG] 2017-11-30 20:42:56,398 Line:5872 3:广东哈弗石油能源股份有限公司
 [DEBUG] 2017-11-30 20:42:56,398 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,398 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,399 Line:5872 6:5.0
 [DEBUG] 2017-11-30 20:42:56,399 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,399 Line:5872 8:5.0
 [DEBUG] 2017-11-30 20:42:56,399 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,400 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,400 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,400 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,400 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,400 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,401 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,407 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,408 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,409 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,411 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,411 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,413 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,413 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,413 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,414 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,418 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,419 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:42:56,419 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,419 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,420 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,420 Line:988 2值：2d6dcd1b_1711302042563860061
 [DEBUG] 2017-11-30 20:42:56,420 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,423 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,423 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,424 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,425 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,426 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,426 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,427 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,430 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,430 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,432 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,433 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,433 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,433 Line:988 1值：2d6dcd1b_1711302042563860061
 [DEBUG] 2017-11-30 20:42:56,435 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,435 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,435 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,437 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,438 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,438 Line:988 1值：2d6dcd1b_1711302042563860061
 [DEBUG] 2017-11-30 20:42:56,441 Line:1025 query condition columnName:SumDetAmt----value:5.0
 [DEBUG] 2017-11-30 20:42:56,442 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:56,442 Line:313 exeCondition:tblExpense_Add : 5.0 != 5.00
 [DEBUG] 2017-11-30 20:42:56,444 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,444 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,444 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,445 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,445 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,445 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,445 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,446 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,446 Line:988 6值：5.00
 [DEBUG] 2017-11-30 20:42:56,449 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:56,450 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,452 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,452 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,452 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,452 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,453 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,455 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,455 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,455 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,456 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,456 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,457 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,458 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,459 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,459 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,469 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0011
 [DEBUG] 2017-11-30 20:42:56,470 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:56,470 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,470 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,471 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,472 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,472 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,472 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,473 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,473 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,474 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,474 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,474 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,474 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,475 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=150.00
 [DEBUG] 2017-11-30 20:42:56,475 Line:1322 JXLTOOL.setValue 主表字段BillAmt=150.00
 [DEBUG] 2017-11-30 20:42:56,475 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市众鼎三维科技有限公司
 [DEBUG] 2017-11-30 20:42:56,476 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,476 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,476 Line:1344 JXLTOOL.setValue 明细表字段Amt=150.00
 [DEBUG] 2017-11-30 20:42:56,477 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=150.00
 [DEBUG] 2017-11-30 20:42:56,477 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,477 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,504 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,505 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,506 Line:5872 2:2d6dcd1b_1711302042565020063
 [DEBUG] 2017-11-30 20:42:56,506 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,506 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,506 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,506 Line:5872 6:OE0011
 [DEBUG] 2017-11-30 20:42:56,507 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:56,507 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,507 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,508 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,508 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,508 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,509 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,509 Line:5872 14:150.0
 [DEBUG] 2017-11-30 20:42:56,509 Line:5872 15:150.0
 [DEBUG] 2017-11-30 20:42:56,509 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,509 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,510 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,510 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,510 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,510 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,510 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,511 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,511 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,511 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,511 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,511 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,511 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,512 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,512 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,512 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,512 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,512 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,513 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,513 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,513 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,515 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,515 Line:5872 1:2d6dcd1b_1711302042565020063
 [DEBUG] 2017-11-30 20:42:56,515 Line:5872 2:2d6dcd1b_1711302042565140064
 [DEBUG] 2017-11-30 20:42:56,515 Line:5872 3:东莞市众鼎三维科技有限公司
 [DEBUG] 2017-11-30 20:42:56,516 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,516 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,516 Line:5872 6:150.0
 [DEBUG] 2017-11-30 20:42:56,516 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,516 Line:5872 8:150.0
 [DEBUG] 2017-11-30 20:42:56,517 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,517 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,517 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,517 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,518 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,518 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,518 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,520 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,522 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,523 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,524 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,525 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,526 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,527 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,527 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,527 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,529 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,530 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,530 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,530 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,531 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,531 Line:988 2值：2d6dcd1b_1711302042565020063
 [DEBUG] 2017-11-30 20:42:56,531 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,534 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,534 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,534 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,536 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,536 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,536 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,537 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,539 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,539 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,541 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,541 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,542 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,542 Line:988 1值：2d6dcd1b_1711302042565020063
 [DEBUG] 2017-11-30 20:42:56,544 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,544 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,544 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,546 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,546 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,547 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,547 Line:988 1值：2d6dcd1b_1711302042565020063
 [DEBUG] 2017-11-30 20:42:56,549 Line:1025 query condition columnName:SumDetAmt----value:150.0
 [DEBUG] 2017-11-30 20:42:56,549 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,551 Line:313 exeCondition:tblExpense_Add : 150.0 != 150.00
 [DEBUG] 2017-11-30 20:42:56,552 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,553 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,553 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,557 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,557 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,557 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,564 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,565 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,565 Line:988 6值：150.00
 [DEBUG] 2017-11-30 20:42:56,589 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045776587
 [DEBUG] 2017-11-30 20:42:56,590 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045776587,];
 [DEBUG] 2017-11-30 20:42:56,608 Line:1043 ---上述语句时间---55
 [DEBUG] 2017-11-30 20:42:56,609 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,610 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,611 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,611 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,611 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,612 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,613 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,614 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,614 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,614 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,614 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,615 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,616 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,617 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,617 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,625 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0012
 [DEBUG] 2017-11-30 20:42:56,625 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:56,626 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,626 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,627 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,627 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,627 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,627 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,628 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,628 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,628 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,629 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,629 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,629 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,629 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.20
 [DEBUG] 2017-11-30 20:42:56,630 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.20
 [DEBUG] 2017-11-30 20:42:56,630 Line:1344 JXLTOOL.setValue 明细表字段Remark=财付通支付科技有限公司
 [DEBUG] 2017-11-30 20:42:56,630 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,630 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,630 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.20
 [DEBUG] 2017-11-30 20:42:56,631 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.20
 [DEBUG] 2017-11-30 20:42:56,631 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,631 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,662 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,662 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,663 Line:5872 2:2d6dcd1b_1711302042566600065
 [DEBUG] 2017-11-30 20:42:56,663 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,663 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,663 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,663 Line:5872 6:OE0012
 [DEBUG] 2017-11-30 20:42:56,664 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:56,664 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,664 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,664 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,664 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,665 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,665 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,665 Line:5872 14:0.2
 [DEBUG] 2017-11-30 20:42:56,665 Line:5872 15:0.2
 [DEBUG] 2017-11-30 20:42:56,665 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,666 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,666 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,666 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,666 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,667 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,667 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,667 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,667 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,668 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,668 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,668 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,668 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,668 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,669 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,669 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,669 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,669 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,669 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,670 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,670 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,672 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,673 Line:5872 1:2d6dcd1b_1711302042566600065
 [DEBUG] 2017-11-30 20:42:56,673 Line:5872 2:2d6dcd1b_1711302042566720066
 [DEBUG] 2017-11-30 20:42:56,673 Line:5872 3:财付通支付科技有限公司
 [DEBUG] 2017-11-30 20:42:56,673 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,674 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,674 Line:5872 6:0.2
 [DEBUG] 2017-11-30 20:42:56,674 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,674 Line:5872 8:0.2
 [DEBUG] 2017-11-30 20:42:56,675 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,675 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,675 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,675 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,675 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,676 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,676 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,680 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,681 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,682 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,684 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,684 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,686 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,686 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,687 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,688 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,688 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,689 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,689 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,689 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,690 Line:988 2值：2d6dcd1b_1711302042566600065
 [DEBUG] 2017-11-30 20:42:56,690 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,691 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,692 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,692 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,693 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,694 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,694 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,694 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,696 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,697 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,698 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,699 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,699 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,699 Line:988 1值：2d6dcd1b_1711302042566600065
 [DEBUG] 2017-11-30 20:42:56,701 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,701 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,701 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,703 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,703 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,703 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,704 Line:988 1值：2d6dcd1b_1711302042566600065
 [DEBUG] 2017-11-30 20:42:56,707 Line:1025 query condition columnName:SumDetAmt----value:0.2
 [DEBUG] 2017-11-30 20:42:56,707 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,707 Line:313 exeCondition:tblExpense_Add : 0.2 != 0.20
 [DEBUG] 2017-11-30 20:42:56,709 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,710 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,710 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,710 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,711 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,711 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,711 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,711 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,712 Line:988 6值：0.20
 [DEBUG] 2017-11-30 20:42:56,721 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-11-30 20:42:56,721 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,723 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,724 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,724 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,724 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,724 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,726 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,727 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,727 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,727 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,728 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,728 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,730 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,730 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,731 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,741 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0013
 [DEBUG] 2017-11-30 20:42:56,741 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:56,742 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,742 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,743 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,743 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,743 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,743 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,744 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,744 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,745 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,745 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,745 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,745 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,746 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=210100.00
 [DEBUG] 2017-11-30 20:42:56,746 Line:1322 JXLTOOL.setValue 主表字段BillAmt=210100.00
 [DEBUG] 2017-11-30 20:42:56,746 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市蓝域化工科技有限公司
 [DEBUG] 2017-11-30 20:42:56,747 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,747 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,747 Line:1344 JXLTOOL.setValue 明细表字段Amt=210100.00
 [DEBUG] 2017-11-30 20:42:56,748 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=210100.00
 [DEBUG] 2017-11-30 20:42:56,748 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,749 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,776 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,777 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,777 Line:5872 2:2d6dcd1b_1711302042567740067
 [DEBUG] 2017-11-30 20:42:56,777 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,778 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,778 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,778 Line:5872 6:OE0013
 [DEBUG] 2017-11-30 20:42:56,778 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:56,778 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,779 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,779 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,779 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,779 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,779 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,780 Line:5872 14:210100.0
 [DEBUG] 2017-11-30 20:42:56,780 Line:5872 15:210100.0
 [DEBUG] 2017-11-30 20:42:56,780 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,780 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,780 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,781 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,781 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,781 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,781 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,781 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,782 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,782 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,782 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,782 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,782 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,783 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,783 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,783 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,783 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,783 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,784 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,784 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,784 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,786 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,787 Line:5872 1:2d6dcd1b_1711302042567740067
 [DEBUG] 2017-11-30 20:42:56,787 Line:5872 2:2d6dcd1b_1711302042567860068
 [DEBUG] 2017-11-30 20:42:56,787 Line:5872 3:深圳市蓝域化工科技有限公司
 [DEBUG] 2017-11-30 20:42:56,787 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,788 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,788 Line:5872 6:210100.0
 [DEBUG] 2017-11-30 20:42:56,788 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,788 Line:5872 8:210100.0
 [DEBUG] 2017-11-30 20:42:56,789 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,789 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,789 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,790 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,790 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,790 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,790 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,794 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,796 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,796 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,798 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,798 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,800 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,800 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,801 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,801 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,803 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,804 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,804 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,805 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,805 Line:988 2值：2d6dcd1b_1711302042567740067
 [DEBUG] 2017-11-30 20:42:56,805 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,808 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,808 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,809 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,810 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,811 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,811 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,811 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,813 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,814 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,815 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,816 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,816 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,816 Line:988 1值：2d6dcd1b_1711302042567740067
 [DEBUG] 2017-11-30 20:42:56,818 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,818 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,819 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,820 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,820 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,821 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,821 Line:988 1值：2d6dcd1b_1711302042567740067
 [DEBUG] 2017-11-30 20:42:56,824 Line:1025 query condition columnName:SumDetAmt----value:210100.0
 [DEBUG] 2017-11-30 20:42:56,824 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,825 Line:313 exeCondition:tblExpense_Add : 210100.0 != 210100.00
 [DEBUG] 2017-11-30 20:42:56,826 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,827 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:56,827 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,827 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,827 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:56,828 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:56,828 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:56,828 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:56,828 Line:988 6值：210100.00
 [DEBUG] 2017-11-30 20:42:56,831 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:56,831 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:56,833 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,834 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:56,834 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,834 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:56,834 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:56,836 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:56,837 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:56,837 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:56,837 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:56,838 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:56,838 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:56,840 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:56,840 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:56,841 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:56,845 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0014
 [DEBUG] 2017-11-30 20:42:56,846 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:56,846 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,847 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:56,847 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:56,847 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:56,848 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:56,848 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:56,848 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:56,848 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:56,849 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:56,849 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,849 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:56,850 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:56,850 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=366750.00
 [DEBUG] 2017-11-30 20:42:56,850 Line:1322 JXLTOOL.setValue 主表字段BillAmt=366750.00
 [DEBUG] 2017-11-30 20:42:56,850 Line:1344 JXLTOOL.setValue 明细表字段Remark=江门江东华普塑料容器有限公司
 [DEBUG] 2017-11-30 20:42:56,851 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:56,851 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:56,852 Line:1344 JXLTOOL.setValue 明细表字段Amt=366750.00
 [DEBUG] 2017-11-30 20:42:56,852 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=366750.00
 [DEBUG] 2017-11-30 20:42:56,852 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:56,852 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:56,924 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,924 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:56,924 Line:5872 2:2d6dcd1b_1711302042569210069
 [DEBUG] 2017-11-30 20:42:56,925 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:56,925 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:56,925 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:56,925 Line:5872 6:OE0014
 [DEBUG] 2017-11-30 20:42:56,925 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:56,926 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:56,926 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:56,926 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:56,926 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:56,926 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:56,927 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:56,927 Line:5872 14:366750.0
 [DEBUG] 2017-11-30 20:42:56,927 Line:5872 15:366750.0
 [DEBUG] 2017-11-30 20:42:56,927 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:56,927 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:56,928 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:56,928 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:56,928 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:56,928 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:56,928 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:56,929 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:56,929 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:56,929 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:56,929 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:56,929 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:56,930 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:56,930 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:56,930 Line:5872 30:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,930 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:56,930 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:56,931 Line:5872 33:2017-11-30 20:42:56
 [DEBUG] 2017-11-30 20:42:56,931 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:56,931 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:56,931 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:56,933 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:56,934 Line:5872 1:2d6dcd1b_1711302042569210069
 [DEBUG] 2017-11-30 20:42:56,934 Line:5872 2:2d6dcd1b_1711302042569330070
 [DEBUG] 2017-11-30 20:42:56,934 Line:5872 3:江门江东华普塑料容器有限公司
 [DEBUG] 2017-11-30 20:42:56,934 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:56,935 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:56,935 Line:5872 6:366750.0
 [DEBUG] 2017-11-30 20:42:56,935 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:56,935 Line:5872 8:366750.0
 [DEBUG] 2017-11-30 20:42:56,935 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:56,936 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:56,936 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:56,936 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:56,936 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:56,936 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:56,937 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:56,940 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:56,943 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,943 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:56,946 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,946 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:56,947 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,948 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:56,948 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,948 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:56,950 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:56,951 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,951 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:56,951 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,952 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:56,952 Line:988 2值：2d6dcd1b_1711302042569210069
 [DEBUG] 2017-11-30 20:42:56,953 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:56,954 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:56,954 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:56,955 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,956 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,957 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:56,957 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,957 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:56,959 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:56,960 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:56,962 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,962 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:56,963 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,963 Line:988 1值：2d6dcd1b_1711302042569210069
 [DEBUG] 2017-11-30 20:42:56,989 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:56,990 Line:1043 ---上述语句时间---28
 [DEBUG] 2017-11-30 20:42:56,990 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:56,992 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:56,992 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:56,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:56,993 Line:988 1值：2d6dcd1b_1711302042569210069
 [DEBUG] 2017-11-30 20:42:57,016 Line:1025 query condition columnName:SumDetAmt----value:366750.0
 [DEBUG] 2017-11-30 20:42:57,016 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:42:57,017 Line:313 exeCondition:tblExpense_Add : 366750.0 != 366750.00
 [DEBUG] 2017-11-30 20:42:57,018 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,019 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,019 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,019 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,020 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,020 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,020 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,020 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,021 Line:988 6值：366750.00
 [DEBUG] 2017-11-30 20:42:57,026 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:42:57,026 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,028 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,029 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,029 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,029 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,030 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,031 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,031 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,032 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,032 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,032 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,032 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,034 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,035 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,035 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,042 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0015
 [DEBUG] 2017-11-30 20:42:57,042 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,043 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,043 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,044 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,044 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,045 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,045 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,045 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,045 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,046 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,046 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,046 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,047 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,047 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=40000.00
 [DEBUG] 2017-11-30 20:42:57,047 Line:1322 JXLTOOL.setValue 主表字段BillAmt=40000.00
 [DEBUG] 2017-11-30 20:42:57,047 Line:1344 JXLTOOL.setValue 明细表字段Remark=广东佑德律师事务所
 [DEBUG] 2017-11-30 20:42:57,048 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,048 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,048 Line:1344 JXLTOOL.setValue 明细表字段Amt=40000.00
 [DEBUG] 2017-11-30 20:42:57,049 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=40000.00
 [DEBUG] 2017-11-30 20:42:57,049 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,049 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,075 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,075 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,075 Line:5872 2:2d6dcd1b_1711302042570730071
 [DEBUG] 2017-11-30 20:42:57,075 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,076 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,076 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,076 Line:5872 6:OE0015
 [DEBUG] 2017-11-30 20:42:57,076 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,076 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,077 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,077 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,077 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,077 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,077 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,077 Line:5872 14:40000.0
 [DEBUG] 2017-11-30 20:42:57,078 Line:5872 15:40000.0
 [DEBUG] 2017-11-30 20:42:57,078 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,078 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,078 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,078 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,079 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,079 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,079 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,079 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,079 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,079 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,080 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,080 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,080 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,080 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,080 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,080 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,081 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,081 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,081 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,081 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,081 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,083 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,084 Line:5872 1:2d6dcd1b_1711302042570730071
 [DEBUG] 2017-11-30 20:42:57,084 Line:5872 2:2d6dcd1b_1711302042570830072
 [DEBUG] 2017-11-30 20:42:57,084 Line:5872 3:广东佑德律师事务所
 [DEBUG] 2017-11-30 20:42:57,084 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,084 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,085 Line:5872 6:40000.0
 [DEBUG] 2017-11-30 20:42:57,085 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,085 Line:5872 8:40000.0
 [DEBUG] 2017-11-30 20:42:57,085 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,085 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,086 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,086 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,086 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,086 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,086 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,089 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,091 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,091 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,093 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,093 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,095 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,095 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,096 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,096 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,098 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,098 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,099 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,099 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,099 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,100 Line:988 2值：2d6dcd1b_1711302042570730071
 [DEBUG] 2017-11-30 20:42:57,100 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,101 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,101 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,102 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,103 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,103 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,104 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,104 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,108 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:57,109 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,110 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,111 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,111 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,111 Line:988 1值：2d6dcd1b_1711302042570730071
 [DEBUG] 2017-11-30 20:42:57,112 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,113 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,113 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,115 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,115 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,116 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,116 Line:988 1值：2d6dcd1b_1711302042570730071
 [DEBUG] 2017-11-30 20:42:57,118 Line:1025 query condition columnName:SumDetAmt----value:40000.0
 [DEBUG] 2017-11-30 20:42:57,119 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,119 Line:313 exeCondition:tblExpense_Add : 40000.0 != 40000.00
 [DEBUG] 2017-11-30 20:42:57,121 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,121 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,122 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,122 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,122 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,123 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,123 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,123 Line:988 6值：40000.00
 [DEBUG] 2017-11-30 20:42:57,126 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:57,126 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,128 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,129 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,129 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,129 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,129 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,130 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,130 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,131 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,131 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,131 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,131 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,133 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,133 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,133 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,137 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0016
 [DEBUG] 2017-11-30 20:42:57,138 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,138 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,139 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,139 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,140 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,140 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,140 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,140 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,141 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,142 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,142 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,142 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,143 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,143 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=37748.90
 [DEBUG] 2017-11-30 20:42:57,143 Line:1322 JXLTOOL.setValue 主表字段BillAmt=37748.90
 [DEBUG] 2017-11-30 20:42:57,143 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市汇利纸品有限公司
 [DEBUG] 2017-11-30 20:42:57,144 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,144 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,144 Line:1344 JXLTOOL.setValue 明细表字段Amt=37748.90
 [DEBUG] 2017-11-30 20:42:57,145 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=37748.90
 [DEBUG] 2017-11-30 20:42:57,145 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,145 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,178 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,179 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,179 Line:5872 2:2d6dcd1b_1711302042571760073
 [DEBUG] 2017-11-30 20:42:57,179 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,179 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,180 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,180 Line:5872 6:OE0016
 [DEBUG] 2017-11-30 20:42:57,180 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,180 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,181 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,181 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,181 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,181 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,181 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,182 Line:5872 14:37748.9
 [DEBUG] 2017-11-30 20:42:57,182 Line:5872 15:37748.9
 [DEBUG] 2017-11-30 20:42:57,182 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,182 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,182 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,183 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,183 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,183 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,183 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,183 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,184 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,184 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,184 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,184 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,184 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,185 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,185 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,185 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,185 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,185 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,186 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,186 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,186 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,188 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,189 Line:5872 1:2d6dcd1b_1711302042571760073
 [DEBUG] 2017-11-30 20:42:57,189 Line:5872 2:2d6dcd1b_1711302042571880074
 [DEBUG] 2017-11-30 20:42:57,190 Line:5872 3:东莞市汇利纸品有限公司
 [DEBUG] 2017-11-30 20:42:57,190 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,190 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,190 Line:5872 6:37748.9
 [DEBUG] 2017-11-30 20:42:57,190 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,191 Line:5872 8:37748.9
 [DEBUG] 2017-11-30 20:42:57,191 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,191 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,191 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,191 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,192 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,192 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,192 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,197 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,199 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,199 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,201 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,202 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,203 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,204 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,204 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,204 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,207 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,207 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,208 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,208 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,208 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,209 Line:988 2值：2d6dcd1b_1711302042571760073
 [DEBUG] 2017-11-30 20:42:57,209 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,210 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,211 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,211 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,212 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,213 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,213 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,213 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,215 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,215 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,217 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,217 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,217 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,218 Line:988 1值：2d6dcd1b_1711302042571760073
 [DEBUG] 2017-11-30 20:42:57,219 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,219 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,219 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,221 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,221 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,222 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,222 Line:988 1值：2d6dcd1b_1711302042571760073
 [DEBUG] 2017-11-30 20:42:57,224 Line:1025 query condition columnName:SumDetAmt----value:37748.9
 [DEBUG] 2017-11-30 20:42:57,224 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,225 Line:313 exeCondition:tblExpense_Add : 37748.9 != 37748.90
 [DEBUG] 2017-11-30 20:42:57,226 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,227 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,227 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,227 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,228 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,228 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,228 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,228 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,228 Line:988 6值：37748.90
 [DEBUG] 2017-11-30 20:42:57,231 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,232 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,233 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,234 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,234 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,234 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,234 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,236 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,236 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,236 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,236 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,237 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,237 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,238 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,239 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,239 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,244 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0017
 [DEBUG] 2017-11-30 20:42:57,245 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,245 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,245 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,246 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,246 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,246 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,247 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,247 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,247 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,248 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,248 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,248 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,248 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,249 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=38135.96
 [DEBUG] 2017-11-30 20:42:57,249 Line:1322 JXLTOOL.setValue 主表字段BillAmt=38135.96
 [DEBUG] 2017-11-30 20:42:57,249 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市穗N家具有限公司
 [DEBUG] 2017-11-30 20:42:57,249 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,250 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,250 Line:1344 JXLTOOL.setValue 明细表字段Amt=38135.96
 [DEBUG] 2017-11-30 20:42:57,250 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=38135.96
 [DEBUG] 2017-11-30 20:42:57,251 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,251 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,273 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,273 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,274 Line:5872 2:2d6dcd1b_1711302042572720075
 [DEBUG] 2017-11-30 20:42:57,274 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,274 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,274 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,274 Line:5872 6:OE0017
 [DEBUG] 2017-11-30 20:42:57,275 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,275 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,275 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,275 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,275 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,276 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,276 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,276 Line:5872 14:38135.96
 [DEBUG] 2017-11-30 20:42:57,276 Line:5872 15:38135.96
 [DEBUG] 2017-11-30 20:42:57,276 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,277 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,277 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,277 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,277 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,278 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,278 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,278 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,278 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,278 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,278 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,279 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,279 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,279 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,279 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,279 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,280 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,280 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,280 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,280 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,280 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,281 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,282 Line:5872 1:2d6dcd1b_1711302042572720075
 [DEBUG] 2017-11-30 20:42:57,282 Line:5872 2:2d6dcd1b_1711302042572810076
 [DEBUG] 2017-11-30 20:42:57,282 Line:5872 3:广州市穗N家具有限公司
 [DEBUG] 2017-11-30 20:42:57,283 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,283 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,283 Line:5872 6:38135.96
 [DEBUG] 2017-11-30 20:42:57,283 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,283 Line:5872 8:38135.96
 [DEBUG] 2017-11-30 20:42:57,283 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,284 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,284 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,284 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,284 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,284 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,285 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,286 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,288 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,288 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,290 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,290 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,291 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,292 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,292 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,292 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,293 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,294 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,294 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,294 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,294 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,295 Line:988 2值：2d6dcd1b_1711302042572720075
 [DEBUG] 2017-11-30 20:42:57,295 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,296 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,296 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,296 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,298 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,298 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,298 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,298 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,300 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,300 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,302 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,302 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,302 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,303 Line:988 1值：2d6dcd1b_1711302042572720075
 [DEBUG] 2017-11-30 20:42:57,304 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,305 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,305 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,306 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,307 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,307 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,308 Line:988 1值：2d6dcd1b_1711302042572720075
 [DEBUG] 2017-11-30 20:42:57,310 Line:1025 query condition columnName:SumDetAmt----value:38135.96
 [DEBUG] 2017-11-30 20:42:57,310 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,310 Line:313 exeCondition:tblExpense_Add : 38135.96 != 38135.96
 [DEBUG] 2017-11-30 20:42:57,312 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,313 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,313 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,313 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,313 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,313 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,314 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,314 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,314 Line:988 6值：38135.96
 [DEBUG] 2017-11-30 20:42:57,317 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:57,317 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,319 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,319 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,320 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,320 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,320 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,322 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,322 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,322 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,322 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,323 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,323 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,328 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,328 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,328 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,334 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0018
 [DEBUG] 2017-11-30 20:42:57,334 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,335 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,335 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,336 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,336 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,336 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,336 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,337 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,337 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,337 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,337 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,338 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,338 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,338 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=45458.30
 [DEBUG] 2017-11-30 20:42:57,339 Line:1322 JXLTOOL.setValue 主表字段BillAmt=45458.30
 [DEBUG] 2017-11-30 20:42:57,339 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市恒锐塑料制品有限公司
 [DEBUG] 2017-11-30 20:42:57,339 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,339 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,340 Line:1344 JXLTOOL.setValue 明细表字段Amt=45458.30
 [DEBUG] 2017-11-30 20:42:57,340 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=45458.30
 [DEBUG] 2017-11-30 20:42:57,340 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,340 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,366 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,367 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,367 Line:5872 2:2d6dcd1b_1711302042573640077
 [DEBUG] 2017-11-30 20:42:57,367 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,367 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,367 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,368 Line:5872 6:OE0018
 [DEBUG] 2017-11-30 20:42:57,368 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,368 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,368 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,368 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,369 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,369 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,369 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,369 Line:5872 14:45458.3
 [DEBUG] 2017-11-30 20:42:57,369 Line:5872 15:45458.3
 [DEBUG] 2017-11-30 20:42:57,370 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,370 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,370 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,370 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,370 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,370 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,371 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,371 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,371 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,371 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,371 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,372 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,372 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,372 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,373 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,373 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,373 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,373 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,373 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,373 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,374 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,376 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,376 Line:5872 1:2d6dcd1b_1711302042573640077
 [DEBUG] 2017-11-30 20:42:57,376 Line:5872 2:2d6dcd1b_1711302042573750078
 [DEBUG] 2017-11-30 20:42:57,376 Line:5872 3:东莞市恒锐塑料制品有限公司
 [DEBUG] 2017-11-30 20:42:57,377 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,377 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,377 Line:5872 6:45458.3
 [DEBUG] 2017-11-30 20:42:57,377 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,377 Line:5872 8:45458.3
 [DEBUG] 2017-11-30 20:42:57,378 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,378 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,378 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,378 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,379 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,379 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,379 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,381 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,383 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,383 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,384 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,384 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,386 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,386 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,386 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,386 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,387 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,388 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,388 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,388 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,389 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,389 Line:988 2值：2d6dcd1b_1711302042573640077
 [DEBUG] 2017-11-30 20:42:57,389 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,390 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,390 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,391 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,392 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,392 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,392 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,392 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,393 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:57,394 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,395 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,395 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,395 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,396 Line:988 1值：2d6dcd1b_1711302042573640077
 [DEBUG] 2017-11-30 20:42:57,397 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,397 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,397 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,399 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,399 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,399 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,400 Line:988 1值：2d6dcd1b_1711302042573640077
 [DEBUG] 2017-11-30 20:42:57,402 Line:1025 query condition columnName:SumDetAmt----value:45458.3
 [DEBUG] 2017-11-30 20:42:57,402 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,402 Line:313 exeCondition:tblExpense_Add : 45458.3 != 45458.30
 [DEBUG] 2017-11-30 20:42:57,404 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,404 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,404 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,405 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,405 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,405 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,406 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,406 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,406 Line:988 6值：45458.30
 [DEBUG] 2017-11-30 20:42:57,408 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,409 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,411 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,411 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,411 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,411 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,411 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,412 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,413 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,413 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,413 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,413 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,414 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,415 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,416 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,416 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,419 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0019
 [DEBUG] 2017-11-30 20:42:57,420 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,420 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,421 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,421 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,421 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,422 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,422 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,422 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,422 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,423 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,423 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,423 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,424 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,424 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=18500.00
 [DEBUG] 2017-11-30 20:42:57,424 Line:1322 JXLTOOL.setValue 主表字段BillAmt=18500.00
 [DEBUG] 2017-11-30 20:42:57,425 Line:1344 JXLTOOL.setValue 明细表字段Remark=上海三菱电梯有限公司东莞分公司
 [DEBUG] 2017-11-30 20:42:57,425 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,425 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,425 Line:1344 JXLTOOL.setValue 明细表字段Amt=18500.00
 [DEBUG] 2017-11-30 20:42:57,426 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=18500.00
 [DEBUG] 2017-11-30 20:42:57,426 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,426 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,452 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,453 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,453 Line:5872 2:2d6dcd1b_1711302042574500079
 [DEBUG] 2017-11-30 20:42:57,454 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,454 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,454 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,454 Line:5872 6:OE0019
 [DEBUG] 2017-11-30 20:42:57,454 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,455 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,455 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,455 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,455 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,455 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,456 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,456 Line:5872 14:18500.0
 [DEBUG] 2017-11-30 20:42:57,456 Line:5872 15:18500.0
 [DEBUG] 2017-11-30 20:42:57,456 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,456 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,457 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,457 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,457 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,457 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,457 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,457 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,458 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,458 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,458 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,458 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,458 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,459 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,459 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,459 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,459 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,459 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,459 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,460 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,460 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,462 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,462 Line:5872 1:2d6dcd1b_1711302042574500079
 [DEBUG] 2017-11-30 20:42:57,462 Line:5872 2:2d6dcd1b_1711302042574620080
 [DEBUG] 2017-11-30 20:42:57,463 Line:5872 3:上海三菱电梯有限公司东莞分公司
 [DEBUG] 2017-11-30 20:42:57,463 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,463 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,463 Line:5872 6:18500.0
 [DEBUG] 2017-11-30 20:42:57,463 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,464 Line:5872 8:18500.0
 [DEBUG] 2017-11-30 20:42:57,464 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,464 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,464 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,464 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,464 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,465 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,465 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,467 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,468 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,468 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,469 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,470 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,471 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,471 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,472 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,472 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,473 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,473 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,473 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,473 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,474 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,474 Line:988 2值：2d6dcd1b_1711302042574500079
 [DEBUG] 2017-11-30 20:42:57,474 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,475 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,475 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,475 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,477 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,477 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,477 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,477 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,478 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:57,479 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,480 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,480 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,481 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,481 Line:988 1值：2d6dcd1b_1711302042574500079
 [DEBUG] 2017-11-30 20:42:57,504 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,504 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:42:57,504 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,506 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,506 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,506 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,507 Line:988 1值：2d6dcd1b_1711302042574500079
 [DEBUG] 2017-11-30 20:42:57,532 Line:1025 query condition columnName:SumDetAmt----value:18500.0
 [DEBUG] 2017-11-30 20:42:57,532 Line:1043 ---上述语句时间---26
 [DEBUG] 2017-11-30 20:42:57,532 Line:313 exeCondition:tblExpense_Add : 18500.0 != 18500.00
 [DEBUG] 2017-11-30 20:42:57,534 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,534 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,535 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,535 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,535 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,535 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,536 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,536 Line:988 6值：18500.00
 [DEBUG] 2017-11-30 20:42:57,538 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,538 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,540 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,540 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,541 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,541 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,541 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,542 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,542 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,543 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,543 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,543 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,543 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,545 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,545 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,546 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,550 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0020
 [DEBUG] 2017-11-30 20:42:57,550 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,551 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,551 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,552 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,552 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,552 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,552 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,552 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,552 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,553 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,553 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,553 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,553 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,554 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=26400.00
 [DEBUG] 2017-11-30 20:42:57,554 Line:1322 JXLTOOL.setValue 主表字段BillAmt=26400.00
 [DEBUG] 2017-11-30 20:42:57,554 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市友胜包装制品有限公司
 [DEBUG] 2017-11-30 20:42:57,555 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,556 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,556 Line:1344 JXLTOOL.setValue 明细表字段Amt=26400.00
 [DEBUG] 2017-11-30 20:42:57,556 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=26400.00
 [DEBUG] 2017-11-30 20:42:57,557 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,557 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,582 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045777581
 [DEBUG] 2017-11-30 20:42:57,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045777581,];
 [DEBUG] 2017-11-30 20:42:57,591 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,591 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,591 Line:5872 2:2d6dcd1b_1711302042575890081
 [DEBUG] 2017-11-30 20:42:57,592 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,592 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,592 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,592 Line:5872 6:OE0020
 [DEBUG] 2017-11-30 20:42:57,593 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,593 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,593 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,593 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,593 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,594 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,594 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,594 Line:5872 14:26400.0
 [DEBUG] 2017-11-30 20:42:57,594 Line:5872 15:26400.0
 [DEBUG] 2017-11-30 20:42:57,594 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,595 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,595 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,595 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,596 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,596 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,596 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,596 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,597 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,597 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,597 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,597 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,597 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,598 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,598 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,598 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,598 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,599 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,599 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,599 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,599 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,601 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,601 Line:5872 1:2d6dcd1b_1711302042575890081
 [DEBUG] 2017-11-30 20:42:57,601 Line:5872 2:2d6dcd1b_1711302042576010082
 [DEBUG] 2017-11-30 20:42:57,602 Line:5872 3:东莞市友胜包装制品有限公司
 [DEBUG] 2017-11-30 20:42:57,602 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,602 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,602 Line:5872 6:26400.0
 [DEBUG] 2017-11-30 20:42:57,602 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,602 Line:5872 8:26400.0
 [DEBUG] 2017-11-30 20:42:57,603 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,603 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,603 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,603 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,603 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,603 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,604 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,612 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,613 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,614 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,615 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,615 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,616 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,616 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,616 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,617 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,618 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,618 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,618 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,618 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,619 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,619 Line:988 2值：2d6dcd1b_1711302042575890081
 [DEBUG] 2017-11-30 20:42:57,619 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,620 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,620 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,620 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,622 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,623 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,623 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,624 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,625 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,625 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,626 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,627 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,627 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,627 Line:988 1值：2d6dcd1b_1711302042575890081
 [DEBUG] 2017-11-30 20:42:57,628 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,628 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:57,629 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,630 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,630 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,630 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,630 Line:988 1值：2d6dcd1b_1711302042575890081
 [DEBUG] 2017-11-30 20:42:57,631 Line:1025 query condition columnName:SumDetAmt----value:26400.0
 [DEBUG] 2017-11-30 20:42:57,632 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,632 Line:313 exeCondition:tblExpense_Add : 26400.0 != 26400.00
 [DEBUG] 2017-11-30 20:42:57,633 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,634 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,634 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,634 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,634 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,634 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,635 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,635 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,635 Line:988 6值：26400.00
 [DEBUG] 2017-11-30 20:42:57,637 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,638 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,639 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,640 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,640 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,640 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,641 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,641 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,642 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,642 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,642 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,642 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,643 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,644 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,644 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,645 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,648 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0021
 [DEBUG] 2017-11-30 20:42:57,648 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,649 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,649 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,649 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,649 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,649 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,649 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,650 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,650 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,650 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,650 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,650 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,651 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,651 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20000.00
 [DEBUG] 2017-11-30 20:42:57,651 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20000.00
 [DEBUG] 2017-11-30 20:42:57,651 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:42:57,652 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,652 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,652 Line:1344 JXLTOOL.setValue 明细表字段Amt=20000.00
 [DEBUG] 2017-11-30 20:42:57,652 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20000.00
 [DEBUG] 2017-11-30 20:42:57,653 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,653 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,674 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,674 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,675 Line:5872 2:2d6dcd1b_1711302042576730083
 [DEBUG] 2017-11-30 20:42:57,675 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,675 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,675 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,675 Line:5872 6:OE0021
 [DEBUG] 2017-11-30 20:42:57,675 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,676 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,676 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,676 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,676 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,676 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,676 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,677 Line:5872 14:20000.0
 [DEBUG] 2017-11-30 20:42:57,677 Line:5872 15:20000.0
 [DEBUG] 2017-11-30 20:42:57,677 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,677 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,677 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,677 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,678 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,679 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,680 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,680 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,680 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,682 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,682 Line:5872 1:2d6dcd1b_1711302042576730083
 [DEBUG] 2017-11-30 20:42:57,683 Line:5872 2:2d6dcd1b_1711302042576820084
 [DEBUG] 2017-11-30 20:42:57,683 Line:5872 3:东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:42:57,683 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,683 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,683 Line:5872 6:20000.0
 [DEBUG] 2017-11-30 20:42:57,683 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,684 Line:5872 8:20000.0
 [DEBUG] 2017-11-30 20:42:57,684 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,684 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,684 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,684 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,685 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,685 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,685 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,687 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,689 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,689 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,691 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,691 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,694 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,694 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,694 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,694 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,695 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,696 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,696 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,696 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,696 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,697 Line:988 2值：2d6dcd1b_1711302042576730083
 [DEBUG] 2017-11-30 20:42:57,697 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,697 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,698 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,698 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,699 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,699 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,699 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,700 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,701 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,702 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,703 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,704 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,704 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,704 Line:988 1值：2d6dcd1b_1711302042576730083
 [DEBUG] 2017-11-30 20:42:57,705 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,706 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,706 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,707 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,707 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,708 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,708 Line:988 1值：2d6dcd1b_1711302042576730083
 [DEBUG] 2017-11-30 20:42:57,709 Line:1025 query condition columnName:SumDetAmt----value:20000.0
 [DEBUG] 2017-11-30 20:42:57,710 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,710 Line:313 exeCondition:tblExpense_Add : 20000.0 != 20000.00
 [DEBUG] 2017-11-30 20:42:57,712 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,712 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,712 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,713 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,713 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,713 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,713 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,713 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,714 Line:988 6值：20000.00
 [DEBUG] 2017-11-30 20:42:57,716 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,717 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,718 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,718 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,719 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,719 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,719 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,721 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,721 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,721 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,721 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,721 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,722 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,723 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,724 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,724 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,731 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0022
 [DEBUG] 2017-11-30 20:42:57,731 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,732 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,732 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,733 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,733 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,733 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,733 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,734 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,734 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,734 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,734 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,734 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,735 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,735 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=584457.60
 [DEBUG] 2017-11-30 20:42:57,735 Line:1322 JXLTOOL.setValue 主表字段BillAmt=584457.60
 [DEBUG] 2017-11-30 20:42:57,736 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:42:57,736 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,736 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,736 Line:1344 JXLTOOL.setValue 明细表字段Amt=584457.60
 [DEBUG] 2017-11-30 20:42:57,737 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=584457.60
 [DEBUG] 2017-11-30 20:42:57,737 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,737 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,762 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,762 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,762 Line:5872 2:2d6dcd1b_1711302042577590085
 [DEBUG] 2017-11-30 20:42:57,762 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,763 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,763 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,763 Line:5872 6:OE0022
 [DEBUG] 2017-11-30 20:42:57,763 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,764 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,764 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,764 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,764 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,764 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,764 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,765 Line:5872 14:584457.6
 [DEBUG] 2017-11-30 20:42:57,765 Line:5872 15:584457.6
 [DEBUG] 2017-11-30 20:42:57,765 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,765 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,765 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,766 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,766 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,766 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,766 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,766 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,767 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,767 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,767 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,767 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,767 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,767 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,768 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,768 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,768 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,768 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,768 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,769 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,769 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,772 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,773 Line:5872 1:2d6dcd1b_1711302042577590085
 [DEBUG] 2017-11-30 20:42:57,773 Line:5872 2:2d6dcd1b_1711302042577720086
 [DEBUG] 2017-11-30 20:42:57,773 Line:5872 3:广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:42:57,774 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,774 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,774 Line:5872 6:584457.6
 [DEBUG] 2017-11-30 20:42:57,774 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,774 Line:5872 8:584457.6
 [DEBUG] 2017-11-30 20:42:57,775 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,775 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,775 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,775 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,775 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,775 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,776 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,779 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,780 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,781 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,782 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,783 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,784 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,784 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,785 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,785 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,786 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,787 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,787 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,787 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,788 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,788 Line:988 2值：2d6dcd1b_1711302042577590085
 [DEBUG] 2017-11-30 20:42:57,788 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,790 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,791 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,791 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,792 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,793 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,793 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,793 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,795 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,795 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,797 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,797 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,798 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,798 Line:988 1值：2d6dcd1b_1711302042577590085
 [DEBUG] 2017-11-30 20:42:57,799 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,800 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,800 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,801 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,802 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,802 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,802 Line:988 1值：2d6dcd1b_1711302042577590085
 [DEBUG] 2017-11-30 20:42:57,804 Line:1025 query condition columnName:SumDetAmt----value:584457.6
 [DEBUG] 2017-11-30 20:42:57,804 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,805 Line:313 exeCondition:tblExpense_Add : 584457.6 != 584457.60
 [DEBUG] 2017-11-30 20:42:57,807 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,807 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,808 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,808 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,808 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,808 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,809 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,809 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,809 Line:988 6值：584457.60
 [DEBUG] 2017-11-30 20:42:57,816 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-11-30 20:42:57,816 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,818 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,818 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,818 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,819 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,819 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,820 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,820 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,820 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,821 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,821 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,821 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,823 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,824 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,824 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,828 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0023
 [DEBUG] 2017-11-30 20:42:57,828 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,828 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,829 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,829 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,829 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,829 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,829 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,830 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,830 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,830 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,830 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,830 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,831 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,831 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=9801.35
 [DEBUG] 2017-11-30 20:42:57,831 Line:1322 JXLTOOL.setValue 主表字段BillAmt=9801.35
 [DEBUG] 2017-11-30 20:42:57,831 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市雅园新村物业管理有限公司
 [DEBUG] 2017-11-30 20:42:57,832 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,832 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,832 Line:1344 JXLTOOL.setValue 明细表字段Amt=9801.35
 [DEBUG] 2017-11-30 20:42:57,832 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=9801.35
 [DEBUG] 2017-11-30 20:42:57,833 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,833 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,853 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,853 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,853 Line:5872 2:2d6dcd1b_1711302042578510087
 [DEBUG] 2017-11-30 20:42:57,853 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,854 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,854 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,854 Line:5872 6:OE0023
 [DEBUG] 2017-11-30 20:42:57,854 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,854 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,855 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,855 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,855 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,855 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,855 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,856 Line:5872 14:9801.35
 [DEBUG] 2017-11-30 20:42:57,856 Line:5872 15:9801.35
 [DEBUG] 2017-11-30 20:42:57,856 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,856 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,857 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,857 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,857 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,857 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,857 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,857 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,858 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,858 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,858 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,858 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,858 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,859 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,859 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,859 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,859 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,859 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,860 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,860 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,860 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,862 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,862 Line:5872 1:2d6dcd1b_1711302042578510087
 [DEBUG] 2017-11-30 20:42:57,862 Line:5872 2:2d6dcd1b_1711302042578610088
 [DEBUG] 2017-11-30 20:42:57,862 Line:5872 3:东莞市雅园新村物业管理有限公司
 [DEBUG] 2017-11-30 20:42:57,862 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,863 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,863 Line:5872 6:9801.35
 [DEBUG] 2017-11-30 20:42:57,863 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,863 Line:5872 8:9801.35
 [DEBUG] 2017-11-30 20:42:57,863 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,864 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,864 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,864 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,864 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,864 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,864 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,867 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,868 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,869 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,870 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,870 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,871 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,872 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,873 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,873 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,873 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,873 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,874 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,874 Line:988 2值：2d6dcd1b_1711302042578510087
 [DEBUG] 2017-11-30 20:42:57,874 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,875 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,875 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,875 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,876 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,876 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,877 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,877 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,878 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,878 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,879 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,880 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,880 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,880 Line:988 1值：2d6dcd1b_1711302042578510087
 [DEBUG] 2017-11-30 20:42:57,881 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,881 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:57,881 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,882 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,883 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,883 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,883 Line:988 1值：2d6dcd1b_1711302042578510087
 [DEBUG] 2017-11-30 20:42:57,884 Line:1025 query condition columnName:SumDetAmt----value:9801.35
 [DEBUG] 2017-11-30 20:42:57,884 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:57,885 Line:313 exeCondition:tblExpense_Add : 9801.35 != 9801.35
 [DEBUG] 2017-11-30 20:42:57,886 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,886 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,886 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,886 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,887 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,887 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,887 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,887 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,887 Line:988 6值：9801.35
 [DEBUG] 2017-11-30 20:42:57,889 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,889 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,891 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,891 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:57,891 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,892 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,892 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:57,893 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:57,893 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:57,893 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:57,894 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:57,894 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:57,894 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:57,896 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:57,896 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:57,896 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:57,900 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0024
 [DEBUG] 2017-11-30 20:42:57,900 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:57,900 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,900 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:57,901 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:57,901 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:57,901 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:57,901 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:57,901 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:57,902 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:57,902 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:57,902 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,902 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:57,903 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:57,903 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=12055.00
 [DEBUG] 2017-11-30 20:42:57,903 Line:1322 JXLTOOL.setValue 主表字段BillAmt=12055.00
 [DEBUG] 2017-11-30 20:42:57,903 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:42:57,903 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:57,903 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:57,904 Line:1344 JXLTOOL.setValue 明细表字段Amt=12055.00
 [DEBUG] 2017-11-30 20:42:57,904 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=12055.00
 [DEBUG] 2017-11-30 20:42:57,904 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:57,904 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:57,925 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,925 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:57,925 Line:5872 2:2d6dcd1b_1711302042579230089
 [DEBUG] 2017-11-30 20:42:57,925 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:57,926 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:57,926 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:57,926 Line:5872 6:OE0024
 [DEBUG] 2017-11-30 20:42:57,926 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:57,926 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:57,927 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:57,927 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:57,927 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:57,927 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:57,927 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:57,928 Line:5872 14:12055.0
 [DEBUG] 2017-11-30 20:42:57,928 Line:5872 15:12055.0
 [DEBUG] 2017-11-30 20:42:57,928 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:57,928 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:57,928 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:57,928 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:57,929 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:57,929 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:57,929 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:57,929 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:57,929 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:57,930 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:57,930 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:57,930 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:57,930 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:57,930 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:57,931 Line:5872 30:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,931 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:57,931 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:57,931 Line:5872 33:2017-11-30 20:42:57
 [DEBUG] 2017-11-30 20:42:57,931 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:57,931 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:57,932 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:57,933 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:57,933 Line:5872 1:2d6dcd1b_1711302042579230089
 [DEBUG] 2017-11-30 20:42:57,933 Line:5872 2:2d6dcd1b_1711302042579330090
 [DEBUG] 2017-11-30 20:42:57,933 Line:5872 3:东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:42:57,934 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:57,934 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:57,934 Line:5872 6:12055.0
 [DEBUG] 2017-11-30 20:42:57,934 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:57,934 Line:5872 8:12055.0
 [DEBUG] 2017-11-30 20:42:57,934 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:57,935 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:57,935 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:57,935 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:57,935 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:57,935 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:57,935 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:57,941 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:57,942 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,943 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:57,944 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,944 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:57,945 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,945 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:57,946 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,946 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:57,947 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:57,947 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,947 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:57,947 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,948 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:57,948 Line:988 2值：2d6dcd1b_1711302042579230089
 [DEBUG] 2017-11-30 20:42:57,948 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:57,949 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:57,949 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,949 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,951 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,951 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:57,951 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,951 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:57,953 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:57,953 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:57,955 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,955 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:57,955 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,956 Line:988 1值：2d6dcd1b_1711302042579230089
 [DEBUG] 2017-11-30 20:42:57,971 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:57,971 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:42:57,972 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:57,973 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,974 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:57,974 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,974 Line:988 1值：2d6dcd1b_1711302042579230089
 [DEBUG] 2017-11-30 20:42:57,991 Line:1025 query condition columnName:SumDetAmt----value:12055.0
 [DEBUG] 2017-11-30 20:42:57,991 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:42:57,991 Line:313 exeCondition:tblExpense_Add : 12055.0 != 12055.00
 [DEBUG] 2017-11-30 20:42:57,993 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:57,993 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:57,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:57,994 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:57,994 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:57,994 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:57,994 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:57,995 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:57,995 Line:988 6值：12055.00
 [DEBUG] 2017-11-30 20:42:57,997 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:57,998 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:57,999 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,000 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,000 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,000 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,001 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,002 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,002 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,003 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,003 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,003 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,004 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,005 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,006 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,006 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,011 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0025
 [DEBUG] 2017-11-30 20:42:58,012 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:58,012 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,012 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,013 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,013 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,014 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,014 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,014 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,015 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,015 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,015 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,015 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,016 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,016 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2268.00
 [DEBUG] 2017-11-30 20:42:58,016 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2268.00
 [DEBUG] 2017-11-30 20:42:58,017 Line:1344 JXLTOOL.setValue 明细表字段Remark=重庆冬夏文化传媒有限公司
 [DEBUG] 2017-11-30 20:42:58,017 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,017 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,017 Line:1344 JXLTOOL.setValue 明细表字段Amt=2268.00
 [DEBUG] 2017-11-30 20:42:58,018 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2268.00
 [DEBUG] 2017-11-30 20:42:58,018 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,018 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,041 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,042 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,042 Line:5872 2:2d6dcd1b_1711302042580400091
 [DEBUG] 2017-11-30 20:42:58,042 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,048 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,048 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,049 Line:5872 6:OE0025
 [DEBUG] 2017-11-30 20:42:58,049 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:58,049 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,049 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,049 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,050 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,050 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,050 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,050 Line:5872 14:2268.0
 [DEBUG] 2017-11-30 20:42:58,050 Line:5872 15:2268.0
 [DEBUG] 2017-11-30 20:42:58,051 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,051 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,051 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,051 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,051 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,052 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,052 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,052 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,052 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,052 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,053 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,053 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,053 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,053 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,053 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,054 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,054 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,054 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,054 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,054 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,055 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,071 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,071 Line:5872 1:2d6dcd1b_1711302042580400091
 [DEBUG] 2017-11-30 20:42:58,071 Line:5872 2:2d6dcd1b_1711302042580710092
 [DEBUG] 2017-11-30 20:42:58,072 Line:5872 3:重庆冬夏文化传媒有限公司
 [DEBUG] 2017-11-30 20:42:58,072 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,072 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,072 Line:5872 6:2268.0
 [DEBUG] 2017-11-30 20:42:58,073 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,073 Line:5872 8:2268.0
 [DEBUG] 2017-11-30 20:42:58,073 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,073 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,073 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,073 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,074 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,074 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,074 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,077 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,079 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,079 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,081 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,081 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,083 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,083 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,083 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,083 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,085 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,085 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,085 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,085 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,086 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,086 Line:988 2值：2d6dcd1b_1711302042580400091
 [DEBUG] 2017-11-30 20:42:58,086 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,087 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,087 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,088 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,089 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,089 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,089 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,090 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,091 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,091 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,092 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,092 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,093 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,093 Line:988 1值：2d6dcd1b_1711302042580400091
 [DEBUG] 2017-11-30 20:42:58,095 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,095 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,095 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,097 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,097 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,097 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,098 Line:988 1值：2d6dcd1b_1711302042580400091
 [DEBUG] 2017-11-30 20:42:58,099 Line:1025 query condition columnName:SumDetAmt----value:2268.0
 [DEBUG] 2017-11-30 20:42:58,100 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,100 Line:313 exeCondition:tblExpense_Add : 2268.0 != 2268.00
 [DEBUG] 2017-11-30 20:42:58,102 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,102 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,102 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,103 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,103 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,103 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,103 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,104 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,104 Line:988 6值：2268.00
 [DEBUG] 2017-11-30 20:42:58,108 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:42:58,108 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,110 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,110 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,110 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,111 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,111 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,112 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,113 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,113 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,113 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,113 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,114 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,115 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,116 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,116 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,122 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0026
 [DEBUG] 2017-11-30 20:42:58,123 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:58,123 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,123 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,124 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,124 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,125 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,125 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,125 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,125 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,126 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,126 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,126 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,127 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,127 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=14000.00
 [DEBUG] 2017-11-30 20:42:58,127 Line:1322 JXLTOOL.setValue 主表字段BillAmt=14000.00
 [DEBUG] 2017-11-30 20:42:58,128 Line:1344 JXLTOOL.setValue 明细表字段Remark=成都传化公路港物流有限公司
 [DEBUG] 2017-11-30 20:42:58,128 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,128 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,128 Line:1344 JXLTOOL.setValue 明细表字段Amt=14000.00
 [DEBUG] 2017-11-30 20:42:58,129 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=14000.00
 [DEBUG] 2017-11-30 20:42:58,129 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,129 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,162 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,162 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,163 Line:5872 2:2d6dcd1b_1711302042581600093
 [DEBUG] 2017-11-30 20:42:58,163 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,163 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,163 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,163 Line:5872 6:OE0026
 [DEBUG] 2017-11-30 20:42:58,164 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:58,164 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,164 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,164 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,164 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,164 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,165 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,165 Line:5872 14:14000.0
 [DEBUG] 2017-11-30 20:42:58,165 Line:5872 15:14000.0
 [DEBUG] 2017-11-30 20:42:58,165 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,165 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,165 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,166 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,166 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,166 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,166 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,166 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,167 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,167 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,167 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,167 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,167 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,168 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,168 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,168 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,168 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,168 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,168 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,169 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,169 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,171 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,171 Line:5872 1:2d6dcd1b_1711302042581600093
 [DEBUG] 2017-11-30 20:42:58,171 Line:5872 2:2d6dcd1b_1711302042581710094
 [DEBUG] 2017-11-30 20:42:58,172 Line:5872 3:成都传化公路港物流有限公司
 [DEBUG] 2017-11-30 20:42:58,172 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,172 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,172 Line:5872 6:14000.0
 [DEBUG] 2017-11-30 20:42:58,173 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,173 Line:5872 8:14000.0
 [DEBUG] 2017-11-30 20:42:58,173 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,173 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,174 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,174 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,174 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,174 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,174 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,180 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,182 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,182 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,184 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,184 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,186 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,186 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,187 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,187 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,188 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,189 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,189 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,189 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,190 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,190 Line:988 2值：2d6dcd1b_1711302042581600093
 [DEBUG] 2017-11-30 20:42:58,190 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,192 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,192 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,192 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,194 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,194 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,194 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,195 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,197 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,197 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,199 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,199 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,199 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,200 Line:988 1值：2d6dcd1b_1711302042581600093
 [DEBUG] 2017-11-30 20:42:58,201 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,202 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,202 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,204 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,204 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,205 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,205 Line:988 1值：2d6dcd1b_1711302042581600093
 [DEBUG] 2017-11-30 20:42:58,212 Line:1025 query condition columnName:SumDetAmt----value:14000.0
 [DEBUG] 2017-11-30 20:42:58,212 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:42:58,213 Line:313 exeCondition:tblExpense_Add : 14000.0 != 14000.00
 [DEBUG] 2017-11-30 20:42:58,215 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,215 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,216 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,216 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,216 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,216 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,216 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,216 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,217 Line:988 6值：14000.00
 [DEBUG] 2017-11-30 20:42:58,230 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:42:58,231 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,232 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,233 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,233 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,233 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,233 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,234 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,235 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,235 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,235 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,235 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,236 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,237 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,238 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,238 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,243 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0027
 [DEBUG] 2017-11-30 20:42:58,243 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:58,244 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,244 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,244 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,244 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,245 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,245 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,245 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,245 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,246 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,246 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,246 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,246 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,246 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=25880.00
 [DEBUG] 2017-11-30 20:42:58,246 Line:1322 JXLTOOL.setValue 主表字段BillAmt=25880.00
 [DEBUG] 2017-11-30 20:42:58,247 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市财付通科技有限公司
 [DEBUG] 2017-11-30 20:42:58,247 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,247 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,247 Line:1344 JXLTOOL.setValue 明细表字段Amt=25880.00
 [DEBUG] 2017-11-30 20:42:58,247 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=25880.00
 [DEBUG] 2017-11-30 20:42:58,248 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,248 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,265 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,265 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,265 Line:5872 2:2d6dcd1b_1711302042582630095
 [DEBUG] 2017-11-30 20:42:58,265 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,266 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,266 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,266 Line:5872 6:OE0027
 [DEBUG] 2017-11-30 20:42:58,266 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:58,266 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 14:25880.0
 [DEBUG] 2017-11-30 20:42:58,267 Line:5872 15:25880.0
 [DEBUG] 2017-11-30 20:42:58,268 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,268 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,268 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,268 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,268 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,269 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,270 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,270 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,270 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,270 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,270 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,270 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,271 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,271 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,271 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,272 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,272 Line:5872 1:2d6dcd1b_1711302042582630095
 [DEBUG] 2017-11-30 20:42:58,272 Line:5872 2:2d6dcd1b_1711302042582720096
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 3:深圳市财付通科技有限公司
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 6:25880.0
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 8:25880.0
 [DEBUG] 2017-11-30 20:42:58,273 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,274 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,274 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,274 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,274 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,274 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,274 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,277 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,278 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,278 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,280 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,280 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,282 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,282 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,282 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,283 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,284 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,285 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,285 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,285 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,285 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,286 Line:988 2值：2d6dcd1b_1711302042582630095
 [DEBUG] 2017-11-30 20:42:58,286 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,287 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,288 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,288 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,289 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,290 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,290 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,290 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,292 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,292 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,294 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,294 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,294 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,294 Line:988 1值：2d6dcd1b_1711302042582630095
 [DEBUG] 2017-11-30 20:42:58,296 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,296 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,296 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,297 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,298 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,298 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,298 Line:988 1值：2d6dcd1b_1711302042582630095
 [DEBUG] 2017-11-30 20:42:58,299 Line:1025 query condition columnName:SumDetAmt----value:25880.0
 [DEBUG] 2017-11-30 20:42:58,300 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,300 Line:313 exeCondition:tblExpense_Add : 25880.0 != 25880.00
 [DEBUG] 2017-11-30 20:42:58,301 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,301 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,302 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,302 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,302 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,302 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,302 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,302 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,303 Line:988 6值：25880.00
 [DEBUG] 2017-11-30 20:42:58,305 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:58,305 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,307 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,307 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,307 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,308 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,308 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,309 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,309 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,310 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,310 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,310 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,310 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,312 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,312 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,312 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,316 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0028
 [DEBUG] 2017-11-30 20:42:58,316 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-13
 [DEBUG] 2017-11-30 20:42:58,317 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,317 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,318 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,318 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,318 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,318 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,319 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,319 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,319 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,320 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,320 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,320 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,320 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=26872.21
 [DEBUG] 2017-11-30 20:42:58,320 Line:1322 JXLTOOL.setValue 主表字段BillAmt=26872.21
 [DEBUG] 2017-11-30 20:42:58,321 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:42:58,321 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,321 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,321 Line:1344 JXLTOOL.setValue 明细表字段Amt=26872.21
 [DEBUG] 2017-11-30 20:42:58,322 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=26872.21
 [DEBUG] 2017-11-30 20:42:58,322 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,322 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,370 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,371 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,371 Line:5872 2:2d6dcd1b_1711302042583680097
 [DEBUG] 2017-11-30 20:42:58,371 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,372 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,372 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,372 Line:5872 6:OE0028
 [DEBUG] 2017-11-30 20:42:58,372 Line:5872 7:2017-10-13
 [DEBUG] 2017-11-30 20:42:58,373 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,373 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,373 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,373 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,374 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,374 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,374 Line:5872 14:26872.21
 [DEBUG] 2017-11-30 20:42:58,374 Line:5872 15:26872.21
 [DEBUG] 2017-11-30 20:42:58,374 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,375 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,375 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,375 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,375 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,375 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,376 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,376 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,376 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,376 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,376 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,377 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,377 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,377 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,377 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,377 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,378 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,378 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,378 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,378 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,378 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,380 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,380 Line:5872 1:2d6dcd1b_1711302042583680097
 [DEBUG] 2017-11-30 20:42:58,381 Line:5872 2:2d6dcd1b_1711302042583800098
 [DEBUG] 2017-11-30 20:42:58,381 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:42:58,381 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,381 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,381 Line:5872 6:26872.21
 [DEBUG] 2017-11-30 20:42:58,382 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,382 Line:5872 8:26872.21
 [DEBUG] 2017-11-30 20:42:58,382 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,382 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,382 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,383 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,383 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,383 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,383 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,386 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,388 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,388 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,391 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,391 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,393 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,393 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,393 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,394 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,396 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,396 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,396 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,396 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,397 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,397 Line:988 2值：2d6dcd1b_1711302042583680097
 [DEBUG] 2017-11-30 20:42:58,397 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,398 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,398 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,398 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,400 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,400 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,400 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,401 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:58,402 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,403 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,403 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,404 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,404 Line:988 1值：2d6dcd1b_1711302042583680097
 [DEBUG] 2017-11-30 20:42:58,405 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,405 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,405 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,407 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,407 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,407 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,408 Line:988 1值：2d6dcd1b_1711302042583680097
 [DEBUG] 2017-11-30 20:42:58,409 Line:1025 query condition columnName:SumDetAmt----value:26872.21
 [DEBUG] 2017-11-30 20:42:58,410 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,410 Line:313 exeCondition:tblExpense_Add : 26872.21 != 26872.21
 [DEBUG] 2017-11-30 20:42:58,411 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,412 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,412 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,412 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,413 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,413 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,413 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,413 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,413 Line:988 6值：26872.21
 [DEBUG] 2017-11-30 20:42:58,415 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,416 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,417 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,418 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,418 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,418 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,418 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,419 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,420 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,420 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,420 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,420 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,421 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,422 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,423 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,423 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,433 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0029
 [DEBUG] 2017-11-30 20:42:58,434 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-14
 [DEBUG] 2017-11-30 20:42:58,434 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,434 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,435 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,435 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,435 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,435 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,436 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,436 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,436 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,437 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,437 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,437 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,437 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=7.00
 [DEBUG] 2017-11-30 20:42:58,438 Line:1322 JXLTOOL.setValue 主表字段BillAmt=7.00
 [DEBUG] 2017-11-30 20:42:58,438 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,438 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,438 Line:1344 JXLTOOL.setValue 明细表字段Amt=7.00
 [DEBUG] 2017-11-30 20:42:58,439 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=7.00
 [DEBUG] 2017-11-30 20:42:58,439 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,439 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,463 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,463 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,463 Line:5872 2:2d6dcd1b_1711302042584610099
 [DEBUG] 2017-11-30 20:42:58,464 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,464 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,464 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,464 Line:5872 6:OE0029
 [DEBUG] 2017-11-30 20:42:58,464 Line:5872 7:2017-10-14
 [DEBUG] 2017-11-30 20:42:58,464 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,465 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,465 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,465 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,465 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,465 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,465 Line:5872 14:7.0
 [DEBUG] 2017-11-30 20:42:58,466 Line:5872 15:7.0
 [DEBUG] 2017-11-30 20:42:58,466 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,466 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,466 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,466 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,466 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,467 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,467 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,467 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,467 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,467 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,468 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,468 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,468 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,468 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,468 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,469 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,469 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,469 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,469 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,469 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,469 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,471 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,471 Line:5872 1:2d6dcd1b_1711302042584610099
 [DEBUG] 2017-11-30 20:42:58,471 Line:5872 2:2d6dcd1b_1711302042584710100
 [DEBUG] 2017-11-30 20:42:58,471 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:58,471 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,472 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,472 Line:5872 6:7.0
 [DEBUG] 2017-11-30 20:42:58,472 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,472 Line:5872 8:7.0
 [DEBUG] 2017-11-30 20:42:58,472 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,472 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,473 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,473 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,473 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,473 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,473 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,476 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,478 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,478 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,480 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,480 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,481 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,482 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,482 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,482 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,483 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,483 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,483 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,484 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,484 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,484 Line:988 2值：2d6dcd1b_1711302042584610099
 [DEBUG] 2017-11-30 20:42:58,484 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,485 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,486 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,486 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,487 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,488 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,488 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,488 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,490 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,490 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,492 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,492 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,492 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,493 Line:988 1值：2d6dcd1b_1711302042584610099
 [DEBUG] 2017-11-30 20:42:58,516 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,516 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:42:58,517 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,518 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,519 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,519 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,519 Line:988 1值：2d6dcd1b_1711302042584610099
 [DEBUG] 2017-11-30 20:42:58,549 Line:1025 query condition columnName:SumDetAmt----value:7.0
 [DEBUG] 2017-11-30 20:42:58,549 Line:1043 ---上述语句时间---30
 [DEBUG] 2017-11-30 20:42:58,550 Line:313 exeCondition:tblExpense_Add : 7.0 != 7.00
 [DEBUG] 2017-11-30 20:42:58,551 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,552 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,552 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,553 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,553 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,553 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,553 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,553 Line:988 6值：7.00
 [DEBUG] 2017-11-30 20:42:58,558 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:42:58,558 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,560 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,560 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,561 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,561 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,564 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,564 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,564 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,565 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,565 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:58,565 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,567 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,567 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,567 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,590 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045778587
 [DEBUG] 2017-11-30 20:42:58,591 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045778587,];
 [DEBUG] 2017-11-30 20:42:58,661 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0030
 [DEBUG] 2017-11-30 20:42:58,661 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-14
 [DEBUG] 2017-11-30 20:42:58,662 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,662 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,662 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,663 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,663 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,663 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,663 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,664 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,664 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,664 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,664 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,665 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,665 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:42:58,665 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:42:58,665 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,665 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,666 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:42:58,666 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:42:58,666 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,666 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,687 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,687 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,687 Line:5872 2:2d6dcd1b_1711302042586850101
 [DEBUG] 2017-11-30 20:42:58,687 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,688 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,688 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,688 Line:5872 6:OE0030
 [DEBUG] 2017-11-30 20:42:58,688 Line:5872 7:2017-10-14
 [DEBUG] 2017-11-30 20:42:58,688 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,688 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,689 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,689 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,689 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,689 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,689 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:42:58,690 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:42:58,690 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,690 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,690 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,690 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,691 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,691 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,691 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,691 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,691 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,692 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,692 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,692 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,692 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,692 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,692 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,693 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,693 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,693 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,693 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,693 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,694 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,695 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,696 Line:5872 1:2d6dcd1b_1711302042586850101
 [DEBUG] 2017-11-30 20:42:58,696 Line:5872 2:2d6dcd1b_1711302042586950102
 [DEBUG] 2017-11-30 20:42:58,696 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:58,696 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,696 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,697 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:42:58,697 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,697 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:42:58,697 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,697 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,698 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,698 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,698 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,698 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,698 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,700 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,702 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,702 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,703 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,703 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,704 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,705 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,705 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,705 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,706 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,706 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:58,707 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,707 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,707 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,707 Line:988 2值：2d6dcd1b_1711302042586850101
 [DEBUG] 2017-11-30 20:42:58,708 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,708 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,709 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,709 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,710 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,710 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,710 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,711 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,712 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,712 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,714 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,714 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,714 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,715 Line:988 1值：2d6dcd1b_1711302042586850101
 [DEBUG] 2017-11-30 20:42:58,715 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,716 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,716 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,717 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,718 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,718 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,718 Line:988 1值：2d6dcd1b_1711302042586850101
 [DEBUG] 2017-11-30 20:42:58,720 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:42:58,720 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,720 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:42:58,722 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,722 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,723 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,723 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,723 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,723 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,724 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,724 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,724 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:42:58,727 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:58,727 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,728 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,728 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,729 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,729 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,729 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,730 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,730 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,730 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,730 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,731 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,731 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,732 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,732 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,733 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,736 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0031
 [DEBUG] 2017-11-30 20:42:58,737 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-14
 [DEBUG] 2017-11-30 20:42:58,737 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,737 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,738 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,738 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,738 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,738 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,738 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,739 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,739 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,739 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,739 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,740 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,740 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=80.00
 [DEBUG] 2017-11-30 20:42:58,740 Line:1322 JXLTOOL.setValue 主表字段BillAmt=80.00
 [DEBUG] 2017-11-30 20:42:58,740 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,740 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,741 Line:1344 JXLTOOL.setValue 明细表字段Amt=80.00
 [DEBUG] 2017-11-30 20:42:58,741 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=80.00
 [DEBUG] 2017-11-30 20:42:58,741 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,741 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,766 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,766 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,767 Line:5872 2:2d6dcd1b_1711302042587640103
 [DEBUG] 2017-11-30 20:42:58,767 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,767 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,767 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,767 Line:5872 6:OE0031
 [DEBUG] 2017-11-30 20:42:58,768 Line:5872 7:2017-10-14
 [DEBUG] 2017-11-30 20:42:58,768 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,768 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,768 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,768 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,768 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,769 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,769 Line:5872 14:80.0
 [DEBUG] 2017-11-30 20:42:58,769 Line:5872 15:80.0
 [DEBUG] 2017-11-30 20:42:58,769 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,769 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,770 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,770 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,770 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,770 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,770 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,771 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,771 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,771 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,771 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,771 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,772 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,772 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,772 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,772 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,772 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,773 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,773 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,773 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,773 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,777 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,778 Line:5872 1:2d6dcd1b_1711302042587640103
 [DEBUG] 2017-11-30 20:42:58,778 Line:5872 2:2d6dcd1b_1711302042587770104
 [DEBUG] 2017-11-30 20:42:58,778 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:58,778 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,779 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,779 Line:5872 6:80.0
 [DEBUG] 2017-11-30 20:42:58,779 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,779 Line:5872 8:80.0
 [DEBUG] 2017-11-30 20:42:58,779 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,780 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,780 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,780 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,780 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,780 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,780 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,783 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,784 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,785 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,786 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,787 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,788 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,788 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,788 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,789 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,790 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,791 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,791 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,791 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,791 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,792 Line:988 2值：2d6dcd1b_1711302042587640103
 [DEBUG] 2017-11-30 20:42:58,792 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,792 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,793 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,793 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,794 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,794 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,794 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,795 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,796 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,796 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,798 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,798 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,799 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,799 Line:988 1值：2d6dcd1b_1711302042587640103
 [DEBUG] 2017-11-30 20:42:58,800 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,800 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,801 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,802 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,802 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,802 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,802 Line:988 1值：2d6dcd1b_1711302042587640103
 [DEBUG] 2017-11-30 20:42:58,803 Line:1025 query condition columnName:SumDetAmt----value:80.0
 [DEBUG] 2017-11-30 20:42:58,804 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,804 Line:313 exeCondition:tblExpense_Add : 80.0 != 80.00
 [DEBUG] 2017-11-30 20:42:58,806 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,806 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,806 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,807 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,807 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,807 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,807 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,807 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,808 Line:988 6值：80.00
 [DEBUG] 2017-11-30 20:42:58,810 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:58,810 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,811 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,812 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,812 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,812 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,812 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,813 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,813 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,814 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,814 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,814 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,814 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,816 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,816 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,816 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,820 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0032
 [DEBUG] 2017-11-30 20:42:58,820 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-16
 [DEBUG] 2017-11-30 20:42:58,821 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,821 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,821 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,822 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,822 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,822 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,822 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,823 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,823 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,823 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,824 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,824 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,824 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=223763.07
 [DEBUG] 2017-11-30 20:42:58,824 Line:1322 JXLTOOL.setValue 主表字段BillAmt=223763.07
 [DEBUG] 2017-11-30 20:42:58,825 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:42:58,825 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,825 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,825 Line:1344 JXLTOOL.setValue 明细表字段Amt=223763.07
 [DEBUG] 2017-11-30 20:42:58,826 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=223763.07
 [DEBUG] 2017-11-30 20:42:58,826 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,826 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,845 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,846 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,846 Line:5872 2:2d6dcd1b_1711302042588440105
 [DEBUG] 2017-11-30 20:42:58,846 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,846 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,846 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,846 Line:5872 6:OE0032
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 7:2017-10-16
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,847 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,848 Line:5872 14:223763.07
 [DEBUG] 2017-11-30 20:42:58,848 Line:5872 15:223763.07
 [DEBUG] 2017-11-30 20:42:58,848 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,848 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,848 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,848 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,849 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,850 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,851 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,851 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,851 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,853 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,853 Line:5872 1:2d6dcd1b_1711302042588440105
 [DEBUG] 2017-11-30 20:42:58,853 Line:5872 2:2d6dcd1b_1711302042588520106
 [DEBUG] 2017-11-30 20:42:58,853 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:42:58,854 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,854 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,854 Line:5872 6:223763.07
 [DEBUG] 2017-11-30 20:42:58,854 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,854 Line:5872 8:223763.07
 [DEBUG] 2017-11-30 20:42:58,854 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,855 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,855 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,855 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,855 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,855 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,856 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,858 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,859 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,859 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,861 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,861 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,862 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,862 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,862 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,863 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,863 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,864 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,864 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,864 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,864 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,864 Line:988 2值：2d6dcd1b_1711302042588440105
 [DEBUG] 2017-11-30 20:42:58,865 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,865 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,866 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,866 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,867 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,867 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,868 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,870 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,870 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,872 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,872 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,872 Line:988 1值：2d6dcd1b_1711302042588440105
 [DEBUG] 2017-11-30 20:42:58,873 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,873 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:58,874 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,875 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,875 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,876 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,876 Line:988 1值：2d6dcd1b_1711302042588440105
 [DEBUG] 2017-11-30 20:42:58,885 Line:1025 query condition columnName:SumDetAmt----value:223763.07
 [DEBUG] 2017-11-30 20:42:58,885 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-11-30 20:42:58,885 Line:313 exeCondition:tblExpense_Add : 223763.07 != 223763.07
 [DEBUG] 2017-11-30 20:42:58,887 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,887 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,888 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,888 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,888 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,888 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,889 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,889 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,889 Line:988 6值：223763.07
 [DEBUG] 2017-11-30 20:42:58,891 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:58,892 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,894 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,894 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,894 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,895 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,895 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,897 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,897 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,898 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,898 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,898 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:58,898 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,904 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,904 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,904 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,911 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0033
 [DEBUG] 2017-11-30 20:42:58,912 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-17
 [DEBUG] 2017-11-30 20:42:58,912 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,912 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,913 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,913 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,913 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,914 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,914 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,914 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,914 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,915 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,915 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,915 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,915 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=37.00
 [DEBUG] 2017-11-30 20:42:58,916 Line:1322 JXLTOOL.setValue 主表字段BillAmt=37.00
 [DEBUG] 2017-11-30 20:42:58,916 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,916 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,916 Line:1344 JXLTOOL.setValue 明细表字段Amt=37.00
 [DEBUG] 2017-11-30 20:42:58,916 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=37.00
 [DEBUG] 2017-11-30 20:42:58,917 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,917 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:58,936 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,937 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:58,937 Line:5872 2:2d6dcd1b_1711302042589350107
 [DEBUG] 2017-11-30 20:42:58,937 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:58,937 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:58,937 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:58,938 Line:5872 6:OE0033
 [DEBUG] 2017-11-30 20:42:58,938 Line:5872 7:2017-10-17
 [DEBUG] 2017-11-30 20:42:58,938 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:58,938 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:58,938 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:58,938 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:58,939 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,939 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:58,939 Line:5872 14:37.0
 [DEBUG] 2017-11-30 20:42:58,939 Line:5872 15:37.0
 [DEBUG] 2017-11-30 20:42:58,940 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:58,940 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:58,940 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:58,940 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:58,940 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:58,940 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:58,941 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:58,941 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:58,941 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:58,941 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:58,941 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:58,942 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:58,942 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:58,942 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:58,942 Line:5872 30:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,942 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:58,942 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:58,943 Line:5872 33:2017-11-30 20:42:58
 [DEBUG] 2017-11-30 20:42:58,943 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:58,943 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:58,943 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:58,945 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:58,945 Line:5872 1:2d6dcd1b_1711302042589350107
 [DEBUG] 2017-11-30 20:42:58,945 Line:5872 2:2d6dcd1b_1711302042589440108
 [DEBUG] 2017-11-30 20:42:58,945 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:58,946 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:58,946 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:58,946 Line:5872 6:37.0
 [DEBUG] 2017-11-30 20:42:58,946 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:58,946 Line:5872 8:37.0
 [DEBUG] 2017-11-30 20:42:58,946 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:58,947 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:58,947 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:58,947 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:58,947 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:58,947 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:58,948 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:58,950 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:58,952 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,953 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:58,954 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,954 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:58,955 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,956 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:58,956 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,956 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:58,957 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:58,958 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,958 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:58,958 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,958 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:58,959 Line:988 2值：2d6dcd1b_1711302042589350107
 [DEBUG] 2017-11-30 20:42:58,959 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:58,959 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:58,960 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,960 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,961 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,962 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:58,962 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,962 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:58,963 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,963 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:58,964 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,965 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:58,965 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,965 Line:988 1值：2d6dcd1b_1711302042589350107
 [DEBUG] 2017-11-30 20:42:58,966 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:58,966 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:58,967 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:58,968 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,968 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:58,968 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,969 Line:988 1值：2d6dcd1b_1711302042589350107
 [DEBUG] 2017-11-30 20:42:58,970 Line:1025 query condition columnName:SumDetAmt----value:37.0
 [DEBUG] 2017-11-30 20:42:58,970 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:58,970 Line:313 exeCondition:tblExpense_Add : 37.0 != 37.00
 [DEBUG] 2017-11-30 20:42:58,972 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,972 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:58,972 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,972 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,973 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:58,973 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:58,973 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:58,973 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:58,973 Line:988 6值：37.00
 [DEBUG] 2017-11-30 20:42:58,975 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,976 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:58,977 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:58,977 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:58,977 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:58,978 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:58,978 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:58,979 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:58,980 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:58,980 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:58,980 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:58,980 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:58,981 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:58,982 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:58,983 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:58,983 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:58,993 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0034
 [DEBUG] 2017-11-30 20:42:58,993 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-18
 [DEBUG] 2017-11-30 20:42:58,994 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,994 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:58,995 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:58,995 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:58,995 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:58,995 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:58,996 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:58,996 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:58,996 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:58,996 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:58,997 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:58,997 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:58,997 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4072.00
 [DEBUG] 2017-11-30 20:42:58,998 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4072.00
 [DEBUG] 2017-11-30 20:42:58,998 Line:1344 JXLTOOL.setValue 明细表字段Remark=杭州汀町文化创意有限公司
 [DEBUG] 2017-11-30 20:42:58,998 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:58,998 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:58,999 Line:1344 JXLTOOL.setValue 明细表字段Amt=4072.00
 [DEBUG] 2017-11-30 20:42:58,999 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4072.00
 [DEBUG] 2017-11-30 20:42:58,999 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:58,999 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,021 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,021 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,021 Line:5872 2:2d6dcd1b_1711302042590190109
 [DEBUG] 2017-11-30 20:42:59,022 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,022 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,022 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,022 Line:5872 6:OE0034
 [DEBUG] 2017-11-30 20:42:59,023 Line:5872 7:2017-10-18
 [DEBUG] 2017-11-30 20:42:59,023 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,023 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,023 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,023 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,023 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,024 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,024 Line:5872 14:4072.0
 [DEBUG] 2017-11-30 20:42:59,024 Line:5872 15:4072.0
 [DEBUG] 2017-11-30 20:42:59,024 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,025 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,025 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,025 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,025 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,025 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,025 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,026 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,026 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,026 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,026 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,026 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,027 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,027 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,027 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,027 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,028 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,028 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,028 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,028 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,028 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,031 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,032 Line:5872 1:2d6dcd1b_1711302042590190109
 [DEBUG] 2017-11-30 20:42:59,032 Line:5872 2:2d6dcd1b_1711302042590310110
 [DEBUG] 2017-11-30 20:42:59,032 Line:5872 3:杭州汀町文化创意有限公司
 [DEBUG] 2017-11-30 20:42:59,032 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,032 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,033 Line:5872 6:4072.0
 [DEBUG] 2017-11-30 20:42:59,033 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,033 Line:5872 8:4072.0
 [DEBUG] 2017-11-30 20:42:59,033 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,033 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,033 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,034 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,034 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,034 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,034 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,037 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,038 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,039 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,040 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,041 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,042 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,043 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,043 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,043 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,044 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,044 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,044 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,045 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,045 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,045 Line:988 2值：2d6dcd1b_1711302042590190109
 [DEBUG] 2017-11-30 20:42:59,045 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,046 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,046 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,047 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,048 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,048 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,049 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,049 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,050 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,051 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,052 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,052 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,053 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,053 Line:988 1值：2d6dcd1b_1711302042590190109
 [DEBUG] 2017-11-30 20:42:59,070 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,071 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-11-30 20:42:59,071 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,072 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,072 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,072 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,073 Line:988 1值：2d6dcd1b_1711302042590190109
 [DEBUG] 2017-11-30 20:42:59,090 Line:1025 query condition columnName:SumDetAmt----value:4072.0
 [DEBUG] 2017-11-30 20:42:59,090 Line:1043 ---上述语句时间---18
 [DEBUG] 2017-11-30 20:42:59,090 Line:313 exeCondition:tblExpense_Add : 4072.0 != 4072.00
 [DEBUG] 2017-11-30 20:42:59,092 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,092 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,093 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,093 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,093 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,094 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,094 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,094 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,094 Line:988 6值：4072.00
 [DEBUG] 2017-11-30 20:42:59,097 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:42:59,097 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,099 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,099 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,099 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,100 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,100 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,101 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,101 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,101 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,102 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,102 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,102 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,103 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,150 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,150 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,155 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0035
 [DEBUG] 2017-11-30 20:42:59,155 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-18
 [DEBUG] 2017-11-30 20:42:59,155 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,156 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,156 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,157 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,157 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,157 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,157 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,157 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,158 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,158 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,158 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,158 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,159 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1695.00
 [DEBUG] 2017-11-30 20:42:59,159 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1695.00
 [DEBUG] 2017-11-30 20:42:59,159 Line:1344 JXLTOOL.setValue 明细表字段Remark=邱秀珍
 [DEBUG] 2017-11-30 20:42:59,159 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,160 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,160 Line:1344 JXLTOOL.setValue 明细表字段Amt=1695.00
 [DEBUG] 2017-11-30 20:42:59,160 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1695.00
 [DEBUG] 2017-11-30 20:42:59,161 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,161 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,188 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,188 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,188 Line:5872 2:2d6dcd1b_1711302042591860111
 [DEBUG] 2017-11-30 20:42:59,188 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,189 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,189 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,189 Line:5872 6:OE0035
 [DEBUG] 2017-11-30 20:42:59,189 Line:5872 7:2017-10-18
 [DEBUG] 2017-11-30 20:42:59,190 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,190 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,190 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,190 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,190 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,190 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,191 Line:5872 14:1695.0
 [DEBUG] 2017-11-30 20:42:59,191 Line:5872 15:1695.0
 [DEBUG] 2017-11-30 20:42:59,191 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,191 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,191 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,191 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,192 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,192 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,192 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,192 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,192 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,193 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,193 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,193 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,193 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,193 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,193 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,194 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,194 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,194 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,194 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,194 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,194 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,196 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,196 Line:5872 1:2d6dcd1b_1711302042591860111
 [DEBUG] 2017-11-30 20:42:59,196 Line:5872 2:2d6dcd1b_1711302042591960112
 [DEBUG] 2017-11-30 20:42:59,197 Line:5872 3:邱秀珍
 [DEBUG] 2017-11-30 20:42:59,197 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,197 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,197 Line:5872 6:1695.0
 [DEBUG] 2017-11-30 20:42:59,197 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,197 Line:5872 8:1695.0
 [DEBUG] 2017-11-30 20:42:59,198 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,198 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,198 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,198 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,198 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,198 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,199 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,202 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,204 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,205 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,206 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,207 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,208 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,208 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,209 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,209 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,210 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,211 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,211 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,211 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,212 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,212 Line:988 2值：2d6dcd1b_1711302042591860111
 [DEBUG] 2017-11-30 20:42:59,213 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,214 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,214 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,214 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,216 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,216 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,217 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,217 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,220 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,220 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,222 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,222 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,222 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,223 Line:988 1值：2d6dcd1b_1711302042591860111
 [DEBUG] 2017-11-30 20:42:59,226 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,226 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,226 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,228 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,228 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,228 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,229 Line:988 1值：2d6dcd1b_1711302042591860111
 [DEBUG] 2017-11-30 20:42:59,231 Line:1025 query condition columnName:SumDetAmt----value:1695.0
 [DEBUG] 2017-11-30 20:42:59,231 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,231 Line:313 exeCondition:tblExpense_Add : 1695.0 != 1695.00
 [DEBUG] 2017-11-30 20:42:59,234 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,234 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,234 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,235 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,235 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,235 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,235 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,235 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,236 Line:988 6值：1695.00
 [DEBUG] 2017-11-30 20:42:59,238 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,239 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,240 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,241 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,241 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,241 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,241 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,243 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,243 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,243 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,243 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,244 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,244 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,245 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,246 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,246 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,252 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0036
 [DEBUG] 2017-11-30 20:42:59,252 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-18
 [DEBUG] 2017-11-30 20:42:59,253 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,253 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,254 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,254 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,254 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,254 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,254 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,255 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,255 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,255 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,255 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,256 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,256 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=8250.00
 [DEBUG] 2017-11-30 20:42:59,256 Line:1322 JXLTOOL.setValue 主表字段BillAmt=8250.00
 [DEBUG] 2017-11-30 20:42:59,256 Line:1344 JXLTOOL.setValue 明细表字段Remark=苍南艺乐服饰有限公司
 [DEBUG] 2017-11-30 20:42:59,257 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,257 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,257 Line:1344 JXLTOOL.setValue 明细表字段Amt=8250.00
 [DEBUG] 2017-11-30 20:42:59,258 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=8250.00
 [DEBUG] 2017-11-30 20:42:59,258 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,258 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,279 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,279 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,279 Line:5872 2:2d6dcd1b_1711302042592770113
 [DEBUG] 2017-11-30 20:42:59,280 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,280 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,280 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,280 Line:5872 6:OE0036
 [DEBUG] 2017-11-30 20:42:59,280 Line:5872 7:2017-10-18
 [DEBUG] 2017-11-30 20:42:59,280 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,281 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,281 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,281 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,281 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,281 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,281 Line:5872 14:8250.0
 [DEBUG] 2017-11-30 20:42:59,282 Line:5872 15:8250.0
 [DEBUG] 2017-11-30 20:42:59,282 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,282 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,282 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,282 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,282 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,283 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,284 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,284 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,284 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,284 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,284 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,284 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,285 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,285 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,285 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,286 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,287 Line:5872 1:2d6dcd1b_1711302042592770113
 [DEBUG] 2017-11-30 20:42:59,287 Line:5872 2:2d6dcd1b_1711302042592860114
 [DEBUG] 2017-11-30 20:42:59,287 Line:5872 3:苍南艺乐服饰有限公司
 [DEBUG] 2017-11-30 20:42:59,287 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,287 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,288 Line:5872 6:8250.0
 [DEBUG] 2017-11-30 20:42:59,288 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,288 Line:5872 8:8250.0
 [DEBUG] 2017-11-30 20:42:59,288 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,288 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,288 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,289 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,289 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,289 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,289 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,291 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,293 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,293 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,295 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,295 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,297 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,297 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,297 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,297 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,299 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,299 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,299 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,299 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,300 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,300 Line:988 2值：2d6dcd1b_1711302042592770113
 [DEBUG] 2017-11-30 20:42:59,300 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,301 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,301 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,301 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,303 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,303 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,303 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,303 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,304 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,304 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,306 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,306 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,306 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,306 Line:988 1值：2d6dcd1b_1711302042592770113
 [DEBUG] 2017-11-30 20:42:59,308 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,308 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,308 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,310 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,310 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,310 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,311 Line:988 1值：2d6dcd1b_1711302042592770113
 [DEBUG] 2017-11-30 20:42:59,312 Line:1025 query condition columnName:SumDetAmt----value:8250.0
 [DEBUG] 2017-11-30 20:42:59,313 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,313 Line:313 exeCondition:tblExpense_Add : 8250.0 != 8250.00
 [DEBUG] 2017-11-30 20:42:59,314 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,315 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,315 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,315 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,315 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,316 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,316 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,316 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,316 Line:988 6值：8250.00
 [DEBUG] 2017-11-30 20:42:59,318 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,318 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,319 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,319 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,319 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,320 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,320 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,320 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,321 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,321 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,321 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,321 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,321 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,322 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,322 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,323 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,326 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0037
 [DEBUG] 2017-11-30 20:42:59,326 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-18
 [DEBUG] 2017-11-30 20:42:59,327 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,327 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,327 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,327 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,327 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,327 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,328 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,328 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,328 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,328 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,328 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,329 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,329 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10400.00
 [DEBUG] 2017-11-30 20:42:59,329 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10400.00
 [DEBUG] 2017-11-30 20:42:59,329 Line:1344 JXLTOOL.setValue 明细表字段Remark=北京京顺商标事务所
 [DEBUG] 2017-11-30 20:42:59,329 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,330 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,330 Line:1344 JXLTOOL.setValue 明细表字段Amt=10400.00
 [DEBUG] 2017-11-30 20:42:59,330 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10400.00
 [DEBUG] 2017-11-30 20:42:59,330 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,330 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,350 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,350 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,351 Line:5872 2:2d6dcd1b_1711302042593480115
 [DEBUG] 2017-11-30 20:42:59,351 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,351 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,351 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,351 Line:5872 6:OE0037
 [DEBUG] 2017-11-30 20:42:59,352 Line:5872 7:2017-10-18
 [DEBUG] 2017-11-30 20:42:59,352 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,352 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,352 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,352 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,353 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,353 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,353 Line:5872 14:10400.0
 [DEBUG] 2017-11-30 20:42:59,354 Line:5872 15:10400.0
 [DEBUG] 2017-11-30 20:42:59,354 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,354 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,354 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,354 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,354 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,355 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,355 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,355 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,355 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,355 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,356 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,356 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,356 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,356 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,357 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,357 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,357 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,357 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,357 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,358 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,358 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,369 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,370 Line:5872 1:2d6dcd1b_1711302042593480115
 [DEBUG] 2017-11-30 20:42:59,370 Line:5872 2:2d6dcd1b_1711302042593690116
 [DEBUG] 2017-11-30 20:42:59,370 Line:5872 3:北京京顺商标事务所
 [DEBUG] 2017-11-30 20:42:59,370 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,371 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,371 Line:5872 6:10400.0
 [DEBUG] 2017-11-30 20:42:59,371 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,371 Line:5872 8:10400.0
 [DEBUG] 2017-11-30 20:42:59,371 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,372 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,372 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,372 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,372 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,372 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,372 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,376 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,378 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,379 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,380 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,381 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,383 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,384 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,384 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,384 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,386 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,386 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,386 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,387 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,387 Line:988 2值：2d6dcd1b_1711302042593480115
 [DEBUG] 2017-11-30 20:42:59,387 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,388 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,389 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,389 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,390 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,391 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,391 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,391 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,393 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,393 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,395 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,395 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,395 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,396 Line:988 1值：2d6dcd1b_1711302042593480115
 [DEBUG] 2017-11-30 20:42:59,397 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,398 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,398 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,400 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,400 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,400 Line:988 1值：2d6dcd1b_1711302042593480115
 [DEBUG] 2017-11-30 20:42:59,403 Line:1025 query condition columnName:SumDetAmt----value:10400.0
 [DEBUG] 2017-11-30 20:42:59,404 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,404 Line:313 exeCondition:tblExpense_Add : 10400.0 != 10400.00
 [DEBUG] 2017-11-30 20:42:59,406 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,406 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,406 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,406 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,407 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,407 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,407 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,407 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,408 Line:988 6值：10400.00
 [DEBUG] 2017-11-30 20:42:59,409 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,409 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,411 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,411 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,411 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,411 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,411 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,412 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,412 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,412 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,412 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,412 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,413 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,414 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,414 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,414 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,417 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0038
 [DEBUG] 2017-11-30 20:42:59,417 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-18
 [DEBUG] 2017-11-30 20:42:59,417 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,417 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,418 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,418 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,418 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,418 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,419 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,419 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,419 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,419 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,419 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,419 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,420 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=41000.00
 [DEBUG] 2017-11-30 20:42:59,420 Line:1322 JXLTOOL.setValue 主表字段BillAmt=41000.00
 [DEBUG] 2017-11-30 20:42:59,420 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:42:59,420 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,420 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,421 Line:1344 JXLTOOL.setValue 明细表字段Amt=41000.00
 [DEBUG] 2017-11-30 20:42:59,421 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=41000.00
 [DEBUG] 2017-11-30 20:42:59,421 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,421 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,438 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,438 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 2:2d6dcd1b_1711302042594370117
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 6:OE0038
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 7:2017-10-18
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,439 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 14:41000.0
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 15:41000.0
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,440 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,441 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,442 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,443 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,443 Line:5872 1:2d6dcd1b_1711302042594370117
 [DEBUG] 2017-11-30 20:42:59,443 Line:5872 2:2d6dcd1b_1711302042594430118
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 6:41000.0
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 8:41000.0
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,444 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,445 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,445 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,445 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,445 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,446 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,448 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,448 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,449 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,449 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,450 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,450 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,450 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,451 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,451 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,451 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,452 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,452 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,452 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,452 Line:988 2值：2d6dcd1b_1711302042594370117
 [DEBUG] 2017-11-30 20:42:59,452 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,453 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,453 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,453 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,454 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,454 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,454 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,454 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,455 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,455 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,456 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,457 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,457 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,457 Line:988 1值：2d6dcd1b_1711302042594370117
 [DEBUG] 2017-11-30 20:42:59,458 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,458 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,458 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,459 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,459 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,460 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,460 Line:988 1值：2d6dcd1b_1711302042594370117
 [DEBUG] 2017-11-30 20:42:59,461 Line:1025 query condition columnName:SumDetAmt----value:41000.0
 [DEBUG] 2017-11-30 20:42:59,461 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,462 Line:313 exeCondition:tblExpense_Add : 41000.0 != 41000.00
 [DEBUG] 2017-11-30 20:42:59,463 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,463 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,463 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,463 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,464 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,464 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,464 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,464 Line:988 6值：41000.00
 [DEBUG] 2017-11-30 20:42:59,465 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,466 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,467 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,467 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,467 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,467 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,468 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,468 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,468 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,468 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,469 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,469 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,470 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,470 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,470 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,473 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0039
 [DEBUG] 2017-11-30 20:42:59,473 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-19
 [DEBUG] 2017-11-30 20:42:59,473 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,474 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,474 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,474 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,474 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,474 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,475 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=8.00
 [DEBUG] 2017-11-30 20:42:59,476 Line:1322 JXLTOOL.setValue 主表字段BillAmt=8.00
 [DEBUG] 2017-11-30 20:42:59,476 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,476 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,476 Line:1344 JXLTOOL.setValue 明细表字段Amt=8.00
 [DEBUG] 2017-11-30 20:42:59,477 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=8.00
 [DEBUG] 2017-11-30 20:42:59,477 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,477 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,496 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,497 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,497 Line:5872 2:2d6dcd1b_1711302042594940119
 [DEBUG] 2017-11-30 20:42:59,497 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,497 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,498 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,498 Line:5872 6:OE0039
 [DEBUG] 2017-11-30 20:42:59,498 Line:5872 7:2017-10-19
 [DEBUG] 2017-11-30 20:42:59,498 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,498 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,499 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,499 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,499 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,499 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,499 Line:5872 14:8.0
 [DEBUG] 2017-11-30 20:42:59,499 Line:5872 15:8.0
 [DEBUG] 2017-11-30 20:42:59,500 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,500 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,500 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,500 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,500 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,500 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,501 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,501 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,501 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,501 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,501 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,502 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,502 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,502 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,502 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,502 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,502 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,503 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,503 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,503 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,503 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,505 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,506 Line:5872 1:2d6dcd1b_1711302042594940119
 [DEBUG] 2017-11-30 20:42:59,506 Line:5872 2:2d6dcd1b_1711302042595050120
 [DEBUG] 2017-11-30 20:42:59,506 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:59,507 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,507 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,507 Line:5872 6:8.0
 [DEBUG] 2017-11-30 20:42:59,507 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,507 Line:5872 8:8.0
 [DEBUG] 2017-11-30 20:42:59,508 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,508 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,508 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,508 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,509 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,509 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,509 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,514 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,515 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,516 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,518 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,518 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,520 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,520 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,520 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,520 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,522 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,522 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,523 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,523 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,523 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,524 Line:988 2值：2d6dcd1b_1711302042594940119
 [DEBUG] 2017-11-30 20:42:59,524 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,525 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,525 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,525 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,527 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,527 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,528 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,528 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,529 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,529 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,530 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,531 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,531 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,531 Line:988 1值：2d6dcd1b_1711302042594940119
 [DEBUG] 2017-11-30 20:42:59,545 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,546 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:42:59,546 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,547 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,547 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,548 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,548 Line:988 1值：2d6dcd1b_1711302042594940119
 [DEBUG] 2017-11-30 20:42:59,568 Line:1025 query condition columnName:SumDetAmt----value:8.0
 [DEBUG] 2017-11-30 20:42:59,568 Line:1043 ---上述语句时间---21
 [DEBUG] 2017-11-30 20:42:59,568 Line:313 exeCondition:tblExpense_Add : 8.0 != 8.00
 [DEBUG] 2017-11-30 20:42:59,569 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,570 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,570 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,570 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,570 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,571 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,571 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,571 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,571 Line:988 6值：8.00
 [DEBUG] 2017-11-30 20:42:59,573 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,573 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,575 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,575 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,575 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,576 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,576 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,577 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,577 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,577 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,577 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,577 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,578 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,579 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,579 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,579 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,583 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045779580
 [DEBUG] 2017-11-30 20:42:59,583 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0040
 [DEBUG] 2017-11-30 20:42:59,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045779580,];
 [DEBUG] 2017-11-30 20:42:59,584 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-19
 [DEBUG] 2017-11-30 20:42:59,584 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,584 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,585 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,585 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,585 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,586 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,586 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,586 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,587 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,587 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,587 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,587 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,587 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20.00
 [DEBUG] 2017-11-30 20:42:59,588 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20.00
 [DEBUG] 2017-11-30 20:42:59,588 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,588 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,588 Line:1344 JXLTOOL.setValue 明细表字段Amt=20.00
 [DEBUG] 2017-11-30 20:42:59,589 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20.00
 [DEBUG] 2017-11-30 20:42:59,589 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,589 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,610 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,610 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,610 Line:5872 2:2d6dcd1b_1711302042596090121
 [DEBUG] 2017-11-30 20:42:59,611 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,611 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,611 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,611 Line:5872 6:OE0040
 [DEBUG] 2017-11-30 20:42:59,611 Line:5872 7:2017-10-19
 [DEBUG] 2017-11-30 20:42:59,611 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,612 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,612 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,612 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,612 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,612 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,612 Line:5872 14:20.0
 [DEBUG] 2017-11-30 20:42:59,613 Line:5872 15:20.0
 [DEBUG] 2017-11-30 20:42:59,613 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,613 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,613 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,613 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,613 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,614 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,614 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,614 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,614 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,614 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,615 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,615 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,615 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,615 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,615 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,615 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,616 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,616 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,616 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,616 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,616 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,618 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,618 Line:5872 1:2d6dcd1b_1711302042596090121
 [DEBUG] 2017-11-30 20:42:59,618 Line:5872 2:2d6dcd1b_1711302042596180122
 [DEBUG] 2017-11-30 20:42:59,619 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:59,619 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,619 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,619 Line:5872 6:20.0
 [DEBUG] 2017-11-30 20:42:59,619 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,620 Line:5872 8:20.0
 [DEBUG] 2017-11-30 20:42:59,620 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,620 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,620 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,620 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,620 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,621 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,621 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,624 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,625 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,626 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,627 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,627 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,629 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,629 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,629 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,630 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,631 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,631 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,631 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,632 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,632 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,632 Line:988 2值：2d6dcd1b_1711302042596090121
 [DEBUG] 2017-11-30 20:42:59,632 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,633 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,634 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,634 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,635 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,636 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,636 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,636 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,637 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,638 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,639 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,640 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,640 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,640 Line:988 1值：2d6dcd1b_1711302042596090121
 [DEBUG] 2017-11-30 20:42:59,641 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,642 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,642 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,643 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,644 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,644 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,644 Line:988 1值：2d6dcd1b_1711302042596090121
 [DEBUG] 2017-11-30 20:42:59,645 Line:1025 query condition columnName:SumDetAmt----value:20.0
 [DEBUG] 2017-11-30 20:42:59,646 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,646 Line:313 exeCondition:tblExpense_Add : 20.0 != 20.00
 [DEBUG] 2017-11-30 20:42:59,647 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,648 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,648 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,648 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,648 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,649 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,649 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,649 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,649 Line:988 6值：20.00
 [DEBUG] 2017-11-30 20:42:59,651 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,651 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,653 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,653 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,653 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,654 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,654 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,655 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,656 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,656 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,656 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,656 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,657 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,658 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,658 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,659 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,664 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0041
 [DEBUG] 2017-11-30 20:42:59,665 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-19
 [DEBUG] 2017-11-30 20:42:59,665 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,665 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,666 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,666 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,666 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,667 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,667 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,667 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,668 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,668 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,668 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,668 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,668 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.00
 [DEBUG] 2017-11-30 20:42:59,669 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.00
 [DEBUG] 2017-11-30 20:42:59,669 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,669 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,669 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.00
 [DEBUG] 2017-11-30 20:42:59,669 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.00
 [DEBUG] 2017-11-30 20:42:59,670 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,670 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,693 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,693 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,693 Line:5872 2:2d6dcd1b_1711302042596910123
 [DEBUG] 2017-11-30 20:42:59,693 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,694 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,694 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,694 Line:5872 6:OE0041
 [DEBUG] 2017-11-30 20:42:59,694 Line:5872 7:2017-10-19
 [DEBUG] 2017-11-30 20:42:59,694 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,694 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,695 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,695 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,695 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,695 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,695 Line:5872 14:1.0
 [DEBUG] 2017-11-30 20:42:59,695 Line:5872 15:1.0
 [DEBUG] 2017-11-30 20:42:59,696 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,696 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,696 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,696 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,696 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,696 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,697 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,697 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,697 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,697 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,697 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,697 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,698 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,698 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,698 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,698 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,698 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,698 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,699 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,699 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,699 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,701 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,701 Line:5872 1:2d6dcd1b_1711302042596910123
 [DEBUG] 2017-11-30 20:42:59,701 Line:5872 2:2d6dcd1b_1711302042597010124
 [DEBUG] 2017-11-30 20:42:59,701 Line:5872 3:
 [DEBUG] 2017-11-30 20:42:59,702 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,702 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,702 Line:5872 6:1.0
 [DEBUG] 2017-11-30 20:42:59,702 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,702 Line:5872 8:1.0
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,703 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,706 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,708 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,708 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,710 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,710 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,711 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,712 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,712 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,712 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,714 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,714 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,714 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,715 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,715 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,715 Line:988 2值：2d6dcd1b_1711302042596910123
 [DEBUG] 2017-11-30 20:42:59,715 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,717 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,717 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,717 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,719 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,719 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,719 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,719 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,721 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,721 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,723 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,723 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,723 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,724 Line:988 1值：2d6dcd1b_1711302042596910123
 [DEBUG] 2017-11-30 20:42:59,726 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,726 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,726 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,728 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,728 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,728 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,729 Line:988 1值：2d6dcd1b_1711302042596910123
 [DEBUG] 2017-11-30 20:42:59,730 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-11-30 20:42:59,731 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,731 Line:313 exeCondition:tblExpense_Add : 1.0 != 1.00
 [DEBUG] 2017-11-30 20:42:59,733 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,733 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,733 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,734 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,734 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,734 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,734 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,734 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,735 Line:988 6值：1.00
 [DEBUG] 2017-11-30 20:42:59,743 Line:1043 ---上述语句时间---10
 [DEBUG] 2017-11-30 20:42:59,744 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,745 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,746 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,746 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,746 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,746 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,748 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,748 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,748 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,748 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,749 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,749 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,750 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,751 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,751 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,754 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0042
 [DEBUG] 2017-11-30 20:42:59,755 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:42:59,755 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,755 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,756 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,757 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,758 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,758 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,758 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,758 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,759 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,759 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,759 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,759 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,760 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20942.00
 [DEBUG] 2017-11-30 20:42:59,760 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20942.00
 [DEBUG] 2017-11-30 20:42:59,760 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市住房公积金管理中心结算户
 [DEBUG] 2017-11-30 20:42:59,761 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,761 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,761 Line:1344 JXLTOOL.setValue 明细表字段Amt=20942.00
 [DEBUG] 2017-11-30 20:42:59,762 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20942.00
 [DEBUG] 2017-11-30 20:42:59,762 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,762 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,785 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,786 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,786 Line:5872 2:2d6dcd1b_1711302042597830125
 [DEBUG] 2017-11-30 20:42:59,786 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,786 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,787 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,787 Line:5872 6:OE0042
 [DEBUG] 2017-11-30 20:42:59,787 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:42:59,787 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,787 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,787 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,788 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,788 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,788 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,788 Line:5872 14:20942.0
 [DEBUG] 2017-11-30 20:42:59,788 Line:5872 15:20942.0
 [DEBUG] 2017-11-30 20:42:59,788 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,789 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,789 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,789 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,789 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,789 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,789 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,790 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,790 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,790 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,790 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,790 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,790 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,791 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,791 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,791 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,791 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,791 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,791 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,792 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,792 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,794 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,794 Line:5872 1:2d6dcd1b_1711302042597830125
 [DEBUG] 2017-11-30 20:42:59,794 Line:5872 2:2d6dcd1b_1711302042597940126
 [DEBUG] 2017-11-30 20:42:59,794 Line:5872 3:东莞市住房公积金管理中心结算户
 [DEBUG] 2017-11-30 20:42:59,795 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,795 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,795 Line:5872 6:20942.0
 [DEBUG] 2017-11-30 20:42:59,795 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,795 Line:5872 8:20942.0
 [DEBUG] 2017-11-30 20:42:59,795 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,796 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,796 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,796 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,796 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,796 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,796 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,798 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,800 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,800 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,802 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,802 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,803 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,804 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,804 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,805 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,805 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:42:59,806 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,806 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,806 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,807 Line:988 2值：2d6dcd1b_1711302042597830125
 [DEBUG] 2017-11-30 20:42:59,807 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,808 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,808 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,808 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,810 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,810 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,810 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,811 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,812 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,812 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,814 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,814 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,814 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,814 Line:988 1值：2d6dcd1b_1711302042597830125
 [DEBUG] 2017-11-30 20:42:59,816 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,816 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,816 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,817 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,818 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,818 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,818 Line:988 1值：2d6dcd1b_1711302042597830125
 [DEBUG] 2017-11-30 20:42:59,820 Line:1025 query condition columnName:SumDetAmt----value:20942.0
 [DEBUG] 2017-11-30 20:42:59,820 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,820 Line:313 exeCondition:tblExpense_Add : 20942.0 != 20942.00
 [DEBUG] 2017-11-30 20:42:59,822 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,822 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,822 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,823 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,823 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,823 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,823 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,823 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,824 Line:988 6值：20942.00
 [DEBUG] 2017-11-30 20:42:59,826 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,826 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,828 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,828 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,828 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,829 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,829 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,830 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,830 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,830 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,830 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,831 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,831 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,832 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,833 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,833 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,836 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0043
 [DEBUG] 2017-11-30 20:42:59,837 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:42:59,837 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,837 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,838 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,838 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,838 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,839 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,839 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,839 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,839 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,840 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,840 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,840 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,840 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10611.16
 [DEBUG] 2017-11-30 20:42:59,841 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10611.16
 [DEBUG] 2017-11-30 20:42:59,841 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:42:59,841 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,841 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,841 Line:1344 JXLTOOL.setValue 明细表字段Amt=10611.16
 [DEBUG] 2017-11-30 20:42:59,842 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10611.16
 [DEBUG] 2017-11-30 20:42:59,842 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,842 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,866 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,867 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,867 Line:5872 2:2d6dcd1b_1711302042598640127
 [DEBUG] 2017-11-30 20:42:59,867 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,867 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,867 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,868 Line:5872 6:OE0043
 [DEBUG] 2017-11-30 20:42:59,868 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:42:59,868 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,868 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,868 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,869 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,869 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,869 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,869 Line:5872 14:10611.16
 [DEBUG] 2017-11-30 20:42:59,869 Line:5872 15:10611.16
 [DEBUG] 2017-11-30 20:42:59,869 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,870 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,870 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,870 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,870 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,870 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,870 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,871 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,871 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,871 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,871 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,871 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,871 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,872 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,872 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,872 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,872 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,872 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,873 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,873 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,873 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,875 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,876 Line:5872 1:2d6dcd1b_1711302042598640127
 [DEBUG] 2017-11-30 20:42:59,876 Line:5872 2:2d6dcd1b_1711302042598750128
 [DEBUG] 2017-11-30 20:42:59,876 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:42:59,876 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,876 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,876 Line:5872 6:10611.16
 [DEBUG] 2017-11-30 20:42:59,877 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,877 Line:5872 8:10611.16
 [DEBUG] 2017-11-30 20:42:59,877 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,877 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,877 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,877 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,878 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,878 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,878 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,881 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,882 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,883 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,884 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,885 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,886 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,886 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,886 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,887 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,888 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,889 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,889 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,889 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,890 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,890 Line:988 2值：2d6dcd1b_1711302042598640127
 [DEBUG] 2017-11-30 20:42:59,890 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,891 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,892 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,892 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,894 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,894 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,894 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,894 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,896 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,896 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,898 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,898 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,898 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,899 Line:988 1值：2d6dcd1b_1711302042598640127
 [DEBUG] 2017-11-30 20:42:59,900 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,900 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,901 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,902 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,902 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,903 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,903 Line:988 1值：2d6dcd1b_1711302042598640127
 [DEBUG] 2017-11-30 20:42:59,905 Line:1025 query condition columnName:SumDetAmt----value:10611.16
 [DEBUG] 2017-11-30 20:42:59,906 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,906 Line:313 exeCondition:tblExpense_Add : 10611.16 != 10611.16
 [DEBUG] 2017-11-30 20:42:59,907 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,908 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:42:59,908 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,908 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,908 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:42:59,909 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:42:59,909 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:42:59,909 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:42:59,909 Line:988 6值：10611.16
 [DEBUG] 2017-11-30 20:42:59,912 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:42:59,912 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:42:59,914 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,914 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:42:59,915 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,915 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:42:59,915 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:42:59,916 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:42:59,917 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:42:59,917 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:42:59,917 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:42:59,917 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,917 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:42:59,919 Line:321 flag:true
 [DEBUG] 2017-11-30 20:42:59,919 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:42:59,920 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:42:59,923 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0044
 [DEBUG] 2017-11-30 20:42:59,924 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:42:59,924 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,925 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:42:59,925 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:42:59,925 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:42:59,926 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:42:59,926 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:42:59,926 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:42:59,926 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:42:59,927 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:42:59,927 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,927 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:42:59,927 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:42:59,928 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=33146.09
 [DEBUG] 2017-11-30 20:42:59,928 Line:1322 JXLTOOL.setValue 主表字段BillAmt=33146.09
 [DEBUG] 2017-11-30 20:42:59,928 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:42:59,928 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:42:59,929 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:42:59,929 Line:1344 JXLTOOL.setValue 明细表字段Amt=33146.09
 [DEBUG] 2017-11-30 20:42:59,929 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=33146.09
 [DEBUG] 2017-11-30 20:42:59,929 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:42:59,929 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:42:59,951 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,951 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:42:59,951 Line:5872 2:2d6dcd1b_1711302042599490129
 [DEBUG] 2017-11-30 20:42:59,951 Line:5872 3:0
 [DEBUG] 2017-11-30 20:42:59,952 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:42:59,952 Line:5872 5:0
 [DEBUG] 2017-11-30 20:42:59,952 Line:5872 6:OE0044
 [DEBUG] 2017-11-30 20:42:59,952 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:42:59,952 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:42:59,953 Line:5872 9:1
 [DEBUG] 2017-11-30 20:42:59,953 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:42:59,953 Line:5872 11:
 [DEBUG] 2017-11-30 20:42:59,953 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:42:59,953 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:42:59,953 Line:5872 14:33146.09
 [DEBUG] 2017-11-30 20:42:59,954 Line:5872 15:33146.09
 [DEBUG] 2017-11-30 20:42:59,954 Line:5872 16:
 [DEBUG] 2017-11-30 20:42:59,954 Line:5872 17:
 [DEBUG] 2017-11-30 20:42:59,954 Line:5872 18:
 [DEBUG] 2017-11-30 20:42:59,954 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:42:59,954 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:42:59,955 Line:5872 21:10
 [DEBUG] 2017-11-30 20:42:59,955 Line:5872 22:10
 [DEBUG] 2017-11-30 20:42:59,956 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:42:59,956 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:42:59,956 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:42:59,956 Line:5872 26:
 [DEBUG] 2017-11-30 20:42:59,956 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:42:59,956 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:42:59,957 Line:5872 29:1
 [DEBUG] 2017-11-30 20:42:59,957 Line:5872 30:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,957 Line:5872 31:
 [DEBUG] 2017-11-30 20:42:59,957 Line:5872 32:1
 [DEBUG] 2017-11-30 20:42:59,957 Line:5872 33:2017-11-30 20:42:59
 [DEBUG] 2017-11-30 20:42:59,957 Line:5872 34:0
 [DEBUG] 2017-11-30 20:42:59,958 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:42:59,958 Line:5872 36:0
 [DEBUG] 2017-11-30 20:42:59,959 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:42:59,959 Line:5872 1:2d6dcd1b_1711302042599490129
 [DEBUG] 2017-11-30 20:42:59,959 Line:5872 2:2d6dcd1b_1711302042599590130
 [DEBUG] 2017-11-30 20:42:59,959 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 4:
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 5:
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 6:33146.09
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 8:33146.09
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 9:
 [DEBUG] 2017-11-30 20:42:59,960 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:42:59,961 Line:5872 11:1
 [DEBUG] 2017-11-30 20:42:59,961 Line:5872 12:0
 [DEBUG] 2017-11-30 20:42:59,961 Line:5872 13:
 [DEBUG] 2017-11-30 20:42:59,961 Line:5872 14:
 [DEBUG] 2017-11-30 20:42:59,961 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:42:59,964 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:42:59,965 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,966 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:42:59,967 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,968 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:42:59,969 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,969 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:42:59,969 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,970 Line:988 1值：1
 [DEBUG] 2017-11-30 20:42:59,971 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:42:59,971 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,971 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:42:59,972 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,972 Line:988 1值：false
 [DEBUG] 2017-11-30 20:42:59,972 Line:988 2值：2d6dcd1b_1711302042599490129
 [DEBUG] 2017-11-30 20:42:59,972 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:42:59,973 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:42:59,974 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:42:59,974 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,975 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,976 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:42:59,976 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,976 Line:988 1值：
 [DEBUG] 2017-11-30 20:42:59,978 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:42:59,978 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:42:59,979 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,980 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:42:59,980 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,980 Line:988 1值：2d6dcd1b_1711302042599490129
 [DEBUG] 2017-11-30 20:42:59,996 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:42:59,996 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:42:59,996 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:42:59,997 Line:321 flag:false
 [DEBUG] 2017-11-30 20:42:59,997 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:42:59,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:42:59,998 Line:988 1值：2d6dcd1b_1711302042599490129
 [DEBUG] 2017-11-30 20:43:00,017 Line:1025 query condition columnName:SumDetAmt----value:33146.09
 [DEBUG] 2017-11-30 20:43:00,017 Line:1043 ---上述语句时间---20
 [DEBUG] 2017-11-30 20:43:00,017 Line:313 exeCondition:tblExpense_Add : 33146.09 != 33146.09
 [DEBUG] 2017-11-30 20:43:00,018 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,018 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,019 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,019 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,019 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,019 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,019 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,019 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,019 Line:988 6值：33146.09
 [DEBUG] 2017-11-30 20:43:00,021 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,021 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,022 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,022 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,022 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,023 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,023 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,024 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,024 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,024 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,024 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,024 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,024 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,026 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,026 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,026 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,029 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0045
 [DEBUG] 2017-11-30 20:43:00,029 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,029 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,029 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,030 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,031 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,031 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,031 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,031 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5482.50
 [DEBUG] 2017-11-30 20:43:00,031 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5482.50
 [DEBUG] 2017-11-30 20:43:00,031 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:00,032 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,032 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,032 Line:1344 JXLTOOL.setValue 明细表字段Amt=5482.50
 [DEBUG] 2017-11-30 20:43:00,032 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5482.50
 [DEBUG] 2017-11-30 20:43:00,032 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,033 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,048 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,048 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,048 Line:5872 2:2d6dcd1b_1711302043000470131
 [DEBUG] 2017-11-30 20:43:00,048 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,048 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,048 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,048 Line:5872 6:OE0045
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 14:5482.5
 [DEBUG] 2017-11-30 20:43:00,049 Line:5872 15:5482.5
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,050 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,051 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,052 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,052 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,053 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 1:2d6dcd1b_1711302043000470131
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 2:2d6dcd1b_1711302043000520132
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 6:5482.5
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,053 Line:5872 8:5482.5
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,054 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,056 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,057 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,057 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,058 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,058 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,059 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,059 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,059 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,059 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,060 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,060 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,060 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,060 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,061 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,061 Line:988 2值：2d6dcd1b_1711302043000470131
 [DEBUG] 2017-11-30 20:43:00,061 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,061 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,062 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,062 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,063 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,063 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,063 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,063 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,064 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,064 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,065 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,065 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,066 Line:988 1值：2d6dcd1b_1711302043000470131
 [DEBUG] 2017-11-30 20:43:00,066 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,067 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,067 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,068 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,068 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,068 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,069 Line:988 1值：2d6dcd1b_1711302043000470131
 [DEBUG] 2017-11-30 20:43:00,070 Line:1025 query condition columnName:SumDetAmt----value:5482.5
 [DEBUG] 2017-11-30 20:43:00,070 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,070 Line:313 exeCondition:tblExpense_Add : 5482.5 != 5482.50
 [DEBUG] 2017-11-30 20:43:00,071 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,072 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,072 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,072 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,072 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,073 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,073 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,073 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,073 Line:988 6值：5482.50
 [DEBUG] 2017-11-30 20:43:00,075 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,075 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,076 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,076 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,077 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,077 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,077 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,078 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,079 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,079 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,079 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,079 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,080 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,081 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,082 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,082 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,088 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0046
 [DEBUG] 2017-11-30 20:43:00,089 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,089 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,089 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,090 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,090 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,090 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,090 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,091 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,091 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,091 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,091 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,092 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,092 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,092 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=972.00
 [DEBUG] 2017-11-30 20:43:00,092 Line:1322 JXLTOOL.setValue 主表字段BillAmt=972.00
 [DEBUG] 2017-11-30 20:43:00,093 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市加鹏货运服务有限公司
 [DEBUG] 2017-11-30 20:43:00,093 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,093 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,093 Line:1344 JXLTOOL.setValue 明细表字段Amt=972.00
 [DEBUG] 2017-11-30 20:43:00,094 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=972.00
 [DEBUG] 2017-11-30 20:43:00,094 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,094 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,115 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,116 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,116 Line:5872 2:2d6dcd1b_1711302043001140133
 [DEBUG] 2017-11-30 20:43:00,116 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,116 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,116 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,117 Line:5872 6:OE0046
 [DEBUG] 2017-11-30 20:43:00,117 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,117 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,117 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,117 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,117 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,118 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,118 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,118 Line:5872 14:972.0
 [DEBUG] 2017-11-30 20:43:00,118 Line:5872 15:972.0
 [DEBUG] 2017-11-30 20:43:00,118 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,118 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,119 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,119 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,119 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,119 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,119 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,119 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,120 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,120 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,120 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,120 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,120 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,120 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,121 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,121 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,121 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,121 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,121 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,121 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,122 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,124 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,124 Line:5872 1:2d6dcd1b_1711302043001140133
 [DEBUG] 2017-11-30 20:43:00,124 Line:5872 2:2d6dcd1b_1711302043001230134
 [DEBUG] 2017-11-30 20:43:00,124 Line:5872 3:东莞市加鹏货运服务有限公司
 [DEBUG] 2017-11-30 20:43:00,124 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,125 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,125 Line:5872 6:972.0
 [DEBUG] 2017-11-30 20:43:00,125 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,125 Line:5872 8:972.0
 [DEBUG] 2017-11-30 20:43:00,125 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,125 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,126 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,126 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,126 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,126 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,126 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,131 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,132 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,133 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,134 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,134 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,135 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,135 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,135 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,135 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,136 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,136 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,137 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,137 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,137 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,137 Line:988 2值：2d6dcd1b_1711302043001140133
 [DEBUG] 2017-11-30 20:43:00,138 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,139 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,139 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,139 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,141 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,141 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,141 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,142 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,143 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,143 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,145 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,145 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,146 Line:988 1值：2d6dcd1b_1711302043001140133
 [DEBUG] 2017-11-30 20:43:00,147 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,148 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,148 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,149 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,150 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,150 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,150 Line:988 1值：2d6dcd1b_1711302043001140133
 [DEBUG] 2017-11-30 20:43:00,152 Line:1025 query condition columnName:SumDetAmt----value:972.0
 [DEBUG] 2017-11-30 20:43:00,152 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,152 Line:313 exeCondition:tblExpense_Add : 972.0 != 972.00
 [DEBUG] 2017-11-30 20:43:00,154 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,154 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,155 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,155 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,155 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,155 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,155 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,156 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,157 Line:988 6值：972.00
 [DEBUG] 2017-11-30 20:43:00,159 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:00,159 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,160 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,160 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,161 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,161 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,161 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,162 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,162 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,162 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,162 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,162 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,162 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,163 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,164 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,164 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,166 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0047
 [DEBUG] 2017-11-30 20:43:00,166 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,167 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,167 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,167 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,167 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,167 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,167 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,168 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,168 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,168 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,168 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,168 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,169 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,169 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=90028.84
 [DEBUG] 2017-11-30 20:43:00,169 Line:1322 JXLTOOL.setValue 主表字段BillAmt=90028.84
 [DEBUG] 2017-11-30 20:43:00,169 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:00,169 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,169 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,170 Line:1344 JXLTOOL.setValue 明细表字段Amt=90028.84
 [DEBUG] 2017-11-30 20:43:00,170 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=90028.84
 [DEBUG] 2017-11-30 20:43:00,170 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,170 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,184 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,184 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,184 Line:5872 2:2d6dcd1b_1711302043001830135
 [DEBUG] 2017-11-30 20:43:00,185 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,185 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,185 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,185 Line:5872 6:OE0047
 [DEBUG] 2017-11-30 20:43:00,185 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,185 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 14:90028.84
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 15:90028.84
 [DEBUG] 2017-11-30 20:43:00,186 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,187 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,188 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,189 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,190 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,190 Line:5872 1:2d6dcd1b_1711302043001830135
 [DEBUG] 2017-11-30 20:43:00,190 Line:5872 2:2d6dcd1b_1711302043001890136
 [DEBUG] 2017-11-30 20:43:00,190 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:00,190 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,190 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 6:90028.84
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 8:90028.84
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,191 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,192 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,193 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,194 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,194 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,195 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,196 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,197 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,197 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,197 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,197 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,198 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,198 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,199 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,199 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,199 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,199 Line:988 2值：2d6dcd1b_1711302043001830135
 [DEBUG] 2017-11-30 20:43:00,199 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,200 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,200 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,201 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,202 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,202 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,202 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,202 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,203 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,204 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,205 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,206 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,206 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,206 Line:988 1值：2d6dcd1b_1711302043001830135
 [DEBUG] 2017-11-30 20:43:00,207 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,207 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,208 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,209 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,209 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,209 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,209 Line:988 1值：2d6dcd1b_1711302043001830135
 [DEBUG] 2017-11-30 20:43:00,210 Line:1025 query condition columnName:SumDetAmt----value:90028.84
 [DEBUG] 2017-11-30 20:43:00,211 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,211 Line:313 exeCondition:tblExpense_Add : 90028.84 != 90028.84
 [DEBUG] 2017-11-30 20:43:00,212 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,212 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,212 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,213 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,213 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,213 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,213 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,213 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,213 Line:988 6值：90028.84
 [DEBUG] 2017-11-30 20:43:00,215 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,216 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,217 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,217 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,217 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,218 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,218 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,219 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,219 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,220 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,220 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,220 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,220 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,222 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,222 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,223 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,226 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0048
 [DEBUG] 2017-11-30 20:43:00,227 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,227 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,227 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,228 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,228 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,229 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,229 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,229 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,229 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,230 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,230 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,230 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,230 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,231 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=273000.00
 [DEBUG] 2017-11-30 20:43:00,231 Line:1322 JXLTOOL.setValue 主表字段BillAmt=273000.00
 [DEBUG] 2017-11-30 20:43:00,231 Line:1344 JXLTOOL.setValue 明细表字段Remark=江苏东方能源有限公司
 [DEBUG] 2017-11-30 20:43:00,231 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,231 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,232 Line:1344 JXLTOOL.setValue 明细表字段Amt=273000.00
 [DEBUG] 2017-11-30 20:43:00,232 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=273000.00
 [DEBUG] 2017-11-30 20:43:00,232 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,232 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,253 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,254 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,254 Line:5872 2:2d6dcd1b_1711302043002520137
 [DEBUG] 2017-11-30 20:43:00,254 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,254 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,254 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,255 Line:5872 6:OE0048
 [DEBUG] 2017-11-30 20:43:00,255 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,255 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,255 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,255 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,255 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,256 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,256 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,256 Line:5872 14:273000.0
 [DEBUG] 2017-11-30 20:43:00,256 Line:5872 15:273000.0
 [DEBUG] 2017-11-30 20:43:00,257 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,257 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,257 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,257 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,257 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,257 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,258 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,258 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,258 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,258 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,258 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,258 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,259 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,260 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,260 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,262 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,262 Line:5872 1:2d6dcd1b_1711302043002520137
 [DEBUG] 2017-11-30 20:43:00,262 Line:5872 2:2d6dcd1b_1711302043002620138
 [DEBUG] 2017-11-30 20:43:00,262 Line:5872 3:江苏东方能源有限公司
 [DEBUG] 2017-11-30 20:43:00,262 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,263 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,263 Line:5872 6:273000.0
 [DEBUG] 2017-11-30 20:43:00,263 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,263 Line:5872 8:273000.0
 [DEBUG] 2017-11-30 20:43:00,263 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,264 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,264 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,264 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,264 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,264 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,264 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,267 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,269 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,269 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,271 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,271 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,273 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,273 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,273 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,274 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,275 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,275 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,276 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,276 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,276 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,277 Line:988 2值：2d6dcd1b_1711302043002520137
 [DEBUG] 2017-11-30 20:43:00,277 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,278 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,278 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,279 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,280 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,280 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,281 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,283 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,283 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,285 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,285 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,285 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,286 Line:988 1值：2d6dcd1b_1711302043002520137
 [DEBUG] 2017-11-30 20:43:00,287 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,287 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,288 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,289 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,290 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,290 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,290 Line:988 1值：2d6dcd1b_1711302043002520137
 [DEBUG] 2017-11-30 20:43:00,292 Line:1025 query condition columnName:SumDetAmt----value:273000.0
 [DEBUG] 2017-11-30 20:43:00,293 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,293 Line:313 exeCondition:tblExpense_Add : 273000.0 != 273000.00
 [DEBUG] 2017-11-30 20:43:00,295 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,295 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,295 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,296 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,296 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,296 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,296 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,296 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,297 Line:988 6值：273000.00
 [DEBUG] 2017-11-30 20:43:00,300 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:00,301 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,302 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,303 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,303 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,303 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,303 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,310 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,310 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,310 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,310 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,311 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:43:00,311 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,312 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,313 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,313 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,317 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0049
 [DEBUG] 2017-11-30 20:43:00,317 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,318 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,318 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,319 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,319 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,319 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,319 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,319 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,320 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,320 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,320 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,320 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,320 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,321 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=36000.00
 [DEBUG] 2017-11-30 20:43:00,321 Line:1322 JXLTOOL.setValue 主表字段BillAmt=36000.00
 [DEBUG] 2017-11-30 20:43:00,321 Line:1344 JXLTOOL.setValue 明细表字段Remark=乐直播（北京）网络科技有限公司
 [DEBUG] 2017-11-30 20:43:00,321 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,321 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,322 Line:1344 JXLTOOL.setValue 明细表字段Amt=36000.00
 [DEBUG] 2017-11-30 20:43:00,322 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=36000.00
 [DEBUG] 2017-11-30 20:43:00,322 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,322 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,340 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,340 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,340 Line:5872 2:2d6dcd1b_1711302043003390139
 [DEBUG] 2017-11-30 20:43:00,340 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 6:OE0049
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,341 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,342 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,342 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,342 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,342 Line:5872 14:36000.0
 [DEBUG] 2017-11-30 20:43:00,342 Line:5872 15:36000.0
 [DEBUG] 2017-11-30 20:43:00,342 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,343 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,343 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,343 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,343 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,343 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,343 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,344 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,344 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,344 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,344 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,344 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,345 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,346 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,346 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,347 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 1:2d6dcd1b_1711302043003390139
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 2:2d6dcd1b_1711302043003470140
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 3:乐直播（北京）网络科技有限公司
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 6:36000.0
 [DEBUG] 2017-11-30 20:43:00,348 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 8:36000.0
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,349 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,350 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,351 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,353 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,353 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,354 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,355 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,356 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,356 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,356 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,357 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,357 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,358 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,358 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,358 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,358 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,359 Line:988 2值：2d6dcd1b_1711302043003390139
 [DEBUG] 2017-11-30 20:43:00,359 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,360 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,360 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,360 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,361 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,362 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,362 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,362 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,363 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,363 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,364 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,365 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,365 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,365 Line:988 1值：2d6dcd1b_1711302043003390139
 [DEBUG] 2017-11-30 20:43:00,382 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,382 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:00,382 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,383 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,384 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,384 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,384 Line:988 1值：2d6dcd1b_1711302043003390139
 [DEBUG] 2017-11-30 20:43:00,401 Line:1025 query condition columnName:SumDetAmt----value:36000.0
 [DEBUG] 2017-11-30 20:43:00,401 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:00,401 Line:313 exeCondition:tblExpense_Add : 36000.0 != 36000.00
 [DEBUG] 2017-11-30 20:43:00,402 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,402 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,403 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,403 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,403 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,403 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,403 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,403 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,404 Line:988 6值：36000.00
 [DEBUG] 2017-11-30 20:43:00,406 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:00,406 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,408 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,408 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,408 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,408 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,409 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,410 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,410 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,411 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,411 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,411 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,411 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,413 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,413 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,414 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,419 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0050
 [DEBUG] 2017-11-30 20:43:00,419 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,420 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,420 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,421 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,421 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,421 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,421 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,421 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,422 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,422 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,422 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,423 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,423 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,423 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=38500.00
 [DEBUG] 2017-11-30 20:43:00,423 Line:1322 JXLTOOL.setValue 主表字段BillAmt=38500.00
 [DEBUG] 2017-11-30 20:43:00,423 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市康天达计算机有限公司
 [DEBUG] 2017-11-30 20:43:00,424 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,424 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,424 Line:1344 JXLTOOL.setValue 明细表字段Amt=38500.00
 [DEBUG] 2017-11-30 20:43:00,424 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=38500.00
 [DEBUG] 2017-11-30 20:43:00,425 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,425 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,445 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,446 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,446 Line:5872 2:2d6dcd1b_1711302043004430141
 [DEBUG] 2017-11-30 20:43:00,446 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,446 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,446 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,446 Line:5872 6:OE0050
 [DEBUG] 2017-11-30 20:43:00,447 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,447 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,447 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,447 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,447 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,447 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,448 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,448 Line:5872 14:38500.0
 [DEBUG] 2017-11-30 20:43:00,448 Line:5872 15:38500.0
 [DEBUG] 2017-11-30 20:43:00,448 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,448 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,448 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,449 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,449 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,449 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,449 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,449 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,450 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,451 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,451 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,451 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,451 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,451 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,451 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,453 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,454 Line:5872 1:2d6dcd1b_1711302043004430141
 [DEBUG] 2017-11-30 20:43:00,454 Line:5872 2:2d6dcd1b_1711302043004530142
 [DEBUG] 2017-11-30 20:43:00,454 Line:5872 3:东莞市康天达计算机有限公司
 [DEBUG] 2017-11-30 20:43:00,454 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,454 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,455 Line:5872 6:38500.0
 [DEBUG] 2017-11-30 20:43:00,455 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,455 Line:5872 8:38500.0
 [DEBUG] 2017-11-30 20:43:00,455 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,455 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,456 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,456 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,456 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,456 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,457 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,460 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,461 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,462 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,463 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,464 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,465 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,465 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,466 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,466 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,467 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,468 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,468 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,468 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,468 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,469 Line:988 2值：2d6dcd1b_1711302043004430141
 [DEBUG] 2017-11-30 20:43:00,469 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,470 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,471 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,471 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,473 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,473 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,473 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,474 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,476 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,476 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,477 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,478 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,478 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,478 Line:988 1值：2d6dcd1b_1711302043004430141
 [DEBUG] 2017-11-30 20:43:00,480 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,480 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,480 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,482 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,482 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,482 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,483 Line:988 1值：2d6dcd1b_1711302043004430141
 [DEBUG] 2017-11-30 20:43:00,485 Line:1025 query condition columnName:SumDetAmt----value:38500.0
 [DEBUG] 2017-11-30 20:43:00,485 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,485 Line:313 exeCondition:tblExpense_Add : 38500.0 != 38500.00
 [DEBUG] 2017-11-30 20:43:00,487 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,487 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,487 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,487 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,488 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,488 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,488 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,488 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,489 Line:988 6值：38500.00
 [DEBUG] 2017-11-30 20:43:00,493 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:00,493 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,495 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,495 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,495 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,495 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,496 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,497 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,497 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,498 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,498 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,498 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,498 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,499 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,500 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,500 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,505 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0051
 [DEBUG] 2017-11-30 20:43:00,505 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,506 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,506 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,507 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,507 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,507 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,508 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,508 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,508 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,508 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,509 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,509 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,509 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,509 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=34340.00
 [DEBUG] 2017-11-30 20:43:00,509 Line:1322 JXLTOOL.setValue 主表字段BillAmt=34340.00
 [DEBUG] 2017-11-30 20:43:00,510 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁市强顺汽车运输有限公司
 [DEBUG] 2017-11-30 20:43:00,510 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,510 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,510 Line:1344 JXLTOOL.setValue 明细表字段Amt=34340.00
 [DEBUG] 2017-11-30 20:43:00,511 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=34340.00
 [DEBUG] 2017-11-30 20:43:00,511 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,511 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,548 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,548 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,548 Line:5872 2:2d6dcd1b_1711302043005440143
 [DEBUG] 2017-11-30 20:43:00,549 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,549 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,549 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,549 Line:5872 6:OE0051
 [DEBUG] 2017-11-30 20:43:00,549 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,549 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,550 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,550 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,550 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,550 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,550 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,551 Line:5872 14:34340.0
 [DEBUG] 2017-11-30 20:43:00,551 Line:5872 15:34340.0
 [DEBUG] 2017-11-30 20:43:00,551 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,551 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,551 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,551 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,552 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,552 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,552 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,552 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,552 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,552 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,553 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,553 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,553 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,553 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,553 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,553 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,554 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,555 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,555 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,555 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,555 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,561 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,561 Line:5872 1:2d6dcd1b_1711302043005440143
 [DEBUG] 2017-11-30 20:43:00,561 Line:5872 2:2d6dcd1b_1711302043005600144
 [DEBUG] 2017-11-30 20:43:00,561 Line:5872 3:济宁市强顺汽车运输有限公司
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 6:34340.0
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 8:34340.0
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,562 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,563 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,563 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,563 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,563 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,563 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,567 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,568 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,569 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,570 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,570 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,571 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,572 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,572 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,572 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,574 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,575 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,575 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,575 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,576 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,576 Line:988 2值：2d6dcd1b_1711302043005440143
 [DEBUG] 2017-11-30 20:43:00,576 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,582 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045780580
 [DEBUG] 2017-11-30 20:43:00,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045780580,];
 [DEBUG] 2017-11-30 20:43:00,606 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,606 Line:1043 ---上述语句时间---31
 [DEBUG] 2017-11-30 20:43:00,607 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,608 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,609 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,609 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,609 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,611 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,612 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,613 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,613 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,613 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,614 Line:988 1值：2d6dcd1b_1711302043005440143
 [DEBUG] 2017-11-30 20:43:00,615 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,616 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,616 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,617 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,618 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,618 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,618 Line:988 1值：2d6dcd1b_1711302043005440143
 [DEBUG] 2017-11-30 20:43:00,620 Line:1025 query condition columnName:SumDetAmt----value:34340.0
 [DEBUG] 2017-11-30 20:43:00,620 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,621 Line:313 exeCondition:tblExpense_Add : 34340.0 != 34340.00
 [DEBUG] 2017-11-30 20:43:00,622 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,623 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,623 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,623 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,623 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,623 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,624 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,624 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,624 Line:988 6值：34340.00
 [DEBUG] 2017-11-30 20:43:00,626 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:00,627 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,628 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,629 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,629 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,629 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,629 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,631 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,631 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,631 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,631 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,632 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,632 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,633 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,634 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,634 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,637 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0052
 [DEBUG] 2017-11-30 20:43:00,638 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,638 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,638 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,639 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,639 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,639 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,639 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,640 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,640 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,640 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,640 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,641 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,641 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,641 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1360.00
 [DEBUG] 2017-11-30 20:43:00,641 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1360.00
 [DEBUG] 2017-11-30 20:43:00,642 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市飞华彩色印刷有限公司
 [DEBUG] 2017-11-30 20:43:00,642 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,642 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,642 Line:1344 JXLTOOL.setValue 明细表字段Amt=1360.00
 [DEBUG] 2017-11-30 20:43:00,643 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1360.00
 [DEBUG] 2017-11-30 20:43:00,643 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,643 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,671 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,671 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,671 Line:5872 2:2d6dcd1b_1711302043006690145
 [DEBUG] 2017-11-30 20:43:00,671 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,672 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,672 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,672 Line:5872 6:OE0052
 [DEBUG] 2017-11-30 20:43:00,672 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,672 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,673 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,673 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,673 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,673 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,673 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,673 Line:5872 14:1360.0
 [DEBUG] 2017-11-30 20:43:00,674 Line:5872 15:1360.0
 [DEBUG] 2017-11-30 20:43:00,674 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,674 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,674 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,674 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,674 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,675 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,676 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,676 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,676 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,676 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,676 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,676 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,677 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,677 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,677 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,678 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,678 Line:5872 1:2d6dcd1b_1711302043006690145
 [DEBUG] 2017-11-30 20:43:00,678 Line:5872 2:2d6dcd1b_1711302043006780146
 [DEBUG] 2017-11-30 20:43:00,678 Line:5872 3:深圳市飞华彩色印刷有限公司
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 6:1360.0
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 8:1360.0
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,679 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,680 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,680 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,680 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,682 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,683 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,683 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,684 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,684 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,685 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,685 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,686 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,687 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,687 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,687 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,687 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,687 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,687 Line:988 2值：2d6dcd1b_1711302043006690145
 [DEBUG] 2017-11-30 20:43:00,688 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,688 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,689 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,689 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,690 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,691 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,691 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,691 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,693 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,693 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,694 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,695 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,695 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,695 Line:988 1值：2d6dcd1b_1711302043006690145
 [DEBUG] 2017-11-30 20:43:00,696 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,696 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,697 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,698 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,698 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,699 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,699 Line:988 1值：2d6dcd1b_1711302043006690145
 [DEBUG] 2017-11-30 20:43:00,700 Line:1025 query condition columnName:SumDetAmt----value:1360.0
 [DEBUG] 2017-11-30 20:43:00,701 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,701 Line:313 exeCondition:tblExpense_Add : 1360.0 != 1360.00
 [DEBUG] 2017-11-30 20:43:00,702 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,703 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,703 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,703 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,703 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,704 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,704 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,704 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,704 Line:988 6值：1360.00
 [DEBUG] 2017-11-30 20:43:00,706 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,707 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,709 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,710 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,710 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,711 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,711 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,712 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,712 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,712 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,713 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,713 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:00,713 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,714 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,716 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,716 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,719 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0053
 [DEBUG] 2017-11-30 20:43:00,719 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,720 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,720 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,720 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,721 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,721 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,721 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,721 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,721 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,722 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,722 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,722 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,722 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,723 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=30000.00
 [DEBUG] 2017-11-30 20:43:00,723 Line:1322 JXLTOOL.setValue 主表字段BillAmt=30000.00
 [DEBUG] 2017-11-30 20:43:00,723 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市佳润润滑油有限公司
 [DEBUG] 2017-11-30 20:43:00,723 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,723 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,724 Line:1344 JXLTOOL.setValue 明细表字段Amt=30000.00
 [DEBUG] 2017-11-30 20:43:00,724 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=30000.00
 [DEBUG] 2017-11-30 20:43:00,724 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,724 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,754 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,754 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,755 Line:5872 2:2d6dcd1b_1711302043007520147
 [DEBUG] 2017-11-30 20:43:00,755 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,755 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,755 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,755 Line:5872 6:OE0053
 [DEBUG] 2017-11-30 20:43:00,756 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,756 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,756 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,756 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,756 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,756 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,757 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,757 Line:5872 14:30000.0
 [DEBUG] 2017-11-30 20:43:00,757 Line:5872 15:30000.0
 [DEBUG] 2017-11-30 20:43:00,757 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,757 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,758 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,758 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,758 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,758 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,758 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,759 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,759 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,759 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,759 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,759 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,760 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,760 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,760 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,760 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,760 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,760 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,761 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,761 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,761 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,764 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,764 Line:5872 1:2d6dcd1b_1711302043007520147
 [DEBUG] 2017-11-30 20:43:00,764 Line:5872 2:2d6dcd1b_1711302043007640148
 [DEBUG] 2017-11-30 20:43:00,765 Line:5872 3:东莞市佳润润滑油有限公司
 [DEBUG] 2017-11-30 20:43:00,765 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,765 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,765 Line:5872 6:30000.0
 [DEBUG] 2017-11-30 20:43:00,765 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,766 Line:5872 8:30000.0
 [DEBUG] 2017-11-30 20:43:00,766 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,766 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,766 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,766 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,766 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,767 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,767 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,770 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,771 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,772 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,774 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,774 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,776 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,777 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,777 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,777 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,779 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,779 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,779 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,779 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,780 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,780 Line:988 2值：2d6dcd1b_1711302043007520147
 [DEBUG] 2017-11-30 20:43:00,780 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,782 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,782 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,783 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,784 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,784 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,785 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,785 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,787 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,787 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,789 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,789 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,789 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,790 Line:988 1值：2d6dcd1b_1711302043007520147
 [DEBUG] 2017-11-30 20:43:00,791 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,792 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,792 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,793 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,794 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,794 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,794 Line:988 1值：2d6dcd1b_1711302043007520147
 [DEBUG] 2017-11-30 20:43:00,796 Line:1025 query condition columnName:SumDetAmt----value:30000.0
 [DEBUG] 2017-11-30 20:43:00,796 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:00,796 Line:313 exeCondition:tblExpense_Add : 30000.0 != 30000.00
 [DEBUG] 2017-11-30 20:43:00,798 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,798 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:00,798 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,799 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,799 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:00,799 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:00,799 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:00,799 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:00,800 Line:988 6值：30000.00
 [DEBUG] 2017-11-30 20:43:00,802 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:00,803 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:00,804 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,805 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:00,805 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,805 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:00,805 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:00,807 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:00,807 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:00,807 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:00,807 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:00,808 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,808 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:00,809 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:00,810 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:00,810 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:00,815 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0054
 [DEBUG] 2017-11-30 20:43:00,815 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:00,816 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,816 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:00,817 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:00,817 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:00,817 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:00,817 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:00,817 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:00,817 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:00,818 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:00,818 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,818 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:00,818 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:00,819 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1352.00
 [DEBUG] 2017-11-30 20:43:00,819 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1352.00
 [DEBUG] 2017-11-30 20:43:00,819 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市凯利酒店有限公司
 [DEBUG] 2017-11-30 20:43:00,819 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:00,819 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:00,820 Line:1344 JXLTOOL.setValue 明细表字段Amt=1352.00
 [DEBUG] 2017-11-30 20:43:00,820 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1352.00
 [DEBUG] 2017-11-30 20:43:00,820 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:00,820 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:00,839 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,840 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:00,840 Line:5872 2:2d6dcd1b_1711302043008380149
 [DEBUG] 2017-11-30 20:43:00,840 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:00,840 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:00,841 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:00,841 Line:5872 6:OE0054
 [DEBUG] 2017-11-30 20:43:00,841 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:00,841 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:00,841 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 14:1352.0
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 15:1352.0
 [DEBUG] 2017-11-30 20:43:00,842 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:00,843 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:00,844 Line:5872 30:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,845 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:00,845 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:00,845 Line:5872 33:2017-11-30 20:43:00
 [DEBUG] 2017-11-30 20:43:00,845 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:00,845 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:00,845 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:00,846 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:00,847 Line:5872 1:2d6dcd1b_1711302043008380149
 [DEBUG] 2017-11-30 20:43:00,847 Line:5872 2:2d6dcd1b_1711302043008460150
 [DEBUG] 2017-11-30 20:43:00,847 Line:5872 3:东莞市凯利酒店有限公司
 [DEBUG] 2017-11-30 20:43:00,847 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:00,847 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:00,847 Line:5872 6:1352.0
 [DEBUG] 2017-11-30 20:43:00,848 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:00,848 Line:5872 8:1352.0
 [DEBUG] 2017-11-30 20:43:00,848 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:00,848 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:00,848 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:00,848 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:00,849 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:00,849 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:00,849 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:00,851 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:00,853 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,853 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:00,854 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,855 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:00,856 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,857 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:00,857 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,857 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:00,858 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:00,858 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:00,858 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:00,859 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,859 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:00,859 Line:988 2值：2d6dcd1b_1711302043008380149
 [DEBUG] 2017-11-30 20:43:00,860 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:00,861 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:00,861 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:00,862 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,864 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,865 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:00,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,865 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:00,882 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:00,883 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:00,884 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,885 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:00,885 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,885 Line:988 1值：2d6dcd1b_1711302043008380149
 [DEBUG] 2017-11-30 20:43:00,986 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:00,987 Line:1043 ---上述语句时间---102
 [DEBUG] 2017-11-30 20:43:00,987 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:00,988 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:00,989 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:00,989 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:00,989 Line:988 1值：2d6dcd1b_1711302043008380149
 [DEBUG] 2017-11-30 20:43:01,006 Line:1025 query condition columnName:SumDetAmt----value:1352.0
 [DEBUG] 2017-11-30 20:43:01,006 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:01,006 Line:313 exeCondition:tblExpense_Add : 1352.0 != 1352.00
 [DEBUG] 2017-11-30 20:43:01,008 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,008 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,009 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,009 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,009 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,010 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,010 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,010 Line:988 6值：1352.00
 [DEBUG] 2017-11-30 20:43:01,012 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:01,012 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,014 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,014 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,015 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,015 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,015 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,016 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,016 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,016 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,016 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,017 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,017 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,019 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,019 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,019 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,023 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0055
 [DEBUG] 2017-11-30 20:43:01,023 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:01,024 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,024 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,025 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,025 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,025 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,025 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,026 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,026 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,026 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,026 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,027 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,027 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,027 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=3010.00
 [DEBUG] 2017-11-30 20:43:01,027 Line:1322 JXLTOOL.setValue 主表字段BillAmt=3010.00
 [DEBUG] 2017-11-30 20:43:01,028 Line:1344 JXLTOOL.setValue 明细表字段Remark=顺丰速运(东莞)有限公司
 [DEBUG] 2017-11-30 20:43:01,028 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,028 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,028 Line:1344 JXLTOOL.setValue 明细表字段Amt=3010.00
 [DEBUG] 2017-11-30 20:43:01,028 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=3010.00
 [DEBUG] 2017-11-30 20:43:01,028 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,029 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,055 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,055 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,055 Line:5872 2:2d6dcd1b_1711302043010530151
 [DEBUG] 2017-11-30 20:43:01,055 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,056 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,056 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,056 Line:5872 6:OE0055
 [DEBUG] 2017-11-30 20:43:01,056 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:01,056 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,058 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,058 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,058 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,058 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,059 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,059 Line:5872 14:3010.0
 [DEBUG] 2017-11-30 20:43:01,059 Line:5872 15:3010.0
 [DEBUG] 2017-11-30 20:43:01,059 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,059 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,059 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,060 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,060 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,060 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,060 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,060 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,061 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,061 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,061 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,061 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,061 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,063 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,063 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,063 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,064 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,064 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,064 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,064 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,064 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,072 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,072 Line:5872 1:2d6dcd1b_1711302043010530151
 [DEBUG] 2017-11-30 20:43:01,072 Line:5872 2:2d6dcd1b_1711302043010710152
 [DEBUG] 2017-11-30 20:43:01,072 Line:5872 3:顺丰速运(东莞)有限公司
 [DEBUG] 2017-11-30 20:43:01,072 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,072 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,073 Line:5872 6:3010.0
 [DEBUG] 2017-11-30 20:43:01,073 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,073 Line:5872 8:3010.0
 [DEBUG] 2017-11-30 20:43:01,073 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,073 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,075 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,075 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,075 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,075 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,075 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,088 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,089 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,090 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,091 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,092 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,093 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,094 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,094 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,094 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,096 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,096 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,097 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,097 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,097 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,097 Line:988 2值：2d6dcd1b_1711302043010530151
 [DEBUG] 2017-11-30 20:43:01,098 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,098 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,099 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,099 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,101 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,101 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,101 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,102 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,103 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,103 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,105 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,106 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,106 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,106 Line:988 1值：2d6dcd1b_1711302043010530151
 [DEBUG] 2017-11-30 20:43:01,107 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,108 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,108 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,109 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,110 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,110 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,110 Line:988 1值：2d6dcd1b_1711302043010530151
 [DEBUG] 2017-11-30 20:43:01,112 Line:1025 query condition columnName:SumDetAmt----value:3010.0
 [DEBUG] 2017-11-30 20:43:01,112 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,112 Line:313 exeCondition:tblExpense_Add : 3010.0 != 3010.00
 [DEBUG] 2017-11-30 20:43:01,114 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,114 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,115 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,115 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,115 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,115 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,115 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,116 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,116 Line:988 6值：3010.00
 [DEBUG] 2017-11-30 20:43:01,118 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:01,118 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,120 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,120 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,120 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,121 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,121 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,122 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,122 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,122 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,122 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,122 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,122 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,124 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,124 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,125 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,128 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0056
 [DEBUG] 2017-11-30 20:43:01,129 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:01,129 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,129 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,130 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,130 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,130 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,130 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,131 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,131 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,131 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,131 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,131 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,132 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,132 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=17849.16
 [DEBUG] 2017-11-30 20:43:01,132 Line:1322 JXLTOOL.setValue 主表字段BillAmt=17849.16
 [DEBUG] 2017-11-30 20:43:01,132 Line:1344 JXLTOOL.setValue 明细表字段Remark=北京凯迅兆通防伪科技有限公司
 [DEBUG] 2017-11-30 20:43:01,133 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,133 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,133 Line:1344 JXLTOOL.setValue 明细表字段Amt=17849.16
 [DEBUG] 2017-11-30 20:43:01,133 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=17849.16
 [DEBUG] 2017-11-30 20:43:01,133 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,134 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,151 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,152 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,152 Line:5872 2:2d6dcd1b_1711302043011500153
 [DEBUG] 2017-11-30 20:43:01,152 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,152 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,153 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,153 Line:5872 6:OE0056
 [DEBUG] 2017-11-30 20:43:01,153 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:01,153 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,153 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,153 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,154 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,154 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,154 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,154 Line:5872 14:17849.16
 [DEBUG] 2017-11-30 20:43:01,154 Line:5872 15:17849.16
 [DEBUG] 2017-11-30 20:43:01,154 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,155 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,156 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,157 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,157 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,157 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,157 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,157 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,159 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,159 Line:5872 1:2d6dcd1b_1711302043011500153
 [DEBUG] 2017-11-30 20:43:01,159 Line:5872 2:2d6dcd1b_1711302043011580154
 [DEBUG] 2017-11-30 20:43:01,159 Line:5872 3:北京凯迅兆通防伪科技有限公司
 [DEBUG] 2017-11-30 20:43:01,159 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,159 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,159 Line:5872 6:17849.16
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 8:17849.16
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,160 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,161 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,161 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,163 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,165 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,165 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,166 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,167 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,168 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,168 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,168 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,168 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,169 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,170 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,170 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,170 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,170 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,171 Line:988 2值：2d6dcd1b_1711302043011500153
 [DEBUG] 2017-11-30 20:43:01,171 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,172 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,172 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,172 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,173 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,173 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,174 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,174 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,175 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,175 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,177 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,177 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,177 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,177 Line:988 1值：2d6dcd1b_1711302043011500153
 [DEBUG] 2017-11-30 20:43:01,178 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,178 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:01,179 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,180 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,180 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,180 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,181 Line:988 1值：2d6dcd1b_1711302043011500153
 [DEBUG] 2017-11-30 20:43:01,182 Line:1025 query condition columnName:SumDetAmt----value:17849.16
 [DEBUG] 2017-11-30 20:43:01,182 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,182 Line:313 exeCondition:tblExpense_Add : 17849.16 != 17849.16
 [DEBUG] 2017-11-30 20:43:01,183 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,184 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,184 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,184 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,184 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,184 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,185 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,185 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,185 Line:988 6值：17849.16
 [DEBUG] 2017-11-30 20:43:01,187 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,187 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,188 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,188 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,189 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,189 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,189 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,190 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,190 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,190 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,190 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,190 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,191 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,192 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,192 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,192 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,195 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0057
 [DEBUG] 2017-11-30 20:43:01,196 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:01,196 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,196 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,197 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,197 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,197 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,197 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,197 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,197 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,198 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,198 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,198 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,198 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,198 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=7195.00
 [DEBUG] 2017-11-30 20:43:01,198 Line:1322 JXLTOOL.setValue 主表字段BillAmt=7195.00
 [DEBUG] 2017-11-30 20:43:01,199 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市盈联印刷有限公司
 [DEBUG] 2017-11-30 20:43:01,199 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,199 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,199 Line:1344 JXLTOOL.setValue 明细表字段Amt=7195.00
 [DEBUG] 2017-11-30 20:43:01,199 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=7195.00
 [DEBUG] 2017-11-30 20:43:01,200 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,200 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,218 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,218 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,219 Line:5872 2:2d6dcd1b_1711302043012170155
 [DEBUG] 2017-11-30 20:43:01,219 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,219 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,219 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,219 Line:5872 6:OE0057
 [DEBUG] 2017-11-30 20:43:01,220 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:01,220 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,220 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,220 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,220 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,220 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,221 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,221 Line:5872 14:7195.0
 [DEBUG] 2017-11-30 20:43:01,221 Line:5872 15:7195.0
 [DEBUG] 2017-11-30 20:43:01,221 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,221 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,221 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,222 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,223 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,224 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,287 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,288 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,289 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 1:2d6dcd1b_1711302043012170155
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 2:2d6dcd1b_1711302043012890156
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 3:东莞市盈联印刷有限公司
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 6:7195.0
 [DEBUG] 2017-11-30 20:43:01,290 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,291 Line:5872 8:7195.0
 [DEBUG] 2017-11-30 20:43:01,291 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,291 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,291 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,291 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,292 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,292 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,292 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,294 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,296 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,296 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,298 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,298 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,299 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,300 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,300 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,300 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,301 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,302 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,302 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,302 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,303 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,303 Line:988 2值：2d6dcd1b_1711302043012170155
 [DEBUG] 2017-11-30 20:43:01,303 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,306 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,306 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:01,306 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,308 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,308 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,308 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,309 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,310 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,310 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,312 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,312 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,312 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,313 Line:988 1值：2d6dcd1b_1711302043012170155
 [DEBUG] 2017-11-30 20:43:01,314 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,314 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,314 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,316 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,316 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,316 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,316 Line:988 1值：2d6dcd1b_1711302043012170155
 [DEBUG] 2017-11-30 20:43:01,318 Line:1025 query condition columnName:SumDetAmt----value:7195.0
 [DEBUG] 2017-11-30 20:43:01,318 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,319 Line:313 exeCondition:tblExpense_Add : 7195.0 != 7195.00
 [DEBUG] 2017-11-30 20:43:01,320 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,321 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,321 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,321 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,321 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,322 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,322 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,322 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,322 Line:988 6值：7195.00
 [DEBUG] 2017-11-30 20:43:01,326 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,326 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,328 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,328 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,328 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,329 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,329 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,330 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,330 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,330 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,330 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,331 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,331 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,332 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,333 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,333 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,337 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0058
 [DEBUG] 2017-11-30 20:43:01,338 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:01,338 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,338 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,339 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,339 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,339 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,340 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,340 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,340 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,341 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,341 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,341 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,341 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,342 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2640.00
 [DEBUG] 2017-11-30 20:43:01,342 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2640.00
 [DEBUG] 2017-11-30 20:43:01,342 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市力凯电器有限公司
 [DEBUG] 2017-11-30 20:43:01,342 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,342 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,343 Line:1344 JXLTOOL.setValue 明细表字段Amt=2640.00
 [DEBUG] 2017-11-30 20:43:01,343 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2640.00
 [DEBUG] 2017-11-30 20:43:01,343 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,343 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,363 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,363 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,364 Line:5872 2:2d6dcd1b_1711302043013620157
 [DEBUG] 2017-11-30 20:43:01,364 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,364 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,364 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,364 Line:5872 6:OE0058
 [DEBUG] 2017-11-30 20:43:01,365 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:01,365 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,365 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,365 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,365 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,365 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,366 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,366 Line:5872 14:2640.0
 [DEBUG] 2017-11-30 20:43:01,366 Line:5872 15:2640.0
 [DEBUG] 2017-11-30 20:43:01,366 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,366 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,366 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,367 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,367 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,367 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,367 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,367 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,367 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,368 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,368 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,368 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,368 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,368 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,368 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,369 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,369 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,369 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,369 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,369 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,369 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,371 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,371 Line:5872 1:2d6dcd1b_1711302043013620157
 [DEBUG] 2017-11-30 20:43:01,371 Line:5872 2:2d6dcd1b_1711302043013710158
 [DEBUG] 2017-11-30 20:43:01,372 Line:5872 3:东莞市力凯电器有限公司
 [DEBUG] 2017-11-30 20:43:01,372 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,372 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,372 Line:5872 6:2640.0
 [DEBUG] 2017-11-30 20:43:01,372 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,372 Line:5872 8:2640.0
 [DEBUG] 2017-11-30 20:43:01,373 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,373 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,373 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,373 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,374 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,374 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,374 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,378 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,379 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,380 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,381 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,381 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,383 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,383 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,383 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,384 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,387 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,388 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,388 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,388 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,389 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,389 Line:988 2值：2d6dcd1b_1711302043013620157
 [DEBUG] 2017-11-30 20:43:01,389 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,390 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,391 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,391 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,392 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,393 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,393 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,393 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,394 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:01,395 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,396 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,396 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,397 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,397 Line:988 1值：2d6dcd1b_1711302043013620157
 [DEBUG] 2017-11-30 20:43:01,398 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,398 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,398 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,399 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,400 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,400 Line:988 1值：2d6dcd1b_1711302043013620157
 [DEBUG] 2017-11-30 20:43:01,401 Line:1025 query condition columnName:SumDetAmt----value:2640.0
 [DEBUG] 2017-11-30 20:43:01,402 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,402 Line:313 exeCondition:tblExpense_Add : 2640.0 != 2640.00
 [DEBUG] 2017-11-30 20:43:01,403 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,403 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,403 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,404 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,404 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,404 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,404 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,404 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,405 Line:988 6值：2640.00
 [DEBUG] 2017-11-30 20:43:01,406 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,407 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,408 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,408 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,409 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,409 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,409 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,410 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,410 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,411 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,411 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,411 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,411 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,413 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,413 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,413 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,416 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0059
 [DEBUG] 2017-11-30 20:43:01,417 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-20
 [DEBUG] 2017-11-30 20:43:01,417 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,417 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,418 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,418 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,418 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,418 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,418 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,419 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,419 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,419 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,419 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,419 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,420 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=71087.02
 [DEBUG] 2017-11-30 20:43:01,420 Line:1322 JXLTOOL.setValue 主表字段BillAmt=71087.02
 [DEBUG] 2017-11-30 20:43:01,420 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:01,420 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,420 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,420 Line:1344 JXLTOOL.setValue 明细表字段Amt=71087.02
 [DEBUG] 2017-11-30 20:43:01,421 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=71087.02
 [DEBUG] 2017-11-30 20:43:01,421 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,421 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,436 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,436 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,436 Line:5872 2:2d6dcd1b_1711302043014340159
 [DEBUG] 2017-11-30 20:43:01,436 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,436 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,437 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,437 Line:5872 6:OE0059
 [DEBUG] 2017-11-30 20:43:01,437 Line:5872 7:2017-10-20
 [DEBUG] 2017-11-30 20:43:01,437 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,437 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,438 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,438 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,438 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,438 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,438 Line:5872 14:71087.02
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 15:71087.02
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,439 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,440 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,440 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,440 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,440 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,440 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,440 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,441 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,442 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,442 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,443 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,443 Line:5872 1:2d6dcd1b_1711302043014340159
 [DEBUG] 2017-11-30 20:43:01,443 Line:5872 2:2d6dcd1b_1711302043014430160
 [DEBUG] 2017-11-30 20:43:01,443 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:01,443 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 6:71087.02
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 8:71087.02
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,444 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,445 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,445 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,445 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,445 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,447 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,448 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,448 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,450 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,450 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,451 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,452 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,452 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,452 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,453 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,453 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:01,453 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,454 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,454 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,454 Line:988 2值：2d6dcd1b_1711302043014340159
 [DEBUG] 2017-11-30 20:43:01,454 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,455 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,455 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,456 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,457 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,457 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,457 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,458 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,459 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,459 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,461 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,461 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,461 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,462 Line:988 1值：2d6dcd1b_1711302043014340159
 [DEBUG] 2017-11-30 20:43:01,476 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,476 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:43:01,476 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,478 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,478 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,478 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,479 Line:988 1值：2d6dcd1b_1711302043014340159
 [DEBUG] 2017-11-30 20:43:01,499 Line:1025 query condition columnName:SumDetAmt----value:71087.02
 [DEBUG] 2017-11-30 20:43:01,499 Line:1043 ---上述语句时间---21
 [DEBUG] 2017-11-30 20:43:01,499 Line:313 exeCondition:tblExpense_Add : 71087.02 != 71087.02
 [DEBUG] 2017-11-30 20:43:01,501 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,501 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,501 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,502 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,502 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,502 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,502 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,502 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,503 Line:988 6值：71087.02
 [DEBUG] 2017-11-30 20:43:01,505 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:01,505 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,507 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,507 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,507 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,508 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,508 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,509 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,509 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,510 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,510 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,510 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,510 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,512 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,512 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,512 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,516 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0060
 [DEBUG] 2017-11-30 20:43:01,516 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-21
 [DEBUG] 2017-11-30 20:43:01,517 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,517 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,517 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,517 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,517 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,518 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,518 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,518 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,518 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,519 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,519 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,519 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,519 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=11.00
 [DEBUG] 2017-11-30 20:43:01,519 Line:1322 JXLTOOL.setValue 主表字段BillAmt=11.00
 [DEBUG] 2017-11-30 20:43:01,520 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,520 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,520 Line:1344 JXLTOOL.setValue 明细表字段Amt=11.00
 [DEBUG] 2017-11-30 20:43:01,520 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=11.00
 [DEBUG] 2017-11-30 20:43:01,521 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,521 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,537 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,538 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,538 Line:5872 2:2d6dcd1b_1711302043015360161
 [DEBUG] 2017-11-30 20:43:01,538 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,538 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,538 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 6:OE0060
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 7:2017-10-21
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,539 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,540 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,540 Line:5872 14:11.0
 [DEBUG] 2017-11-30 20:43:01,540 Line:5872 15:11.0
 [DEBUG] 2017-11-30 20:43:01,540 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,541 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,541 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,541 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,541 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,541 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,542 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,543 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,545 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,545 Line:5872 1:2d6dcd1b_1711302043015360161
 [DEBUG] 2017-11-30 20:43:01,545 Line:5872 2:2d6dcd1b_1711302043015450162
 [DEBUG] 2017-11-30 20:43:01,545 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:01,545 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,545 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 6:11.0
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 8:11.0
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,546 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,547 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,547 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,549 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,550 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,551 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,552 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,552 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,553 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,553 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,553 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,554 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,555 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,555 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,556 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,556 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,556 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,558 Line:988 2值：2d6dcd1b_1711302043015360161
 [DEBUG] 2017-11-30 20:43:01,558 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,560 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,560 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:01,560 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,561 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,562 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,562 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,562 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,565 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,565 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,567 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,567 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,567 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,567 Line:988 1值：2d6dcd1b_1711302043015360161
 [DEBUG] 2017-11-30 20:43:01,569 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,569 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,569 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,571 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,571 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,571 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,571 Line:988 1值：2d6dcd1b_1711302043015360161
 [DEBUG] 2017-11-30 20:43:01,573 Line:1025 query condition columnName:SumDetAmt----value:11.0
 [DEBUG] 2017-11-30 20:43:01,573 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,574 Line:313 exeCondition:tblExpense_Add : 11.0 != 11.00
 [DEBUG] 2017-11-30 20:43:01,575 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,575 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,575 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,576 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,576 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,576 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,576 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,576 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,577 Line:988 6值：11.00
 [DEBUG] 2017-11-30 20:43:01,585 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045781581
 [DEBUG] 2017-11-30 20:43:01,586 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045781581,];
 [DEBUG] 2017-11-30 20:43:01,591 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:01,592 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,593 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,594 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,594 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,594 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,594 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,605 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,605 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,605 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,606 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,606 Line:1043 ---上述语句时间---12
 [DEBUG] 2017-11-30 20:43:01,606 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,609 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,609 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,609 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,613 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0061
 [DEBUG] 2017-11-30 20:43:01,614 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-21
 [DEBUG] 2017-11-30 20:43:01,614 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,614 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,615 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,615 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,615 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,615 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,616 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,616 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,616 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,616 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,616 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,617 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,617 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=40.00
 [DEBUG] 2017-11-30 20:43:01,617 Line:1322 JXLTOOL.setValue 主表字段BillAmt=40.00
 [DEBUG] 2017-11-30 20:43:01,617 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,617 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,618 Line:1344 JXLTOOL.setValue 明细表字段Amt=40.00
 [DEBUG] 2017-11-30 20:43:01,618 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=40.00
 [DEBUG] 2017-11-30 20:43:01,618 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,618 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,637 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,637 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,637 Line:5872 2:2d6dcd1b_1711302043016350163
 [DEBUG] 2017-11-30 20:43:01,637 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,638 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,638 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,638 Line:5872 6:OE0061
 [DEBUG] 2017-11-30 20:43:01,638 Line:5872 7:2017-10-21
 [DEBUG] 2017-11-30 20:43:01,638 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,638 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,640 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,640 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,640 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,641 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,641 Line:5872 14:40.0
 [DEBUG] 2017-11-30 20:43:01,641 Line:5872 15:40.0
 [DEBUG] 2017-11-30 20:43:01,641 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,641 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,642 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,642 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,642 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,642 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,643 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,643 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,643 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,643 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,643 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,643 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,644 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,644 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,644 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,644 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,644 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,644 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,645 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,645 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,645 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,646 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,647 Line:5872 1:2d6dcd1b_1711302043016350163
 [DEBUG] 2017-11-30 20:43:01,647 Line:5872 2:2d6dcd1b_1711302043016460164
 [DEBUG] 2017-11-30 20:43:01,647 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:01,647 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,647 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,648 Line:5872 6:40.0
 [DEBUG] 2017-11-30 20:43:01,648 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,648 Line:5872 8:40.0
 [DEBUG] 2017-11-30 20:43:01,648 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,648 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,648 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,649 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,649 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,649 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,649 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,651 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,653 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,653 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,654 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,655 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,656 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,656 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,657 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,657 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,658 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,658 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,658 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,659 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,659 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,659 Line:988 2值：2d6dcd1b_1711302043016350163
 [DEBUG] 2017-11-30 20:43:01,659 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,660 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,661 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,661 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,662 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,662 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,663 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,663 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,664 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,665 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,666 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,667 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,667 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,667 Line:988 1值：2d6dcd1b_1711302043016350163
 [DEBUG] 2017-11-30 20:43:01,668 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,669 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,669 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,670 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,670 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,671 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,671 Line:988 1值：2d6dcd1b_1711302043016350163
 [DEBUG] 2017-11-30 20:43:01,672 Line:1025 query condition columnName:SumDetAmt----value:40.0
 [DEBUG] 2017-11-30 20:43:01,673 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,673 Line:313 exeCondition:tblExpense_Add : 40.0 != 40.00
 [DEBUG] 2017-11-30 20:43:01,674 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,675 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,675 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,675 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,675 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,675 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,676 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,676 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,676 Line:988 6值：40.00
 [DEBUG] 2017-11-30 20:43:01,679 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,679 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,681 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,687 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,687 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,688 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,688 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,691 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,692 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,692 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,692 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,692 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,693 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,694 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,695 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,695 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,700 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0062
 [DEBUG] 2017-11-30 20:43:01,701 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-21
 [DEBUG] 2017-11-30 20:43:01,701 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,701 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,702 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,702 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,702 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,703 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,703 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,703 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,704 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,704 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,704 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,704 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,704 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5.00
 [DEBUG] 2017-11-30 20:43:01,705 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5.00
 [DEBUG] 2017-11-30 20:43:01,705 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,705 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,705 Line:1344 JXLTOOL.setValue 明细表字段Amt=5.00
 [DEBUG] 2017-11-30 20:43:01,706 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5.00
 [DEBUG] 2017-11-30 20:43:01,706 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,706 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,780 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,780 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,781 Line:5872 2:2d6dcd1b_1711302043017780165
 [DEBUG] 2017-11-30 20:43:01,781 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,781 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,781 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,781 Line:5872 6:OE0062
 [DEBUG] 2017-11-30 20:43:01,781 Line:5872 7:2017-10-21
 [DEBUG] 2017-11-30 20:43:01,782 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,782 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,782 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,782 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,782 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,782 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,783 Line:5872 14:5.0
 [DEBUG] 2017-11-30 20:43:01,783 Line:5872 15:5.0
 [DEBUG] 2017-11-30 20:43:01,783 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,783 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,783 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,783 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,784 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,785 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,785 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,785 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,785 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,785 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,785 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,786 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,786 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,786 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,786 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,829 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,829 Line:5872 1:2d6dcd1b_1711302043017780165
 [DEBUG] 2017-11-30 20:43:01,829 Line:5872 2:2d6dcd1b_1711302043018290166
 [DEBUG] 2017-11-30 20:43:01,830 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:01,830 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,830 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,830 Line:5872 6:5.0
 [DEBUG] 2017-11-30 20:43:01,830 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,830 Line:5872 8:5.0
 [DEBUG] 2017-11-30 20:43:01,831 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,831 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,831 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,831 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,831 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,831 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,832 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,834 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,836 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,836 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,838 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,838 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,839 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,840 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,840 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,840 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,841 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,841 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:01,842 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,842 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,842 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,842 Line:988 2值：2d6dcd1b_1711302043017780165
 [DEBUG] 2017-11-30 20:43:01,843 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,844 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,844 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,844 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,846 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,846 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,846 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,847 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,848 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,848 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,850 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,850 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,850 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,851 Line:988 1值：2d6dcd1b_1711302043017780165
 [DEBUG] 2017-11-30 20:43:01,852 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,852 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,853 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,854 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,854 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,855 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,855 Line:988 1值：2d6dcd1b_1711302043017780165
 [DEBUG] 2017-11-30 20:43:01,857 Line:1025 query condition columnName:SumDetAmt----value:5.0
 [DEBUG] 2017-11-30 20:43:01,857 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:01,857 Line:313 exeCondition:tblExpense_Add : 5.0 != 5.00
 [DEBUG] 2017-11-30 20:43:01,859 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,859 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,859 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,860 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,860 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,860 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,860 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,860 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,861 Line:988 6值：5.00
 [DEBUG] 2017-11-30 20:43:01,864 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,864 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,866 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,866 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,866 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,867 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,867 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,870 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,870 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,870 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,870 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,871 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,872 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,874 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,874 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,875 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:01,878 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0063
 [DEBUG] 2017-11-30 20:43:01,879 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-21
 [DEBUG] 2017-11-30 20:43:01,879 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,879 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:01,880 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:01,880 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:01,880 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:01,880 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:01,881 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:01,881 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:01,881 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:01,881 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,882 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:01,882 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:01,882 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:43:01,882 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:43:01,883 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:01,883 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:01,883 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:43:01,883 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:43:01,883 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:01,884 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:01,903 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,903 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 2:2d6dcd1b_1711302043019010167
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 6:OE0063
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 7:2017-10-21
 [DEBUG] 2017-11-30 20:43:01,904 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:01,905 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:01,908 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:01,908 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:01,908 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:01,909 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:01,909 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:43:01,909 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:43:01,909 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:01,909 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:01,909 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:01,910 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:01,910 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:01,910 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:01,910 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:01,910 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:01,910 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 30:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,911 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:01,912 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:01,912 Line:5872 33:2017-11-30 20:43:01
 [DEBUG] 2017-11-30 20:43:01,912 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:01,912 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:01,912 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:01,914 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:01,914 Line:5872 1:2d6dcd1b_1711302043019010167
 [DEBUG] 2017-11-30 20:43:01,914 Line:5872 2:2d6dcd1b_1711302043019140168
 [DEBUG] 2017-11-30 20:43:01,914 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:01,914 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:01,915 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:01,915 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:43:01,915 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:01,915 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:43:01,915 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:01,915 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:01,916 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:01,916 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:01,916 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:01,916 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:01,916 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:01,919 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:01,920 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,921 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:01,922 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,922 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:01,924 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,924 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:01,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,925 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:01,925 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:01,926 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,926 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:01,926 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,926 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:01,927 Line:988 2值：2d6dcd1b_1711302043019010167
 [DEBUG] 2017-11-30 20:43:01,927 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:01,928 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:01,928 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,928 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,929 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,930 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:01,930 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,930 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:01,932 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,932 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:01,933 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,934 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:01,934 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,934 Line:988 1值：2d6dcd1b_1711302043019010167
 [DEBUG] 2017-11-30 20:43:01,935 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:01,936 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,936 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:01,937 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,937 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:01,938 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,938 Line:988 1值：2d6dcd1b_1711302043019010167
 [DEBUG] 2017-11-30 20:43:01,939 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:43:01,939 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:01,940 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:43:01,941 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,941 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:01,942 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,942 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,942 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:01,942 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:01,942 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:01,943 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:01,943 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:43:01,945 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:01,946 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:01,948 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:01,948 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:01,949 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:01,950 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:01,950 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:01,952 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:01,952 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:01,952 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:01,953 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:01,953 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:01,953 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:01,955 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:01,956 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:01,956 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,004 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0064
 [DEBUG] 2017-11-30 20:43:02,008 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-21
 [DEBUG] 2017-11-30 20:43:02,008 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,008 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,009 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,009 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,009 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,010 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,010 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,010 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,010 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,011 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,011 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,011 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,011 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.60
 [DEBUG] 2017-11-30 20:43:02,011 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.60
 [DEBUG] 2017-11-30 20:43:02,012 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,012 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,012 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.60
 [DEBUG] 2017-11-30 20:43:02,013 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.60
 [DEBUG] 2017-11-30 20:43:02,013 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,013 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,033 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,033 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,033 Line:5872 2:2d6dcd1b_1711302043020310169
 [DEBUG] 2017-11-30 20:43:02,033 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,034 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,034 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,034 Line:5872 6:OE0064
 [DEBUG] 2017-11-30 20:43:02,034 Line:5872 7:2017-10-21
 [DEBUG] 2017-11-30 20:43:02,034 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,035 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,035 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,035 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,036 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,037 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,037 Line:5872 14:1.6
 [DEBUG] 2017-11-30 20:43:02,037 Line:5872 15:1.6
 [DEBUG] 2017-11-30 20:43:02,038 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,038 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,038 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,039 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,039 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,039 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,039 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,048 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,048 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,048 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,048 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,049 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,049 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,049 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,050 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,050 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,050 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,050 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,051 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,051 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,051 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,054 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,055 Line:5872 1:2d6dcd1b_1711302043020310169
 [DEBUG] 2017-11-30 20:43:02,055 Line:5872 2:2d6dcd1b_1711302043020540170
 [DEBUG] 2017-11-30 20:43:02,055 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:02,055 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,055 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,055 Line:5872 6:1.6
 [DEBUG] 2017-11-30 20:43:02,056 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,056 Line:5872 8:1.6
 [DEBUG] 2017-11-30 20:43:02,056 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,056 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,057 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,057 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,057 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,057 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,057 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,060 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,062 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,062 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,063 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,064 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,065 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,065 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,066 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,066 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,067 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,067 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,067 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,067 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,068 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,068 Line:988 2值：2d6dcd1b_1711302043020310169
 [DEBUG] 2017-11-30 20:43:02,068 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,069 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,069 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,069 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,071 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,071 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,071 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,072 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,073 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,073 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,075 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,075 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,076 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,076 Line:988 1值：2d6dcd1b_1711302043020310169
 [DEBUG] 2017-11-30 20:43:02,108 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,109 Line:1043 ---上述语句时间---34
 [DEBUG] 2017-11-30 20:43:02,109 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,110 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,111 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,111 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,111 Line:988 1值：2d6dcd1b_1711302043020310169
 [DEBUG] 2017-11-30 20:43:02,136 Line:1025 query condition columnName:SumDetAmt----value:1.6
 [DEBUG] 2017-11-30 20:43:02,137 Line:1043 ---上述语句时间---26
 [DEBUG] 2017-11-30 20:43:02,137 Line:313 exeCondition:tblExpense_Add : 1.6 != 1.60
 [DEBUG] 2017-11-30 20:43:02,138 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,140 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,140 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,140 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,141 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,141 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,141 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,141 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,142 Line:988 6值：1.60
 [DEBUG] 2017-11-30 20:43:02,144 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:02,144 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,146 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,146 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,147 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,147 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,148 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,148 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,148 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,148 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,148 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,148 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,151 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,152 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,152 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,158 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0065
 [DEBUG] 2017-11-30 20:43:02,158 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-21
 [DEBUG] 2017-11-30 20:43:02,158 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,158 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,159 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,159 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,181 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,181 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,181 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,181 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,182 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,182 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,182 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,182 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,183 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=35.00
 [DEBUG] 2017-11-30 20:43:02,183 Line:1322 JXLTOOL.setValue 主表字段BillAmt=35.00
 [DEBUG] 2017-11-30 20:43:02,183 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,183 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,184 Line:1344 JXLTOOL.setValue 明细表字段Amt=35.00
 [DEBUG] 2017-11-30 20:43:02,184 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=35.00
 [DEBUG] 2017-11-30 20:43:02,184 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,184 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,220 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,220 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,220 Line:5872 2:2d6dcd1b_1711302043022180171
 [DEBUG] 2017-11-30 20:43:02,221 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,221 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,221 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,221 Line:5872 6:OE0065
 [DEBUG] 2017-11-30 20:43:02,221 Line:5872 7:2017-10-21
 [DEBUG] 2017-11-30 20:43:02,221 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,222 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,222 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,222 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,222 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,222 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,223 Line:5872 14:35.0
 [DEBUG] 2017-11-30 20:43:02,223 Line:5872 15:35.0
 [DEBUG] 2017-11-30 20:43:02,223 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,223 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,223 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,224 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,224 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,224 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,224 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,225 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,225 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,225 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,225 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,225 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,225 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,226 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,226 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,226 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,228 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,228 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,228 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,228 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,228 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,230 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,230 Line:5872 1:2d6dcd1b_1711302043022180171
 [DEBUG] 2017-11-30 20:43:02,230 Line:5872 2:2d6dcd1b_1711302043022300172
 [DEBUG] 2017-11-30 20:43:02,230 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:02,230 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,231 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,231 Line:5872 6:35.0
 [DEBUG] 2017-11-30 20:43:02,231 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,231 Line:5872 8:35.0
 [DEBUG] 2017-11-30 20:43:02,231 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,232 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,232 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,232 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,232 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,232 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,232 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,235 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,236 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,236 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,237 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,237 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,239 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,239 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,240 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,240 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,241 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,241 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,241 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,242 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,242 Line:988 2值：2d6dcd1b_1711302043022180171
 [DEBUG] 2017-11-30 20:43:02,242 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,243 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,243 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,244 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,245 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,245 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,246 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,247 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,247 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,249 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,249 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,249 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,250 Line:988 1值：2d6dcd1b_1711302043022180171
 [DEBUG] 2017-11-30 20:43:02,251 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,251 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,252 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,253 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,253 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,254 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,254 Line:988 1值：2d6dcd1b_1711302043022180171
 [DEBUG] 2017-11-30 20:43:02,255 Line:1025 query condition columnName:SumDetAmt----value:35.0
 [DEBUG] 2017-11-30 20:43:02,256 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,256 Line:313 exeCondition:tblExpense_Add : 35.0 != 35.00
 [DEBUG] 2017-11-30 20:43:02,257 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,258 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,258 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,258 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,259 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,259 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,259 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,259 Line:988 6值：35.00
 [DEBUG] 2017-11-30 20:43:02,261 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,262 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,264 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,264 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,264 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,265 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,265 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,268 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,268 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,268 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,269 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,269 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:02,269 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,271 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,271 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,271 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,277 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0066
 [DEBUG] 2017-11-30 20:43:02,278 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-23
 [DEBUG] 2017-11-30 20:43:02,278 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,279 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,279 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,280 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,280 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,280 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,280 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,280 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,281 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,281 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,281 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,281 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,282 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=406467.40
 [DEBUG] 2017-11-30 20:43:02,282 Line:1322 JXLTOOL.setValue 主表字段BillAmt=406467.40
 [DEBUG] 2017-11-30 20:43:02,282 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市三和物流有限公司
 [DEBUG] 2017-11-30 20:43:02,282 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,282 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,283 Line:1344 JXLTOOL.setValue 明细表字段Amt=406467.40
 [DEBUG] 2017-11-30 20:43:02,283 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=406467.40
 [DEBUG] 2017-11-30 20:43:02,283 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,283 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,303 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,304 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,304 Line:5872 2:2d6dcd1b_1711302043023020173
 [DEBUG] 2017-11-30 20:43:02,304 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,304 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,304 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,304 Line:5872 6:OE0066
 [DEBUG] 2017-11-30 20:43:02,305 Line:5872 7:2017-10-23
 [DEBUG] 2017-11-30 20:43:02,305 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,305 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,305 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,305 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,305 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,306 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,306 Line:5872 14:406467.4
 [DEBUG] 2017-11-30 20:43:02,306 Line:5872 15:406467.4
 [DEBUG] 2017-11-30 20:43:02,306 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,306 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,306 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,307 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,307 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,307 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,307 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,307 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,307 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,308 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,308 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,308 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,308 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,308 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,308 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,309 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,309 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,309 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,309 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,309 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,309 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,313 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,313 Line:5872 1:2d6dcd1b_1711302043023020173
 [DEBUG] 2017-11-30 20:43:02,313 Line:5872 2:2d6dcd1b_1711302043023130174
 [DEBUG] 2017-11-30 20:43:02,313 Line:5872 3:东莞市三和物流有限公司
 [DEBUG] 2017-11-30 20:43:02,313 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,314 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,314 Line:5872 6:406467.4
 [DEBUG] 2017-11-30 20:43:02,314 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,314 Line:5872 8:406467.4
 [DEBUG] 2017-11-30 20:43:02,314 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,314 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,315 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,315 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,315 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,315 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,315 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,329 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,331 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,331 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,333 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,333 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,335 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,335 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,335 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,336 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,337 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,338 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,338 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,338 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,339 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,339 Line:988 2值：2d6dcd1b_1711302043023020173
 [DEBUG] 2017-11-30 20:43:02,340 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,342 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,346 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:43:02,346 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,347 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,348 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,348 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,348 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,376 Line:1043 ---上述语句时间---28
 [DEBUG] 2017-11-30 20:43:02,377 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,378 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,379 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,379 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,379 Line:988 1值：2d6dcd1b_1711302043023020173
 [DEBUG] 2017-11-30 20:43:02,380 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,381 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,381 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,382 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,383 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,383 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,383 Line:988 1值：2d6dcd1b_1711302043023020173
 [DEBUG] 2017-11-30 20:43:02,385 Line:1025 query condition columnName:SumDetAmt----value:406467.4
 [DEBUG] 2017-11-30 20:43:02,385 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,385 Line:313 exeCondition:tblExpense_Add : 406467.4 != 406467.40
 [DEBUG] 2017-11-30 20:43:02,387 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,387 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,387 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,388 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,388 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,388 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,388 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,388 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,389 Line:988 6值：406467.40
 [DEBUG] 2017-11-30 20:43:02,392 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:02,392 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,393 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,394 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,394 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,394 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,394 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,395 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,395 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,396 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,396 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,396 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,396 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,398 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,398 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,398 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,401 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0067
 [DEBUG] 2017-11-30 20:43:02,402 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-23
 [DEBUG] 2017-11-30 20:43:02,402 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,402 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,402 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,403 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,403 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,403 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,403 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,403 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,403 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,404 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,404 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,404 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,404 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1059736.50
 [DEBUG] 2017-11-30 20:43:02,404 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1059736.50
 [DEBUG] 2017-11-30 20:43:02,404 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:02,405 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,405 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,405 Line:1344 JXLTOOL.setValue 明细表字段Amt=1059736.50
 [DEBUG] 2017-11-30 20:43:02,405 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1059736.50
 [DEBUG] 2017-11-30 20:43:02,405 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,406 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,422 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 2:2d6dcd1b_1711302043024210175
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 6:OE0067
 [DEBUG] 2017-11-30 20:43:02,423 Line:5872 7:2017-10-23
 [DEBUG] 2017-11-30 20:43:02,424 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,424 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,424 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,424 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,424 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 14:1059736.5
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 15:1059736.5
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,425 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,426 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,427 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,428 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,428 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,429 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,429 Line:5872 1:2d6dcd1b_1711302043024210175
 [DEBUG] 2017-11-30 20:43:02,429 Line:5872 2:2d6dcd1b_1711302043024290176
 [DEBUG] 2017-11-30 20:43:02,430 Line:5872 3:广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:02,430 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,430 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,430 Line:5872 6:1059736.5
 [DEBUG] 2017-11-30 20:43:02,430 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,430 Line:5872 8:1059736.5
 [DEBUG] 2017-11-30 20:43:02,431 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,431 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,431 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,431 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,431 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,431 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,432 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,434 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,436 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,436 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,437 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,438 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,439 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,440 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,440 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,440 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,442 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,442 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,443 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,443 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,443 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,444 Line:988 2值：2d6dcd1b_1711302043024210175
 [DEBUG] 2017-11-30 20:43:02,444 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,445 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,445 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,446 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,447 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,447 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,448 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,448 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,450 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,450 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,452 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,452 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,452 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,453 Line:988 1值：2d6dcd1b_1711302043024210175
 [DEBUG] 2017-11-30 20:43:02,455 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,455 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,456 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,457 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,458 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,459 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,459 Line:988 1值：2d6dcd1b_1711302043024210175
 [DEBUG] 2017-11-30 20:43:02,461 Line:1025 query condition columnName:SumDetAmt----value:1059736.5
 [DEBUG] 2017-11-30 20:43:02,461 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,461 Line:313 exeCondition:tblExpense_Add : 1059736.5 != 1059736.50
 [DEBUG] 2017-11-30 20:43:02,463 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,464 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,464 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,464 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,464 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,464 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,465 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,465 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,465 Line:988 6值：1059736.50
 [DEBUG] 2017-11-30 20:43:02,467 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:02,468 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,469 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,469 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,469 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,469 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,470 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,471 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,471 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,471 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,471 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,472 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,472 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,474 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,474 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,474 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,483 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0068
 [DEBUG] 2017-11-30 20:43:02,483 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-23
 [DEBUG] 2017-11-30 20:43:02,483 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,483 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,484 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,484 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,484 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,484 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,485 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,485 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,485 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,485 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,485 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,485 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,486 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=144348.00
 [DEBUG] 2017-11-30 20:43:02,486 Line:1322 JXLTOOL.setValue 主表字段BillAmt=144348.00
 [DEBUG] 2017-11-30 20:43:02,486 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州尧恩贸易有限公司
 [DEBUG] 2017-11-30 20:43:02,486 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,486 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,486 Line:1344 JXLTOOL.setValue 明细表字段Amt=144348.00
 [DEBUG] 2017-11-30 20:43:02,487 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=144348.00
 [DEBUG] 2017-11-30 20:43:02,487 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,487 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,503 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 2:2d6dcd1b_1711302043025020177
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 6:OE0068
 [DEBUG] 2017-11-30 20:43:02,504 Line:5872 7:2017-10-23
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 14:144348.0
 [DEBUG] 2017-11-30 20:43:02,505 Line:5872 15:144348.0
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,506 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,507 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,508 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,508 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,508 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,508 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,508 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,509 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,510 Line:5872 1:2d6dcd1b_1711302043025020177
 [DEBUG] 2017-11-30 20:43:02,510 Line:5872 2:2d6dcd1b_1711302043025090178
 [DEBUG] 2017-11-30 20:43:02,510 Line:5872 3:广州尧恩贸易有限公司
 [DEBUG] 2017-11-30 20:43:02,510 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,510 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,510 Line:5872 6:144348.0
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 8:144348.0
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,511 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,512 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,514 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,515 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,516 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,517 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,517 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,518 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,518 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,518 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,519 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,519 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,520 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,520 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,520 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,520 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,521 Line:988 2值：2d6dcd1b_1711302043025020177
 [DEBUG] 2017-11-30 20:43:02,521 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,522 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,522 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,522 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,523 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,524 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,524 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,524 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,525 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,526 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,527 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,527 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,527 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,527 Line:988 1值：2d6dcd1b_1711302043025020177
 [DEBUG] 2017-11-30 20:43:02,528 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,529 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,529 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,530 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,530 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,530 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,530 Line:988 1值：2d6dcd1b_1711302043025020177
 [DEBUG] 2017-11-30 20:43:02,532 Line:1025 query condition columnName:SumDetAmt----value:144348.0
 [DEBUG] 2017-11-30 20:43:02,532 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,532 Line:313 exeCondition:tblExpense_Add : 144348.0 != 144348.00
 [DEBUG] 2017-11-30 20:43:02,533 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,533 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,533 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,534 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,534 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,534 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,534 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,534 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,535 Line:988 6值：144348.00
 [DEBUG] 2017-11-30 20:43:02,536 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,537 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,538 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,538 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,538 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,538 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,538 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,539 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,539 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,539 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,539 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,540 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,540 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,541 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,541 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,541 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,544 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0069
 [DEBUG] 2017-11-30 20:43:02,545 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-23
 [DEBUG] 2017-11-30 20:43:02,545 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,545 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,545 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,546 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,546 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,546 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,546 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,546 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,547 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,547 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,547 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,547 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,547 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=21442.02
 [DEBUG] 2017-11-30 20:43:02,547 Line:1322 JXLTOOL.setValue 主表字段BillAmt=21442.02
 [DEBUG] 2017-11-30 20:43:02,548 Line:1344 JXLTOOL.setValue 明细表字段Remark=李慧
 [DEBUG] 2017-11-30 20:43:02,548 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,548 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,548 Line:1344 JXLTOOL.setValue 明细表字段Amt=21442.02
 [DEBUG] 2017-11-30 20:43:02,548 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=21442.02
 [DEBUG] 2017-11-30 20:43:02,548 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,549 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,567 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 2:2d6dcd1b_1711302043025660179
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 6:OE0069
 [DEBUG] 2017-11-30 20:43:02,568 Line:5872 7:2017-10-23
 [DEBUG] 2017-11-30 20:43:02,569 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,569 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,569 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,569 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,569 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,569 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,570 Line:5872 14:21442.02
 [DEBUG] 2017-11-30 20:43:02,570 Line:5872 15:21442.02
 [DEBUG] 2017-11-30 20:43:02,570 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,570 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,570 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,571 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,571 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,571 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,571 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,571 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,571 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,572 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,572 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,572 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,573 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,573 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,573 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,573 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,578 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,579 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,579 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,579 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,580 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,583 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045782580
 [DEBUG] 2017-11-30 20:43:02,584 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045782580,];
 [DEBUG] 2017-11-30 20:43:02,589 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,589 Line:5872 1:2d6dcd1b_1711302043025660179
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 2:2d6dcd1b_1711302043025890180
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 3:李慧
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 6:21442.02
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,590 Line:5872 8:21442.02
 [DEBUG] 2017-11-30 20:43:02,591 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,591 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,591 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,591 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,591 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,592 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,592 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,611 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,613 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,613 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,614 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,615 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,616 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,616 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,616 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,617 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,618 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,618 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,619 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,619 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,619 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,620 Line:988 2值：2d6dcd1b_1711302043025660179
 [DEBUG] 2017-11-30 20:43:02,620 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,622 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,623 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:02,623 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,625 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,625 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,625 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,629 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,631 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:02,632 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,633 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,634 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,634 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,634 Line:988 1值：2d6dcd1b_1711302043025660179
 [DEBUG] 2017-11-30 20:43:02,658 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,659 Line:1043 ---上述语句时间---25
 [DEBUG] 2017-11-30 20:43:02,659 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,661 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,661 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,661 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,662 Line:988 1值：2d6dcd1b_1711302043025660179
 [DEBUG] 2017-11-30 20:43:02,684 Line:1025 query condition columnName:SumDetAmt----value:21442.02
 [DEBUG] 2017-11-30 20:43:02,684 Line:1043 ---上述语句时间---23
 [DEBUG] 2017-11-30 20:43:02,685 Line:313 exeCondition:tblExpense_Add : 21442.02 != 21442.02
 [DEBUG] 2017-11-30 20:43:02,686 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,686 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,687 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,687 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,687 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,687 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,687 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,688 Line:988 6值：21442.02
 [DEBUG] 2017-11-30 20:43:02,690 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:02,690 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,692 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,692 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,692 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,692 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,693 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,693 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,694 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,694 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,694 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,694 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,695 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,696 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,696 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,697 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,701 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0070
 [DEBUG] 2017-11-30 20:43:02,701 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-24
 [DEBUG] 2017-11-30 20:43:02,702 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,702 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,703 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,703 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,703 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,703 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,703 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,703 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,704 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,704 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,704 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,704 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,705 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.00
 [DEBUG] 2017-11-30 20:43:02,705 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.00
 [DEBUG] 2017-11-30 20:43:02,705 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,705 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,705 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.00
 [DEBUG] 2017-11-30 20:43:02,706 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.00
 [DEBUG] 2017-11-30 20:43:02,706 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,706 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,727 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,728 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,728 Line:5872 2:2d6dcd1b_1711302043027260181
 [DEBUG] 2017-11-30 20:43:02,728 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,728 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,728 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,729 Line:5872 6:OE0070
 [DEBUG] 2017-11-30 20:43:02,729 Line:5872 7:2017-10-24
 [DEBUG] 2017-11-30 20:43:02,729 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,729 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,729 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,729 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 14:1.0
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 15:1.0
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,730 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,731 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,731 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,732 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,732 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,732 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,732 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,732 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,733 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,733 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,733 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,733 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,733 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,734 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,734 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,734 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,734 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,734 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,735 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,737 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,737 Line:5872 1:2d6dcd1b_1711302043027260181
 [DEBUG] 2017-11-30 20:43:02,737 Line:5872 2:2d6dcd1b_1711302043027370182
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 6:1.0
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 8:1.0
 [DEBUG] 2017-11-30 20:43:02,738 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,739 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,739 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,739 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,739 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,739 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,739 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,742 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,743 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,744 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,745 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,746 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,747 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,747 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,747 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,749 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,750 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,750 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,750 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,750 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,751 Line:988 2值：2d6dcd1b_1711302043027260181
 [DEBUG] 2017-11-30 20:43:02,751 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,752 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,752 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,753 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,754 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,754 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,754 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,755 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,756 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,756 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,758 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,758 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,759 Line:988 1值：2d6dcd1b_1711302043027260181
 [DEBUG] 2017-11-30 20:43:02,762 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,762 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:02,762 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,766 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,766 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,766 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,767 Line:988 1值：2d6dcd1b_1711302043027260181
 [DEBUG] 2017-11-30 20:43:02,771 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-11-30 20:43:02,772 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:02,772 Line:313 exeCondition:tblExpense_Add : 1.0 != 1.00
 [DEBUG] 2017-11-30 20:43:02,773 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,774 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,774 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,774 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,774 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,774 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,775 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,775 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,775 Line:988 6值：1.00
 [DEBUG] 2017-11-30 20:43:02,778 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:02,779 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,780 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,781 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,781 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,781 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,782 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,783 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,783 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,783 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,783 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,783 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,784 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,785 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,785 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,785 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,788 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0071
 [DEBUG] 2017-11-30 20:43:02,789 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-24
 [DEBUG] 2017-11-30 20:43:02,789 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,789 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,790 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,790 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,790 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,790 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,790 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,790 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,791 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,791 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,791 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,791 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,792 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.80
 [DEBUG] 2017-11-30 20:43:02,792 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.80
 [DEBUG] 2017-11-30 20:43:02,792 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,792 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,793 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.80
 [DEBUG] 2017-11-30 20:43:02,793 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.80
 [DEBUG] 2017-11-30 20:43:02,793 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,793 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,840 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,840 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,840 Line:5872 2:2d6dcd1b_1711302043028390183
 [DEBUG] 2017-11-30 20:43:02,840 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,841 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,841 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,841 Line:5872 6:OE0071
 [DEBUG] 2017-11-30 20:43:02,841 Line:5872 7:2017-10-24
 [DEBUG] 2017-11-30 20:43:02,841 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,841 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,842 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,842 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,842 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,842 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,842 Line:5872 14:0.8
 [DEBUG] 2017-11-30 20:43:02,842 Line:5872 15:0.8
 [DEBUG] 2017-11-30 20:43:02,843 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,843 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,843 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,843 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,843 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,843 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,844 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,844 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,844 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,844 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,844 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,844 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,845 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,845 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,845 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,845 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,845 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,845 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,846 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,846 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,846 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,847 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 1:2d6dcd1b_1711302043028390183
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 2:2d6dcd1b_1711302043028470184
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 6:0.8
 [DEBUG] 2017-11-30 20:43:02,848 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 8:0.8
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,849 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,850 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,852 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,862 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,862 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,863 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,864 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,865 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,865 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,865 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,866 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,866 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,867 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,867 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,868 Line:988 2值：2d6dcd1b_1711302043028390183
 [DEBUG] 2017-11-30 20:43:02,868 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,869 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,869 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,869 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,871 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,871 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,873 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,873 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,874 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,875 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,875 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,875 Line:988 1值：2d6dcd1b_1711302043028390183
 [DEBUG] 2017-11-30 20:43:02,876 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,876 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,876 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,877 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,878 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,878 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,878 Line:988 1值：2d6dcd1b_1711302043028390183
 [DEBUG] 2017-11-30 20:43:02,879 Line:1025 query condition columnName:SumDetAmt----value:0.8
 [DEBUG] 2017-11-30 20:43:02,879 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,879 Line:313 exeCondition:tblExpense_Add : 0.8 != 0.80
 [DEBUG] 2017-11-30 20:43:02,880 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,881 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,881 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,881 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,881 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,881 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,882 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,882 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,882 Line:988 6值：0.80
 [DEBUG] 2017-11-30 20:43:02,883 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,884 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,885 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,885 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,885 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,886 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,886 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,887 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,887 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,888 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,888 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,888 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,888 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,889 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,889 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,890 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,893 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0072
 [DEBUG] 2017-11-30 20:43:02,893 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-24
 [DEBUG] 2017-11-30 20:43:02,894 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,894 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,894 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,894 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,895 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,895 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,895 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,895 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,895 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,895 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,896 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,896 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,896 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=36.19
 [DEBUG] 2017-11-30 20:43:02,896 Line:1322 JXLTOOL.setValue 主表字段BillAmt=36.19
 [DEBUG] 2017-11-30 20:43:02,896 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,896 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,897 Line:1344 JXLTOOL.setValue 明细表字段Amt=36.19
 [DEBUG] 2017-11-30 20:43:02,897 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=36.19
 [DEBUG] 2017-11-30 20:43:02,897 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,897 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,913 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,913 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,913 Line:5872 2:2d6dcd1b_1711302043029110185
 [DEBUG] 2017-11-30 20:43:02,913 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,913 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 6:OE0072
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 7:2017-10-24
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,914 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 14:36.19
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 15:36.19
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,915 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,916 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,917 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,918 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,918 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,918 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,919 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,919 Line:5872 1:2d6dcd1b_1711302043029110185
 [DEBUG] 2017-11-30 20:43:02,919 Line:5872 2:2d6dcd1b_1711302043029190186
 [DEBUG] 2017-11-30 20:43:02,919 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 6:36.19
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 8:36.19
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,920 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,921 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,921 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,921 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,921 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,923 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,924 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,924 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,925 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,926 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,927 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,927 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,928 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,928 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,929 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,929 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,929 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,930 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,930 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,930 Line:988 2值：2d6dcd1b_1711302043029110185
 [DEBUG] 2017-11-30 20:43:02,930 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,931 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,931 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,931 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,932 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,932 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,933 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,933 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,934 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,934 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,935 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,935 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,936 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,936 Line:988 1值：2d6dcd1b_1711302043029110185
 [DEBUG] 2017-11-30 20:43:02,937 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,937 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,937 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,938 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,938 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,938 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,939 Line:988 1值：2d6dcd1b_1711302043029110185
 [DEBUG] 2017-11-30 20:43:02,940 Line:1025 query condition columnName:SumDetAmt----value:36.19
 [DEBUG] 2017-11-30 20:43:02,940 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,940 Line:313 exeCondition:tblExpense_Add : 36.19 != 36.19
 [DEBUG] 2017-11-30 20:43:02,941 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,942 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,942 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,942 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,942 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,942 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,942 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,943 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,943 Line:988 6值：36.19
 [DEBUG] 2017-11-30 20:43:02,945 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,945 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,946 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,946 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,947 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,947 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,947 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,948 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,948 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,948 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,948 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,949 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,949 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,950 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:02,950 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:02,950 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:02,953 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0073
 [DEBUG] 2017-11-30 20:43:02,953 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-25
 [DEBUG] 2017-11-30 20:43:02,953 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,953 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:02,954 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:02,954 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:02,954 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:02,955 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:02,955 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:02,955 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:02,955 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:02,955 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,956 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:02,956 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:02,956 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5000.00
 [DEBUG] 2017-11-30 20:43:02,956 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5000.00
 [DEBUG] 2017-11-30 20:43:02,956 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州沣源化工贸易有限公司
 [DEBUG] 2017-11-30 20:43:02,956 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:02,957 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:02,957 Line:1344 JXLTOOL.setValue 明细表字段Amt=5000.00
 [DEBUG] 2017-11-30 20:43:02,957 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5000.00
 [DEBUG] 2017-11-30 20:43:02,957 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:02,957 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:02,969 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 2:2d6dcd1b_1711302043029690187
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 6:OE0073
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 7:2017-10-25
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:02,970 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 14:5000.0
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 15:5000.0
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:02,971 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:02,972 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 30:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 33:2017-11-30 20:43:02
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:02,973 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:02,974 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:02,974 Line:5872 1:2d6dcd1b_1711302043029690187
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 2:2d6dcd1b_1711302043029740188
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 3:广州沣源化工贸易有限公司
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 6:5000.0
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 8:5000.0
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:02,975 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:02,976 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:02,976 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:02,976 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:02,976 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:02,977 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:02,978 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,979 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:02,980 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,980 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:02,981 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,981 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:02,981 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,981 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:02,982 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:02,982 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,982 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:02,983 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,983 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:02,983 Line:988 2值：2d6dcd1b_1711302043029690187
 [DEBUG] 2017-11-30 20:43:02,983 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:02,984 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:02,984 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:02,984 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,985 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,985 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:02,985 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,986 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:02,986 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,987 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:02,987 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,988 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:02,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,988 Line:988 1值：2d6dcd1b_1711302043029690187
 [DEBUG] 2017-11-30 20:43:02,989 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:02,989 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,989 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:02,990 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,990 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:02,990 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,990 Line:988 1值：2d6dcd1b_1711302043029690187
 [DEBUG] 2017-11-30 20:43:02,991 Line:1025 query condition columnName:SumDetAmt----value:5000.0
 [DEBUG] 2017-11-30 20:43:02,991 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,991 Line:313 exeCondition:tblExpense_Add : 5000.0 != 5000.00
 [DEBUG] 2017-11-30 20:43:02,992 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,993 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:02,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,993 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,993 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:02,993 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:02,993 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:02,993 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:02,993 Line:988 6值：5000.00
 [DEBUG] 2017-11-30 20:43:02,995 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:02,995 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:02,996 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:02,997 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:02,997 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:02,997 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:02,997 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:02,998 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:02,998 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:02,998 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:02,998 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:02,998 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:02,998 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:02,999 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,000 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,000 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,003 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0074
 [DEBUG] 2017-11-30 20:43:03,003 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-25
 [DEBUG] 2017-11-30 20:43:03,004 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,004 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,004 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,004 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,004 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,004 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,005 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=43000.00
 [DEBUG] 2017-11-30 20:43:03,006 Line:1322 JXLTOOL.setValue 主表字段BillAmt=43000.00
 [DEBUG] 2017-11-30 20:43:03,006 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:43:03,006 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,006 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,006 Line:1344 JXLTOOL.setValue 明细表字段Amt=43000.00
 [DEBUG] 2017-11-30 20:43:03,006 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=43000.00
 [DEBUG] 2017-11-30 20:43:03,006 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,006 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,020 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,020 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,020 Line:5872 2:2d6dcd1b_1711302043030190189
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 6:OE0074
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 7:2017-10-25
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,021 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 14:43000.0
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 15:43000.0
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,022 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,023 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,024 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,025 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,025 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,025 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,025 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,027 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,027 Line:5872 1:2d6dcd1b_1711302043030190189
 [DEBUG] 2017-11-30 20:43:03,027 Line:5872 2:2d6dcd1b_1711302043030270190
 [DEBUG] 2017-11-30 20:43:03,027 Line:5872 3:东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:43:03,027 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,027 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 6:43000.0
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 8:43000.0
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,028 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,029 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,029 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,031 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,032 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,032 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,034 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,034 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,036 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,036 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,037 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,037 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,038 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,038 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,038 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,038 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,039 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,039 Line:988 2值：2d6dcd1b_1711302043030190189
 [DEBUG] 2017-11-30 20:43:03,039 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,040 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,040 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,040 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,041 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,041 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,042 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,042 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,043 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,044 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,045 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,045 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,045 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,045 Line:988 1值：2d6dcd1b_1711302043030190189
 [DEBUG] 2017-11-30 20:43:03,062 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,062 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:03,062 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,064 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,064 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,065 Line:988 1值：2d6dcd1b_1711302043030190189
 [DEBUG] 2017-11-30 20:43:03,079 Line:1025 query condition columnName:SumDetAmt----value:43000.0
 [DEBUG] 2017-11-30 20:43:03,079 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:43:03,079 Line:313 exeCondition:tblExpense_Add : 43000.0 != 43000.00
 [DEBUG] 2017-11-30 20:43:03,080 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,081 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,081 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,081 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,081 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,081 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,081 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,082 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,082 Line:988 6值：43000.00
 [DEBUG] 2017-11-30 20:43:03,083 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,083 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,084 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,085 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,085 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,085 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,085 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,086 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,086 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,086 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,086 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,087 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,087 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,088 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,088 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,088 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,091 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0075
 [DEBUG] 2017-11-30 20:43:03,092 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-25
 [DEBUG] 2017-11-30 20:43:03,092 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,092 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,092 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,093 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,094 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,094 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=3955.00
 [DEBUG] 2017-11-30 20:43:03,094 Line:1322 JXLTOOL.setValue 主表字段BillAmt=3955.00
 [DEBUG] 2017-11-30 20:43:03,094 Line:1344 JXLTOOL.setValue 明细表字段Remark=邱秀珍
 [DEBUG] 2017-11-30 20:43:03,094 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,095 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,095 Line:1344 JXLTOOL.setValue 明细表字段Amt=3955.00
 [DEBUG] 2017-11-30 20:43:03,095 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=3955.00
 [DEBUG] 2017-11-30 20:43:03,095 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,095 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,108 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 2:2d6dcd1b_1711302043031070191
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 6:OE0075
 [DEBUG] 2017-11-30 20:43:03,108 Line:5872 7:2017-10-25
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 14:3955.0
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 15:3955.0
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,109 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,110 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,111 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,112 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,112 Line:5872 1:2d6dcd1b_1711302043031070191
 [DEBUG] 2017-11-30 20:43:03,112 Line:5872 2:2d6dcd1b_1711302043031120192
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 3:邱秀珍
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 6:3955.0
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 8:3955.0
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,113 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,114 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,114 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,114 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,114 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,115 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,116 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,117 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,118 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,118 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,119 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,119 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,119 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,120 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,120 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,120 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,120 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,120 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,121 Line:988 2值：2d6dcd1b_1711302043031070191
 [DEBUG] 2017-11-30 20:43:03,121 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,122 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,122 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,122 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,123 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,123 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,124 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,124 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,125 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,125 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,126 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,126 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,126 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,126 Line:988 1值：2d6dcd1b_1711302043031070191
 [DEBUG] 2017-11-30 20:43:03,127 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,127 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,127 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,128 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,128 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,128 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,129 Line:988 1值：2d6dcd1b_1711302043031070191
 [DEBUG] 2017-11-30 20:43:03,129 Line:1025 query condition columnName:SumDetAmt----value:3955.0
 [DEBUG] 2017-11-30 20:43:03,130 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,130 Line:313 exeCondition:tblExpense_Add : 3955.0 != 3955.00
 [DEBUG] 2017-11-30 20:43:03,131 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,131 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,131 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,131 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,131 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,131 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,131 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,132 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,132 Line:988 6值：3955.00
 [DEBUG] 2017-11-30 20:43:03,133 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,133 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,134 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,135 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,135 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,135 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,135 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,136 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,136 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,136 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,136 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,136 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,137 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,138 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,138 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,138 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,141 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0076
 [DEBUG] 2017-11-30 20:43:03,141 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-25
 [DEBUG] 2017-11-30 20:43:03,142 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,142 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,142 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,142 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,142 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,142 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,143 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,143 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,143 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,143 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,143 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,144 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,144 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=9480.76
 [DEBUG] 2017-11-30 20:43:03,144 Line:1322 JXLTOOL.setValue 主表字段BillAmt=9480.76
 [DEBUG] 2017-11-30 20:43:03,144 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市民兴电缆有限公司
 [DEBUG] 2017-11-30 20:43:03,145 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,145 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,145 Line:1344 JXLTOOL.setValue 明细表字段Amt=9480.76
 [DEBUG] 2017-11-30 20:43:03,145 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=9480.76
 [DEBUG] 2017-11-30 20:43:03,145 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,146 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,159 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,159 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 2:2d6dcd1b_1711302043031580193
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 6:OE0076
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 7:2017-10-25
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,160 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 14:9480.76
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 15:9480.76
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,161 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,162 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,163 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,163 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,163 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,163 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,163 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,163 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,165 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 1:2d6dcd1b_1711302043031580193
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 2:2d6dcd1b_1711302043031640194
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 3:东莞市民兴电缆有限公司
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 6:9480.76
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,165 Line:5872 8:9480.76
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,166 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,168 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,169 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,169 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,171 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,171 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,172 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,172 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,172 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,172 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,173 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,174 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,174 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,174 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,174 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,175 Line:988 2值：2d6dcd1b_1711302043031580193
 [DEBUG] 2017-11-30 20:43:03,175 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,176 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,176 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,176 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,177 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,177 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,178 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,178 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,179 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,179 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,181 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,181 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,181 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,181 Line:988 1值：2d6dcd1b_1711302043031580193
 [DEBUG] 2017-11-30 20:43:03,182 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,183 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,183 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,184 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,184 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,184 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,184 Line:988 1值：2d6dcd1b_1711302043031580193
 [DEBUG] 2017-11-30 20:43:03,186 Line:1025 query condition columnName:SumDetAmt----value:9480.76
 [DEBUG] 2017-11-30 20:43:03,186 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,186 Line:313 exeCondition:tblExpense_Add : 9480.76 != 9480.76
 [DEBUG] 2017-11-30 20:43:03,187 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,187 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,188 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,188 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,188 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,188 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,188 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,188 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,189 Line:988 6值：9480.76
 [DEBUG] 2017-11-30 20:43:03,190 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,191 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,192 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,192 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,193 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,193 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,193 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,194 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,194 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,194 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,194 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,195 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,195 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,196 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,196 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,196 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,200 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0077
 [DEBUG] 2017-11-30 20:43:03,201 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-25
 [DEBUG] 2017-11-30 20:43:03,201 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,201 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,201 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,202 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,202 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,202 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,202 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,202 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,202 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,203 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,203 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,203 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,203 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1200.00
 [DEBUG] 2017-11-30 20:43:03,203 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1200.00
 [DEBUG] 2017-11-30 20:43:03,203 Line:1344 JXLTOOL.setValue 明细表字段Remark=中华人民共和国国家知识产权局专利局
 [DEBUG] 2017-11-30 20:43:03,203 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,204 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,204 Line:1344 JXLTOOL.setValue 明细表字段Amt=1200.00
 [DEBUG] 2017-11-30 20:43:03,204 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1200.00
 [DEBUG] 2017-11-30 20:43:03,204 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,204 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,222 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,222 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 2:2d6dcd1b_1711302043032210195
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 6:OE0077
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 7:2017-10-25
 [DEBUG] 2017-11-30 20:43:03,223 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,224 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,224 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,224 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,224 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,224 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,224 Line:5872 14:1200.0
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 15:1200.0
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,225 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,226 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,227 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,229 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,229 Line:5872 1:2d6dcd1b_1711302043032210195
 [DEBUG] 2017-11-30 20:43:03,229 Line:5872 2:2d6dcd1b_1711302043032290196
 [DEBUG] 2017-11-30 20:43:03,229 Line:5872 3:中华人民共和国国家知识产权局专利局
 [DEBUG] 2017-11-30 20:43:03,229 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,229 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,229 Line:5872 6:1200.0
 [DEBUG] 2017-11-30 20:43:03,230 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,230 Line:5872 8:1200.0
 [DEBUG] 2017-11-30 20:43:03,230 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,230 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,230 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,230 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,231 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,231 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,231 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,233 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,234 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,235 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,236 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,236 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,237 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,237 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,237 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,238 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,238 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,239 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,239 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,239 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,240 Line:988 2值：2d6dcd1b_1711302043032210195
 [DEBUG] 2017-11-30 20:43:03,240 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,240 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,241 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,241 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,242 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,242 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,242 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,243 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,244 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,244 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,245 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,245 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,245 Line:988 1值：2d6dcd1b_1711302043032210195
 [DEBUG] 2017-11-30 20:43:03,246 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,246 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,247 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,248 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,248 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,248 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,248 Line:988 1值：2d6dcd1b_1711302043032210195
 [DEBUG] 2017-11-30 20:43:03,249 Line:1025 query condition columnName:SumDetAmt----value:1200.0
 [DEBUG] 2017-11-30 20:43:03,249 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,250 Line:313 exeCondition:tblExpense_Add : 1200.0 != 1200.00
 [DEBUG] 2017-11-30 20:43:03,251 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,251 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,251 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,251 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,251 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,251 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,251 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,251 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,252 Line:988 6值：1200.00
 [DEBUG] 2017-11-30 20:43:03,253 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,253 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,254 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,254 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,255 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,255 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,255 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,256 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,256 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,256 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,256 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,256 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,256 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,257 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,258 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,258 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,260 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0078
 [DEBUG] 2017-11-30 20:43:03,261 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-25
 [DEBUG] 2017-11-30 20:43:03,261 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,261 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,261 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,262 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,263 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,263 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=17600.00
 [DEBUG] 2017-11-30 20:43:03,263 Line:1322 JXLTOOL.setValue 主表字段BillAmt=17600.00
 [DEBUG] 2017-11-30 20:43:03,263 Line:1344 JXLTOOL.setValue 明细表字段Remark=合肥领优营销策划有限公司
 [DEBUG] 2017-11-30 20:43:03,263 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,263 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,264 Line:1344 JXLTOOL.setValue 明细表字段Amt=17600.00
 [DEBUG] 2017-11-30 20:43:03,264 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=17600.00
 [DEBUG] 2017-11-30 20:43:03,264 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,264 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,276 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,276 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 2:2d6dcd1b_1711302043032750197
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 6:OE0078
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 7:2017-10-25
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,277 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 14:17600.0
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 15:17600.0
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,278 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,279 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,280 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,280 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,280 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,280 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,280 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,280 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,281 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,281 Line:5872 1:2d6dcd1b_1711302043032750197
 [DEBUG] 2017-11-30 20:43:03,281 Line:5872 2:2d6dcd1b_1711302043032810198
 [DEBUG] 2017-11-30 20:43:03,281 Line:5872 3:合肥领优营销策划有限公司
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 6:17600.0
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 8:17600.0
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,282 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,283 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,283 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,284 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,285 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,285 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,286 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,286 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,287 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,287 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,287 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,288 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,288 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,288 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,288 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,289 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,289 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,289 Line:988 2值：2d6dcd1b_1711302043032750197
 [DEBUG] 2017-11-30 20:43:03,289 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,290 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,290 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,290 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,291 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,291 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,291 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,291 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,292 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,292 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,293 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,294 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,294 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,294 Line:988 1值：2d6dcd1b_1711302043032750197
 [DEBUG] 2017-11-30 20:43:03,295 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,296 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,296 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,297 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,297 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,297 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,297 Line:988 1值：2d6dcd1b_1711302043032750197
 [DEBUG] 2017-11-30 20:43:03,299 Line:1025 query condition columnName:SumDetAmt----value:17600.0
 [DEBUG] 2017-11-30 20:43:03,299 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,299 Line:313 exeCondition:tblExpense_Add : 17600.0 != 17600.00
 [DEBUG] 2017-11-30 20:43:03,301 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,301 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,301 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,301 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,302 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,302 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,302 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,302 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,302 Line:988 6值：17600.00
 [DEBUG] 2017-11-30 20:43:03,304 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,304 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,306 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,306 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,306 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,306 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,306 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,307 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,307 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,308 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,308 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,308 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,308 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,309 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,309 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,310 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,313 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0079
 [DEBUG] 2017-11-30 20:43:03,313 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-26
 [DEBUG] 2017-11-30 20:43:03,314 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,314 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,314 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,315 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,315 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,315 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,315 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,315 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,316 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,316 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,316 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,316 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,316 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2.00
 [DEBUG] 2017-11-30 20:43:03,317 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2.00
 [DEBUG] 2017-11-30 20:43:03,317 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,317 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,317 Line:1344 JXLTOOL.setValue 明细表字段Amt=2.00
 [DEBUG] 2017-11-30 20:43:03,318 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2.00
 [DEBUG] 2017-11-30 20:43:03,318 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,318 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,333 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,333 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 2:2d6dcd1b_1711302043033320199
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 6:OE0079
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 7:2017-10-26
 [DEBUG] 2017-11-30 20:43:03,334 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,335 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,335 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,335 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,335 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,335 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,335 Line:5872 14:2.0
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 15:2.0
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,336 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,337 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,338 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,340 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,340 Line:5872 1:2d6dcd1b_1711302043033320199
 [DEBUG] 2017-11-30 20:43:03,340 Line:5872 2:2d6dcd1b_1711302043033390200
 [DEBUG] 2017-11-30 20:43:03,340 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:03,340 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,340 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,340 Line:5872 6:2.0
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 8:2.0
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,341 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,342 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,342 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,344 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,345 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,345 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,346 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,346 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,347 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,347 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,348 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,348 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,349 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,349 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,349 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,349 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,350 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,350 Line:988 2值：2d6dcd1b_1711302043033320199
 [DEBUG] 2017-11-30 20:43:03,350 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,351 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,351 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,351 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,353 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,353 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,353 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,354 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,355 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,355 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,357 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,357 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,357 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,358 Line:988 1值：2d6dcd1b_1711302043033320199
 [DEBUG] 2017-11-30 20:43:03,372 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,372 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:43:03,372 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,373 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,374 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,374 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,374 Line:988 1值：2d6dcd1b_1711302043033320199
 [DEBUG] 2017-11-30 20:43:03,388 Line:1025 query condition columnName:SumDetAmt----value:2.0
 [DEBUG] 2017-11-30 20:43:03,388 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:03,388 Line:313 exeCondition:tblExpense_Add : 2.0 != 2.00
 [DEBUG] 2017-11-30 20:43:03,389 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,390 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,390 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,390 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,390 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,390 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,390 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,391 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,391 Line:988 6值：2.00
 [DEBUG] 2017-11-30 20:43:03,392 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,393 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,394 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,394 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,394 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,394 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,394 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,395 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,395 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,395 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,395 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,395 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,396 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,397 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,397 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,397 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,399 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0080
 [DEBUG] 2017-11-30 20:43:03,400 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-26
 [DEBUG] 2017-11-30 20:43:03,400 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,400 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,400 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,401 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,402 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,402 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20.00
 [DEBUG] 2017-11-30 20:43:03,402 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20.00
 [DEBUG] 2017-11-30 20:43:03,402 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,402 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,402 Line:1344 JXLTOOL.setValue 明细表字段Amt=20.00
 [DEBUG] 2017-11-30 20:43:03,402 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20.00
 [DEBUG] 2017-11-30 20:43:03,403 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,403 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,417 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,417 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,417 Line:5872 2:2d6dcd1b_1711302043034160201
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 6:OE0080
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 7:2017-10-26
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,418 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 14:20.0
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 15:20.0
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,419 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,420 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,421 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,421 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,421 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,421 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,421 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,421 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,422 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,422 Line:5872 1:2d6dcd1b_1711302043034160201
 [DEBUG] 2017-11-30 20:43:03,422 Line:5872 2:2d6dcd1b_1711302043034220202
 [DEBUG] 2017-11-30 20:43:03,422 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:03,422 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 6:20.0
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 8:20.0
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,423 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,424 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,425 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,426 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,426 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,427 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,427 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,428 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,428 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,428 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,428 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,429 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,429 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,429 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,429 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,430 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,430 Line:988 2值：2d6dcd1b_1711302043034160201
 [DEBUG] 2017-11-30 20:43:03,430 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,430 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,431 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,431 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,432 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,432 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,432 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,432 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,433 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,433 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,434 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,434 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,435 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,435 Line:988 1值：2d6dcd1b_1711302043034160201
 [DEBUG] 2017-11-30 20:43:03,436 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,436 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,436 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,437 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,437 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,438 Line:988 1值：2d6dcd1b_1711302043034160201
 [DEBUG] 2017-11-30 20:43:03,439 Line:1025 query condition columnName:SumDetAmt----value:20.0
 [DEBUG] 2017-11-30 20:43:03,439 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,439 Line:313 exeCondition:tblExpense_Add : 20.0 != 20.00
 [DEBUG] 2017-11-30 20:43:03,440 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,440 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,440 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,441 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,441 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,441 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,441 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,441 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,441 Line:988 6值：20.00
 [DEBUG] 2017-11-30 20:43:03,443 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,443 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,444 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,444 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,444 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,444 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,445 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,445 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,445 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,446 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,446 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,446 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,446 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,447 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,447 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,447 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,451 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0081
 [DEBUG] 2017-11-30 20:43:03,451 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-26
 [DEBUG] 2017-11-30 20:43:03,451 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,452 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,452 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,452 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,452 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,452 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,453 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,453 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,453 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,453 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,453 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,454 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,454 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.80
 [DEBUG] 2017-11-30 20:43:03,454 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.80
 [DEBUG] 2017-11-30 20:43:03,454 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,454 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,454 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.80
 [DEBUG] 2017-11-30 20:43:03,455 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.80
 [DEBUG] 2017-11-30 20:43:03,455 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,455 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,470 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,470 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,470 Line:5872 2:2d6dcd1b_1711302043034690203
 [DEBUG] 2017-11-30 20:43:03,470 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,470 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 6:OE0081
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 7:2017-10-26
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,471 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,472 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,472 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,472 Line:5872 14:0.8
 [DEBUG] 2017-11-30 20:43:03,472 Line:5872 15:0.8
 [DEBUG] 2017-11-30 20:43:03,472 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,472 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,473 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,473 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,473 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,473 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,473 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,473 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,474 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,474 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,474 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,474 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,475 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,476 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,476 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,478 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,478 Line:5872 1:2d6dcd1b_1711302043034690203
 [DEBUG] 2017-11-30 20:43:03,478 Line:5872 2:2d6dcd1b_1711302043034780204
 [DEBUG] 2017-11-30 20:43:03,478 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:03,478 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,479 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,479 Line:5872 6:0.8
 [DEBUG] 2017-11-30 20:43:03,479 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,479 Line:5872 8:0.8
 [DEBUG] 2017-11-30 20:43:03,479 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,479 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,480 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,480 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,480 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,480 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,480 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,482 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,483 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,483 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,484 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,484 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,485 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,485 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,485 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,485 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,486 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,486 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,486 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,487 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,487 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,487 Line:988 2值：2d6dcd1b_1711302043034690203
 [DEBUG] 2017-11-30 20:43:03,487 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,488 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,488 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,488 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,489 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,489 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,489 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,489 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,490 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,490 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,492 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,492 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,492 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,492 Line:988 1值：2d6dcd1b_1711302043034690203
 [DEBUG] 2017-11-30 20:43:03,493 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,493 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,493 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,494 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,495 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,495 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,495 Line:988 1值：2d6dcd1b_1711302043034690203
 [DEBUG] 2017-11-30 20:43:03,496 Line:1025 query condition columnName:SumDetAmt----value:0.8
 [DEBUG] 2017-11-30 20:43:03,496 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,496 Line:313 exeCondition:tblExpense_Add : 0.8 != 0.80
 [DEBUG] 2017-11-30 20:43:03,497 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,497 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,497 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,498 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,498 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,498 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,498 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,498 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,498 Line:988 6值：0.80
 [DEBUG] 2017-11-30 20:43:03,500 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,500 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,501 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,501 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,501 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,502 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,502 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,502 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,502 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,503 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,503 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,503 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,503 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,504 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,504 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,504 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,508 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0082
 [DEBUG] 2017-11-30 20:43:03,509 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-26
 [DEBUG] 2017-11-30 20:43:03,509 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,509 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,509 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,509 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,509 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,510 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,511 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=58487.18
 [DEBUG] 2017-11-30 20:43:03,511 Line:1322 JXLTOOL.setValue 主表字段BillAmt=58487.18
 [DEBUG] 2017-11-30 20:43:03,511 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市美儒装饰设计工程有限公司
 [DEBUG] 2017-11-30 20:43:03,511 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,511 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,511 Line:1344 JXLTOOL.setValue 明细表字段Amt=58487.18
 [DEBUG] 2017-11-30 20:43:03,511 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=58487.18
 [DEBUG] 2017-11-30 20:43:03,512 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,512 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,523 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,523 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,523 Line:5872 2:2d6dcd1b_1711302043035220205
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 6:OE0082
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 7:2017-10-26
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,524 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 14:58487.18
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 15:58487.18
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,525 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,526 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,527 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,528 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,528 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,529 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 1:2d6dcd1b_1711302043035220205
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 2:2d6dcd1b_1711302043035290206
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 3:东莞市美儒装饰设计工程有限公司
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 6:58487.18
 [DEBUG] 2017-11-30 20:43:03,529 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 8:58487.18
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,530 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,532 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,533 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,533 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,534 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,534 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,535 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,535 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,535 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,536 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,536 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,536 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,537 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,537 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,537 Line:988 2值：2d6dcd1b_1711302043035220205
 [DEBUG] 2017-11-30 20:43:03,537 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,538 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,538 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,538 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,539 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,539 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,539 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,539 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,540 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,540 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,541 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,541 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,541 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,542 Line:988 1值：2d6dcd1b_1711302043035220205
 [DEBUG] 2017-11-30 20:43:03,542 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,542 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,543 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,543 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,544 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,544 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,544 Line:988 1值：2d6dcd1b_1711302043035220205
 [DEBUG] 2017-11-30 20:43:03,546 Line:1025 query condition columnName:SumDetAmt----value:58487.18
 [DEBUG] 2017-11-30 20:43:03,546 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,546 Line:313 exeCondition:tblExpense_Add : 58487.18 != 58487.18
 [DEBUG] 2017-11-30 20:43:03,547 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,547 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,547 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,548 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,548 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,548 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,548 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,548 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,548 Line:988 6值：58487.18
 [DEBUG] 2017-11-30 20:43:03,550 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,551 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,552 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,552 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,552 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,553 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,553 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,554 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,554 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,554 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,554 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,554 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,555 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,556 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,556 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,560 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0083
 [DEBUG] 2017-11-30 20:43:03,560 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-26
 [DEBUG] 2017-11-30 20:43:03,560 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,560 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,561 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,561 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,561 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,562 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,562 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,562 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,563 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,563 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,563 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,563 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,563 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=480000.00
 [DEBUG] 2017-11-30 20:43:03,564 Line:1322 JXLTOOL.setValue 主表字段BillAmt=480000.00
 [DEBUG] 2017-11-30 20:43:03,564 Line:1344 JXLTOOL.setValue 明细表字段Remark=常州中力自动化科技有限公司
 [DEBUG] 2017-11-30 20:43:03,564 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,564 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,564 Line:1344 JXLTOOL.setValue 明细表字段Amt=480000.00
 [DEBUG] 2017-11-30 20:43:03,565 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=480000.00
 [DEBUG] 2017-11-30 20:43:03,565 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,565 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,583 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045783580
 [DEBUG] 2017-11-30 20:43:03,584 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045783580,];
 [DEBUG] 2017-11-30 20:43:03,611 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,611 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,611 Line:5872 2:2d6dcd1b_1711302043036090207
 [DEBUG] 2017-11-30 20:43:03,611 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,612 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,612 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,612 Line:5872 6:OE0083
 [DEBUG] 2017-11-30 20:43:03,612 Line:5872 7:2017-10-26
 [DEBUG] 2017-11-30 20:43:03,612 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,612 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 14:480000.0
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 15:480000.0
 [DEBUG] 2017-11-30 20:43:03,613 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,614 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,615 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,616 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,616 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,616 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,616 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,616 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,616 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,619 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,619 Line:5872 1:2d6dcd1b_1711302043036090207
 [DEBUG] 2017-11-30 20:43:03,619 Line:5872 2:2d6dcd1b_1711302043036190208
 [DEBUG] 2017-11-30 20:43:03,619 Line:5872 3:常州中力自动化科技有限公司
 [DEBUG] 2017-11-30 20:43:03,620 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,620 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,620 Line:5872 6:480000.0
 [DEBUG] 2017-11-30 20:43:03,620 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,620 Line:5872 8:480000.0
 [DEBUG] 2017-11-30 20:43:03,620 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,621 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,621 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,621 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,621 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,621 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,621 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,625 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,626 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,626 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,628 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,628 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,629 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,630 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,630 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,630 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,632 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,632 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,633 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,633 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,633 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,633 Line:988 2值：2d6dcd1b_1711302043036090207
 [DEBUG] 2017-11-30 20:43:03,634 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,635 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,635 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,635 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,637 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,637 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,640 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,640 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,643 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:03,643 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,645 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,645 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,646 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,646 Line:988 1值：2d6dcd1b_1711302043036090207
 [DEBUG] 2017-11-30 20:43:03,647 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,647 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,647 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,663 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,663 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,664 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,664 Line:988 1值：2d6dcd1b_1711302043036090207
 [DEBUG] 2017-11-30 20:43:03,667 Line:1025 query condition columnName:SumDetAmt----value:480000.0
 [DEBUG] 2017-11-30 20:43:03,668 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:03,668 Line:313 exeCondition:tblExpense_Add : 480000.0 != 480000.00
 [DEBUG] 2017-11-30 20:43:03,669 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,670 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,670 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,670 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,670 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,670 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,671 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,671 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,671 Line:988 6值：480000.00
 [DEBUG] 2017-11-30 20:43:03,674 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:03,674 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,676 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,676 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,677 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,677 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,677 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,678 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,679 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,679 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,679 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,679 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,679 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,681 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,681 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,681 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,686 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0084
 [DEBUG] 2017-11-30 20:43:03,687 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-26
 [DEBUG] 2017-11-30 20:43:03,687 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,687 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,688 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,688 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,688 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,688 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,689 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,689 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,689 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,689 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,690 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,690 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,690 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=100000.00
 [DEBUG] 2017-11-30 20:43:03,690 Line:1322 JXLTOOL.setValue 主表字段BillAmt=100000.00
 [DEBUG] 2017-11-30 20:43:03,691 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市梅州商会
 [DEBUG] 2017-11-30 20:43:03,691 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,691 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,691 Line:1344 JXLTOOL.setValue 明细表字段Amt=100000.00
 [DEBUG] 2017-11-30 20:43:03,691 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=100000.00
 [DEBUG] 2017-11-30 20:43:03,692 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,692 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,712 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,712 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 2:2d6dcd1b_1711302043037110209
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 6:OE0084
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 7:2017-10-26
 [DEBUG] 2017-11-30 20:43:03,713 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 14:100000.0
 [DEBUG] 2017-11-30 20:43:03,714 Line:5872 15:100000.0
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,715 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,716 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,717 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,720 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,720 Line:5872 1:2d6dcd1b_1711302043037110209
 [DEBUG] 2017-11-30 20:43:03,720 Line:5872 2:2d6dcd1b_1711302043037200210
 [DEBUG] 2017-11-30 20:43:03,720 Line:5872 3:东莞市梅州商会
 [DEBUG] 2017-11-30 20:43:03,720 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,720 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,721 Line:5872 6:100000.0
 [DEBUG] 2017-11-30 20:43:03,721 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,721 Line:5872 8:100000.0
 [DEBUG] 2017-11-30 20:43:03,721 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,721 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,721 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,722 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,722 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,722 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,722 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,725 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,726 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,727 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,728 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,729 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,730 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,730 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,730 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,731 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,733 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,733 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,733 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,733 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,734 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,734 Line:988 2值：2d6dcd1b_1711302043037110209
 [DEBUG] 2017-11-30 20:43:03,734 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,735 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,735 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,736 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,737 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,737 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,737 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,739 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,740 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,740 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,742 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,742 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,743 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,743 Line:988 1值：2d6dcd1b_1711302043037110209
 [DEBUG] 2017-11-30 20:43:03,767 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,772 Line:1043 ---上述语句时间---30
 [DEBUG] 2017-11-30 20:43:03,772 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,774 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,774 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,774 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,776 Line:988 1值：2d6dcd1b_1711302043037110209
 [DEBUG] 2017-11-30 20:43:03,802 Line:1025 query condition columnName:SumDetAmt----value:100000.0
 [DEBUG] 2017-11-30 20:43:03,802 Line:1043 ---上述语句时间---28
 [DEBUG] 2017-11-30 20:43:03,802 Line:313 exeCondition:tblExpense_Add : 100000.0 != 100000.00
 [DEBUG] 2017-11-30 20:43:03,803 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,803 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,804 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,804 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,804 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,804 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,804 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,805 Line:988 6值：100000.00
 [DEBUG] 2017-11-30 20:43:03,807 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:03,807 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,809 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,809 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,809 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,809 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,809 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,810 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,811 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,811 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,811 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,811 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,811 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,813 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,813 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,813 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,817 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0085
 [DEBUG] 2017-11-30 20:43:03,817 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-27
 [DEBUG] 2017-11-30 20:43:03,818 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,818 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,818 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,818 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,818 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,818 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,819 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,819 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,819 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,819 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,819 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,820 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,820 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2.00
 [DEBUG] 2017-11-30 20:43:03,820 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2.00
 [DEBUG] 2017-11-30 20:43:03,820 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,820 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,820 Line:1344 JXLTOOL.setValue 明细表字段Amt=2.00
 [DEBUG] 2017-11-30 20:43:03,821 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2.00
 [DEBUG] 2017-11-30 20:43:03,821 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,821 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,834 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,834 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,834 Line:5872 2:2d6dcd1b_1711302043038330211
 [DEBUG] 2017-11-30 20:43:03,834 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,834 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 6:OE0085
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 7:2017-10-27
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,835 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 14:2.0
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 15:2.0
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,836 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,837 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,838 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,839 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,839 Line:5872 1:2d6dcd1b_1711302043038330211
 [DEBUG] 2017-11-30 20:43:03,839 Line:5872 2:2d6dcd1b_1711302043038390212
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 6:2.0
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 8:2.0
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,840 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,841 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,841 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,841 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,842 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,843 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,844 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,845 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,845 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,845 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,846 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,846 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,846 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,846 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,847 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,847 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,847 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,847 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,847 Line:988 2值：2d6dcd1b_1711302043038330211
 [DEBUG] 2017-11-30 20:43:03,847 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,848 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,848 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,848 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,849 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,849 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,849 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,850 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,851 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,851 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,852 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,853 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,853 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,853 Line:988 1值：2d6dcd1b_1711302043038330211
 [DEBUG] 2017-11-30 20:43:03,854 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,854 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,854 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,855 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,855 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,856 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,856 Line:988 1值：2d6dcd1b_1711302043038330211
 [DEBUG] 2017-11-30 20:43:03,857 Line:1025 query condition columnName:SumDetAmt----value:2.0
 [DEBUG] 2017-11-30 20:43:03,857 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,857 Line:313 exeCondition:tblExpense_Add : 2.0 != 2.00
 [DEBUG] 2017-11-30 20:43:03,858 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,858 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,858 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,859 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,859 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,859 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,859 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,859 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,859 Line:988 6值：2.00
 [DEBUG] 2017-11-30 20:43:03,861 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,861 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,862 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,862 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,862 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,862 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,862 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,863 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,863 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,863 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,863 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,863 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,864 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,865 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,865 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,865 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,867 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0086
 [DEBUG] 2017-11-30 20:43:03,868 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-27
 [DEBUG] 2017-11-30 20:43:03,868 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,868 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,868 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,868 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,869 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,869 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,869 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,869 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,870 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,870 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,870 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,870 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,870 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=15.00
 [DEBUG] 2017-11-30 20:43:03,870 Line:1322 JXLTOOL.setValue 主表字段BillAmt=15.00
 [DEBUG] 2017-11-30 20:43:03,870 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,870 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,871 Line:1344 JXLTOOL.setValue 明细表字段Amt=15.00
 [DEBUG] 2017-11-30 20:43:03,871 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=15.00
 [DEBUG] 2017-11-30 20:43:03,871 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,871 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,884 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,884 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,884 Line:5872 2:2d6dcd1b_1711302043038820213
 [DEBUG] 2017-11-30 20:43:03,884 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,884 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,884 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 6:OE0086
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 7:2017-10-27
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,885 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 14:15.0
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 15:15.0
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,886 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,887 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,888 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,890 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,890 Line:5872 1:2d6dcd1b_1711302043038820213
 [DEBUG] 2017-11-30 20:43:03,890 Line:5872 2:2d6dcd1b_1711302043038900214
 [DEBUG] 2017-11-30 20:43:03,890 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 6:15.0
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 8:15.0
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,891 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,892 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,892 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,893 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,893 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,896 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,899 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,899 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,902 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,902 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,905 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,905 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,905 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,905 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,906 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,907 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,907 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,907 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,908 Line:988 2值：2d6dcd1b_1711302043038820213
 [DEBUG] 2017-11-30 20:43:03,908 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,909 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,910 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,910 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,911 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,912 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,912 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,912 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,914 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,914 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,915 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,916 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,916 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,916 Line:988 1值：2d6dcd1b_1711302043038820213
 [DEBUG] 2017-11-30 20:43:03,917 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,918 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,918 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,919 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,920 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,920 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,920 Line:988 1值：2d6dcd1b_1711302043038820213
 [DEBUG] 2017-11-30 20:43:03,921 Line:1025 query condition columnName:SumDetAmt----value:15.0
 [DEBUG] 2017-11-30 20:43:03,922 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,922 Line:313 exeCondition:tblExpense_Add : 15.0 != 15.00
 [DEBUG] 2017-11-30 20:43:03,923 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,924 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,924 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,924 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,925 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,925 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,925 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,925 Line:988 6值：15.00
 [DEBUG] 2017-11-30 20:43:03,928 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:03,928 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,930 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,930 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,930 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,931 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,931 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:03,932 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:03,932 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:03,933 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:03,933 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:03,933 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,933 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:03,935 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:03,935 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:03,935 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:03,940 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0087
 [DEBUG] 2017-11-30 20:43:03,940 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-27
 [DEBUG] 2017-11-30 20:43:03,941 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,941 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:03,942 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:03,942 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:03,942 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:03,942 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:03,943 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:03,943 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:03,943 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:03,943 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,944 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:03,944 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:03,944 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=22000.00
 [DEBUG] 2017-11-30 20:43:03,944 Line:1322 JXLTOOL.setValue 主表字段BillAmt=22000.00
 [DEBUG] 2017-11-30 20:43:03,944 Line:1344 JXLTOOL.setValue 明细表字段Remark=上海鼎典展览展示有限公司
 [DEBUG] 2017-11-30 20:43:03,945 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:03,945 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:03,945 Line:1344 JXLTOOL.setValue 明细表字段Amt=22000.00
 [DEBUG] 2017-11-30 20:43:03,945 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=22000.00
 [DEBUG] 2017-11-30 20:43:03,945 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:03,946 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:03,965 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,965 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:03,965 Line:5872 2:2d6dcd1b_1711302043039640215
 [DEBUG] 2017-11-30 20:43:03,966 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:03,966 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:03,966 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:03,966 Line:5872 6:OE0087
 [DEBUG] 2017-11-30 20:43:03,966 Line:5872 7:2017-10-27
 [DEBUG] 2017-11-30 20:43:03,966 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:03,967 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:03,967 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:03,967 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:03,967 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:03,967 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:03,967 Line:5872 14:22000.0
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 15:22000.0
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:03,968 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:03,969 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:03,969 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:03,969 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:03,969 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:03,969 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:03,969 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 30:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 33:2017-11-30 20:43:03
 [DEBUG] 2017-11-30 20:43:03,970 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:03,971 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:03,971 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:03,972 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:03,973 Line:5872 1:2d6dcd1b_1711302043039640215
 [DEBUG] 2017-11-30 20:43:03,973 Line:5872 2:2d6dcd1b_1711302043039720216
 [DEBUG] 2017-11-30 20:43:03,973 Line:5872 3:上海鼎典展览展示有限公司
 [DEBUG] 2017-11-30 20:43:03,973 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:03,973 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:03,973 Line:5872 6:22000.0
 [DEBUG] 2017-11-30 20:43:03,974 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:03,974 Line:5872 8:22000.0
 [DEBUG] 2017-11-30 20:43:03,974 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:03,974 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:03,974 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:03,975 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:03,975 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:03,975 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:03,975 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:03,977 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:03,979 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,979 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:03,980 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,981 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:03,982 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,982 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:03,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,983 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:03,983 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:03,984 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,984 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:03,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,984 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:03,984 Line:988 2值：2d6dcd1b_1711302043039640215
 [DEBUG] 2017-11-30 20:43:03,985 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:03,985 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:03,986 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,986 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,987 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,987 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:03,987 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,988 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:03,988 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,989 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:03,990 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,990 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:03,990 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,990 Line:988 1值：2d6dcd1b_1711302043039640215
 [DEBUG] 2017-11-30 20:43:03,991 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:03,991 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:03,991 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:03,992 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,993 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:03,993 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,993 Line:988 1值：2d6dcd1b_1711302043039640215
 [DEBUG] 2017-11-30 20:43:03,994 Line:1025 query condition columnName:SumDetAmt----value:22000.0
 [DEBUG] 2017-11-30 20:43:03,994 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:03,994 Line:313 exeCondition:tblExpense_Add : 22000.0 != 22000.00
 [DEBUG] 2017-11-30 20:43:03,995 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,996 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:03,996 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,996 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:03,996 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:03,996 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:03,996 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:03,996 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:03,996 Line:988 6值：22000.00
 [DEBUG] 2017-11-30 20:43:03,998 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:03,998 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:03,999 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:03,999 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:03,999 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:03,999 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,000 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,000 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,001 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,001 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,001 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,001 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,002 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,003 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,003 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,003 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,006 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0088
 [DEBUG] 2017-11-30 20:43:04,007 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-28
 [DEBUG] 2017-11-30 20:43:04,007 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,007 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,008 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,008 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,008 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,008 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,008 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,008 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,009 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,010 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,010 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,010 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,010 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:43:04,010 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:43:04,010 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,011 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,011 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:43:04,011 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:43:04,011 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,011 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,024 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,024 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,024 Line:5872 2:2d6dcd1b_1711302043040230217
 [DEBUG] 2017-11-30 20:43:04,024 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 6:OE0088
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 7:2017-10-28
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,025 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,026 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,027 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,027 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,027 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,027 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,027 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,027 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,028 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,028 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,028 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,028 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,028 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,028 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,029 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,031 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,031 Line:5872 1:2d6dcd1b_1711302043040230217
 [DEBUG] 2017-11-30 20:43:04,031 Line:5872 2:2d6dcd1b_1711302043040310218
 [DEBUG] 2017-11-30 20:43:04,031 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:04,031 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,031 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,032 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,033 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,033 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,035 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,036 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,036 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,037 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,038 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,039 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,039 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,039 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,039 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,040 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,040 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,040 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,040 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,041 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,041 Line:988 2值：2d6dcd1b_1711302043040230217
 [DEBUG] 2017-11-30 20:43:04,041 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,042 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,042 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,042 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,043 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,043 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,043 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,044 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,045 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,045 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,046 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,047 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,047 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,047 Line:988 1值：2d6dcd1b_1711302043040230217
 [DEBUG] 2017-11-30 20:43:04,048 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,048 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,048 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,049 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,050 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,050 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,050 Line:988 1值：2d6dcd1b_1711302043040230217
 [DEBUG] 2017-11-30 20:43:04,051 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:43:04,052 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,052 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:43:04,053 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,054 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,054 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,054 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,054 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,054 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,055 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,055 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,055 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:43:04,058 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:04,058 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,060 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,060 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,060 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,061 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,061 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,062 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,062 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,062 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,062 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,063 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,063 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,064 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,065 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,065 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,069 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0089
 [DEBUG] 2017-11-30 20:43:04,069 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,070 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,070 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,070 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,071 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,071 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,071 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,071 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,072 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,072 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,072 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,072 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,073 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,073 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=53008.00
 [DEBUG] 2017-11-30 20:43:04,073 Line:1322 JXLTOOL.setValue 主表字段BillAmt=53008.00
 [DEBUG] 2017-11-30 20:43:04,073 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市添添印刷有限公司
 [DEBUG] 2017-11-30 20:43:04,073 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,074 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,074 Line:1344 JXLTOOL.setValue 明细表字段Amt=53008.00
 [DEBUG] 2017-11-30 20:43:04,074 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=53008.00
 [DEBUG] 2017-11-30 20:43:04,074 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,075 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,094 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,094 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,094 Line:5872 2:2d6dcd1b_1711302043040920219
 [DEBUG] 2017-11-30 20:43:04,094 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,095 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,095 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,095 Line:5872 6:OE0089
 [DEBUG] 2017-11-30 20:43:04,095 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,096 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,096 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,096 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,096 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,096 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,096 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,097 Line:5872 14:53008.0
 [DEBUG] 2017-11-30 20:43:04,097 Line:5872 15:53008.0
 [DEBUG] 2017-11-30 20:43:04,097 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,097 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,097 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,097 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,098 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,098 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,098 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,098 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,098 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,098 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,099 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,100 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,100 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,100 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,100 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,102 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,102 Line:5872 1:2d6dcd1b_1711302043040920219
 [DEBUG] 2017-11-30 20:43:04,102 Line:5872 2:2d6dcd1b_1711302043041020220
 [DEBUG] 2017-11-30 20:43:04,102 Line:5872 3:广州市添添印刷有限公司
 [DEBUG] 2017-11-30 20:43:04,103 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,103 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,103 Line:5872 6:53008.0
 [DEBUG] 2017-11-30 20:43:04,103 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,103 Line:5872 8:53008.0
 [DEBUG] 2017-11-30 20:43:04,103 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,104 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,104 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,104 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,104 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,104 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,104 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,107 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,109 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,109 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,110 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,111 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,112 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,112 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,113 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,113 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,114 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,114 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,114 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,115 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,115 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,115 Line:988 2值：2d6dcd1b_1711302043040920219
 [DEBUG] 2017-11-30 20:43:04,116 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,116 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,117 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,117 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,118 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,119 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,119 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,120 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,120 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,121 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,121 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,121 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,122 Line:988 1值：2d6dcd1b_1711302043040920219
 [DEBUG] 2017-11-30 20:43:04,134 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,135 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:04,135 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,136 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,136 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,136 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,136 Line:988 1值：2d6dcd1b_1711302043040920219
 [DEBUG] 2017-11-30 20:43:04,148 Line:1025 query condition columnName:SumDetAmt----value:53008.0
 [DEBUG] 2017-11-30 20:43:04,149 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-11-30 20:43:04,149 Line:313 exeCondition:tblExpense_Add : 53008.0 != 53008.00
 [DEBUG] 2017-11-30 20:43:04,150 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,150 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,150 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,150 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,151 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,151 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,151 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,151 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,151 Line:988 6值：53008.00
 [DEBUG] 2017-11-30 20:43:04,152 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,153 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,154 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,154 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,154 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,154 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,154 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,155 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,155 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,155 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,155 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,156 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,156 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,157 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,157 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,158 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,160 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0090
 [DEBUG] 2017-11-30 20:43:04,161 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,161 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,161 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,161 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,161 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,162 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,163 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,163 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5000.00
 [DEBUG] 2017-11-30 20:43:04,163 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5000.00
 [DEBUG] 2017-11-30 20:43:04,163 Line:1344 JXLTOOL.setValue 明细表字段Remark=杭州汀町文化创意有限公司
 [DEBUG] 2017-11-30 20:43:04,163 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,163 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,163 Line:1344 JXLTOOL.setValue 明细表字段Amt=5000.00
 [DEBUG] 2017-11-30 20:43:04,163 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5000.00
 [DEBUG] 2017-11-30 20:43:04,164 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,164 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,178 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,178 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,178 Line:5872 2:2d6dcd1b_1711302043041770221
 [DEBUG] 2017-11-30 20:43:04,178 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,178 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 6:OE0090
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,179 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,180 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,180 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,180 Line:5872 14:5000.0
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 15:5000.0
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,181 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,182 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,183 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,183 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,183 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,183 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,183 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,183 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,184 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,185 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,185 Line:5872 1:2d6dcd1b_1711302043041770221
 [DEBUG] 2017-11-30 20:43:04,185 Line:5872 2:2d6dcd1b_1711302043041850222
 [DEBUG] 2017-11-30 20:43:04,186 Line:5872 3:杭州汀町文化创意有限公司
 [DEBUG] 2017-11-30 20:43:04,186 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,186 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,186 Line:5872 6:5000.0
 [DEBUG] 2017-11-30 20:43:04,186 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,186 Line:5872 8:5000.0
 [DEBUG] 2017-11-30 20:43:04,187 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,187 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,187 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,187 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,187 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,187 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,188 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,189 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,190 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,191 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,192 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,192 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,193 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,193 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,193 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,193 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,194 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,194 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,195 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,195 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,195 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,195 Line:988 2值：2d6dcd1b_1711302043041770221
 [DEBUG] 2017-11-30 20:43:04,195 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,196 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,196 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,196 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,198 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,198 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,199 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,199 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,200 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,200 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,201 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,202 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,202 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,202 Line:988 1值：2d6dcd1b_1711302043041770221
 [DEBUG] 2017-11-30 20:43:04,203 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,203 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,203 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,204 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,205 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,205 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,205 Line:988 1值：2d6dcd1b_1711302043041770221
 [DEBUG] 2017-11-30 20:43:04,206 Line:1025 query condition columnName:SumDetAmt----value:5000.0
 [DEBUG] 2017-11-30 20:43:04,206 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,207 Line:313 exeCondition:tblExpense_Add : 5000.0 != 5000.00
 [DEBUG] 2017-11-30 20:43:04,208 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,208 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,208 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,208 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,208 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,209 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,209 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,209 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,209 Line:988 6值：5000.00
 [DEBUG] 2017-11-30 20:43:04,211 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,211 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,213 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,213 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,213 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,213 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,214 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,215 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,215 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,215 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,215 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,215 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,216 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,217 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,217 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,218 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,221 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0091
 [DEBUG] 2017-11-30 20:43:04,221 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,222 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,222 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,222 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,222 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,222 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,223 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,223 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,223 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,223 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,223 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,223 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,224 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,224 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=6000.00
 [DEBUG] 2017-11-30 20:43:04,224 Line:1322 JXLTOOL.setValue 主表字段BillAmt=6000.00
 [DEBUG] 2017-11-30 20:43:04,224 Line:1344 JXLTOOL.setValue 明细表字段Remark=重庆冬夏文化传媒有限公司
 [DEBUG] 2017-11-30 20:43:04,224 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,224 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,225 Line:1344 JXLTOOL.setValue 明细表字段Amt=6000.00
 [DEBUG] 2017-11-30 20:43:04,225 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=6000.00
 [DEBUG] 2017-11-30 20:43:04,225 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,225 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,238 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 2:2d6dcd1b_1711302043042370223
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 6:OE0091
 [DEBUG] 2017-11-30 20:43:04,239 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,240 Line:5872 14:6000.0
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 15:6000.0
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,241 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,242 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,242 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,242 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,242 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,242 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,242 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,243 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,244 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,244 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,245 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,245 Line:5872 1:2d6dcd1b_1711302043042370223
 [DEBUG] 2017-11-30 20:43:04,245 Line:5872 2:2d6dcd1b_1711302043042450224
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 3:重庆冬夏文化传媒有限公司
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 6:6000.0
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 8:6000.0
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,246 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,247 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,247 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,247 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,247 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,247 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,249 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,250 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,250 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,251 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,251 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,252 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,253 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,253 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,253 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,254 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,254 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,254 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,255 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,255 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,255 Line:988 2值：2d6dcd1b_1711302043042370223
 [DEBUG] 2017-11-30 20:43:04,255 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,256 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,256 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,256 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,257 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,257 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,257 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,258 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,258 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,259 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,260 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,260 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,260 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,260 Line:988 1值：2d6dcd1b_1711302043042370223
 [DEBUG] 2017-11-30 20:43:04,261 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,261 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,261 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,262 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,263 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,263 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,263 Line:988 1值：2d6dcd1b_1711302043042370223
 [DEBUG] 2017-11-30 20:43:04,264 Line:1025 query condition columnName:SumDetAmt----value:6000.0
 [DEBUG] 2017-11-30 20:43:04,264 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,264 Line:313 exeCondition:tblExpense_Add : 6000.0 != 6000.00
 [DEBUG] 2017-11-30 20:43:04,265 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,265 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,265 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,266 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,266 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,266 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,266 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,266 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,266 Line:988 6值：6000.00
 [DEBUG] 2017-11-30 20:43:04,268 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,268 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,269 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,269 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,269 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,269 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,270 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,270 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,271 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,271 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,271 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,271 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,271 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,272 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,273 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,273 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,276 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0092
 [DEBUG] 2017-11-30 20:43:04,276 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,276 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,276 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,277 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,278 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,278 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,278 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2800.00
 [DEBUG] 2017-11-30 20:43:04,278 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2800.00
 [DEBUG] 2017-11-30 20:43:04,278 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞岩舍茶业有限公司
 [DEBUG] 2017-11-30 20:43:04,278 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,278 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,278 Line:1344 JXLTOOL.setValue 明细表字段Amt=2800.00
 [DEBUG] 2017-11-30 20:43:04,279 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2800.00
 [DEBUG] 2017-11-30 20:43:04,279 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,279 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,291 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,291 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,292 Line:5872 2:2d6dcd1b_1711302043042900225
 [DEBUG] 2017-11-30 20:43:04,292 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,292 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,292 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,292 Line:5872 6:OE0092
 [DEBUG] 2017-11-30 20:43:04,292 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 14:2800.0
 [DEBUG] 2017-11-30 20:43:04,293 Line:5872 15:2800.0
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,294 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,295 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,296 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,298 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,298 Line:5872 1:2d6dcd1b_1711302043042900225
 [DEBUG] 2017-11-30 20:43:04,298 Line:5872 2:2d6dcd1b_1711302043042980226
 [DEBUG] 2017-11-30 20:43:04,298 Line:5872 3:东莞岩舍茶业有限公司
 [DEBUG] 2017-11-30 20:43:04,298 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,298 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 6:2800.0
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 8:2800.0
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,299 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,301 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,303 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,303 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,304 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,305 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,306 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,306 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,306 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,306 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,307 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,307 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,307 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,308 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,308 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,308 Line:988 2值：2d6dcd1b_1711302043042900225
 [DEBUG] 2017-11-30 20:43:04,308 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,309 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,309 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,309 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,310 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,311 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,311 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,311 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,312 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,313 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,314 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,314 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,314 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,314 Line:988 1值：2d6dcd1b_1711302043042900225
 [DEBUG] 2017-11-30 20:43:04,315 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,315 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,316 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,317 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,317 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,317 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,317 Line:988 1值：2d6dcd1b_1711302043042900225
 [DEBUG] 2017-11-30 20:43:04,319 Line:1025 query condition columnName:SumDetAmt----value:2800.0
 [DEBUG] 2017-11-30 20:43:04,319 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,319 Line:313 exeCondition:tblExpense_Add : 2800.0 != 2800.00
 [DEBUG] 2017-11-30 20:43:04,321 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,321 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,321 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,321 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,322 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,322 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,322 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,322 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,322 Line:988 6值：2800.00
 [DEBUG] 2017-11-30 20:43:04,325 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:04,326 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,327 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,328 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,328 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,328 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,328 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,329 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,330 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,330 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,330 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,330 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,331 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,332 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,332 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,333 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,336 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0093
 [DEBUG] 2017-11-30 20:43:04,336 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,336 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,337 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,337 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,337 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,337 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,337 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,338 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,338 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,338 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,338 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,338 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,338 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,339 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=16245.00
 [DEBUG] 2017-11-30 20:43:04,339 Line:1322 JXLTOOL.setValue 主表字段BillAmt=16245.00
 [DEBUG] 2017-11-30 20:43:04,339 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市穗N家具有限公司
 [DEBUG] 2017-11-30 20:43:04,339 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,339 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,339 Line:1344 JXLTOOL.setValue 明细表字段Amt=16245.00
 [DEBUG] 2017-11-30 20:43:04,339 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=16245.00
 [DEBUG] 2017-11-30 20:43:04,340 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,340 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,352 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,352 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 2:2d6dcd1b_1711302043043510227
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 6:OE0093
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,353 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,354 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,354 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,354 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,354 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,354 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,354 Line:5872 14:16245.0
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 15:16245.0
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,355 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,356 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,356 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,356 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,356 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,356 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,356 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,357 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,357 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,357 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,357 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,357 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,357 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,358 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,358 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,358 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,359 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,359 Line:5872 1:2d6dcd1b_1711302043043510227
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 2:2d6dcd1b_1711302043043590228
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 3:广州市穗N家具有限公司
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 6:16245.0
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,360 Line:5872 8:16245.0
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,361 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,363 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,364 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,364 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,365 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,366 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,367 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,367 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,367 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,367 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,368 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,368 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,368 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,368 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,369 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,369 Line:988 2值：2d6dcd1b_1711302043043510227
 [DEBUG] 2017-11-30 20:43:04,369 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,370 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,370 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,370 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,372 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,372 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,372 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,373 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,374 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,374 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,376 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,376 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,376 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,376 Line:988 1值：2d6dcd1b_1711302043043510227
 [DEBUG] 2017-11-30 20:43:04,377 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,378 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,378 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,379 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,379 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,380 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,380 Line:988 1值：2d6dcd1b_1711302043043510227
 [DEBUG] 2017-11-30 20:43:04,382 Line:1025 query condition columnName:SumDetAmt----value:16245.0
 [DEBUG] 2017-11-30 20:43:04,382 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,382 Line:313 exeCondition:tblExpense_Add : 16245.0 != 16245.00
 [DEBUG] 2017-11-30 20:43:04,384 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,384 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,384 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,384 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,385 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,385 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,385 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,385 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,386 Line:988 6值：16245.00
 [DEBUG] 2017-11-30 20:43:04,388 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:04,388 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,391 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,392 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,392 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,393 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,393 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,405 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,406 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,406 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,406 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,406 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:04,407 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,409 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,410 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,410 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,417 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0094
 [DEBUG] 2017-11-30 20:43:04,417 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,417 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,418 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,418 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,419 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,419 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,419 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,419 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,419 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,420 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,420 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,420 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,420 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,421 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2081.15
 [DEBUG] 2017-11-30 20:43:04,421 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2081.15
 [DEBUG] 2017-11-30 20:43:04,421 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市三和物流有限公司
 [DEBUG] 2017-11-30 20:43:04,421 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,421 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,422 Line:1344 JXLTOOL.setValue 明细表字段Amt=2081.15
 [DEBUG] 2017-11-30 20:43:04,422 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2081.15
 [DEBUG] 2017-11-30 20:43:04,422 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,422 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,442 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,443 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,443 Line:5872 2:2d6dcd1b_1711302043044410229
 [DEBUG] 2017-11-30 20:43:04,443 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,443 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,444 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,444 Line:5872 6:OE0094
 [DEBUG] 2017-11-30 20:43:04,444 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,444 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,445 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,445 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,445 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,445 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,445 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,445 Line:5872 14:2081.15
 [DEBUG] 2017-11-30 20:43:04,446 Line:5872 15:2081.15
 [DEBUG] 2017-11-30 20:43:04,446 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,446 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,446 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,446 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,446 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,447 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,447 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,447 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,447 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,447 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,447 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,448 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,448 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,448 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,448 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,448 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,448 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,449 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,449 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,449 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,449 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,450 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 1:2d6dcd1b_1711302043044410229
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 2:2d6dcd1b_1711302043044500230
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 3:东莞市三和物流有限公司
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 6:2081.15
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,451 Line:5872 8:2081.15
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,452 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,454 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,455 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,455 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,456 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,457 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,457 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,458 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,458 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,458 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,459 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,459 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,459 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,460 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,460 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,460 Line:988 2值：2d6dcd1b_1711302043044410229
 [DEBUG] 2017-11-30 20:43:04,460 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,461 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,462 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,462 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,463 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,463 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,464 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,465 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,465 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,466 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,466 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,466 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,467 Line:988 1值：2d6dcd1b_1711302043044410229
 [DEBUG] 2017-11-30 20:43:04,485 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,485 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-11-30 20:43:04,486 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,487 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,487 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,487 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,487 Line:988 1值：2d6dcd1b_1711302043044410229
 [DEBUG] 2017-11-30 20:43:04,500 Line:1025 query condition columnName:SumDetAmt----value:2081.15
 [DEBUG] 2017-11-30 20:43:04,500 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-11-30 20:43:04,500 Line:313 exeCondition:tblExpense_Add : 2081.15 != 2081.15
 [DEBUG] 2017-11-30 20:43:04,501 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,501 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,501 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,502 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,502 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,502 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,502 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,502 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,502 Line:988 6值：2081.15
 [DEBUG] 2017-11-30 20:43:04,504 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,504 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,505 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,505 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,505 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,505 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,505 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,506 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,506 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,506 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,506 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,507 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,507 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,508 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,508 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,508 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,511 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0095
 [DEBUG] 2017-11-30 20:43:04,511 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,511 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,511 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,512 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,512 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,512 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,512 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,512 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,512 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,513 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,513 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,513 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,513 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,513 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=3000.00
 [DEBUG] 2017-11-30 20:43:04,513 Line:1322 JXLTOOL.setValue 主表字段BillAmt=3000.00
 [DEBUG] 2017-11-30 20:43:04,513 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市鑫鹏叉车有限公司
 [DEBUG] 2017-11-30 20:43:04,514 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,514 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,514 Line:1344 JXLTOOL.setValue 明细表字段Amt=3000.00
 [DEBUG] 2017-11-30 20:43:04,514 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=3000.00
 [DEBUG] 2017-11-30 20:43:04,514 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,514 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,526 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,526 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,526 Line:5872 2:2d6dcd1b_1711302043045250231
 [DEBUG] 2017-11-30 20:43:04,526 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 6:OE0095
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,527 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 14:3000.0
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 15:3000.0
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,528 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,529 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,530 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,530 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,530 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,530 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,530 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,530 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,531 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,531 Line:5872 1:2d6dcd1b_1711302043045250231
 [DEBUG] 2017-11-30 20:43:04,531 Line:5872 2:2d6dcd1b_1711302043045310232
 [DEBUG] 2017-11-30 20:43:04,531 Line:5872 3:东莞市鑫鹏叉车有限公司
 [DEBUG] 2017-11-30 20:43:04,531 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 6:3000.0
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 8:3000.0
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,532 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,533 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,534 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,535 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,535 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,536 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,536 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,537 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,537 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,537 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,537 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,538 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,538 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,538 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,538 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,539 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,539 Line:988 2值：2d6dcd1b_1711302043045250231
 [DEBUG] 2017-11-30 20:43:04,539 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,539 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,540 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,540 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,541 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,541 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,541 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,542 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,543 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,543 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,544 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,544 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,544 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,544 Line:988 1值：2d6dcd1b_1711302043045250231
 [DEBUG] 2017-11-30 20:43:04,545 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,545 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,546 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,546 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,547 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,547 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,547 Line:988 1值：2d6dcd1b_1711302043045250231
 [DEBUG] 2017-11-30 20:43:04,548 Line:1025 query condition columnName:SumDetAmt----value:3000.0
 [DEBUG] 2017-11-30 20:43:04,548 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,549 Line:313 exeCondition:tblExpense_Add : 3000.0 != 3000.00
 [DEBUG] 2017-11-30 20:43:04,550 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,550 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,550 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,550 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,550 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,551 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,551 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,551 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,551 Line:988 6值：3000.00
 [DEBUG] 2017-11-30 20:43:04,553 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,553 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,554 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,555 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,555 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,555 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,555 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,556 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,556 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,556 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,557 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,557 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,557 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,558 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,559 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,559 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,563 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0096
 [DEBUG] 2017-11-30 20:43:04,563 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-30
 [DEBUG] 2017-11-30 20:43:04,563 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,564 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,564 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,564 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,564 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,565 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,565 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,565 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,565 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,565 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,566 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,566 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,566 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2313.35
 [DEBUG] 2017-11-30 20:43:04,566 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2313.35
 [DEBUG] 2017-11-30 20:43:04,566 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:04,566 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,567 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,567 Line:1344 JXLTOOL.setValue 明细表字段Amt=2313.35
 [DEBUG] 2017-11-30 20:43:04,567 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2313.35
 [DEBUG] 2017-11-30 20:43:04,568 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,569 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,596 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045784589
 [DEBUG] 2017-11-30 20:43:04,597 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045784589,];
 [DEBUG] 2017-11-30 20:43:04,621 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,621 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,621 Line:5872 2:2d6dcd1b_1711302043046180233
 [DEBUG] 2017-11-30 20:43:04,622 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,622 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,622 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,622 Line:5872 6:OE0096
 [DEBUG] 2017-11-30 20:43:04,622 Line:5872 7:2017-10-30
 [DEBUG] 2017-11-30 20:43:04,623 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,623 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,623 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,623 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,623 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,623 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,624 Line:5872 14:2313.35
 [DEBUG] 2017-11-30 20:43:04,624 Line:5872 15:2313.35
 [DEBUG] 2017-11-30 20:43:04,624 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,624 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,624 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,624 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,625 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,625 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,625 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,625 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,626 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,626 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,626 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,626 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,626 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,626 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,627 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,627 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,627 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,627 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,627 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,628 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,628 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,633 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,634 Line:5872 1:2d6dcd1b_1711302043046180233
 [DEBUG] 2017-11-30 20:43:04,634 Line:5872 2:2d6dcd1b_1711302043046330234
 [DEBUG] 2017-11-30 20:43:04,634 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:04,635 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,635 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,635 Line:5872 6:2313.35
 [DEBUG] 2017-11-30 20:43:04,635 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,635 Line:5872 8:2313.35
 [DEBUG] 2017-11-30 20:43:04,636 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,636 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,636 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,636 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,636 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,636 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,637 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,654 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,657 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,657 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,659 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,659 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,661 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,661 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,661 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,661 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,662 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,663 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,663 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,663 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,663 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,664 Line:988 2值：2d6dcd1b_1711302043046180233
 [DEBUG] 2017-11-30 20:43:04,664 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,665 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,665 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,665 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,666 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,667 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,667 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,667 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,669 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,669 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,670 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,671 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,671 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,671 Line:988 1值：2d6dcd1b_1711302043046180233
 [DEBUG] 2017-11-30 20:43:04,672 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,672 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,673 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,674 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,674 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,674 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,675 Line:988 1值：2d6dcd1b_1711302043046180233
 [DEBUG] 2017-11-30 20:43:04,677 Line:1025 query condition columnName:SumDetAmt----value:2313.35
 [DEBUG] 2017-11-30 20:43:04,677 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,677 Line:313 exeCondition:tblExpense_Add : 2313.35 != 2313.35
 [DEBUG] 2017-11-30 20:43:04,679 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,680 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,680 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,680 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,680 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,680 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,681 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,681 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,681 Line:988 6值：2313.35
 [DEBUG] 2017-11-30 20:43:04,684 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:04,684 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,686 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,686 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,686 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,687 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,688 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,688 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,688 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,688 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,689 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,689 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,690 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,691 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,699 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,707 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0097
 [DEBUG] 2017-11-30 20:43:04,708 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-31
 [DEBUG] 2017-11-30 20:43:04,708 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,708 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,709 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,709 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,710 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,710 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,710 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,710 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,711 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,711 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,711 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,711 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,712 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4.00
 [DEBUG] 2017-11-30 20:43:04,712 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4.00
 [DEBUG] 2017-11-30 20:43:04,712 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,712 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,713 Line:1344 JXLTOOL.setValue 明细表字段Amt=4.00
 [DEBUG] 2017-11-30 20:43:04,713 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4.00
 [DEBUG] 2017-11-30 20:43:04,713 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,713 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,729 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,729 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,729 Line:5872 2:2d6dcd1b_1711302043047270235
 [DEBUG] 2017-11-30 20:43:04,729 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,729 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,729 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,730 Line:5872 6:OE0097
 [DEBUG] 2017-11-30 20:43:04,730 Line:5872 7:2017-10-31
 [DEBUG] 2017-11-30 20:43:04,730 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,730 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,730 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,730 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,731 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,731 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,731 Line:5872 14:4.0
 [DEBUG] 2017-11-30 20:43:04,731 Line:5872 15:4.0
 [DEBUG] 2017-11-30 20:43:04,731 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,731 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,732 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,732 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,732 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,732 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,732 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,732 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,733 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,733 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,733 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,733 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,733 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,733 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,734 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,734 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,734 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,734 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,734 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,734 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,735 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,737 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,737 Line:5872 1:2d6dcd1b_1711302043047270235
 [DEBUG] 2017-11-30 20:43:04,737 Line:5872 2:2d6dcd1b_1711302043047370236
 [DEBUG] 2017-11-30 20:43:04,737 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:04,737 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,737 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 6:4.0
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 8:4.0
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,738 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,739 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,739 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,741 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,742 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,742 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,743 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,744 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,745 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,745 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,745 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,745 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,746 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,746 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:04,746 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,747 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,747 Line:988 2值：2d6dcd1b_1711302043047270235
 [DEBUG] 2017-11-30 20:43:04,747 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,748 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,748 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,748 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,749 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,749 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,749 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,750 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,751 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,751 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,752 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,752 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,752 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,753 Line:988 1值：2d6dcd1b_1711302043047270235
 [DEBUG] 2017-11-30 20:43:04,753 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,754 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,754 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,755 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,755 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,755 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,755 Line:988 1值：2d6dcd1b_1711302043047270235
 [DEBUG] 2017-11-30 20:43:04,756 Line:1025 query condition columnName:SumDetAmt----value:4.0
 [DEBUG] 2017-11-30 20:43:04,757 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,757 Line:313 exeCondition:tblExpense_Add : 4.0 != 4.00
 [DEBUG] 2017-11-30 20:43:04,758 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,759 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,759 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,759 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,760 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,760 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,760 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,760 Line:988 6值：4.00
 [DEBUG] 2017-11-30 20:43:04,764 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:04,764 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,766 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,766 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,766 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,766 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,767 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,768 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,768 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,768 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,768 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,769 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,769 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,770 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,771 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,771 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,775 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0098
 [DEBUG] 2017-11-30 20:43:04,775 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-31
 [DEBUG] 2017-11-30 20:43:04,775 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,776 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,776 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,776 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,776 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,776 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,777 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,777 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,777 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,777 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,778 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,778 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,778 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:43:04,778 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:43:04,778 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,778 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,779 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:43:04,779 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:43:04,779 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,779 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,798 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,798 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,798 Line:5872 2:2d6dcd1b_1711302043047970237
 [DEBUG] 2017-11-30 20:43:04,799 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,799 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,799 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,799 Line:5872 6:OE0098
 [DEBUG] 2017-11-30 20:43:04,799 Line:5872 7:2017-10-31
 [DEBUG] 2017-11-30 20:43:04,800 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,800 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,800 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,800 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,800 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,800 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,801 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,802 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,802 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,802 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,802 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,802 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,802 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,803 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,804 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,804 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,804 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,805 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,806 Line:5872 1:2d6dcd1b_1711302043047970237
 [DEBUG] 2017-11-30 20:43:04,806 Line:5872 2:2d6dcd1b_1711302043048050238
 [DEBUG] 2017-11-30 20:43:04,806 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:04,806 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,806 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,806 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:43:04,807 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,807 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:43:04,807 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,807 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,807 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,807 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,808 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,808 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,808 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,810 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,811 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,811 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,812 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,812 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,814 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,814 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,814 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,814 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,815 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,816 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,816 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,816 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,816 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,817 Line:988 2值：2d6dcd1b_1711302043047970237
 [DEBUG] 2017-11-30 20:43:04,817 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,818 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,818 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,818 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,820 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,820 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,820 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,821 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,822 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,822 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,824 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,824 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,824 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,825 Line:988 1值：2d6dcd1b_1711302043047970237
 [DEBUG] 2017-11-30 20:43:04,826 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,826 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,827 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,828 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,828 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,828 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,829 Line:988 1值：2d6dcd1b_1711302043047970237
 [DEBUG] 2017-11-30 20:43:04,830 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:43:04,830 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,831 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:43:04,832 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,832 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,833 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,833 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,833 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,833 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,833 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,833 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,834 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:43:04,836 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:04,837 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,838 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,839 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,839 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,839 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,839 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,843 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,843 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,843 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,843 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,843 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:04,844 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,845 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,846 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,846 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,851 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0099
 [DEBUG] 2017-11-30 20:43:04,851 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-31
 [DEBUG] 2017-11-30 20:43:04,851 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,851 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,852 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,852 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,852 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,852 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,853 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,853 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,853 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,854 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,854 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,854 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,854 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20.00
 [DEBUG] 2017-11-30 20:43:04,854 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20.00
 [DEBUG] 2017-11-30 20:43:04,855 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,855 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,855 Line:1344 JXLTOOL.setValue 明细表字段Amt=20.00
 [DEBUG] 2017-11-30 20:43:04,855 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20.00
 [DEBUG] 2017-11-30 20:43:04,855 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,856 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,874 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,874 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,874 Line:5872 2:2d6dcd1b_1711302043048720239
 [DEBUG] 2017-11-30 20:43:04,874 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,874 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,875 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,875 Line:5872 6:OE0099
 [DEBUG] 2017-11-30 20:43:04,875 Line:5872 7:2017-10-31
 [DEBUG] 2017-11-30 20:43:04,875 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,875 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,875 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,876 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,876 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,876 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,876 Line:5872 14:20.0
 [DEBUG] 2017-11-30 20:43:04,876 Line:5872 15:20.0
 [DEBUG] 2017-11-30 20:43:04,876 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,877 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,877 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,877 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,877 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,877 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,878 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,879 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,880 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,881 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,881 Line:5872 1:2d6dcd1b_1711302043048720239
 [DEBUG] 2017-11-30 20:43:04,881 Line:5872 2:2d6dcd1b_1711302043048810240
 [DEBUG] 2017-11-30 20:43:04,881 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:04,881 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,882 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,882 Line:5872 6:20.0
 [DEBUG] 2017-11-30 20:43:04,882 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,882 Line:5872 8:20.0
 [DEBUG] 2017-11-30 20:43:04,882 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,883 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,883 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,883 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,883 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,883 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,883 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,885 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,886 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,887 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,888 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,888 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:04,889 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,890 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:04,890 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,890 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:04,892 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:04,892 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,893 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:04,893 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,893 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:04,893 Line:988 2值：2d6dcd1b_1711302043048720239
 [DEBUG] 2017-11-30 20:43:04,894 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:04,895 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:04,895 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,896 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,897 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,897 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:04,898 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,898 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:04,905 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:43:04,906 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:04,907 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,907 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:04,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,908 Line:988 1值：2d6dcd1b_1711302043048720239
 [DEBUG] 2017-11-30 20:43:04,926 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:04,926 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-11-30 20:43:04,926 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:04,927 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,927 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:04,928 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,928 Line:988 1值：2d6dcd1b_1711302043048720239
 [DEBUG] 2017-11-30 20:43:04,943 Line:1025 query condition columnName:SumDetAmt----value:20.0
 [DEBUG] 2017-11-30 20:43:04,944 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:04,944 Line:313 exeCondition:tblExpense_Add : 20.0 != 20.00
 [DEBUG] 2017-11-30 20:43:04,945 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,945 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:04,945 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,946 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,946 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:04,946 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:04,946 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:04,946 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:04,946 Line:988 6值：20.00
 [DEBUG] 2017-11-30 20:43:04,948 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:04,949 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:04,950 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,950 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:04,950 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:04,950 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:04,951 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:04,951 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:04,952 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:04,952 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:04,952 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:04,952 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:04,953 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:04,954 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:04,954 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:04,955 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:04,960 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0100
 [DEBUG] 2017-11-30 20:43:04,960 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-31
 [DEBUG] 2017-11-30 20:43:04,961 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,961 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:04,961 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:04,962 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:04,962 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:04,962 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:04,962 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:04,962 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:04,963 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:04,963 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,963 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:04,963 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:04,964 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=3.00
 [DEBUG] 2017-11-30 20:43:04,964 Line:1322 JXLTOOL.setValue 主表字段BillAmt=3.00
 [DEBUG] 2017-11-30 20:43:04,964 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:04,964 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:04,964 Line:1344 JXLTOOL.setValue 明细表字段Amt=3.00
 [DEBUG] 2017-11-30 20:43:04,965 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=3.00
 [DEBUG] 2017-11-30 20:43:04,965 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:04,965 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:04,984 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,985 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:04,985 Line:5872 2:2d6dcd1b_1711302043049830241
 [DEBUG] 2017-11-30 20:43:04,985 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:04,985 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 6:OE0100
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 7:2017-10-31
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:04,986 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:04,987 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:04,987 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:04,987 Line:5872 14:3.0
 [DEBUG] 2017-11-30 20:43:04,987 Line:5872 15:3.0
 [DEBUG] 2017-11-30 20:43:04,987 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:04,987 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:04,988 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:04,988 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:04,988 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:04,988 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:04,988 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:04,988 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:04,989 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:04,989 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:04,989 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:04,989 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:04,989 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:04,989 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 30:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 33:2017-11-30 20:43:04
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:04,990 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:04,992 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:04,993 Line:5872 1:2d6dcd1b_1711302043049830241
 [DEBUG] 2017-11-30 20:43:04,993 Line:5872 2:2d6dcd1b_1711302043049920242
 [DEBUG] 2017-11-30 20:43:04,993 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:04,993 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:04,993 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:04,993 Line:5872 6:3.0
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 8:3.0
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:04,994 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:04,996 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:04,997 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,997 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:04,998 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:04,999 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,000 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,000 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,000 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,000 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,001 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,001 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,001 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,002 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,002 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,002 Line:988 2值：2d6dcd1b_1711302043049830241
 [DEBUG] 2017-11-30 20:43:05,002 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,003 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,003 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,004 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,005 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,005 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,005 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,005 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,006 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,007 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,008 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,009 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,009 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,009 Line:988 1值：2d6dcd1b_1711302043049830241
 [DEBUG] 2017-11-30 20:43:05,010 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,010 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,010 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,011 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,011 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,011 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,011 Line:988 1值：2d6dcd1b_1711302043049830241
 [DEBUG] 2017-11-30 20:43:05,012 Line:1025 query condition columnName:SumDetAmt----value:3.0
 [DEBUG] 2017-11-30 20:43:05,012 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,012 Line:313 exeCondition:tblExpense_Add : 3.0 != 3.00
 [DEBUG] 2017-11-30 20:43:05,013 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,014 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,014 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,014 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,014 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,014 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,014 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,015 Line:988 6值：3.00
 [DEBUG] 2017-11-30 20:43:05,016 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,016 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,017 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,017 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,018 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,018 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,018 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,018 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,019 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,019 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,019 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,019 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,019 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,020 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,020 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,021 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,023 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0101
 [DEBUG] 2017-11-30 20:43:05,023 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-31
 [DEBUG] 2017-11-30 20:43:05,023 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,024 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,024 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,024 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,024 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,024 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,025 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,025 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,025 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,025 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,025 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,026 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,026 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=70296.84
 [DEBUG] 2017-11-30 20:43:05,026 Line:1322 JXLTOOL.setValue 主表字段BillAmt=70296.84
 [DEBUG] 2017-11-30 20:43:05,026 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市冠一塑料容器有限公司
 [DEBUG] 2017-11-30 20:43:05,026 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,026 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,027 Line:1344 JXLTOOL.setValue 明细表字段Amt=70296.84
 [DEBUG] 2017-11-30 20:43:05,027 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=70296.84
 [DEBUG] 2017-11-30 20:43:05,027 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,027 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,041 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,041 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,041 Line:5872 2:2d6dcd1b_1711302043050400243
 [DEBUG] 2017-11-30 20:43:05,041 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,041 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 6:OE0101
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 7:2017-10-31
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,042 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 14:70296.84
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 15:70296.84
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,043 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,044 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,045 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,045 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,045 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,045 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,045 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,046 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,046 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,046 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,047 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,047 Line:5872 1:2d6dcd1b_1711302043050400243
 [DEBUG] 2017-11-30 20:43:05,047 Line:5872 2:2d6dcd1b_1711302043050470244
 [DEBUG] 2017-11-30 20:43:05,047 Line:5872 3:东莞市冠一塑料容器有限公司
 [DEBUG] 2017-11-30 20:43:05,047 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 6:70296.84
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 8:70296.84
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,048 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,049 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,050 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,051 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,051 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,052 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,052 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,053 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,053 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,053 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,053 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,055 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,055 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,055 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,056 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,056 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,056 Line:988 2值：2d6dcd1b_1711302043050400243
 [DEBUG] 2017-11-30 20:43:05,056 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,057 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,057 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,058 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,059 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,059 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,059 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,059 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,060 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,061 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,062 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,062 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,062 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,062 Line:988 1值：2d6dcd1b_1711302043050400243
 [DEBUG] 2017-11-30 20:43:05,063 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,063 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,063 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,064 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,064 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,065 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,065 Line:988 1值：2d6dcd1b_1711302043050400243
 [DEBUG] 2017-11-30 20:43:05,066 Line:1025 query condition columnName:SumDetAmt----value:70296.84
 [DEBUG] 2017-11-30 20:43:05,066 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,066 Line:313 exeCondition:tblExpense_Add : 70296.84 != 70296.84
 [DEBUG] 2017-11-30 20:43:05,067 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,068 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,068 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,068 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,068 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,068 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,068 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,068 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,069 Line:988 6值：70296.84
 [DEBUG] 2017-11-30 20:43:05,071 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:05,072 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,073 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,074 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,074 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,074 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,074 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,075 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,076 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,076 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,076 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,076 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,077 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,078 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,078 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,079 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,082 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0102
 [DEBUG] 2017-11-30 20:43:05,083 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-31
 [DEBUG] 2017-11-30 20:43:05,083 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,083 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,084 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,084 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,084 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,084 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,085 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,085 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,086 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,086 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,086 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,086 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,086 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=80000.00
 [DEBUG] 2017-11-30 20:43:05,087 Line:1322 JXLTOOL.setValue 主表字段BillAmt=80000.00
 [DEBUG] 2017-11-30 20:43:05,087 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,087 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,088 Line:1344 JXLTOOL.setValue 明细表字段Amt=80000.00
 [DEBUG] 2017-11-30 20:43:05,088 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=80000.00
 [DEBUG] 2017-11-30 20:43:05,088 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,088 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,106 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 2:2d6dcd1b_1711302043051050245
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 6:OE0102
 [DEBUG] 2017-11-30 20:43:05,107 Line:5872 7:2017-10-31
 [DEBUG] 2017-11-30 20:43:05,108 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,108 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,108 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,108 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,108 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,108 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,109 Line:5872 14:80000.0
 [DEBUG] 2017-11-30 20:43:05,109 Line:5872 15:80000.0
 [DEBUG] 2017-11-30 20:43:05,109 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,109 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,109 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,109 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,110 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,110 Line:5872 21:10
 [DEBUG] 2017-11-30 20:43:05,110 Line:5872 22:10
 [DEBUG] 2017-11-30 20:43:05,110 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,110 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,110 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,111 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,111 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,111 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,111 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,111 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,111 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,112 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,112 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,112 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,112 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,112 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,113 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 1:2d6dcd1b_1711302043051050245
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 2:2d6dcd1b_1711302043051130246
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 6:80000.0
 [DEBUG] 2017-11-30 20:43:05,114 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 8:80000.0
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,115 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,117 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,119 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,119 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,120 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,120 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,121 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,121 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,122 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,122 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,123 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,123 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,123 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,123 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,123 Line:988 2值：2d6dcd1b_1711302043051050245
 [DEBUG] 2017-11-30 20:43:05,123 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,124 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,124 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,124 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,125 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,126 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,126 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,126 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,127 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,127 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,128 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,129 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,129 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,129 Line:988 1值：2d6dcd1b_1711302043051050245
 [DEBUG] 2017-11-30 20:43:05,130 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,130 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,130 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,131 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,131 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,131 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,131 Line:988 1值：2d6dcd1b_1711302043051050245
 [DEBUG] 2017-11-30 20:43:05,132 Line:1025 query condition columnName:SumDetAmt----value:80000.0
 [DEBUG] 2017-11-30 20:43:05,132 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,132 Line:313 exeCondition:tblExpense_Add : 80000.0 != 80000.00
 [DEBUG] 2017-11-30 20:43:05,133 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,134 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,134 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,134 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,134 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,134 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,134 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,134 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,134 Line:988 6值：80000.00
 [DEBUG] 2017-11-30 20:43:05,136 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,136 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,137 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,137 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,137 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,137 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,138 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,138 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,139 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,139 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,139 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,139 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,139 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,140 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,140 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,141 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,144 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0103
 [DEBUG] 2017-11-30 20:43:05,145 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-01
 [DEBUG] 2017-11-30 20:43:05,145 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,145 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,146 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,146 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,146 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,146 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,146 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,147 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,147 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,147 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,147 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,147 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,147 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.00
 [DEBUG] 2017-11-30 20:43:05,148 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.00
 [DEBUG] 2017-11-30 20:43:05,148 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,148 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,148 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.00
 [DEBUG] 2017-11-30 20:43:05,148 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.00
 [DEBUG] 2017-11-30 20:43:05,149 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,149 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,170 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,171 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,171 Line:5872 2:2d6dcd1b_1711302043051690247
 [DEBUG] 2017-11-30 20:43:05,171 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,171 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,171 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,171 Line:5872 6:OE0103
 [DEBUG] 2017-11-30 20:43:05,172 Line:5872 7:2017-11-01
 [DEBUG] 2017-11-30 20:43:05,172 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,172 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,172 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,172 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,172 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,173 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,173 Line:5872 14:1.0
 [DEBUG] 2017-11-30 20:43:05,173 Line:5872 15:1.0
 [DEBUG] 2017-11-30 20:43:05,173 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,173 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,173 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,174 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,174 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,174 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,174 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,174 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,174 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,175 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,175 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,175 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,175 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,175 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,175 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,176 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,176 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,176 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,176 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,176 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,176 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,178 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 1:2d6dcd1b_1711302043051690247
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 2:2d6dcd1b_1711302043051780248
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 6:1.0
 [DEBUG] 2017-11-30 20:43:05,178 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 8:1.0
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,179 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,181 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,183 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,183 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,184 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,184 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,185 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,185 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,185 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,186 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,186 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,186 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,187 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,187 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,187 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,187 Line:988 2值：2d6dcd1b_1711302043051690247
 [DEBUG] 2017-11-30 20:43:05,187 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,188 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,188 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,188 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,189 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,189 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,189 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,189 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,190 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,190 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,191 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,191 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,192 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,192 Line:988 1值：2d6dcd1b_1711302043051690247
 [DEBUG] 2017-11-30 20:43:05,193 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,193 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,193 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,194 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,194 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,194 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,194 Line:988 1值：2d6dcd1b_1711302043051690247
 [DEBUG] 2017-11-30 20:43:05,195 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-11-30 20:43:05,195 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,196 Line:313 exeCondition:tblExpense_Add : 1.0 != 1.00
 [DEBUG] 2017-11-30 20:43:05,196 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,197 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,197 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,197 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,197 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,197 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,198 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,198 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,198 Line:988 6值：1.00
 [DEBUG] 2017-11-30 20:43:05,199 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,200 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,201 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,201 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,201 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,201 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,201 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,202 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,202 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,202 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,203 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,203 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,203 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,204 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,204 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,204 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,207 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0104
 [DEBUG] 2017-11-30 20:43:05,207 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-01
 [DEBUG] 2017-11-30 20:43:05,207 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,207 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,208 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,208 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,208 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,208 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,208 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=30776.07
 [DEBUG] 2017-11-30 20:43:05,209 Line:1322 JXLTOOL.setValue 主表字段BillAmt=30776.07
 [DEBUG] 2017-11-30 20:43:05,209 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:05,210 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,210 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,210 Line:1344 JXLTOOL.setValue 明细表字段Amt=30776.07
 [DEBUG] 2017-11-30 20:43:05,210 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=30776.07
 [DEBUG] 2017-11-30 20:43:05,210 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,210 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,223 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,223 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,223 Line:5872 2:2d6dcd1b_1711302043052220249
 [DEBUG] 2017-11-30 20:43:05,223 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 6:OE0104
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 7:2017-11-01
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,224 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 14:30776.07
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 15:30776.07
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,225 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,226 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,227 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,228 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,228 Line:5872 1:2d6dcd1b_1711302043052220249
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 2:2d6dcd1b_1711302043052280250
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 6:30776.07
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 8:30776.07
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,229 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,230 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,230 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,230 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,230 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,231 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,232 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,233 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,233 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,234 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,234 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,235 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,235 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,235 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,235 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,236 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,236 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,236 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,236 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,236 Line:988 2值：2d6dcd1b_1711302043052220249
 [DEBUG] 2017-11-30 20:43:05,236 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,237 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,237 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,237 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,238 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,238 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,238 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,239 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,239 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,240 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,240 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,241 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,241 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,241 Line:988 1值：2d6dcd1b_1711302043052220249
 [DEBUG] 2017-11-30 20:43:05,255 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,255 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:05,255 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,256 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,256 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,256 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,257 Line:988 1值：2d6dcd1b_1711302043052220249
 [DEBUG] 2017-11-30 20:43:05,270 Line:1025 query condition columnName:SumDetAmt----value:30776.07
 [DEBUG] 2017-11-30 20:43:05,270 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:05,270 Line:313 exeCondition:tblExpense_Add : 30776.07 != 30776.07
 [DEBUG] 2017-11-30 20:43:05,272 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,272 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,272 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,272 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,272 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,272 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,273 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,273 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,273 Line:988 6值：30776.07
 [DEBUG] 2017-11-30 20:43:05,275 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,275 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,277 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,277 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,277 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,277 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,277 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,278 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,279 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,279 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,279 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,279 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,279 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,281 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,281 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,282 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,285 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0105
 [DEBUG] 2017-11-30 20:43:05,285 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,285 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,285 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,286 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,286 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,286 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,286 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,286 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,286 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,287 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,287 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,287 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,287 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,287 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=122250.00
 [DEBUG] 2017-11-30 20:43:05,287 Line:1322 JXLTOOL.setValue 主表字段BillAmt=122250.00
 [DEBUG] 2017-11-30 20:43:05,288 Line:1344 JXLTOOL.setValue 明细表字段Remark=江门江东华普塑料容器有限公司
 [DEBUG] 2017-11-30 20:43:05,288 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,288 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,288 Line:1344 JXLTOOL.setValue 明细表字段Amt=122250.00
 [DEBUG] 2017-11-30 20:43:05,288 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=122250.00
 [DEBUG] 2017-11-30 20:43:05,288 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,288 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,301 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 2:2d6dcd1b_1711302043053010251
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 6:OE0105
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,302 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 14:122250.0
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 15:122250.0
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,303 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,304 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,305 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,306 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,306 Line:5872 1:2d6dcd1b_1711302043053010251
 [DEBUG] 2017-11-30 20:43:05,306 Line:5872 2:2d6dcd1b_1711302043053060252
 [DEBUG] 2017-11-30 20:43:05,306 Line:5872 3:江门江东华普塑料容器有限公司
 [DEBUG] 2017-11-30 20:43:05,307 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,307 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,307 Line:5872 6:122250.0
 [DEBUG] 2017-11-30 20:43:05,307 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,307 Line:5872 8:122250.0
 [DEBUG] 2017-11-30 20:43:05,307 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,308 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,308 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,308 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,308 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,308 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,308 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,310 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,311 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,311 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,312 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,312 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,313 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,313 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,313 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,313 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,314 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,314 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,314 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,315 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,315 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,315 Line:988 2值：2d6dcd1b_1711302043053010251
 [DEBUG] 2017-11-30 20:43:05,315 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,316 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,316 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,316 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,317 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,317 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,318 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,318 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,319 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,319 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,320 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,320 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,320 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,320 Line:988 1值：2d6dcd1b_1711302043053010251
 [DEBUG] 2017-11-30 20:43:05,321 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,321 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,321 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,322 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,322 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,322 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,323 Line:988 1值：2d6dcd1b_1711302043053010251
 [DEBUG] 2017-11-30 20:43:05,323 Line:1025 query condition columnName:SumDetAmt----value:122250.0
 [DEBUG] 2017-11-30 20:43:05,324 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,324 Line:313 exeCondition:tblExpense_Add : 122250.0 != 122250.00
 [DEBUG] 2017-11-30 20:43:05,325 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,325 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,325 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,326 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,326 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,326 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,326 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,326 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,326 Line:988 6值：122250.00
 [DEBUG] 2017-11-30 20:43:05,328 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,328 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,329 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,329 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,329 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,330 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,330 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,330 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,331 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,331 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,331 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,331 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,331 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,332 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,333 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,333 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,336 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0106
 [DEBUG] 2017-11-30 20:43:05,336 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,336 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,337 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,337 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,337 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,337 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,337 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,338 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=26576.00
 [DEBUG] 2017-11-30 20:43:05,339 Line:1322 JXLTOOL.setValue 主表字段BillAmt=26576.00
 [DEBUG] 2017-11-30 20:43:05,339 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市友胜包装制品有限公司
 [DEBUG] 2017-11-30 20:43:05,339 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,339 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,339 Line:1344 JXLTOOL.setValue 明细表字段Amt=26576.00
 [DEBUG] 2017-11-30 20:43:05,339 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=26576.00
 [DEBUG] 2017-11-30 20:43:05,339 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,340 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,351 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 2:2d6dcd1b_1711302043053500253
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 6:OE0106
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,352 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 14:26576.0
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 15:26576.0
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,353 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,354 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,355 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,356 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,356 Line:5872 1:2d6dcd1b_1711302043053500253
 [DEBUG] 2017-11-30 20:43:05,356 Line:5872 2:2d6dcd1b_1711302043053560254
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 3:东莞市友胜包装制品有限公司
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 6:26576.0
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 8:26576.0
 [DEBUG] 2017-11-30 20:43:05,357 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,358 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,358 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,358 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,358 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,358 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,358 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,360 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,361 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,361 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,362 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,362 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,363 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,363 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,363 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,363 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,364 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,364 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,364 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,364 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,364 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,365 Line:988 2值：2d6dcd1b_1711302043053500253
 [DEBUG] 2017-11-30 20:43:05,365 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,365 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,365 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,366 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,367 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,367 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,367 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,367 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,368 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,369 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,370 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,370 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,370 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,370 Line:988 1值：2d6dcd1b_1711302043053500253
 [DEBUG] 2017-11-30 20:43:05,371 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,371 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,372 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,372 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,373 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,373 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,373 Line:988 1值：2d6dcd1b_1711302043053500253
 [DEBUG] 2017-11-30 20:43:05,374 Line:1025 query condition columnName:SumDetAmt----value:26576.0
 [DEBUG] 2017-11-30 20:43:05,374 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,374 Line:313 exeCondition:tblExpense_Add : 26576.0 != 26576.00
 [DEBUG] 2017-11-30 20:43:05,375 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,375 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,375 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,376 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,376 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,376 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,376 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,376 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,376 Line:988 6值：26576.00
 [DEBUG] 2017-11-30 20:43:05,377 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,378 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,379 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,379 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,379 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,379 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,379 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,380 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,380 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,380 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,380 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,380 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,381 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,382 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,382 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,382 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,385 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0107
 [DEBUG] 2017-11-30 20:43:05,385 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,386 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,386 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,386 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,386 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,386 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,386 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=34980.00
 [DEBUG] 2017-11-30 20:43:05,387 Line:1322 JXLTOOL.setValue 主表字段BillAmt=34980.00
 [DEBUG] 2017-11-30 20:43:05,388 Line:1344 JXLTOOL.setValue 明细表字段Remark=北京顶点透视公关顾问有限公司
 [DEBUG] 2017-11-30 20:43:05,388 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,388 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,388 Line:1344 JXLTOOL.setValue 明细表字段Amt=34980.00
 [DEBUG] 2017-11-30 20:43:05,388 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=34980.00
 [DEBUG] 2017-11-30 20:43:05,388 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,388 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,402 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,402 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,402 Line:5872 2:2d6dcd1b_1711302043054010255
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 6:OE0107
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,403 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,404 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,404 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,404 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,404 Line:5872 14:34980.0
 [DEBUG] 2017-11-30 20:43:05,404 Line:5872 15:34980.0
 [DEBUG] 2017-11-30 20:43:05,404 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,405 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,406 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,407 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,407 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,407 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,407 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,408 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,408 Line:5872 1:2d6dcd1b_1711302043054010255
 [DEBUG] 2017-11-30 20:43:05,409 Line:5872 2:2d6dcd1b_1711302043054080256
 [DEBUG] 2017-11-30 20:43:05,409 Line:5872 3:北京顶点透视公关顾问有限公司
 [DEBUG] 2017-11-30 20:43:05,409 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,409 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,409 Line:5872 6:34980.0
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 8:34980.0
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,410 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,411 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,411 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,413 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,414 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,415 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,416 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,416 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,418 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,418 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,418 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,418 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,419 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,419 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,419 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,420 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,420 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,420 Line:988 2值：2d6dcd1b_1711302043054010255
 [DEBUG] 2017-11-30 20:43:05,420 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,421 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,421 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,421 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,423 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,423 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,423 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,424 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,425 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,425 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,427 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,427 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,427 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,427 Line:988 1值：2d6dcd1b_1711302043054010255
 [DEBUG] 2017-11-30 20:43:05,428 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,429 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,429 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,430 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,430 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,430 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,430 Line:988 1值：2d6dcd1b_1711302043054010255
 [DEBUG] 2017-11-30 20:43:05,432 Line:1025 query condition columnName:SumDetAmt----value:34980.0
 [DEBUG] 2017-11-30 20:43:05,432 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,432 Line:313 exeCondition:tblExpense_Add : 34980.0 != 34980.00
 [DEBUG] 2017-11-30 20:43:05,433 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,434 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,434 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,434 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,434 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,434 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,434 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,434 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,435 Line:988 6值：34980.00
 [DEBUG] 2017-11-30 20:43:05,437 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:05,437 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,438 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,439 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,439 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,439 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,439 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,440 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,440 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,440 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,441 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,441 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,441 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,442 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,442 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,443 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,446 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0108
 [DEBUG] 2017-11-30 20:43:05,446 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,447 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,447 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,447 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,448 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,448 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,448 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,448 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,448 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,449 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,449 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,449 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,449 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,450 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=7200.00
 [DEBUG] 2017-11-30 20:43:05,450 Line:1322 JXLTOOL.setValue 主表字段BillAmt=7200.00
 [DEBUG] 2017-11-30 20:43:05,450 Line:1344 JXLTOOL.setValue 明细表字段Remark=北京时代朗润知识产权代理有限公司
 [DEBUG] 2017-11-30 20:43:05,450 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,450 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,450 Line:1344 JXLTOOL.setValue 明细表字段Amt=7200.00
 [DEBUG] 2017-11-30 20:43:05,451 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=7200.00
 [DEBUG] 2017-11-30 20:43:05,451 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,451 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,464 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,464 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,464 Line:5872 2:2d6dcd1b_1711302043054630257
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 6:OE0108
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,465 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 14:7200.0
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 15:7200.0
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,466 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,467 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,468 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,468 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,468 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,468 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,497 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,497 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,497 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,498 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,498 Line:5872 1:2d6dcd1b_1711302043054630257
 [DEBUG] 2017-11-30 20:43:05,498 Line:5872 2:2d6dcd1b_1711302043054980258
 [DEBUG] 2017-11-30 20:43:05,498 Line:5872 3:北京时代朗润知识产权代理有限公司
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 6:7200.0
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 8:7200.0
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,499 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,500 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,500 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,501 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,510 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,510 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,511 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,511 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,512 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,512 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,513 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,513 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,513 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,514 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,514 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,514 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,514 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,514 Line:988 2值：2d6dcd1b_1711302043054630257
 [DEBUG] 2017-11-30 20:43:05,514 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,515 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,515 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,515 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,516 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,516 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,516 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,516 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,517 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,517 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,518 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,519 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,519 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,519 Line:988 1值：2d6dcd1b_1711302043054630257
 [DEBUG] 2017-11-30 20:43:05,520 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,520 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,520 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,521 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,521 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,521 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,521 Line:988 1值：2d6dcd1b_1711302043054630257
 [DEBUG] 2017-11-30 20:43:05,522 Line:1025 query condition columnName:SumDetAmt----value:7200.0
 [DEBUG] 2017-11-30 20:43:05,522 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,522 Line:313 exeCondition:tblExpense_Add : 7200.0 != 7200.00
 [DEBUG] 2017-11-30 20:43:05,523 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,523 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,524 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,524 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,524 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,524 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,524 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,524 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,524 Line:988 6值：7200.00
 [DEBUG] 2017-11-30 20:43:05,526 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,526 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,527 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,527 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,527 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,527 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,527 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,528 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,528 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,528 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,528 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,528 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,529 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,530 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,530 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,530 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,533 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0109
 [DEBUG] 2017-11-30 20:43:05,533 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,533 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,533 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,534 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,534 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,534 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,534 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,534 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,534 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,535 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,535 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,535 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,535 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,535 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=184000.00
 [DEBUG] 2017-11-30 20:43:05,535 Line:1322 JXLTOOL.setValue 主表字段BillAmt=184000.00
 [DEBUG] 2017-11-30 20:43:05,535 Line:1344 JXLTOOL.setValue 明细表字段Remark=江苏东方能源有限公司
 [DEBUG] 2017-11-30 20:43:05,536 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,536 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,536 Line:1344 JXLTOOL.setValue 明细表字段Amt=184000.00
 [DEBUG] 2017-11-30 20:43:05,536 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=184000.00
 [DEBUG] 2017-11-30 20:43:05,536 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,536 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,548 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,548 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,548 Line:5872 2:2d6dcd1b_1711302043055470259
 [DEBUG] 2017-11-30 20:43:05,548 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,548 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,548 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 6:OE0109
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 14:184000.0
 [DEBUG] 2017-11-30 20:43:05,549 Line:5872 15:184000.0
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,550 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,551 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,552 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,552 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,552 Line:5872 1:2d6dcd1b_1711302043055470259
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 2:2d6dcd1b_1711302043055520260
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 3:江苏东方能源有限公司
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 6:184000.0
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,553 Line:5872 8:184000.0
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,554 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,556 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,557 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,558 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,559 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,559 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,560 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,560 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,560 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,561 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,561 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,561 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,562 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,562 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,562 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,562 Line:988 2值：2d6dcd1b_1711302043055470259
 [DEBUG] 2017-11-30 20:43:05,562 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,563 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,563 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,564 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,565 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,565 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,565 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,566 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,567 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,567 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,568 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,568 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,569 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,569 Line:988 1值：2d6dcd1b_1711302043055470259
 [DEBUG] 2017-11-30 20:43:05,583 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045785580
 [DEBUG] 2017-11-30 20:43:05,584 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045785580,];
 [DEBUG] 2017-11-30 20:43:05,590 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,590 Line:1043 ---上述语句时间---22
 [DEBUG] 2017-11-30 20:43:05,590 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,592 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,592 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,592 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,593 Line:988 1值：2d6dcd1b_1711302043055470259
 [DEBUG] 2017-11-30 20:43:05,620 Line:1025 query condition columnName:SumDetAmt----value:184000.0
 [DEBUG] 2017-11-30 20:43:05,620 Line:1043 ---上述语句时间---28
 [DEBUG] 2017-11-30 20:43:05,621 Line:313 exeCondition:tblExpense_Add : 184000.0 != 184000.00
 [DEBUG] 2017-11-30 20:43:05,623 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,623 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,623 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,623 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,624 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,624 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,624 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,624 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,624 Line:988 6值：184000.00
 [DEBUG] 2017-11-30 20:43:05,627 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:05,627 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,629 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,630 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,630 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,630 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,630 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,631 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,632 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,632 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,632 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,632 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,632 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,634 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,634 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,635 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,639 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0110
 [DEBUG] 2017-11-30 20:43:05,639 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,639 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,640 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,640 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,640 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,641 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,641 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,641 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,641 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,642 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,642 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,642 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,642 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,642 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4000.00
 [DEBUG] 2017-11-30 20:43:05,642 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4000.00
 [DEBUG] 2017-11-30 20:43:05,643 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁市强顺汽车运输有限公司
 [DEBUG] 2017-11-30 20:43:05,643 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,643 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,643 Line:1344 JXLTOOL.setValue 明细表字段Amt=4000.00
 [DEBUG] 2017-11-30 20:43:05,643 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4000.00
 [DEBUG] 2017-11-30 20:43:05,644 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,644 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,660 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,660 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,660 Line:5872 2:2d6dcd1b_1711302043056580261
 [DEBUG] 2017-11-30 20:43:05,660 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 6:OE0110
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,661 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 14:4000.0
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 15:4000.0
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,662 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,663 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,663 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,663 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,663 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,663 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,663 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,664 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,664 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,664 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,664 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,664 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,664 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,665 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,665 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,665 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,665 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,665 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,665 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,666 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,666 Line:5872 1:2d6dcd1b_1711302043056580261
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 2:2d6dcd1b_1711302043056660262
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 3:济宁市强顺汽车运输有限公司
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 6:4000.0
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 8:4000.0
 [DEBUG] 2017-11-30 20:43:05,667 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,668 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,668 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,668 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,668 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,668 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,668 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,671 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,672 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,672 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,674 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,674 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,675 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,676 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,676 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,676 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,677 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,678 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,678 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,678 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,678 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,679 Line:988 2值：2d6dcd1b_1711302043056580261
 [DEBUG] 2017-11-30 20:43:05,679 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,680 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,680 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,680 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,682 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,682 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,683 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,683 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,685 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,685 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,686 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,687 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,687 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,687 Line:988 1值：2d6dcd1b_1711302043056580261
 [DEBUG] 2017-11-30 20:43:05,688 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,688 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,689 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,690 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,690 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,690 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,691 Line:988 1值：2d6dcd1b_1711302043056580261
 [DEBUG] 2017-11-30 20:43:05,692 Line:1025 query condition columnName:SumDetAmt----value:4000.0
 [DEBUG] 2017-11-30 20:43:05,692 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,693 Line:313 exeCondition:tblExpense_Add : 4000.0 != 4000.00
 [DEBUG] 2017-11-30 20:43:05,694 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,694 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,695 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,695 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,695 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,695 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,695 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,696 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,696 Line:988 6值：4000.00
 [DEBUG] 2017-11-30 20:43:05,698 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:05,698 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,700 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,700 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,700 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,701 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,701 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,702 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,702 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,702 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,702 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,703 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,703 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,704 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,705 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,705 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,708 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0111
 [DEBUG] 2017-11-30 20:43:05,709 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,709 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,709 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,710 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,710 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,710 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,710 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,710 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,710 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,711 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,711 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,711 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,711 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,711 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=30485.00
 [DEBUG] 2017-11-30 20:43:05,712 Line:1322 JXLTOOL.setValue 主表字段BillAmt=30485.00
 [DEBUG] 2017-11-30 20:43:05,712 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市莞城三丰文具店
 [DEBUG] 2017-11-30 20:43:05,712 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,712 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,712 Line:1344 JXLTOOL.setValue 明细表字段Amt=30485.00
 [DEBUG] 2017-11-30 20:43:05,713 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=30485.00
 [DEBUG] 2017-11-30 20:43:05,713 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,713 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,728 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,728 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,728 Line:5872 2:2d6dcd1b_1711302043057270263
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 6:OE0111
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,729 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 14:30485.0
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 15:30485.0
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,730 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,731 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,732 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,733 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,733 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,734 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,734 Line:5872 1:2d6dcd1b_1711302043057270263
 [DEBUG] 2017-11-30 20:43:05,734 Line:5872 2:2d6dcd1b_1711302043057340264
 [DEBUG] 2017-11-30 20:43:05,734 Line:5872 3:东莞市莞城三丰文具店
 [DEBUG] 2017-11-30 20:43:05,734 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,734 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 6:30485.0
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 8:30485.0
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,735 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,736 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,736 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,736 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,738 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,739 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,739 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,741 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,741 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,742 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,742 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,742 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,742 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,744 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,744 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,744 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,744 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,745 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,745 Line:988 2值：2d6dcd1b_1711302043057270263
 [DEBUG] 2017-11-30 20:43:05,745 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,746 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,746 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,746 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,748 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,748 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,748 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,748 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,750 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,750 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,751 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,752 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,752 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,752 Line:988 1值：2d6dcd1b_1711302043057270263
 [DEBUG] 2017-11-30 20:43:05,753 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,753 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,753 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,754 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,754 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,755 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,755 Line:988 1值：2d6dcd1b_1711302043057270263
 [DEBUG] 2017-11-30 20:43:05,756 Line:1025 query condition columnName:SumDetAmt----value:30485.0
 [DEBUG] 2017-11-30 20:43:05,756 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,756 Line:313 exeCondition:tblExpense_Add : 30485.0 != 30485.00
 [DEBUG] 2017-11-30 20:43:05,757 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,757 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,757 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,757 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,757 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,758 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,758 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,758 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,758 Line:988 6值：30485.00
 [DEBUG] 2017-11-30 20:43:05,760 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,760 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,761 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,761 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,762 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,762 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,762 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,762 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,763 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,763 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,763 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,763 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,763 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,764 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,764 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,765 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,767 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0112
 [DEBUG] 2017-11-30 20:43:05,767 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,767 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,767 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,768 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,768 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,768 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,768 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,768 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,768 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,769 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,769 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,769 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,769 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,769 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=235671.00
 [DEBUG] 2017-11-30 20:43:05,769 Line:1322 JXLTOOL.setValue 主表字段BillAmt=235671.00
 [DEBUG] 2017-11-30 20:43:05,769 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:43:05,770 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,770 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,770 Line:1344 JXLTOOL.setValue 明细表字段Amt=235671.00
 [DEBUG] 2017-11-30 20:43:05,770 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=235671.00
 [DEBUG] 2017-11-30 20:43:05,770 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,770 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,782 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 2:2d6dcd1b_1711302043057820265
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 6:OE0112
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,783 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 14:235671.0
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 15:235671.0
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,784 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,785 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,786 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,787 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,787 Line:5872 1:2d6dcd1b_1711302043057820265
 [DEBUG] 2017-11-30 20:43:05,787 Line:5872 2:2d6dcd1b_1711302043057870266
 [DEBUG] 2017-11-30 20:43:05,787 Line:5872 3:广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:43:05,787 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 6:235671.0
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 8:235671.0
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,788 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,789 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,790 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,791 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,791 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,792 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,792 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,793 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,793 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,793 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,793 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,794 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,795 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,795 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,795 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,795 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,796 Line:988 2值：2d6dcd1b_1711302043057820265
 [DEBUG] 2017-11-30 20:43:05,796 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,796 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,796 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,797 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,798 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,798 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,799 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,799 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,800 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,800 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,801 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,801 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,802 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,802 Line:988 1值：2d6dcd1b_1711302043057820265
 [DEBUG] 2017-11-30 20:43:05,803 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,803 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,803 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,804 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,804 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,805 Line:988 1值：2d6dcd1b_1711302043057820265
 [DEBUG] 2017-11-30 20:43:05,806 Line:1025 query condition columnName:SumDetAmt----value:235671.0
 [DEBUG] 2017-11-30 20:43:05,806 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,807 Line:313 exeCondition:tblExpense_Add : 235671.0 != 235671.00
 [DEBUG] 2017-11-30 20:43:05,808 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,808 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,808 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,808 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,809 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,809 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,809 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,809 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,809 Line:988 6值：235671.00
 [DEBUG] 2017-11-30 20:43:05,811 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,812 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,813 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,814 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,814 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,814 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,814 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,815 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,815 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,815 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,816 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,816 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,816 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,817 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,818 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,818 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,820 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0113
 [DEBUG] 2017-11-30 20:43:05,821 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,821 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,821 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,821 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,821 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,822 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,823 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=658778.70
 [DEBUG] 2017-11-30 20:43:05,823 Line:1322 JXLTOOL.setValue 主表字段BillAmt=658778.70
 [DEBUG] 2017-11-30 20:43:05,823 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:05,823 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,823 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,824 Line:1344 JXLTOOL.setValue 明细表字段Amt=658778.70
 [DEBUG] 2017-11-30 20:43:05,824 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=658778.70
 [DEBUG] 2017-11-30 20:43:05,824 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,824 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,842 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,843 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,843 Line:5872 2:2d6dcd1b_1711302043058400267
 [DEBUG] 2017-11-30 20:43:05,843 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,843 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,844 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,844 Line:5872 6:OE0113
 [DEBUG] 2017-11-30 20:43:05,844 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,844 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,844 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,845 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,845 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,845 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,845 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,845 Line:5872 14:658778.7
 [DEBUG] 2017-11-30 20:43:05,845 Line:5872 15:658778.7
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,846 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,847 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,847 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,847 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,847 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,847 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,847 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,848 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,848 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,848 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,848 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,848 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,848 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,849 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,849 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,850 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,850 Line:5872 1:2d6dcd1b_1711302043058400267
 [DEBUG] 2017-11-30 20:43:05,851 Line:5872 2:2d6dcd1b_1711302043058500268
 [DEBUG] 2017-11-30 20:43:05,851 Line:5872 3:广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:05,851 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,851 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,851 Line:5872 6:658778.7
 [DEBUG] 2017-11-30 20:43:05,851 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,852 Line:5872 8:658778.7
 [DEBUG] 2017-11-30 20:43:05,852 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,852 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,852 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,852 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,852 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,853 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,853 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,855 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,856 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,857 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,858 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,858 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,860 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,860 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,860 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,860 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,861 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,861 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,862 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,862 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,862 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,862 Line:988 2值：2d6dcd1b_1711302043058400267
 [DEBUG] 2017-11-30 20:43:05,863 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,863 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,863 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,864 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,865 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,865 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,866 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,867 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,868 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,869 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,869 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,869 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,869 Line:988 1值：2d6dcd1b_1711302043058400267
 [DEBUG] 2017-11-30 20:43:05,870 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,870 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,870 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,872 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,872 Line:988 1值：2d6dcd1b_1711302043058400267
 [DEBUG] 2017-11-30 20:43:05,873 Line:1025 query condition columnName:SumDetAmt----value:658778.7
 [DEBUG] 2017-11-30 20:43:05,873 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,874 Line:313 exeCondition:tblExpense_Add : 658778.7 != 658778.70
 [DEBUG] 2017-11-30 20:43:05,875 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,875 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,875 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,875 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,875 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,875 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,876 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,876 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,876 Line:988 6值：658778.70
 [DEBUG] 2017-11-30 20:43:05,878 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,878 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,879 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,879 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,879 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,880 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,880 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,881 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,881 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,881 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,881 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,881 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,882 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,883 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,883 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,883 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,886 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0114
 [DEBUG] 2017-11-30 20:43:05,886 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,887 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,887 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,887 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,887 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,887 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,888 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,888 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,888 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,889 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,889 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,889 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,889 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,889 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=78000.00
 [DEBUG] 2017-11-30 20:43:05,890 Line:1322 JXLTOOL.setValue 主表字段BillAmt=78000.00
 [DEBUG] 2017-11-30 20:43:05,890 Line:1344 JXLTOOL.setValue 明细表字段Remark=广东顺业石油化工建设监理有限公司
 [DEBUG] 2017-11-30 20:43:05,890 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,890 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,890 Line:1344 JXLTOOL.setValue 明细表字段Amt=78000.00
 [DEBUG] 2017-11-30 20:43:05,891 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=78000.00
 [DEBUG] 2017-11-30 20:43:05,891 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,891 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:05,910 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,910 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:05,910 Line:5872 2:2d6dcd1b_1711302043059060269
 [DEBUG] 2017-11-30 20:43:05,910 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:05,911 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:05,911 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:05,911 Line:5872 6:OE0114
 [DEBUG] 2017-11-30 20:43:05,911 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:05,911 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:05,911 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 14:78000.0
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 15:78000.0
 [DEBUG] 2017-11-30 20:43:05,912 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:05,913 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:05,913 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:05,913 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:05,913 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:05,913 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:05,914 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:05,914 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:05,914 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:05,914 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:05,914 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:05,914 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:05,915 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:05,915 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:05,915 Line:5872 30:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,915 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:05,915 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:05,915 Line:5872 33:2017-11-30 20:43:05
 [DEBUG] 2017-11-30 20:43:05,916 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:05,916 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:05,916 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:05,918 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:05,918 Line:5872 1:2d6dcd1b_1711302043059060269
 [DEBUG] 2017-11-30 20:43:05,918 Line:5872 2:2d6dcd1b_1711302043059170270
 [DEBUG] 2017-11-30 20:43:05,918 Line:5872 3:广东顺业石油化工建设监理有限公司
 [DEBUG] 2017-11-30 20:43:05,918 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 6:78000.0
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 8:78000.0
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:05,919 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:05,920 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:05,920 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:05,920 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:05,920 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:05,924 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:05,926 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,927 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:05,928 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,928 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:05,930 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,930 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:05,930 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,931 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:05,933 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:05,933 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:05,933 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:05,933 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,934 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:05,934 Line:988 2值：2d6dcd1b_1711302043059060269
 [DEBUG] 2017-11-30 20:43:05,934 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:05,935 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:05,935 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,936 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,937 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,937 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:05,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,938 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:05,939 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,940 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:05,941 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,943 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:05,943 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,944 Line:988 1值：2d6dcd1b_1711302043059060269
 [DEBUG] 2017-11-30 20:43:05,965 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:05,965 Line:1043 ---上述语句时间---22
 [DEBUG] 2017-11-30 20:43:05,965 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:05,967 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,967 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:05,967 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,967 Line:988 1值：2d6dcd1b_1711302043059060269
 [DEBUG] 2017-11-30 20:43:05,981 Line:1025 query condition columnName:SumDetAmt----value:78000.0
 [DEBUG] 2017-11-30 20:43:05,981 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:05,982 Line:313 exeCondition:tblExpense_Add : 78000.0 != 78000.00
 [DEBUG] 2017-11-30 20:43:05,983 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,983 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:05,983 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,983 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,983 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:05,983 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:05,983 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:05,983 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:05,984 Line:988 6值：78000.00
 [DEBUG] 2017-11-30 20:43:05,985 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:05,985 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:05,986 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:05,987 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:05,987 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:05,987 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:05,987 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:05,988 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:05,988 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:05,988 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:05,988 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:05,988 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:05,988 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:05,989 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:05,989 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:05,990 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:05,992 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0115
 [DEBUG] 2017-11-30 20:43:05,992 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:05,993 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,993 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:05,993 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:05,993 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:05,993 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:05,994 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:05,994 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:05,994 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:05,994 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:05,995 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:05,995 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:05,995 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:05,995 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=7770.00
 [DEBUG] 2017-11-30 20:43:05,995 Line:1322 JXLTOOL.setValue 主表字段BillAmt=7770.00
 [DEBUG] 2017-11-30 20:43:05,995 Line:1344 JXLTOOL.setValue 明细表字段Remark=增城市盈昌印铁制罐有限公司
 [DEBUG] 2017-11-30 20:43:05,995 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:05,996 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:05,996 Line:1344 JXLTOOL.setValue 明细表字段Amt=7770.00
 [DEBUG] 2017-11-30 20:43:05,996 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=7770.00
 [DEBUG] 2017-11-30 20:43:05,996 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:05,996 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,009 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 2:2d6dcd1b_1711302043060090271
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 6:OE0115
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:06,010 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 14:7770.0
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 15:7770.0
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,011 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,012 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,013 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,014 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,014 Line:5872 1:2d6dcd1b_1711302043060090271
 [DEBUG] 2017-11-30 20:43:06,014 Line:5872 2:2d6dcd1b_1711302043060140272
 [DEBUG] 2017-11-30 20:43:06,014 Line:5872 3:增城市盈昌印铁制罐有限公司
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 6:7770.0
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 8:7770.0
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,015 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,016 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,016 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,017 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,018 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,018 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,019 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,019 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,020 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,020 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,020 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,021 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,021 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,022 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,022 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,022 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,022 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,022 Line:988 2值：2d6dcd1b_1711302043060090271
 [DEBUG] 2017-11-30 20:43:06,022 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,023 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,023 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,023 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,024 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,025 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,025 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,025 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,026 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,026 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,027 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,027 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,027 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,027 Line:988 1值：2d6dcd1b_1711302043060090271
 [DEBUG] 2017-11-30 20:43:06,028 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,028 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,028 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,029 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,030 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,030 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,030 Line:988 1值：2d6dcd1b_1711302043060090271
 [DEBUG] 2017-11-30 20:43:06,031 Line:1025 query condition columnName:SumDetAmt----value:7770.0
 [DEBUG] 2017-11-30 20:43:06,031 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,031 Line:313 exeCondition:tblExpense_Add : 7770.0 != 7770.00
 [DEBUG] 2017-11-30 20:43:06,032 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,032 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,032 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,032 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,033 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,033 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,033 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,033 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,033 Line:988 6值：7770.00
 [DEBUG] 2017-11-30 20:43:06,035 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,035 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,037 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,037 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,037 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,037 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,038 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,038 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,039 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,039 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,039 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,039 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,039 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,041 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,041 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,042 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,046 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0116
 [DEBUG] 2017-11-30 20:43:06,046 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:06,046 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,047 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,047 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,047 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,047 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,048 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,048 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,048 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,049 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,049 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,049 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,049 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,049 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2688.00
 [DEBUG] 2017-11-30 20:43:06,049 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2688.00
 [DEBUG] 2017-11-30 20:43:06,050 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市新三和酒店有限公司
 [DEBUG] 2017-11-30 20:43:06,050 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,050 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,050 Line:1344 JXLTOOL.setValue 明细表字段Amt=2688.00
 [DEBUG] 2017-11-30 20:43:06,051 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2688.00
 [DEBUG] 2017-11-30 20:43:06,051 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,051 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,065 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,065 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,065 Line:5872 2:2d6dcd1b_1711302043060640273
 [DEBUG] 2017-11-30 20:43:06,066 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,066 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,066 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,066 Line:5872 6:OE0116
 [DEBUG] 2017-11-30 20:43:06,066 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:06,066 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,067 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,067 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,067 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,067 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,067 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,067 Line:5872 14:2688.0
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 15:2688.0
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,068 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,069 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,069 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,069 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,069 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,069 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,069 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,070 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,071 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,071 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,071 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,071 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,071 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,072 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,072 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,072 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,073 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,074 Line:5872 1:2d6dcd1b_1711302043060640273
 [DEBUG] 2017-11-30 20:43:06,074 Line:5872 2:2d6dcd1b_1711302043060730274
 [DEBUG] 2017-11-30 20:43:06,074 Line:5872 3:东莞市新三和酒店有限公司
 [DEBUG] 2017-11-30 20:43:06,074 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,074 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,074 Line:5872 6:2688.0
 [DEBUG] 2017-11-30 20:43:06,075 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,075 Line:5872 8:2688.0
 [DEBUG] 2017-11-30 20:43:06,075 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,075 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,075 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,076 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,076 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,076 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,076 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,078 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,080 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,080 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,082 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,082 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,084 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,084 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,084 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,084 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,085 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,085 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,085 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,086 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,086 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,086 Line:988 2值：2d6dcd1b_1711302043060640273
 [DEBUG] 2017-11-30 20:43:06,086 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,087 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,087 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,087 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,089 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,089 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,089 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,089 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,091 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,091 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,093 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,093 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,093 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,093 Line:988 1值：2d6dcd1b_1711302043060640273
 [DEBUG] 2017-11-30 20:43:06,094 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,094 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,095 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,100 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,100 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,100 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,101 Line:988 1值：2d6dcd1b_1711302043060640273
 [DEBUG] 2017-11-30 20:43:06,103 Line:1025 query condition columnName:SumDetAmt----value:2688.0
 [DEBUG] 2017-11-30 20:43:06,103 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,103 Line:313 exeCondition:tblExpense_Add : 2688.0 != 2688.00
 [DEBUG] 2017-11-30 20:43:06,106 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,106 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,106 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,107 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,107 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,107 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,107 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,107 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,108 Line:988 6值：2688.00
 [DEBUG] 2017-11-30 20:43:06,111 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:06,112 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,114 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,114 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,114 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,115 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,115 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,116 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,117 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,117 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,117 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,117 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,118 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,119 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,120 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,120 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,124 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0117
 [DEBUG] 2017-11-30 20:43:06,124 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-03
 [DEBUG] 2017-11-30 20:43:06,125 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,125 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,125 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,126 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,126 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,126 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,126 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,126 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,126 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,127 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,127 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,127 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,127 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=46995.41
 [DEBUG] 2017-11-30 20:43:06,127 Line:1322 JXLTOOL.setValue 主表字段BillAmt=46995.41
 [DEBUG] 2017-11-30 20:43:06,127 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:06,127 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,128 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,128 Line:1344 JXLTOOL.setValue 明细表字段Amt=46995.41
 [DEBUG] 2017-11-30 20:43:06,128 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=46995.41
 [DEBUG] 2017-11-30 20:43:06,128 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,128 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,141 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,141 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,141 Line:5872 2:2d6dcd1b_1711302043061400275
 [DEBUG] 2017-11-30 20:43:06,141 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,141 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 6:OE0117
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 7:2017-11-03
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,142 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 14:46995.41
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 15:46995.41
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,143 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,144 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,145 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,145 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,145 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,145 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,146 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 1:2d6dcd1b_1711302043061400275
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 2:2d6dcd1b_1711302043061460276
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 6:46995.41
 [DEBUG] 2017-11-30 20:43:06,146 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 8:46995.41
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,147 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,148 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,149 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,151 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,151 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,152 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,152 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,153 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,153 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,153 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,153 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,154 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,154 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,154 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,154 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,154 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,155 Line:988 2值：2d6dcd1b_1711302043061400275
 [DEBUG] 2017-11-30 20:43:06,155 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,155 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,156 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,156 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,157 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,157 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,157 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,157 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,158 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,159 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,159 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,160 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,160 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,160 Line:988 1值：2d6dcd1b_1711302043061400275
 [DEBUG] 2017-11-30 20:43:06,161 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,161 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,161 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,162 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,162 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,162 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,162 Line:988 1值：2d6dcd1b_1711302043061400275
 [DEBUG] 2017-11-30 20:43:06,163 Line:1025 query condition columnName:SumDetAmt----value:46995.41
 [DEBUG] 2017-11-30 20:43:06,163 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,164 Line:313 exeCondition:tblExpense_Add : 46995.41 != 46995.41
 [DEBUG] 2017-11-30 20:43:06,165 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,165 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,165 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,165 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,165 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,165 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,165 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,166 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,166 Line:988 6值：46995.41
 [DEBUG] 2017-11-30 20:43:06,167 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,167 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,168 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,169 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,169 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,169 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,169 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,170 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,170 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,170 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,170 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,170 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,170 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,172 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,172 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,172 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,174 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0118
 [DEBUG] 2017-11-30 20:43:06,174 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-04
 [DEBUG] 2017-11-30 20:43:06,175 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,175 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,176 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,176 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,176 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,176 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,176 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,176 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,177 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,177 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,177 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,177 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,177 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=12.00
 [DEBUG] 2017-11-30 20:43:06,177 Line:1322 JXLTOOL.setValue 主表字段BillAmt=12.00
 [DEBUG] 2017-11-30 20:43:06,177 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,178 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,178 Line:1344 JXLTOOL.setValue 明细表字段Amt=12.00
 [DEBUG] 2017-11-30 20:43:06,178 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=12.00
 [DEBUG] 2017-11-30 20:43:06,178 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,178 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,189 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,190 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,190 Line:5872 2:2d6dcd1b_1711302043061890277
 [DEBUG] 2017-11-30 20:43:06,190 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,190 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,190 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,190 Line:5872 6:OE0118
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 7:2017-11-04
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 14:12.0
 [DEBUG] 2017-11-30 20:43:06,191 Line:5872 15:12.0
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,192 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,193 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,194 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,194 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 1:2d6dcd1b_1711302043061890277
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 2:2d6dcd1b_1711302043061940278
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 6:12.0
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 8:12.0
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,195 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,196 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,196 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,196 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,196 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,196 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,197 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,198 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,199 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,199 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,200 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,200 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,201 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,201 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,201 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,202 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,202 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,202 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,202 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,202 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,203 Line:988 2值：2d6dcd1b_1711302043061890277
 [DEBUG] 2017-11-30 20:43:06,203 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,203 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,204 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,204 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,205 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,205 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,205 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,205 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,206 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,206 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,207 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,207 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,207 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,208 Line:988 1值：2d6dcd1b_1711302043061890277
 [DEBUG] 2017-11-30 20:43:06,208 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,208 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,209 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,209 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,210 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,210 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,210 Line:988 1值：2d6dcd1b_1711302043061890277
 [DEBUG] 2017-11-30 20:43:06,211 Line:1025 query condition columnName:SumDetAmt----value:12.0
 [DEBUG] 2017-11-30 20:43:06,211 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,211 Line:313 exeCondition:tblExpense_Add : 12.0 != 12.00
 [DEBUG] 2017-11-30 20:43:06,212 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,213 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,213 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,213 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,213 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,213 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,213 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,213 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,213 Line:988 6值：12.00
 [DEBUG] 2017-11-30 20:43:06,215 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,215 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,216 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,216 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,217 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,217 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,217 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,217 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,218 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,218 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,218 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,218 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,218 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,219 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,219 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,220 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,223 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0119
 [DEBUG] 2017-11-30 20:43:06,223 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-04
 [DEBUG] 2017-11-30 20:43:06,223 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,223 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,224 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,224 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,224 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,224 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,224 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,225 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,225 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,225 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,225 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,225 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,225 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=100.00
 [DEBUG] 2017-11-30 20:43:06,226 Line:1322 JXLTOOL.setValue 主表字段BillAmt=100.00
 [DEBUG] 2017-11-30 20:43:06,226 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,226 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,226 Line:1344 JXLTOOL.setValue 明细表字段Amt=100.00
 [DEBUG] 2017-11-30 20:43:06,226 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=100.00
 [DEBUG] 2017-11-30 20:43:06,226 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,227 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,239 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,240 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,240 Line:5872 2:2d6dcd1b_1711302043062380279
 [DEBUG] 2017-11-30 20:43:06,240 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,240 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,240 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,240 Line:5872 6:OE0119
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 7:2017-11-04
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,241 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 14:100.0
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 15:100.0
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,242 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,243 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,244 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,245 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,246 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,246 Line:5872 1:2d6dcd1b_1711302043062380279
 [DEBUG] 2017-11-30 20:43:06,246 Line:5872 2:2d6dcd1b_1711302043062460280
 [DEBUG] 2017-11-30 20:43:06,246 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:06,246 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 6:100.0
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 8:100.0
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,247 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,248 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,248 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,248 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,249 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,251 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,251 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,252 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,252 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,253 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,254 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,254 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,254 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,255 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,255 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,256 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,256 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,256 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,256 Line:988 2值：2d6dcd1b_1711302043062380279
 [DEBUG] 2017-11-30 20:43:06,256 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,257 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,258 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,258 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,259 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,260 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,260 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,260 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,261 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,262 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,263 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,263 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,263 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,263 Line:988 1值：2d6dcd1b_1711302043062380279
 [DEBUG] 2017-11-30 20:43:06,278 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,278 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:43:06,278 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,279 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,279 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,279 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,280 Line:988 1值：2d6dcd1b_1711302043062380279
 [DEBUG] 2017-11-30 20:43:06,294 Line:1025 query condition columnName:SumDetAmt----value:100.0
 [DEBUG] 2017-11-30 20:43:06,295 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:06,295 Line:313 exeCondition:tblExpense_Add : 100.0 != 100.00
 [DEBUG] 2017-11-30 20:43:06,296 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,296 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,296 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,297 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,297 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,297 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,297 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,297 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,297 Line:988 6值：100.00
 [DEBUG] 2017-11-30 20:43:06,299 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,299 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,300 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,300 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,300 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,301 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,301 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,301 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,302 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,302 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,302 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,302 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,302 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,303 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,303 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,303 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,306 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0120
 [DEBUG] 2017-11-30 20:43:06,306 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-04
 [DEBUG] 2017-11-30 20:43:06,307 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,307 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,307 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,308 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,308 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,308 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,308 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,308 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,309 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,309 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,309 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,309 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,309 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.80
 [DEBUG] 2017-11-30 20:43:06,309 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.80
 [DEBUG] 2017-11-30 20:43:06,310 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,310 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,310 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.80
 [DEBUG] 2017-11-30 20:43:06,310 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.80
 [DEBUG] 2017-11-30 20:43:06,310 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,310 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,327 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,327 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,327 Line:5872 2:2d6dcd1b_1711302043063250281
 [DEBUG] 2017-11-30 20:43:06,327 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,327 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,328 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,328 Line:5872 6:OE0120
 [DEBUG] 2017-11-30 20:43:06,328 Line:5872 7:2017-11-04
 [DEBUG] 2017-11-30 20:43:06,328 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,328 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,328 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 14:0.8
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 15:0.8
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,329 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,330 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,330 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,330 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,330 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,330 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,330 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,331 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,331 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,331 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,331 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,331 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,331 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,332 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,333 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,333 Line:5872 1:2d6dcd1b_1711302043063250281
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 2:2d6dcd1b_1711302043063330282
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 6:0.8
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 8:0.8
 [DEBUG] 2017-11-30 20:43:06,334 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,335 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,335 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,335 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,335 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,335 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,335 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,337 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,338 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,338 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,339 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,339 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,340 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,340 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,340 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,341 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,341 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,341 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,342 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,342 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,342 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,342 Line:988 2值：2d6dcd1b_1711302043063250281
 [DEBUG] 2017-11-30 20:43:06,342 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,343 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,343 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,343 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,344 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,344 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,344 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,345 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,345 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,346 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,347 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,347 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,347 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,347 Line:988 1值：2d6dcd1b_1711302043063250281
 [DEBUG] 2017-11-30 20:43:06,348 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,348 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,349 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,350 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,350 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,350 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,350 Line:988 1值：2d6dcd1b_1711302043063250281
 [DEBUG] 2017-11-30 20:43:06,351 Line:1025 query condition columnName:SumDetAmt----value:0.8
 [DEBUG] 2017-11-30 20:43:06,352 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,352 Line:313 exeCondition:tblExpense_Add : 0.8 != 0.80
 [DEBUG] 2017-11-30 20:43:06,353 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,353 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,353 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,353 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,353 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,354 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,354 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,354 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,354 Line:988 6值：0.80
 [DEBUG] 2017-11-30 20:43:06,356 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,356 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,357 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,357 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,358 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,358 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,358 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,359 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,359 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,359 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,359 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,359 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,360 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,361 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,361 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,362 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,365 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0121
 [DEBUG] 2017-11-30 20:43:06,365 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-04
 [DEBUG] 2017-11-30 20:43:06,365 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,365 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,366 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,366 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,366 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,366 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,366 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,367 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,367 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,367 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,367 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,367 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,367 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2.00
 [DEBUG] 2017-11-30 20:43:06,368 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2.00
 [DEBUG] 2017-11-30 20:43:06,368 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,368 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,368 Line:1344 JXLTOOL.setValue 明细表字段Amt=2.00
 [DEBUG] 2017-11-30 20:43:06,368 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2.00
 [DEBUG] 2017-11-30 20:43:06,369 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,369 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,382 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,382 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,382 Line:5872 2:2d6dcd1b_1711302043063810283
 [DEBUG] 2017-11-30 20:43:06,382 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,382 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,382 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 6:OE0121
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 7:2017-11-04
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,383 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 14:2.0
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 15:2.0
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,384 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,385 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,386 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,388 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,388 Line:5872 1:2d6dcd1b_1711302043063810283
 [DEBUG] 2017-11-30 20:43:06,388 Line:5872 2:2d6dcd1b_1711302043063880284
 [DEBUG] 2017-11-30 20:43:06,388 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:06,388 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,389 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,389 Line:5872 6:2.0
 [DEBUG] 2017-11-30 20:43:06,389 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,389 Line:5872 8:2.0
 [DEBUG] 2017-11-30 20:43:06,389 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,389 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,390 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,390 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,390 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,390 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,390 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,391 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,393 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,393 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,394 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,394 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,395 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,395 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,395 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,396 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,397 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,397 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,397 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,397 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,397 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,398 Line:988 2值：2d6dcd1b_1711302043063810283
 [DEBUG] 2017-11-30 20:43:06,398 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,398 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,399 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,399 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,400 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,400 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,401 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,402 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,402 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,403 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,404 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,404 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,404 Line:988 1值：2d6dcd1b_1711302043063810283
 [DEBUG] 2017-11-30 20:43:06,405 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,405 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,405 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,406 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,407 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,407 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,407 Line:988 1值：2d6dcd1b_1711302043063810283
 [DEBUG] 2017-11-30 20:43:06,408 Line:1025 query condition columnName:SumDetAmt----value:2.0
 [DEBUG] 2017-11-30 20:43:06,408 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,409 Line:313 exeCondition:tblExpense_Add : 2.0 != 2.00
 [DEBUG] 2017-11-30 20:43:06,410 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,410 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,410 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,410 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,410 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,411 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,411 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,411 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,411 Line:988 6值：2.00
 [DEBUG] 2017-11-30 20:43:06,413 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,413 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,415 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,415 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,415 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,415 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,415 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,416 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,417 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,417 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,417 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,417 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,418 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,419 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,419 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,420 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,423 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0122
 [DEBUG] 2017-11-30 20:43:06,424 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-06
 [DEBUG] 2017-11-30 20:43:06,424 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,424 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,426 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,426 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,427 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,427 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,427 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,428 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,428 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,428 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,428 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,428 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,429 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4257.43
 [DEBUG] 2017-11-30 20:43:06,430 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4257.43
 [DEBUG] 2017-11-30 20:43:06,430 Line:1344 JXLTOOL.setValue 明细表字段Remark=代收通讯费主办行归集户
 [DEBUG] 2017-11-30 20:43:06,430 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,430 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,431 Line:1344 JXLTOOL.setValue 明细表字段Amt=4257.43
 [DEBUG] 2017-11-30 20:43:06,431 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4257.43
 [DEBUG] 2017-11-30 20:43:06,431 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,431 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,452 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,453 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,453 Line:5872 2:2d6dcd1b_1711302043064500285
 [DEBUG] 2017-11-30 20:43:06,453 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,453 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,453 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,454 Line:5872 6:OE0122
 [DEBUG] 2017-11-30 20:43:06,454 Line:5872 7:2017-11-06
 [DEBUG] 2017-11-30 20:43:06,454 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,454 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,454 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,454 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,455 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,455 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,455 Line:5872 14:4257.43
 [DEBUG] 2017-11-30 20:43:06,455 Line:5872 15:4257.43
 [DEBUG] 2017-11-30 20:43:06,455 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,455 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,456 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,456 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,456 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,456 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,456 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,456 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,457 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,457 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,457 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,457 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,457 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,457 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,458 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,458 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,458 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,458 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,458 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,458 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,459 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,460 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,461 Line:5872 1:2d6dcd1b_1711302043064500285
 [DEBUG] 2017-11-30 20:43:06,461 Line:5872 2:2d6dcd1b_1711302043064600286
 [DEBUG] 2017-11-30 20:43:06,461 Line:5872 3:代收通讯费主办行归集户
 [DEBUG] 2017-11-30 20:43:06,461 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,461 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,461 Line:5872 6:4257.43
 [DEBUG] 2017-11-30 20:43:06,462 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,462 Line:5872 8:4257.43
 [DEBUG] 2017-11-30 20:43:06,462 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,462 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,462 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,462 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,463 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,463 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,463 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,466 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,468 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,468 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,469 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,470 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,471 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,471 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,472 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,472 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,473 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,473 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,474 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,474 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,474 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,475 Line:988 2值：2d6dcd1b_1711302043064500285
 [DEBUG] 2017-11-30 20:43:06,475 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,476 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,476 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,477 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,478 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,479 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,479 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,479 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,481 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,481 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,483 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,483 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,483 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,484 Line:988 1值：2d6dcd1b_1711302043064500285
 [DEBUG] 2017-11-30 20:43:06,485 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,485 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,486 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,487 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,488 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,488 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,488 Line:988 1值：2d6dcd1b_1711302043064500285
 [DEBUG] 2017-11-30 20:43:06,490 Line:1025 query condition columnName:SumDetAmt----value:4257.43
 [DEBUG] 2017-11-30 20:43:06,490 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,490 Line:313 exeCondition:tblExpense_Add : 4257.43 != 4257.43
 [DEBUG] 2017-11-30 20:43:06,492 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,492 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,492 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,493 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,493 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,493 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,493 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,493 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,494 Line:988 6值：4257.43
 [DEBUG] 2017-11-30 20:43:06,500 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:43:06,500 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,502 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,502 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,502 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,503 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,503 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,504 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,504 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,504 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,504 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,504 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,505 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,506 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,507 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,507 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,511 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0123
 [DEBUG] 2017-11-30 20:43:06,512 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-07
 [DEBUG] 2017-11-30 20:43:06,512 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,512 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,512 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,512 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,513 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,513 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,513 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,513 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,513 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,514 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,514 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,514 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,514 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=40.00
 [DEBUG] 2017-11-30 20:43:06,514 Line:1322 JXLTOOL.setValue 主表字段BillAmt=40.00
 [DEBUG] 2017-11-30 20:43:06,514 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,514 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,515 Line:1344 JXLTOOL.setValue 明细表字段Amt=40.00
 [DEBUG] 2017-11-30 20:43:06,515 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=40.00
 [DEBUG] 2017-11-30 20:43:06,515 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,515 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,529 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,529 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,529 Line:5872 2:2d6dcd1b_1711302043065280287
 [DEBUG] 2017-11-30 20:43:06,530 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,530 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,530 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,530 Line:5872 6:OE0123
 [DEBUG] 2017-11-30 20:43:06,530 Line:5872 7:2017-11-07
 [DEBUG] 2017-11-30 20:43:06,530 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,531 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,531 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,531 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,531 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,531 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,531 Line:5872 14:40.0
 [DEBUG] 2017-11-30 20:43:06,532 Line:5872 15:40.0
 [DEBUG] 2017-11-30 20:43:06,532 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,532 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,532 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,532 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,532 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,533 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,534 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,535 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,535 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,536 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,536 Line:5872 1:2d6dcd1b_1711302043065280287
 [DEBUG] 2017-11-30 20:43:06,536 Line:5872 2:2d6dcd1b_1711302043065360288
 [DEBUG] 2017-11-30 20:43:06,536 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:06,536 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,536 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,536 Line:5872 6:40.0
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 8:40.0
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,537 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,538 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,539 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,540 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,541 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,542 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,542 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,543 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,543 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,544 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,544 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,545 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,545 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,545 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,545 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,546 Line:988 2值：2d6dcd1b_1711302043065280287
 [DEBUG] 2017-11-30 20:43:06,546 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,546 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,547 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,547 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,548 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,548 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,548 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,548 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,549 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,550 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,551 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,552 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,552 Line:988 1值：2d6dcd1b_1711302043065280287
 [DEBUG] 2017-11-30 20:43:06,553 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,554 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,554 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,556 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,556 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,556 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,556 Line:988 1值：2d6dcd1b_1711302043065280287
 [DEBUG] 2017-11-30 20:43:06,558 Line:1025 query condition columnName:SumDetAmt----value:40.0
 [DEBUG] 2017-11-30 20:43:06,558 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,558 Line:313 exeCondition:tblExpense_Add : 40.0 != 40.00
 [DEBUG] 2017-11-30 20:43:06,560 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,560 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,560 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,560 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,561 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,561 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,561 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,561 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,561 Line:988 6值：40.00
 [DEBUG] 2017-11-30 20:43:06,564 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:06,564 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,565 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,566 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,566 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,566 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,566 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,568 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,568 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,568 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,568 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,568 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,569 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,570 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,570 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,571 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,576 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0124
 [DEBUG] 2017-11-30 20:43:06,577 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-07
 [DEBUG] 2017-11-30 20:43:06,577 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,577 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,578 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,578 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,578 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,579 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,579 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,579 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,580 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,580 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,580 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,580 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,580 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=300.00
 [DEBUG] 2017-11-30 20:43:06,580 Line:1322 JXLTOOL.setValue 主表字段BillAmt=300.00
 [DEBUG] 2017-11-30 20:43:06,581 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,581 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,581 Line:1344 JXLTOOL.setValue 明细表字段Amt=300.00
 [DEBUG] 2017-11-30 20:43:06,581 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=300.00
 [DEBUG] 2017-11-30 20:43:06,582 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,582 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,602 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045786599
 [DEBUG] 2017-11-30 20:43:06,603 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045786599,];
 [DEBUG] 2017-11-30 20:43:06,628 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,629 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,629 Line:5872 2:2d6dcd1b_1711302043066240289
 [DEBUG] 2017-11-30 20:43:06,629 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,629 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,629 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,629 Line:5872 6:OE0124
 [DEBUG] 2017-11-30 20:43:06,630 Line:5872 7:2017-11-07
 [DEBUG] 2017-11-30 20:43:06,630 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,630 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,630 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,630 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,630 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,631 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,631 Line:5872 14:300.0
 [DEBUG] 2017-11-30 20:43:06,631 Line:5872 15:300.0
 [DEBUG] 2017-11-30 20:43:06,631 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,631 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,631 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,632 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,632 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,632 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,632 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,632 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,632 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,633 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,633 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,633 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,633 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,633 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,633 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,634 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,634 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,634 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,634 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,634 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,634 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,636 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,636 Line:5872 1:2d6dcd1b_1711302043066240289
 [DEBUG] 2017-11-30 20:43:06,636 Line:5872 2:2d6dcd1b_1711302043066360290
 [DEBUG] 2017-11-30 20:43:06,636 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:06,637 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,637 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,637 Line:5872 6:300.0
 [DEBUG] 2017-11-30 20:43:06,637 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,637 Line:5872 8:300.0
 [DEBUG] 2017-11-30 20:43:06,637 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,638 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,638 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,638 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,638 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,638 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,638 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,641 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,643 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,643 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,645 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,645 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,646 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,647 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,647 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,647 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,649 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,649 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,649 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,650 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,650 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,650 Line:988 2值：2d6dcd1b_1711302043066240289
 [DEBUG] 2017-11-30 20:43:06,650 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,651 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,651 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,652 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,653 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,654 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,654 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,654 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,655 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,656 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,658 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,658 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,658 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,658 Line:988 1值：2d6dcd1b_1711302043066240289
 [DEBUG] 2017-11-30 20:43:06,683 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,684 Line:1043 ---上述语句时间---26
 [DEBUG] 2017-11-30 20:43:06,684 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,685 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,686 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,686 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,686 Line:988 1值：2d6dcd1b_1711302043066240289
 [DEBUG] 2017-11-30 20:43:06,711 Line:1025 query condition columnName:SumDetAmt----value:300.0
 [DEBUG] 2017-11-30 20:43:06,711 Line:1043 ---上述语句时间---25
 [DEBUG] 2017-11-30 20:43:06,712 Line:313 exeCondition:tblExpense_Add : 300.0 != 300.00
 [DEBUG] 2017-11-30 20:43:06,713 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,713 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,713 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,714 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,714 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,714 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,714 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,715 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,715 Line:988 6值：300.00
 [DEBUG] 2017-11-30 20:43:06,718 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:06,718 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,720 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,720 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,720 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,721 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,721 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,722 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,722 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,723 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,723 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,723 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,723 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,725 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,725 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,726 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,732 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0125
 [DEBUG] 2017-11-30 20:43:06,733 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-07
 [DEBUG] 2017-11-30 20:43:06,733 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,733 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,734 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,734 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,734 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,734 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,735 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,735 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,735 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,735 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,735 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,736 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,736 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=600000.00
 [DEBUG] 2017-11-30 20:43:06,736 Line:1322 JXLTOOL.setValue 主表字段BillAmt=600000.00
 [DEBUG] 2017-11-30 20:43:06,736 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:06,736 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,737 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,737 Line:1344 JXLTOOL.setValue 明细表字段Amt=600000.00
 [DEBUG] 2017-11-30 20:43:06,737 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=600000.00
 [DEBUG] 2017-11-30 20:43:06,737 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,738 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,756 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,756 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,757 Line:5872 2:2d6dcd1b_1711302043067550291
 [DEBUG] 2017-11-30 20:43:06,757 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,757 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,757 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,757 Line:5872 6:OE0125
 [DEBUG] 2017-11-30 20:43:06,757 Line:5872 7:2017-11-07
 [DEBUG] 2017-11-30 20:43:06,758 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,758 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,758 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,758 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,758 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,758 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,759 Line:5872 14:600000.0
 [DEBUG] 2017-11-30 20:43:06,759 Line:5872 15:600000.0
 [DEBUG] 2017-11-30 20:43:06,759 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,759 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,759 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,759 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,760 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,760 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,760 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,760 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,760 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,762 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,762 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,762 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,762 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,762 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,762 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,763 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,763 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,763 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,763 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,763 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,763 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,765 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,765 Line:5872 1:2d6dcd1b_1711302043067550291
 [DEBUG] 2017-11-30 20:43:06,766 Line:5872 2:2d6dcd1b_1711302043067650292
 [DEBUG] 2017-11-30 20:43:06,766 Line:5872 3:济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:06,766 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,766 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,766 Line:5872 6:600000.0
 [DEBUG] 2017-11-30 20:43:06,766 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,767 Line:5872 8:600000.0
 [DEBUG] 2017-11-30 20:43:06,767 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,767 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,767 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,767 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,767 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,768 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,768 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,770 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,772 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,772 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,774 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,774 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,775 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,775 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,776 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,776 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,777 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,777 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,777 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,777 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,778 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,778 Line:988 2值：2d6dcd1b_1711302043067550291
 [DEBUG] 2017-11-30 20:43:06,778 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,779 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,779 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,779 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,780 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,780 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,781 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,781 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,782 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,782 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,783 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,783 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,783 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,784 Line:988 1值：2d6dcd1b_1711302043067550291
 [DEBUG] 2017-11-30 20:43:06,785 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,785 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,785 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,786 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,786 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,786 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,787 Line:988 1值：2d6dcd1b_1711302043067550291
 [DEBUG] 2017-11-30 20:43:06,788 Line:1025 query condition columnName:SumDetAmt----value:600000.0
 [DEBUG] 2017-11-30 20:43:06,788 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,789 Line:313 exeCondition:tblExpense_Add : 600000.0 != 600000.00
 [DEBUG] 2017-11-30 20:43:06,790 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,791 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,791 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,791 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,791 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,791 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,792 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,792 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,792 Line:988 6值：600000.00
 [DEBUG] 2017-11-30 20:43:06,795 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:06,795 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,797 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,797 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,797 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,797 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,797 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,798 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,799 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,799 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,799 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,799 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,799 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,800 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,801 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,801 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,804 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0126
 [DEBUG] 2017-11-30 20:43:06,804 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-08
 [DEBUG] 2017-11-30 20:43:06,804 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,804 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,805 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,805 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,805 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,805 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,806 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,806 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,806 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,806 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,806 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,806 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,807 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10000.00
 [DEBUG] 2017-11-30 20:43:06,807 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10000.00
 [DEBUG] 2017-11-30 20:43:06,807 Line:1344 JXLTOOL.setValue 明细表字段Remark=钟加巨
 [DEBUG] 2017-11-30 20:43:06,807 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,807 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,807 Line:1344 JXLTOOL.setValue 明细表字段Amt=10000.00
 [DEBUG] 2017-11-30 20:43:06,808 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10000.00
 [DEBUG] 2017-11-30 20:43:06,808 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,808 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,823 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 2:2d6dcd1b_1711302043068220293
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 6:OE0126
 [DEBUG] 2017-11-30 20:43:06,824 Line:5872 7:2017-11-08
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 14:10000.0
 [DEBUG] 2017-11-30 20:43:06,825 Line:5872 15:10000.0
 [DEBUG] 2017-11-30 20:43:06,826 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,826 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,826 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,826 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,826 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,827 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,828 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,828 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,828 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,828 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,828 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,828 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,829 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,829 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,829 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,830 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,830 Line:5872 1:2d6dcd1b_1711302043068220293
 [DEBUG] 2017-11-30 20:43:06,830 Line:5872 2:2d6dcd1b_1711302043068300294
 [DEBUG] 2017-11-30 20:43:06,830 Line:5872 3:钟加巨
 [DEBUG] 2017-11-30 20:43:06,830 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 6:10000.0
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 8:10000.0
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,831 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,832 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,832 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,833 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,834 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,835 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,836 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,836 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,837 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,838 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,838 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,838 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,839 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,839 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,839 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,839 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,839 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,840 Line:988 2值：2d6dcd1b_1711302043068220293
 [DEBUG] 2017-11-30 20:43:06,840 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,840 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,841 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,841 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,842 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,843 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,843 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,843 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,844 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,844 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,845 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,846 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,846 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,846 Line:988 1值：2d6dcd1b_1711302043068220293
 [DEBUG] 2017-11-30 20:43:06,847 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,847 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,847 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,849 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,849 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,849 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,849 Line:988 1值：2d6dcd1b_1711302043068220293
 [DEBUG] 2017-11-30 20:43:06,851 Line:1025 query condition columnName:SumDetAmt----value:10000.0
 [DEBUG] 2017-11-30 20:43:06,851 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,851 Line:313 exeCondition:tblExpense_Add : 10000.0 != 10000.00
 [DEBUG] 2017-11-30 20:43:06,852 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,852 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,852 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,853 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,853 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,853 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,853 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,853 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,853 Line:988 6值：10000.00
 [DEBUG] 2017-11-30 20:43:06,855 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,856 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,857 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,857 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,857 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,857 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,858 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,858 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,858 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,858 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,859 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,859 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,859 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,860 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,860 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,861 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,864 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0127
 [DEBUG] 2017-11-30 20:43:06,864 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-08
 [DEBUG] 2017-11-30 20:43:06,864 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,864 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,865 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,865 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,865 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,865 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,865 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,865 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,866 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,866 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,866 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,866 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,866 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=15500.00
 [DEBUG] 2017-11-30 20:43:06,866 Line:1322 JXLTOOL.setValue 主表字段BillAmt=15500.00
 [DEBUG] 2017-11-30 20:43:06,866 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁市强顺汽车运输有限公司
 [DEBUG] 2017-11-30 20:43:06,866 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,867 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,867 Line:1344 JXLTOOL.setValue 明细表字段Amt=15500.00
 [DEBUG] 2017-11-30 20:43:06,867 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=15500.00
 [DEBUG] 2017-11-30 20:43:06,867 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,867 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,879 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,879 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,880 Line:5872 2:2d6dcd1b_1711302043068780295
 [DEBUG] 2017-11-30 20:43:06,880 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,880 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,880 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,880 Line:5872 6:OE0127
 [DEBUG] 2017-11-30 20:43:06,880 Line:5872 7:2017-11-08
 [DEBUG] 2017-11-30 20:43:06,881 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,881 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,881 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,881 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,881 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,881 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,882 Line:5872 14:15500.0
 [DEBUG] 2017-11-30 20:43:06,882 Line:5872 15:15500.0
 [DEBUG] 2017-11-30 20:43:06,882 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,882 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,882 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,882 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,883 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,883 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,883 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,883 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,883 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,883 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,884 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,884 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,884 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,884 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,884 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,884 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,885 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,885 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,885 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,885 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,885 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,886 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,886 Line:5872 1:2d6dcd1b_1711302043068780295
 [DEBUG] 2017-11-30 20:43:06,886 Line:5872 2:2d6dcd1b_1711302043068860296
 [DEBUG] 2017-11-30 20:43:06,887 Line:5872 3:济宁市强顺汽车运输有限公司
 [DEBUG] 2017-11-30 20:43:06,887 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,887 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,887 Line:5872 6:15500.0
 [DEBUG] 2017-11-30 20:43:06,887 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,887 Line:5872 8:15500.0
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,888 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,890 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,892 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,892 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,893 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,893 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,894 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,894 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,894 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,895 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,895 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,895 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,896 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,896 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,896 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,896 Line:988 2值：2d6dcd1b_1711302043068780295
 [DEBUG] 2017-11-30 20:43:06,896 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,897 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,897 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,897 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,898 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,898 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,898 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,899 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,900 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,900 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,901 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,901 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,901 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,901 Line:988 1值：2d6dcd1b_1711302043068780295
 [DEBUG] 2017-11-30 20:43:06,902 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,902 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,902 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,903 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,903 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,904 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,904 Line:988 1值：2d6dcd1b_1711302043068780295
 [DEBUG] 2017-11-30 20:43:06,905 Line:1025 query condition columnName:SumDetAmt----value:15500.0
 [DEBUG] 2017-11-30 20:43:06,905 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,905 Line:313 exeCondition:tblExpense_Add : 15500.0 != 15500.00
 [DEBUG] 2017-11-30 20:43:06,906 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,906 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,906 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,906 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,906 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,907 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,907 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,907 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,907 Line:988 6值：15500.00
 [DEBUG] 2017-11-30 20:43:06,908 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,908 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,910 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,910 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,910 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,910 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,910 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,911 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,911 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,911 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,911 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,911 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,911 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,912 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,913 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,913 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,915 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0128
 [DEBUG] 2017-11-30 20:43:06,916 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-08
 [DEBUG] 2017-11-30 20:43:06,916 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,916 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,917 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,917 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,918 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,918 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,918 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,918 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,919 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,919 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,919 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,919 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,919 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=3000.00
 [DEBUG] 2017-11-30 20:43:06,920 Line:1322 JXLTOOL.setValue 主表字段BillAmt=3000.00
 [DEBUG] 2017-11-30 20:43:06,920 Line:1344 JXLTOOL.setValue 明细表字段Remark=陕西芒钛网络科技有限公司
 [DEBUG] 2017-11-30 20:43:06,920 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,920 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,920 Line:1344 JXLTOOL.setValue 明细表字段Amt=3000.00
 [DEBUG] 2017-11-30 20:43:06,921 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=3000.00
 [DEBUG] 2017-11-30 20:43:06,921 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,921 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,934 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,934 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,934 Line:5872 2:2d6dcd1b_1711302043069330297
 [DEBUG] 2017-11-30 20:43:06,934 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 6:OE0128
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 7:2017-11-08
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,935 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 14:3000.0
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 15:3000.0
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,936 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:06,937 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:06,938 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:06,940 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,940 Line:5872 1:2d6dcd1b_1711302043069330297
 [DEBUG] 2017-11-30 20:43:06,940 Line:5872 2:2d6dcd1b_1711302043069400298
 [DEBUG] 2017-11-30 20:43:06,940 Line:5872 3:陕西芒钛网络科技有限公司
 [DEBUG] 2017-11-30 20:43:06,940 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:06,940 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:06,940 Line:5872 6:3000.0
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 8:3000.0
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:06,941 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:06,942 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:06,943 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:06,945 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,945 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:06,946 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,946 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:06,947 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,948 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:06,948 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,948 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:06,948 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:06,949 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,949 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:06,949 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,949 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:06,949 Line:988 2值：2d6dcd1b_1711302043069330297
 [DEBUG] 2017-11-30 20:43:06,949 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:06,950 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:06,950 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,950 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,951 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,951 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:06,951 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,952 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:06,952 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,953 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:06,954 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,954 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:06,954 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,954 Line:988 1值：2d6dcd1b_1711302043069330297
 [DEBUG] 2017-11-30 20:43:06,955 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:06,955 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,955 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:06,956 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,957 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:06,957 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,957 Line:988 1值：2d6dcd1b_1711302043069330297
 [DEBUG] 2017-11-30 20:43:06,958 Line:1025 query condition columnName:SumDetAmt----value:3000.0
 [DEBUG] 2017-11-30 20:43:06,958 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:06,959 Line:313 exeCondition:tblExpense_Add : 3000.0 != 3000.00
 [DEBUG] 2017-11-30 20:43:06,960 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,960 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:06,960 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,960 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,960 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:06,961 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:06,961 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:06,961 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:06,961 Line:988 6值：3000.00
 [DEBUG] 2017-11-30 20:43:06,963 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:06,963 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:06,965 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:06,965 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:06,965 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:06,965 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:06,965 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:06,966 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:06,966 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:06,967 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:06,967 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:06,967 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:06,967 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:06,968 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:06,969 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:06,969 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:06,973 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0129
 [DEBUG] 2017-11-30 20:43:06,973 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-08
 [DEBUG] 2017-11-30 20:43:06,973 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,974 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:06,974 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:06,974 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:06,975 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:06,975 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:06,975 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:06,975 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:06,976 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:06,976 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,976 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:06,977 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:06,977 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1000.00
 [DEBUG] 2017-11-30 20:43:06,977 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1000.00
 [DEBUG] 2017-11-30 20:43:06,977 Line:1344 JXLTOOL.setValue 明细表字段Remark=中金支付有限公司客户备付金
 [DEBUG] 2017-11-30 20:43:06,978 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:06,978 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:06,978 Line:1344 JXLTOOL.setValue 明细表字段Amt=1000.00
 [DEBUG] 2017-11-30 20:43:06,978 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1000.00
 [DEBUG] 2017-11-30 20:43:06,978 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:06,979 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:06,997 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:06,997 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:06,997 Line:5872 2:2d6dcd1b_1711302043069960299
 [DEBUG] 2017-11-30 20:43:06,997 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:06,997 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 6:OE0129
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 7:2017-11-08
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:06,998 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 14:1000.0
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 15:1000.0
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:06,999 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,000 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 30:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 33:2017-11-30 20:43:06
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,001 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,002 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,003 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,003 Line:5872 1:2d6dcd1b_1711302043069960299
 [DEBUG] 2017-11-30 20:43:07,003 Line:5872 2:2d6dcd1b_1711302043070030300
 [DEBUG] 2017-11-30 20:43:07,003 Line:5872 3:中金支付有限公司客户备付金
 [DEBUG] 2017-11-30 20:43:07,003 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 6:1000.0
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 8:1000.0
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,004 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,005 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,005 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,005 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,007 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,008 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,008 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,010 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,010 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,012 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,012 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,012 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,012 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,013 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,013 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,014 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,014 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,014 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,014 Line:988 2值：2d6dcd1b_1711302043069960299
 [DEBUG] 2017-11-30 20:43:07,015 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,015 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,015 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,016 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,017 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,017 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,018 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,018 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,019 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,019 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,020 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,020 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,021 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,021 Line:988 1值：2d6dcd1b_1711302043069960299
 [DEBUG] 2017-11-30 20:43:07,036 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,036 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:07,036 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,038 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,038 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,038 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,038 Line:988 1值：2d6dcd1b_1711302043069960299
 [DEBUG] 2017-11-30 20:43:07,053 Line:1025 query condition columnName:SumDetAmt----value:1000.0
 [DEBUG] 2017-11-30 20:43:07,053 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:43:07,054 Line:313 exeCondition:tblExpense_Add : 1000.0 != 1000.00
 [DEBUG] 2017-11-30 20:43:07,055 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,055 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,055 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,056 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,056 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,056 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,056 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,056 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,057 Line:988 6值：1000.00
 [DEBUG] 2017-11-30 20:43:07,058 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,059 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,060 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,060 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,061 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,061 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,061 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,062 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,062 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,062 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,062 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,062 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,062 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,064 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,064 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,064 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,068 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0130
 [DEBUG] 2017-11-30 20:43:07,068 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-08
 [DEBUG] 2017-11-30 20:43:07,068 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,069 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,069 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,069 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,069 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,069 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,070 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,070 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,070 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,070 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,070 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,070 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,071 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20.00
 [DEBUG] 2017-11-30 20:43:07,071 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20.00
 [DEBUG] 2017-11-30 20:43:07,071 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,071 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,071 Line:1344 JXLTOOL.setValue 明细表字段Amt=20.00
 [DEBUG] 2017-11-30 20:43:07,071 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20.00
 [DEBUG] 2017-11-30 20:43:07,071 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,072 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,085 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 2:2d6dcd1b_1711302043070850301
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 6:OE0130
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 7:2017-11-08
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,086 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 14:20.0
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 15:20.0
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,087 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,088 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,089 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,090 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,090 Line:5872 1:2d6dcd1b_1711302043070850301
 [DEBUG] 2017-11-30 20:43:07,090 Line:5872 2:2d6dcd1b_1711302043070900302
 [DEBUG] 2017-11-30 20:43:07,090 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 6:20.0
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 8:20.0
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,091 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,092 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,092 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,092 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,092 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,094 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,095 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,095 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,096 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,096 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,097 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,097 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,097 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,097 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,098 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,098 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,098 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,098 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,098 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,099 Line:988 2值：2d6dcd1b_1711302043070850301
 [DEBUG] 2017-11-30 20:43:07,099 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,099 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,099 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,099 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,100 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,101 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,101 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,101 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,102 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,102 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,103 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,103 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,103 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,103 Line:988 1值：2d6dcd1b_1711302043070850301
 [DEBUG] 2017-11-30 20:43:07,104 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,104 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,104 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,105 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,106 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,106 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,106 Line:988 1值：2d6dcd1b_1711302043070850301
 [DEBUG] 2017-11-30 20:43:07,107 Line:1025 query condition columnName:SumDetAmt----value:20.0
 [DEBUG] 2017-11-30 20:43:07,107 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,107 Line:313 exeCondition:tblExpense_Add : 20.0 != 20.00
 [DEBUG] 2017-11-30 20:43:07,108 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,109 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,109 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,109 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,109 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,109 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,109 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,110 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,110 Line:988 6值：20.00
 [DEBUG] 2017-11-30 20:43:07,112 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,112 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,113 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,113 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,113 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,113 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,114 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,114 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,114 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,114 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,115 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,115 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,115 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,116 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,116 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,116 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,119 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0131
 [DEBUG] 2017-11-30 20:43:07,119 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-09
 [DEBUG] 2017-11-30 20:43:07,119 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,120 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,120 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,120 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,120 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,120 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,120 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=15.00
 [DEBUG] 2017-11-30 20:43:07,121 Line:1322 JXLTOOL.setValue 主表字段BillAmt=15.00
 [DEBUG] 2017-11-30 20:43:07,122 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,122 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,122 Line:1344 JXLTOOL.setValue 明细表字段Amt=15.00
 [DEBUG] 2017-11-30 20:43:07,122 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=15.00
 [DEBUG] 2017-11-30 20:43:07,122 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,122 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,134 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,134 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,134 Line:5872 2:2d6dcd1b_1711302043071330303
 [DEBUG] 2017-11-30 20:43:07,134 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 6:OE0131
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 7:2017-11-09
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,135 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,136 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,136 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,136 Line:5872 14:15.0
 [DEBUG] 2017-11-30 20:43:07,136 Line:5872 15:15.0
 [DEBUG] 2017-11-30 20:43:07,136 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,136 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,137 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,138 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,139 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,140 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 1:2d6dcd1b_1711302043071330303
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 2:2d6dcd1b_1711302043071390304
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 6:15.0
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 8:15.0
 [DEBUG] 2017-11-30 20:43:07,140 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,141 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,141 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,141 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,141 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,141 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,141 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,142 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,143 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,144 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,145 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,145 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,146 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,146 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,146 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,146 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,147 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,147 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,147 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,147 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,148 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,148 Line:988 2值：2d6dcd1b_1711302043071330303
 [DEBUG] 2017-11-30 20:43:07,148 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,148 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,149 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,149 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,150 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,150 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,150 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,150 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,151 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,151 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,152 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,153 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,153 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,153 Line:988 1值：2d6dcd1b_1711302043071330303
 [DEBUG] 2017-11-30 20:43:07,154 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,154 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,155 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,156 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,156 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,156 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,157 Line:988 1值：2d6dcd1b_1711302043071330303
 [DEBUG] 2017-11-30 20:43:07,158 Line:1025 query condition columnName:SumDetAmt----value:15.0
 [DEBUG] 2017-11-30 20:43:07,158 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,158 Line:313 exeCondition:tblExpense_Add : 15.0 != 15.00
 [DEBUG] 2017-11-30 20:43:07,160 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,160 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,160 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,160 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,161 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,161 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,161 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,161 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,161 Line:988 6值：15.00
 [DEBUG] 2017-11-30 20:43:07,164 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,164 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,165 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,165 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,165 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,166 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,166 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,167 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,167 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,167 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,167 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,167 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,168 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,169 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,170 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,170 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,174 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0132
 [DEBUG] 2017-11-30 20:43:07,174 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-09
 [DEBUG] 2017-11-30 20:43:07,174 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,174 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,175 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,175 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,175 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,175 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,175 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,176 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,176 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,176 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,176 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,177 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,177 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.80
 [DEBUG] 2017-11-30 20:43:07,177 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.80
 [DEBUG] 2017-11-30 20:43:07,177 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,178 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,178 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.80
 [DEBUG] 2017-11-30 20:43:07,178 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.80
 [DEBUG] 2017-11-30 20:43:07,178 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,178 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,193 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,193 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,194 Line:5872 2:2d6dcd1b_1711302043071920305
 [DEBUG] 2017-11-30 20:43:07,194 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,194 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,194 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,194 Line:5872 6:OE0132
 [DEBUG] 2017-11-30 20:43:07,194 Line:5872 7:2017-11-09
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 14:0.8
 [DEBUG] 2017-11-30 20:43:07,195 Line:5872 15:0.8
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,196 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,197 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,198 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,199 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,199 Line:5872 1:2d6dcd1b_1711302043071920305
 [DEBUG] 2017-11-30 20:43:07,199 Line:5872 2:2d6dcd1b_1711302043071990306
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 6:0.8
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 8:0.8
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,200 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,201 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,201 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,201 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,202 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,203 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,203 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,204 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,204 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,205 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,205 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,205 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,206 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,206 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,206 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,206 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,207 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,207 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,207 Line:988 2值：2d6dcd1b_1711302043071920305
 [DEBUG] 2017-11-30 20:43:07,207 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,208 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,208 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,208 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,209 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,209 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,209 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,210 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,211 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,211 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,212 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,212 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,212 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,213 Line:988 1值：2d6dcd1b_1711302043071920305
 [DEBUG] 2017-11-30 20:43:07,213 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,213 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,214 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,215 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,215 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,215 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,215 Line:988 1值：2d6dcd1b_1711302043071920305
 [DEBUG] 2017-11-30 20:43:07,217 Line:1025 query condition columnName:SumDetAmt----value:0.8
 [DEBUG] 2017-11-30 20:43:07,217 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,217 Line:313 exeCondition:tblExpense_Add : 0.8 != 0.80
 [DEBUG] 2017-11-30 20:43:07,218 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,218 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,218 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,219 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,219 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,219 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,219 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,219 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,219 Line:988 6值：0.80
 [DEBUG] 2017-11-30 20:43:07,221 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,221 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,222 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,222 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,222 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,223 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,223 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,223 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,224 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,224 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,224 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,224 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,224 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,225 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,225 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,226 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,229 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0133
 [DEBUG] 2017-11-30 20:43:07,229 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-09
 [DEBUG] 2017-11-30 20:43:07,229 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,229 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,230 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,230 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,230 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,230 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,230 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,230 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,231 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,231 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,231 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,231 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,231 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=700000.00
 [DEBUG] 2017-11-30 20:43:07,231 Line:1322 JXLTOOL.setValue 主表字段BillAmt=700000.00
 [DEBUG] 2017-11-30 20:43:07,231 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市富盛建筑工程有限公司
 [DEBUG] 2017-11-30 20:43:07,231 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,232 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,232 Line:1344 JXLTOOL.setValue 明细表字段Amt=700000.00
 [DEBUG] 2017-11-30 20:43:07,232 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=700000.00
 [DEBUG] 2017-11-30 20:43:07,232 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,232 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,247 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,247 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,247 Line:5872 2:2d6dcd1b_1711302043072460307
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 6:OE0133
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 7:2017-11-09
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,248 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 14:700000.0
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 15:700000.0
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,249 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,250 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,251 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,251 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,251 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,251 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,251 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,252 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,252 Line:5872 1:2d6dcd1b_1711302043072460307
 [DEBUG] 2017-11-30 20:43:07,252 Line:5872 2:2d6dcd1b_1711302043072520308
 [DEBUG] 2017-11-30 20:43:07,252 Line:5872 3:东莞市富盛建筑工程有限公司
 [DEBUG] 2017-11-30 20:43:07,252 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,252 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,252 Line:5872 6:700000.0
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 8:700000.0
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,253 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,255 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,256 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,256 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,257 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,257 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,258 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,258 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,258 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,259 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,259 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,259 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,259 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,260 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,260 Line:988 2值：2d6dcd1b_1711302043072460307
 [DEBUG] 2017-11-30 20:43:07,260 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,261 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,261 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,261 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,262 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,262 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,262 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,262 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,263 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,263 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,265 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,265 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,265 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,265 Line:988 1值：2d6dcd1b_1711302043072460307
 [DEBUG] 2017-11-30 20:43:07,266 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,266 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,266 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,267 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,267 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,267 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,268 Line:988 1值：2d6dcd1b_1711302043072460307
 [DEBUG] 2017-11-30 20:43:07,268 Line:1025 query condition columnName:SumDetAmt----value:700000.0
 [DEBUG] 2017-11-30 20:43:07,269 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,269 Line:313 exeCondition:tblExpense_Add : 700000.0 != 700000.00
 [DEBUG] 2017-11-30 20:43:07,270 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,270 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,271 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,271 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,271 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,271 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,271 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,271 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,272 Line:988 6值：700000.00
 [DEBUG] 2017-11-30 20:43:07,273 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,273 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,274 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,275 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,275 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,275 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,275 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,276 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,276 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,276 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,276 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,276 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,276 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,277 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,278 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,278 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,281 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0134
 [DEBUG] 2017-11-30 20:43:07,281 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-09
 [DEBUG] 2017-11-30 20:43:07,281 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,281 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,282 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,282 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,282 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,282 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,282 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,282 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,283 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,283 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,283 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,283 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,283 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=80000.00
 [DEBUG] 2017-11-30 20:43:07,283 Line:1322 JXLTOOL.setValue 主表字段BillAmt=80000.00
 [DEBUG] 2017-11-30 20:43:07,283 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,283 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,284 Line:1344 JXLTOOL.setValue 明细表字段Amt=80000.00
 [DEBUG] 2017-11-30 20:43:07,284 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=80000.00
 [DEBUG] 2017-11-30 20:43:07,284 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,284 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,296 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,296 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,296 Line:5872 2:2d6dcd1b_1711302043072950309
 [DEBUG] 2017-11-30 20:43:07,296 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,296 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,296 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 6:OE0134
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 7:2017-11-09
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,297 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,298 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,298 Line:5872 14:80000.0
 [DEBUG] 2017-11-30 20:43:07,298 Line:5872 15:80000.0
 [DEBUG] 2017-11-30 20:43:07,298 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,298 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,298 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,299 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,299 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,299 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,299 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,299 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,299 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,300 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,301 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,301 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,301 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,301 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,301 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,302 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,302 Line:5872 1:2d6dcd1b_1711302043072950309
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 2:2d6dcd1b_1711302043073020310
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 6:80000.0
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 8:80000.0
 [DEBUG] 2017-11-30 20:43:07,303 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,304 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,304 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,304 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,304 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,304 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,305 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,306 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,307 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,308 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,309 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,309 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,310 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,310 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,311 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,311 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,312 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,312 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,312 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,312 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,312 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,312 Line:988 2值：2d6dcd1b_1711302043072950309
 [DEBUG] 2017-11-30 20:43:07,313 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,313 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,313 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,314 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,315 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,315 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,315 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,316 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,317 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,317 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,318 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,319 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,319 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,319 Line:988 1值：2d6dcd1b_1711302043072950309
 [DEBUG] 2017-11-30 20:43:07,335 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,335 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:07,335 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,336 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,336 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,336 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,337 Line:988 1值：2d6dcd1b_1711302043072950309
 [DEBUG] 2017-11-30 20:43:07,352 Line:1025 query condition columnName:SumDetAmt----value:80000.0
 [DEBUG] 2017-11-30 20:43:07,353 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:07,353 Line:313 exeCondition:tblExpense_Add : 80000.0 != 80000.00
 [DEBUG] 2017-11-30 20:43:07,354 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,354 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,354 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,355 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,355 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,355 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,355 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,355 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,356 Line:988 6值：80000.00
 [DEBUG] 2017-11-30 20:43:07,357 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,358 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,359 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,360 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,360 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,360 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,360 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,361 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,361 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,361 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,362 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,362 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,362 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,364 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,364 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,364 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,367 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0135
 [DEBUG] 2017-11-30 20:43:07,368 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,368 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,368 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,369 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,369 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,369 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,369 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,370 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,370 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,370 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,370 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,371 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,371 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,371 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.00
 [DEBUG] 2017-11-30 20:43:07,371 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.00
 [DEBUG] 2017-11-30 20:43:07,371 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,372 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,372 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.00
 [DEBUG] 2017-11-30 20:43:07,372 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.00
 [DEBUG] 2017-11-30 20:43:07,372 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,372 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,386 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,386 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 2:2d6dcd1b_1711302043073850311
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 6:OE0135
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,387 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 14:1.0
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 15:1.0
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,388 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,389 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,390 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,391 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,391 Line:5872 1:2d6dcd1b_1711302043073850311
 [DEBUG] 2017-11-30 20:43:07,391 Line:5872 2:2d6dcd1b_1711302043073910312
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 6:1.0
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 8:1.0
 [DEBUG] 2017-11-30 20:43:07,392 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,393 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,393 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,393 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,393 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,393 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,393 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,395 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,396 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,396 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,397 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,397 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,398 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,398 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,398 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,398 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,399 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,399 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,399 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,399 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,399 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,400 Line:988 2值：2d6dcd1b_1711302043073850311
 [DEBUG] 2017-11-30 20:43:07,400 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,400 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,401 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,401 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,402 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,402 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,402 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,402 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,403 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,404 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,405 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,405 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,405 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,405 Line:988 1值：2d6dcd1b_1711302043073850311
 [DEBUG] 2017-11-30 20:43:07,406 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,406 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,406 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,407 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,408 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,408 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,408 Line:988 1值：2d6dcd1b_1711302043073850311
 [DEBUG] 2017-11-30 20:43:07,409 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-11-30 20:43:07,409 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,409 Line:313 exeCondition:tblExpense_Add : 1.0 != 1.00
 [DEBUG] 2017-11-30 20:43:07,410 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,411 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,411 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,411 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,411 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,411 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,411 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,411 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,412 Line:988 6值：1.00
 [DEBUG] 2017-11-30 20:43:07,413 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,413 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,414 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,414 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,415 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,415 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,415 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,415 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,416 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,416 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,416 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,416 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,416 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,417 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,418 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,418 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,420 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0136
 [DEBUG] 2017-11-30 20:43:07,420 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,421 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,421 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,421 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,421 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,421 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,421 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,422 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1000.00
 [DEBUG] 2017-11-30 20:43:07,423 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1000.00
 [DEBUG] 2017-11-30 20:43:07,423 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳中检联检测有限公司
 [DEBUG] 2017-11-30 20:43:07,423 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,423 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,423 Line:1344 JXLTOOL.setValue 明细表字段Amt=1000.00
 [DEBUG] 2017-11-30 20:43:07,423 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1000.00
 [DEBUG] 2017-11-30 20:43:07,423 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,423 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,438 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 2:2d6dcd1b_1711302043074370313
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 6:OE0136
 [DEBUG] 2017-11-30 20:43:07,438 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 14:1000.0
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 15:1000.0
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,439 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,440 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,441 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,443 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,443 Line:5872 1:2d6dcd1b_1711302043074370313
 [DEBUG] 2017-11-30 20:43:07,443 Line:5872 2:2d6dcd1b_1711302043074420314
 [DEBUG] 2017-11-30 20:43:07,443 Line:5872 3:深圳中检联检测有限公司
 [DEBUG] 2017-11-30 20:43:07,443 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,443 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,444 Line:5872 6:1000.0
 [DEBUG] 2017-11-30 20:43:07,444 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,444 Line:5872 8:1000.0
 [DEBUG] 2017-11-30 20:43:07,444 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,444 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,444 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,445 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,445 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,445 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,445 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,447 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,449 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,449 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,451 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,451 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,452 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,453 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,453 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,453 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,454 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,454 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,455 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,455 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,455 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,455 Line:988 2值：2d6dcd1b_1711302043074370313
 [DEBUG] 2017-11-30 20:43:07,456 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,456 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,457 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,457 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,458 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,458 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,459 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,459 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,460 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,461 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,462 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,463 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,463 Line:988 1值：2d6dcd1b_1711302043074370313
 [DEBUG] 2017-11-30 20:43:07,464 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,464 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,464 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,465 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,465 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,466 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,466 Line:988 1值：2d6dcd1b_1711302043074370313
 [DEBUG] 2017-11-30 20:43:07,467 Line:1025 query condition columnName:SumDetAmt----value:1000.0
 [DEBUG] 2017-11-30 20:43:07,467 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,467 Line:313 exeCondition:tblExpense_Add : 1000.0 != 1000.00
 [DEBUG] 2017-11-30 20:43:07,468 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,469 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,469 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,469 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,469 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,469 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,469 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,469 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,470 Line:988 6值：1000.00
 [DEBUG] 2017-11-30 20:43:07,471 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,472 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,473 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,473 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,473 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,473 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,474 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,474 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,474 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,475 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,475 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,475 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,475 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,481 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,481 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,481 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,485 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0137
 [DEBUG] 2017-11-30 20:43:07,485 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,485 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,486 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,486 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,486 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,486 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,487 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,487 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,487 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,487 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,488 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,488 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,488 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,488 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=9801.35
 [DEBUG] 2017-11-30 20:43:07,488 Line:1322 JXLTOOL.setValue 主表字段BillAmt=9801.35
 [DEBUG] 2017-11-30 20:43:07,488 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市雅园新村物业管理有限公司
 [DEBUG] 2017-11-30 20:43:07,489 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,489 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,489 Line:1344 JXLTOOL.setValue 明细表字段Amt=9801.35
 [DEBUG] 2017-11-30 20:43:07,489 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=9801.35
 [DEBUG] 2017-11-30 20:43:07,489 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,490 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,508 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,508 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,508 Line:5872 2:2d6dcd1b_1711302043075060315
 [DEBUG] 2017-11-30 20:43:07,508 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,508 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,509 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,509 Line:5872 6:OE0137
 [DEBUG] 2017-11-30 20:43:07,509 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,509 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,509 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,509 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,510 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,510 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,510 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,510 Line:5872 14:9801.35
 [DEBUG] 2017-11-30 20:43:07,510 Line:5872 15:9801.35
 [DEBUG] 2017-11-30 20:43:07,510 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,511 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,512 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,512 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,512 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,512 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,512 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,512 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,513 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,513 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,513 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,513 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,513 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,513 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,514 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,515 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,515 Line:5872 1:2d6dcd1b_1711302043075060315
 [DEBUG] 2017-11-30 20:43:07,515 Line:5872 2:2d6dcd1b_1711302043075150316
 [DEBUG] 2017-11-30 20:43:07,515 Line:5872 3:东莞市雅园新村物业管理有限公司
 [DEBUG] 2017-11-30 20:43:07,515 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,515 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,516 Line:5872 6:9801.35
 [DEBUG] 2017-11-30 20:43:07,516 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,516 Line:5872 8:9801.35
 [DEBUG] 2017-11-30 20:43:07,516 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,516 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,516 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,517 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,517 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,517 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,517 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,519 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,520 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,521 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,522 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,522 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,523 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,524 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,524 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,524 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,525 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,525 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,525 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,525 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,526 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,526 Line:988 2值：2d6dcd1b_1711302043075060315
 [DEBUG] 2017-11-30 20:43:07,526 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,527 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,527 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,527 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,529 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,529 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,529 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,529 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,530 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,531 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,532 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,532 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,532 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,532 Line:988 1值：2d6dcd1b_1711302043075060315
 [DEBUG] 2017-11-30 20:43:07,533 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,533 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,534 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,535 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,535 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,536 Line:988 1值：2d6dcd1b_1711302043075060315
 [DEBUG] 2017-11-30 20:43:07,537 Line:1025 query condition columnName:SumDetAmt----value:9801.35
 [DEBUG] 2017-11-30 20:43:07,537 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,538 Line:313 exeCondition:tblExpense_Add : 9801.35 != 9801.35
 [DEBUG] 2017-11-30 20:43:07,539 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,539 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,540 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,540 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,540 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,540 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,540 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,540 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,541 Line:988 6值：9801.35
 [DEBUG] 2017-11-30 20:43:07,542 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,543 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,544 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,544 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,545 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,545 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,546 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,546 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,546 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,547 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,547 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,547 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,549 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,549 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,549 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,554 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0138
 [DEBUG] 2017-11-30 20:43:07,554 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,554 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,554 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,555 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,555 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,555 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,556 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,556 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,556 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,557 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,557 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,557 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,557 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,557 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=127890.00
 [DEBUG] 2017-11-30 20:43:07,557 Line:1322 JXLTOOL.setValue 主表字段BillAmt=127890.00
 [DEBUG] 2017-11-30 20:43:07,558 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州和氏璧化工材料有限公司
 [DEBUG] 2017-11-30 20:43:07,558 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,558 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,558 Line:1344 JXLTOOL.setValue 明细表字段Amt=127890.00
 [DEBUG] 2017-11-30 20:43:07,558 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=127890.00
 [DEBUG] 2017-11-30 20:43:07,559 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,559 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,577 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,577 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,577 Line:5872 2:2d6dcd1b_1711302043075750317
 [DEBUG] 2017-11-30 20:43:07,577 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,577 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,577 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 6:OE0138
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,578 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 14:127890.0
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 15:127890.0
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,579 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,580 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,581 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,581 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,581 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,581 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,581 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,581 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,582 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,582 Line:5872 1:2d6dcd1b_1711302043075750317
 [DEBUG] 2017-11-30 20:43:07,582 Line:5872 2:2d6dcd1b_1711302043075820318
 [DEBUG] 2017-11-30 20:43:07,582 Line:5872 3:广州和氏璧化工材料有限公司
 [DEBUG] 2017-11-30 20:43:07,582 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 6:127890.0
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 8:127890.0
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,583 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,584 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,585 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045787583
 [DEBUG] 2017-11-30 20:43:07,586 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,586 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045787583,];
 [DEBUG] 2017-11-30 20:43:07,588 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,588 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,590 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,590 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,591 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,592 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,592 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,592 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,593 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,594 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,594 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,594 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,594 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,595 Line:988 2值：2d6dcd1b_1711302043075750317
 [DEBUG] 2017-11-30 20:43:07,595 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,596 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,596 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,596 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,598 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,598 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,598 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,598 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,600 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,600 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,601 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,601 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,602 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,602 Line:988 1值：2d6dcd1b_1711302043075750317
 [DEBUG] 2017-11-30 20:43:07,603 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,603 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,603 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,604 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,605 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,605 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,605 Line:988 1值：2d6dcd1b_1711302043075750317
 [DEBUG] 2017-11-30 20:43:07,606 Line:1025 query condition columnName:SumDetAmt----value:127890.0
 [DEBUG] 2017-11-30 20:43:07,606 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,606 Line:313 exeCondition:tblExpense_Add : 127890.0 != 127890.00
 [DEBUG] 2017-11-30 20:43:07,607 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,608 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,608 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,608 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,608 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,608 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,608 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,609 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,609 Line:988 6值：127890.00
 [DEBUG] 2017-11-30 20:43:07,611 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,611 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,612 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,612 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,613 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,613 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,613 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,614 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,614 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,614 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,614 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,614 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,615 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,616 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,616 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,616 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,619 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0139
 [DEBUG] 2017-11-30 20:43:07,619 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,619 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,619 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,620 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,620 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,620 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,620 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,620 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,620 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,621 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,621 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,621 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,621 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,621 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=109200.00
 [DEBUG] 2017-11-30 20:43:07,621 Line:1322 JXLTOOL.setValue 主表字段BillAmt=109200.00
 [DEBUG] 2017-11-30 20:43:07,621 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:43:07,621 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,621 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,622 Line:1344 JXLTOOL.setValue 明细表字段Amt=109200.00
 [DEBUG] 2017-11-30 20:43:07,622 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=109200.00
 [DEBUG] 2017-11-30 20:43:07,622 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,622 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,634 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,634 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,634 Line:5872 2:2d6dcd1b_1711302043076330319
 [DEBUG] 2017-11-30 20:43:07,634 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,634 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,634 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,634 Line:5872 6:OE0139
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 14:109200.0
 [DEBUG] 2017-11-30 20:43:07,635 Line:5872 15:109200.0
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,636 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,637 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,638 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,638 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 1:2d6dcd1b_1711302043076330319
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 2:2d6dcd1b_1711302043076380320
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 3:广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 6:109200.0
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 8:109200.0
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,639 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,640 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,640 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,640 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,640 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,640 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,642 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,643 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,643 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,644 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,644 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,645 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,645 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,645 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,646 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,646 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,646 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,646 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,647 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,647 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,647 Line:988 2值：2d6dcd1b_1711302043076330319
 [DEBUG] 2017-11-30 20:43:07,647 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,648 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,648 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,648 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,649 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,649 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,649 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,650 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,651 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,651 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,652 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,652 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,652 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,653 Line:988 1值：2d6dcd1b_1711302043076330319
 [DEBUG] 2017-11-30 20:43:07,672 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,672 Line:1043 ---上述语句时间---20
 [DEBUG] 2017-11-30 20:43:07,672 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,674 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,674 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,674 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,674 Line:988 1值：2d6dcd1b_1711302043076330319
 [DEBUG] 2017-11-30 20:43:07,696 Line:1025 query condition columnName:SumDetAmt----value:109200.0
 [DEBUG] 2017-11-30 20:43:07,696 Line:1043 ---上述语句时间---22
 [DEBUG] 2017-11-30 20:43:07,696 Line:313 exeCondition:tblExpense_Add : 109200.0 != 109200.00
 [DEBUG] 2017-11-30 20:43:07,697 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,697 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,698 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,698 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,698 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,698 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,698 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,698 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,698 Line:988 6值：109200.00
 [DEBUG] 2017-11-30 20:43:07,701 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:07,701 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,702 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,702 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,702 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,703 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,703 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,704 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,704 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,704 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,704 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,704 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,705 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,706 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,706 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,707 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,711 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0140
 [DEBUG] 2017-11-30 20:43:07,711 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,712 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,712 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,712 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,712 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,712 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,713 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,713 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,713 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,713 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,713 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,713 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,714 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,714 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=30000.00
 [DEBUG] 2017-11-30 20:43:07,714 Line:1322 JXLTOOL.setValue 主表字段BillAmt=30000.00
 [DEBUG] 2017-11-30 20:43:07,714 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市佳润润滑油有限公司
 [DEBUG] 2017-11-30 20:43:07,714 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,714 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,714 Line:1344 JXLTOOL.setValue 明细表字段Amt=30000.00
 [DEBUG] 2017-11-30 20:43:07,715 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=30000.00
 [DEBUG] 2017-11-30 20:43:07,715 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,715 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,729 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,729 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,729 Line:5872 2:2d6dcd1b_1711302043077280321
 [DEBUG] 2017-11-30 20:43:07,729 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,729 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,729 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 6:OE0140
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,730 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 14:30000.0
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 15:30000.0
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,731 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,732 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,733 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,734 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 1:2d6dcd1b_1711302043077280321
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 2:2d6dcd1b_1711302043077340322
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 3:东莞市佳润润滑油有限公司
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 6:30000.0
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 8:30000.0
 [DEBUG] 2017-11-30 20:43:07,735 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,736 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,736 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,736 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,736 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,736 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,736 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,738 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,739 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,739 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,740 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,740 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,741 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,741 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,741 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,741 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,742 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,742 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,742 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,742 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,743 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,743 Line:988 2值：2d6dcd1b_1711302043077280321
 [DEBUG] 2017-11-30 20:43:07,743 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,744 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,744 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,744 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,745 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,745 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,745 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,746 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,747 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,747 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,748 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,748 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,748 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,749 Line:988 1值：2d6dcd1b_1711302043077280321
 [DEBUG] 2017-11-30 20:43:07,749 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,750 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,750 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,751 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,751 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,751 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,751 Line:988 1值：2d6dcd1b_1711302043077280321
 [DEBUG] 2017-11-30 20:43:07,752 Line:1025 query condition columnName:SumDetAmt----value:30000.0
 [DEBUG] 2017-11-30 20:43:07,752 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,752 Line:313 exeCondition:tblExpense_Add : 30000.0 != 30000.00
 [DEBUG] 2017-11-30 20:43:07,753 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,753 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,754 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,754 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,754 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,754 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,754 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,754 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,754 Line:988 6值：30000.00
 [DEBUG] 2017-11-30 20:43:07,756 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,756 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,757 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,757 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,757 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,758 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,758 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,758 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,758 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,759 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,759 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,759 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,759 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,760 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,760 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,760 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,763 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0141
 [DEBUG] 2017-11-30 20:43:07,764 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,764 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,764 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,764 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,765 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,766 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,766 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,766 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=429043.50
 [DEBUG] 2017-11-30 20:43:07,766 Line:1322 JXLTOOL.setValue 主表字段BillAmt=429043.50
 [DEBUG] 2017-11-30 20:43:07,766 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:07,766 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,766 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,766 Line:1344 JXLTOOL.setValue 明细表字段Amt=429043.50
 [DEBUG] 2017-11-30 20:43:07,767 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=429043.50
 [DEBUG] 2017-11-30 20:43:07,767 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,767 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,781 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,781 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,781 Line:5872 2:2d6dcd1b_1711302043077800323
 [DEBUG] 2017-11-30 20:43:07,781 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 6:OE0141
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,782 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 14:429043.5
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 15:429043.5
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,783 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,784 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,785 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,785 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,785 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,785 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,785 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,785 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,786 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,786 Line:5872 1:2d6dcd1b_1711302043077800323
 [DEBUG] 2017-11-30 20:43:07,786 Line:5872 2:2d6dcd1b_1711302043077860324
 [DEBUG] 2017-11-30 20:43:07,786 Line:5872 3:广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:07,786 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,786 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 6:429043.5
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 8:429043.5
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,787 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,789 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,790 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,790 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,792 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,792 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,793 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,794 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,794 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,794 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,795 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,795 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,795 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,795 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,796 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,796 Line:988 2值：2d6dcd1b_1711302043077800323
 [DEBUG] 2017-11-30 20:43:07,796 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,796 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,797 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,797 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,798 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,799 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,799 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,799 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,800 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,801 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,802 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,803 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,803 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,803 Line:988 1值：2d6dcd1b_1711302043077800323
 [DEBUG] 2017-11-30 20:43:07,804 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,804 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,805 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,806 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,806 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,807 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,807 Line:988 1值：2d6dcd1b_1711302043077800323
 [DEBUG] 2017-11-30 20:43:07,808 Line:1025 query condition columnName:SumDetAmt----value:429043.5
 [DEBUG] 2017-11-30 20:43:07,808 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,808 Line:313 exeCondition:tblExpense_Add : 429043.5 != 429043.50
 [DEBUG] 2017-11-30 20:43:07,810 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,810 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,810 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,810 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,811 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,811 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,811 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,811 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,811 Line:988 6值：429043.50
 [DEBUG] 2017-11-30 20:43:07,813 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,813 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,814 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,815 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,815 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,815 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,815 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,816 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,816 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,816 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,816 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,817 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,817 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,818 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,818 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,818 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,822 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0142
 [DEBUG] 2017-11-30 20:43:07,822 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,823 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,823 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,823 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,823 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,823 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,823 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,824 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,824 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,824 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,824 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,824 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,825 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,825 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=642174.40
 [DEBUG] 2017-11-30 20:43:07,825 Line:1322 JXLTOOL.setValue 主表字段BillAmt=642174.40
 [DEBUG] 2017-11-30 20:43:07,825 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市蓝域化工科技有限公司
 [DEBUG] 2017-11-30 20:43:07,825 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,826 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,826 Line:1344 JXLTOOL.setValue 明细表字段Amt=642174.40
 [DEBUG] 2017-11-30 20:43:07,826 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=642174.40
 [DEBUG] 2017-11-30 20:43:07,826 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,826 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,843 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,843 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,843 Line:5872 2:2d6dcd1b_1711302043078420325
 [DEBUG] 2017-11-30 20:43:07,844 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,844 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,844 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,844 Line:5872 6:OE0142
 [DEBUG] 2017-11-30 20:43:07,844 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,844 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,845 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,845 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,845 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,845 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,845 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,845 Line:5872 14:642174.4
 [DEBUG] 2017-11-30 20:43:07,846 Line:5872 15:642174.4
 [DEBUG] 2017-11-30 20:43:07,846 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,846 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,846 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,846 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,846 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,847 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,848 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,849 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 1:2d6dcd1b_1711302043078420325
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 2:2d6dcd1b_1711302043078490326
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 3:深圳市蓝域化工科技有限公司
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 6:642174.4
 [DEBUG] 2017-11-30 20:43:07,850 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 8:642174.4
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,851 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,854 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,855 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,855 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,857 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,857 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,858 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,859 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,859 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,859 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,860 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,860 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,860 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,860 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,861 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,861 Line:988 2值：2d6dcd1b_1711302043078420325
 [DEBUG] 2017-11-30 20:43:07,861 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,861 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,862 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,862 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,863 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,863 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,863 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,863 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,864 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,864 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,865 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,865 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,866 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,866 Line:988 1值：2d6dcd1b_1711302043078420325
 [DEBUG] 2017-11-30 20:43:07,866 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,867 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,867 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,868 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,868 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,868 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,868 Line:988 1值：2d6dcd1b_1711302043078420325
 [DEBUG] 2017-11-30 20:43:07,869 Line:1025 query condition columnName:SumDetAmt----value:642174.4
 [DEBUG] 2017-11-30 20:43:07,869 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,870 Line:313 exeCondition:tblExpense_Add : 642174.4 != 642174.40
 [DEBUG] 2017-11-30 20:43:07,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,871 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,871 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,871 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,871 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,872 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,872 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,872 Line:988 6值：642174.40
 [DEBUG] 2017-11-30 20:43:07,873 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,874 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,875 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,875 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,875 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,875 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,875 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,876 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,877 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,877 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,877 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,877 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,877 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,878 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,878 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,879 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,882 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0143
 [DEBUG] 2017-11-30 20:43:07,882 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,883 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,883 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,883 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,883 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,883 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,883 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1170000.00
 [DEBUG] 2017-11-30 20:43:07,884 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1170000.00
 [DEBUG] 2017-11-30 20:43:07,885 Line:1344 JXLTOOL.setValue 明细表字段Remark=江苏汤姆森智能装备有限公司
 [DEBUG] 2017-11-30 20:43:07,885 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,885 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,885 Line:1344 JXLTOOL.setValue 明细表字段Amt=1170000.00
 [DEBUG] 2017-11-30 20:43:07,885 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1170000.00
 [DEBUG] 2017-11-30 20:43:07,885 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,885 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,899 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,899 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,899 Line:5872 2:2d6dcd1b_1711302043078980327
 [DEBUG] 2017-11-30 20:43:07,899 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,899 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 6:OE0143
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,900 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 14:1170000.0
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 15:1170000.0
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,901 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,902 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,903 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,905 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 1:2d6dcd1b_1711302043078980327
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 2:2d6dcd1b_1711302043079040328
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 3:江苏汤姆森智能装备有限公司
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 6:1170000.0
 [DEBUG] 2017-11-30 20:43:07,905 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,906 Line:5872 8:1170000.0
 [DEBUG] 2017-11-30 20:43:07,906 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,906 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,906 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,906 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,906 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,907 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,907 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,909 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,910 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,910 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,911 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,911 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,912 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,913 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,913 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,913 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,914 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,914 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,914 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,914 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,914 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,915 Line:988 2值：2d6dcd1b_1711302043078980327
 [DEBUG] 2017-11-30 20:43:07,915 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,915 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,916 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,916 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,917 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,917 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,917 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,917 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,918 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,919 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,920 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,920 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,920 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,920 Line:988 1值：2d6dcd1b_1711302043078980327
 [DEBUG] 2017-11-30 20:43:07,921 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,922 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,922 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,923 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,923 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,924 Line:988 1值：2d6dcd1b_1711302043078980327
 [DEBUG] 2017-11-30 20:43:07,925 Line:1025 query condition columnName:SumDetAmt----value:1170000.0
 [DEBUG] 2017-11-30 20:43:07,925 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,925 Line:313 exeCondition:tblExpense_Add : 1170000.0 != 1170000.00
 [DEBUG] 2017-11-30 20:43:07,927 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,927 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:07,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,928 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,928 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:07,928 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:07,928 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:07,928 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:07,928 Line:988 6值：1170000.00
 [DEBUG] 2017-11-30 20:43:07,930 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:07,930 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:07,931 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,932 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:07,932 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,932 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:07,932 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:07,933 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:07,933 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:07,933 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:07,933 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:07,933 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:07,934 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:07,935 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:07,935 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:07,935 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:07,939 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0144
 [DEBUG] 2017-11-30 20:43:07,939 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:07,939 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,939 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:07,940 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:07,940 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:07,940 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:07,940 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:07,940 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:07,940 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:07,941 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:07,941 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,941 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:07,941 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:07,941 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1800.00
 [DEBUG] 2017-11-30 20:43:07,941 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1800.00
 [DEBUG] 2017-11-30 20:43:07,942 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市绿博环保科技有限公司
 [DEBUG] 2017-11-30 20:43:07,942 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:07,942 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:07,942 Line:1344 JXLTOOL.setValue 明细表字段Amt=1800.00
 [DEBUG] 2017-11-30 20:43:07,942 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1800.00
 [DEBUG] 2017-11-30 20:43:07,942 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:07,942 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:07,957 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 2:2d6dcd1b_1711302043079560329
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 6:OE0144
 [DEBUG] 2017-11-30 20:43:07,958 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:07,959 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:07,959 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:07,959 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:07,959 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:07,959 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:07,959 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 14:1800.0
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 15:1800.0
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:07,960 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:07,961 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:07,961 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:07,961 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:07,961 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:07,961 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:07,961 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:07,962 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:07,962 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:07,962 Line:5872 30:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,962 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:07,962 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:07,963 Line:5872 33:2017-11-30 20:43:07
 [DEBUG] 2017-11-30 20:43:07,963 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:07,963 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:07,963 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:07,964 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:07,964 Line:5872 1:2d6dcd1b_1711302043079560329
 [DEBUG] 2017-11-30 20:43:07,964 Line:5872 2:2d6dcd1b_1711302043079640330
 [DEBUG] 2017-11-30 20:43:07,964 Line:5872 3:东莞市绿博环保科技有限公司
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 6:1800.0
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 8:1800.0
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:07,965 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:07,966 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:07,966 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:07,966 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:07,966 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:07,967 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:07,969 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,969 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:07,970 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,970 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:07,971 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,971 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:07,971 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,972 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:07,972 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:07,972 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,973 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:07,973 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,973 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:07,973 Line:988 2值：2d6dcd1b_1711302043079560329
 [DEBUG] 2017-11-30 20:43:07,973 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:07,974 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:07,974 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,974 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,975 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,976 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:07,976 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,976 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:07,977 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:07,978 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:07,979 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,979 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:07,979 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,980 Line:988 1值：2d6dcd1b_1711302043079560329
 [DEBUG] 2017-11-30 20:43:07,993 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:07,993 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:07,993 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:07,994 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:07,995 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:07,995 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:07,995 Line:988 1值：2d6dcd1b_1711302043079560329
 [DEBUG] 2017-11-30 20:43:08,009 Line:1025 query condition columnName:SumDetAmt----value:1800.0
 [DEBUG] 2017-11-30 20:43:08,010 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:08,010 Line:313 exeCondition:tblExpense_Add : 1800.0 != 1800.00
 [DEBUG] 2017-11-30 20:43:08,011 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,011 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,011 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,012 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,012 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,012 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,012 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,012 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,012 Line:988 6值：1800.00
 [DEBUG] 2017-11-30 20:43:08,013 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,014 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,015 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,015 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,015 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,015 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,015 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,016 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,016 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,016 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,016 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,016 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,017 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,018 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,018 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,018 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,021 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0145
 [DEBUG] 2017-11-30 20:43:08,021 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:08,021 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,021 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,022 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,023 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,023 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,023 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=2000000.00
 [DEBUG] 2017-11-30 20:43:08,023 Line:1322 JXLTOOL.setValue 主表字段BillAmt=2000000.00
 [DEBUG] 2017-11-30 20:43:08,023 Line:1344 JXLTOOL.setValue 明细表字段Remark=广东哈弗石油能源股份有限公司
 [DEBUG] 2017-11-30 20:43:08,023 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,023 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,023 Line:1344 JXLTOOL.setValue 明细表字段Amt=2000000.00
 [DEBUG] 2017-11-30 20:43:08,024 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=2000000.00
 [DEBUG] 2017-11-30 20:43:08,024 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,024 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,036 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,036 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,036 Line:5872 2:2d6dcd1b_1711302043080350331
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 6:OE0145
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,037 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 14:2000000.0
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 15:2000000.0
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,038 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,039 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,040 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,040 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,040 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,040 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,040 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,041 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,041 Line:5872 1:2d6dcd1b_1711302043080350331
 [DEBUG] 2017-11-30 20:43:08,041 Line:5872 2:2d6dcd1b_1711302043080410332
 [DEBUG] 2017-11-30 20:43:08,041 Line:5872 3:广东哈弗石油能源股份有限公司
 [DEBUG] 2017-11-30 20:43:08,041 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,041 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 6:2000000.0
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 8:2000000.0
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,042 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,043 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,043 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,044 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,045 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,045 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,046 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,046 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,047 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,048 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,048 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,048 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,048 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,049 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,049 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,049 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,049 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,049 Line:988 2值：2d6dcd1b_1711302043080350331
 [DEBUG] 2017-11-30 20:43:08,049 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,050 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,050 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,050 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,051 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,051 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,052 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,052 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,053 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,053 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,054 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,054 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,054 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,055 Line:988 1值：2d6dcd1b_1711302043080350331
 [DEBUG] 2017-11-30 20:43:08,055 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,056 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,056 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,057 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,057 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,057 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,057 Line:988 1值：2d6dcd1b_1711302043080350331
 [DEBUG] 2017-11-30 20:43:08,058 Line:1025 query condition columnName:SumDetAmt----value:2000000.0
 [DEBUG] 2017-11-30 20:43:08,058 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,059 Line:313 exeCondition:tblExpense_Add : 2000000.0 != 2000000.00
 [DEBUG] 2017-11-30 20:43:08,060 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,060 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,060 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,060 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,060 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,060 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,060 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,060 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,061 Line:988 6值：2000000.00
 [DEBUG] 2017-11-30 20:43:08,062 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,063 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,064 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,064 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,064 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,064 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,065 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,065 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,065 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,065 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,065 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,066 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,067 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,067 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,068 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,070 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0146
 [DEBUG] 2017-11-30 20:43:08,071 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:08,071 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,071 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,071 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,072 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,073 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,073 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=22450.00
 [DEBUG] 2017-11-30 20:43:08,073 Line:1322 JXLTOOL.setValue 主表字段BillAmt=22450.00
 [DEBUG] 2017-11-30 20:43:08,073 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市财付通科技有限公司
 [DEBUG] 2017-11-30 20:43:08,073 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,073 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,073 Line:1344 JXLTOOL.setValue 明细表字段Amt=22450.00
 [DEBUG] 2017-11-30 20:43:08,073 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=22450.00
 [DEBUG] 2017-11-30 20:43:08,074 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,074 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,086 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,086 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,086 Line:5872 2:2d6dcd1b_1711302043080850333
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 6:OE0146
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,087 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,088 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,088 Line:5872 14:22450.0
 [DEBUG] 2017-11-30 20:43:08,088 Line:5872 15:22450.0
 [DEBUG] 2017-11-30 20:43:08,088 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,088 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,088 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,089 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,090 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,091 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,091 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,091 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,092 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,092 Line:5872 1:2d6dcd1b_1711302043080850333
 [DEBUG] 2017-11-30 20:43:08,093 Line:5872 2:2d6dcd1b_1711302043080920334
 [DEBUG] 2017-11-30 20:43:08,093 Line:5872 3:深圳市财付通科技有限公司
 [DEBUG] 2017-11-30 20:43:08,093 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,093 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,093 Line:5872 6:22450.0
 [DEBUG] 2017-11-30 20:43:08,093 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 8:22450.0
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,094 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,095 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,096 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,098 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,098 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,100 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,100 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,101 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,102 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,102 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,102 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,103 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,103 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,104 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,104 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,104 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,104 Line:988 2值：2d6dcd1b_1711302043080850333
 [DEBUG] 2017-11-30 20:43:08,105 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,139 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,139 Line:1043 ---上述语句时间---35
 [DEBUG] 2017-11-30 20:43:08,140 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,148 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,148 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,148 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,148 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,149 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,150 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,151 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,151 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,152 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,152 Line:988 1值：2d6dcd1b_1711302043080850333
 [DEBUG] 2017-11-30 20:43:08,153 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,153 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,153 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,154 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,154 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,154 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,155 Line:988 1值：2d6dcd1b_1711302043080850333
 [DEBUG] 2017-11-30 20:43:08,156 Line:1025 query condition columnName:SumDetAmt----value:22450.0
 [DEBUG] 2017-11-30 20:43:08,156 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,156 Line:313 exeCondition:tblExpense_Add : 22450.0 != 22450.00
 [DEBUG] 2017-11-30 20:43:08,158 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,158 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,158 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,158 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,159 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,159 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,159 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,159 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,159 Line:988 6值：22450.00
 [DEBUG] 2017-11-30 20:43:08,161 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,162 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,163 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,163 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,163 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,163 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,163 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,164 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,165 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,165 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,165 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,165 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,165 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,166 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,167 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,167 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,171 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0147
 [DEBUG] 2017-11-30 20:43:08,171 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-10
 [DEBUG] 2017-11-30 20:43:08,171 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,171 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,172 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,172 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,172 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,172 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,172 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,172 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,173 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,173 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,173 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,173 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,173 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=7318.42
 [DEBUG] 2017-11-30 20:43:08,173 Line:1322 JXLTOOL.setValue 主表字段BillAmt=7318.42
 [DEBUG] 2017-11-30 20:43:08,173 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:08,173 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,173 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,174 Line:1344 JXLTOOL.setValue 明细表字段Amt=7318.42
 [DEBUG] 2017-11-30 20:43:08,174 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=7318.42
 [DEBUG] 2017-11-30 20:43:08,174 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,174 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,187 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,187 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,188 Line:5872 2:2d6dcd1b_1711302043081860335
 [DEBUG] 2017-11-30 20:43:08,188 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,188 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,188 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,188 Line:5872 6:OE0147
 [DEBUG] 2017-11-30 20:43:08,188 Line:5872 7:2017-11-10
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,189 Line:5872 14:7318.42
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 15:7318.42
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,190 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,191 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,192 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,192 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,193 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,193 Line:5872 1:2d6dcd1b_1711302043081860335
 [DEBUG] 2017-11-30 20:43:08,193 Line:5872 2:2d6dcd1b_1711302043081930336
 [DEBUG] 2017-11-30 20:43:08,193 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:08,193 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,193 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 6:7318.42
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 8:7318.42
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,194 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,196 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,197 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,197 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,198 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,198 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,199 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,199 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,199 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,200 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,200 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,200 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,201 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,201 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,201 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,201 Line:988 2值：2d6dcd1b_1711302043081860335
 [DEBUG] 2017-11-30 20:43:08,201 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,202 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,202 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,202 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,203 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,203 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,203 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,203 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,204 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,204 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,205 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,206 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,206 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,206 Line:988 1值：2d6dcd1b_1711302043081860335
 [DEBUG] 2017-11-30 20:43:08,207 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,207 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,207 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,208 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,208 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,209 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,209 Line:988 1值：2d6dcd1b_1711302043081860335
 [DEBUG] 2017-11-30 20:43:08,210 Line:1025 query condition columnName:SumDetAmt----value:7318.42
 [DEBUG] 2017-11-30 20:43:08,210 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,210 Line:313 exeCondition:tblExpense_Add : 7318.42 != 7318.42
 [DEBUG] 2017-11-30 20:43:08,211 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,211 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,211 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,212 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,212 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,212 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,212 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,212 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,213 Line:988 6值：7318.42
 [DEBUG] 2017-11-30 20:43:08,214 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,215 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,216 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,217 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,217 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,217 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,217 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,218 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,218 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,218 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,218 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,218 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,218 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,220 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,220 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,220 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,224 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0148
 [DEBUG] 2017-11-30 20:43:08,224 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-11
 [DEBUG] 2017-11-30 20:43:08,225 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,225 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,225 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,225 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,225 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,225 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5.00
 [DEBUG] 2017-11-30 20:43:08,226 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5.00
 [DEBUG] 2017-11-30 20:43:08,227 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,227 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,227 Line:1344 JXLTOOL.setValue 明细表字段Amt=5.00
 [DEBUG] 2017-11-30 20:43:08,227 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5.00
 [DEBUG] 2017-11-30 20:43:08,227 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,227 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,238 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,239 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,239 Line:5872 2:2d6dcd1b_1711302043082380337
 [DEBUG] 2017-11-30 20:43:08,239 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,239 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,239 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,239 Line:5872 6:OE0148
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 7:2017-11-11
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,240 Line:5872 14:5.0
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 15:5.0
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,241 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,242 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,243 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,243 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,243 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,243 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,244 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,244 Line:5872 1:2d6dcd1b_1711302043082380337
 [DEBUG] 2017-11-30 20:43:08,244 Line:5872 2:2d6dcd1b_1711302043082440338
 [DEBUG] 2017-11-30 20:43:08,244 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:08,244 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,244 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,244 Line:5872 6:5.0
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 8:5.0
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,245 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,247 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,248 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,248 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,249 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,249 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,250 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,250 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,250 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,250 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,251 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,251 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,251 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,251 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,251 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,252 Line:988 2值：2d6dcd1b_1711302043082380337
 [DEBUG] 2017-11-30 20:43:08,252 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,252 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,252 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,252 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,253 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,253 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,254 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,254 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,254 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,255 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,256 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,256 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,256 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,256 Line:988 1值：2d6dcd1b_1711302043082380337
 [DEBUG] 2017-11-30 20:43:08,257 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,257 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,257 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,258 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,258 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,258 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,258 Line:988 1值：2d6dcd1b_1711302043082380337
 [DEBUG] 2017-11-30 20:43:08,259 Line:1025 query condition columnName:SumDetAmt----value:5.0
 [DEBUG] 2017-11-30 20:43:08,259 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,259 Line:313 exeCondition:tblExpense_Add : 5.0 != 5.00
 [DEBUG] 2017-11-30 20:43:08,260 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,261 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,261 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,261 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,261 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,261 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,261 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,261 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,261 Line:988 6值：5.00
 [DEBUG] 2017-11-30 20:43:08,263 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,263 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,264 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,265 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,265 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,265 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,265 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,266 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,266 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,266 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,266 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,266 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,268 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,268 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,268 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,268 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,271 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0149
 [DEBUG] 2017-11-30 20:43:08,271 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-11
 [DEBUG] 2017-11-30 20:43:08,271 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,273 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,273 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,273 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,273 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,273 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,274 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4.00
 [DEBUG] 2017-11-30 20:43:08,275 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4.00
 [DEBUG] 2017-11-30 20:43:08,275 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,275 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,275 Line:1344 JXLTOOL.setValue 明细表字段Amt=4.00
 [DEBUG] 2017-11-30 20:43:08,276 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4.00
 [DEBUG] 2017-11-30 20:43:08,276 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,276 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,290 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 2:2d6dcd1b_1711302043082890339
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 6:OE0149
 [DEBUG] 2017-11-30 20:43:08,291 Line:5872 7:2017-11-11
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,292 Line:5872 14:4.0
 [DEBUG] 2017-11-30 20:43:08,293 Line:5872 15:4.0
 [DEBUG] 2017-11-30 20:43:08,293 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,293 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,293 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,293 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,294 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,294 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,294 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,294 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,294 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,294 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,295 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,296 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,296 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,296 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,296 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,297 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,297 Line:5872 1:2d6dcd1b_1711302043082890339
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 2:2d6dcd1b_1711302043082970340
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 6:4.0
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 8:4.0
 [DEBUG] 2017-11-30 20:43:08,298 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,299 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,299 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,299 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,299 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,299 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,299 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,301 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,302 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,302 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,303 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,303 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,305 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,305 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,305 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,305 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,306 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,306 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,307 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,307 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,307 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,307 Line:988 2值：2d6dcd1b_1711302043082890339
 [DEBUG] 2017-11-30 20:43:08,307 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,308 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,308 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,308 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,309 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,310 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,310 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,310 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,311 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,312 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,313 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,313 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,313 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,313 Line:988 1值：2d6dcd1b_1711302043082890339
 [DEBUG] 2017-11-30 20:43:08,328 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,329 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:08,329 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,330 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,330 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,331 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,331 Line:988 1值：2d6dcd1b_1711302043082890339
 [DEBUG] 2017-11-30 20:43:08,350 Line:1025 query condition columnName:SumDetAmt----value:4.0
 [DEBUG] 2017-11-30 20:43:08,350 Line:1043 ---上述语句时间---20
 [DEBUG] 2017-11-30 20:43:08,350 Line:313 exeCondition:tblExpense_Add : 4.0 != 4.00
 [DEBUG] 2017-11-30 20:43:08,351 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,351 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,352 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,352 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,352 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,352 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,352 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,352 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,352 Line:988 6值：4.00
 [DEBUG] 2017-11-30 20:43:08,354 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,354 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,355 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,355 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,355 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,355 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,356 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,356 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,356 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,356 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,357 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,357 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,357 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,358 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,358 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,358 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,362 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0150
 [DEBUG] 2017-11-30 20:43:08,362 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-11
 [DEBUG] 2017-11-30 20:43:08,362 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,363 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,363 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,363 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,364 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,364 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,364 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,364 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,365 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,365 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,365 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,365 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,365 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=93.40
 [DEBUG] 2017-11-30 20:43:08,365 Line:1322 JXLTOOL.setValue 主表字段BillAmt=93.40
 [DEBUG] 2017-11-30 20:43:08,366 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,366 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,366 Line:1344 JXLTOOL.setValue 明细表字段Amt=93.40
 [DEBUG] 2017-11-30 20:43:08,366 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=93.40
 [DEBUG] 2017-11-30 20:43:08,366 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,367 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,379 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,379 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,379 Line:5872 2:2d6dcd1b_1711302043083780341
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 6:OE0150
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 7:2017-11-11
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,380 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 14:93.4
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 15:93.4
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,381 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,382 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,383 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,383 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,383 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,383 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,383 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,384 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,384 Line:5872 1:2d6dcd1b_1711302043083780341
 [DEBUG] 2017-11-30 20:43:08,384 Line:5872 2:2d6dcd1b_1711302043083840342
 [DEBUG] 2017-11-30 20:43:08,384 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:08,384 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,384 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,384 Line:5872 6:93.4
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 8:93.4
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,385 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,387 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,388 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,388 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,389 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,389 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,391 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,391 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,391 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,391 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,392 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,392 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,392 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,392 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,392 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,392 Line:988 2值：2d6dcd1b_1711302043083780341
 [DEBUG] 2017-11-30 20:43:08,393 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,393 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,393 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,393 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,394 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,394 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,395 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,395 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,396 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,396 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,397 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,397 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,397 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,398 Line:988 1值：2d6dcd1b_1711302043083780341
 [DEBUG] 2017-11-30 20:43:08,398 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,398 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,399 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,400 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,400 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,400 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,400 Line:988 1值：2d6dcd1b_1711302043083780341
 [DEBUG] 2017-11-30 20:43:08,401 Line:1025 query condition columnName:SumDetAmt----value:93.4
 [DEBUG] 2017-11-30 20:43:08,401 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,402 Line:313 exeCondition:tblExpense_Add : 93.4 != 93.40
 [DEBUG] 2017-11-30 20:43:08,403 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,403 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,403 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,403 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,403 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,403 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,403 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,403 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,404 Line:988 6值：93.40
 [DEBUG] 2017-11-30 20:43:08,405 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,405 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,406 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,407 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,407 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,407 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,407 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,408 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,408 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,408 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,408 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,408 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,408 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,409 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,410 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,410 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,413 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0151
 [DEBUG] 2017-11-30 20:43:08,413 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-13
 [DEBUG] 2017-11-30 20:43:08,414 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,414 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,414 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,414 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,414 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,414 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,415 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,415 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,415 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,415 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,415 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,416 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,416 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=100000.00
 [DEBUG] 2017-11-30 20:43:08,416 Line:1322 JXLTOOL.setValue 主表字段BillAmt=100000.00
 [DEBUG] 2017-11-30 20:43:08,416 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,416 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,417 Line:1344 JXLTOOL.setValue 明细表字段Amt=100000.00
 [DEBUG] 2017-11-30 20:43:08,417 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=100000.00
 [DEBUG] 2017-11-30 20:43:08,417 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,417 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,433 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,433 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 2:2d6dcd1b_1711302043084320343
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 6:OE0151
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 7:2017-11-13
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,434 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 14:100000.0
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 15:100000.0
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,435 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,436 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,437 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,438 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,438 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,439 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,439 Line:5872 1:2d6dcd1b_1711302043084320343
 [DEBUG] 2017-11-30 20:43:08,439 Line:5872 2:2d6dcd1b_1711302043084390344
 [DEBUG] 2017-11-30 20:43:08,439 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:08,439 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 6:100000.0
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 8:100000.0
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,440 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,441 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,441 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,441 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,443 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,444 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,445 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,446 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,446 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,447 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,447 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,448 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,448 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,448 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,449 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,449 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,449 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,449 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,449 Line:988 2值：2d6dcd1b_1711302043084320343
 [DEBUG] 2017-11-30 20:43:08,449 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,450 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,451 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,451 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,452 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,453 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,453 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,453 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,454 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,455 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,456 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,456 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,457 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,457 Line:988 1值：2d6dcd1b_1711302043084320343
 [DEBUG] 2017-11-30 20:43:08,458 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,458 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,458 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,459 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,459 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,459 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,460 Line:988 1值：2d6dcd1b_1711302043084320343
 [DEBUG] 2017-11-30 20:43:08,461 Line:1025 query condition columnName:SumDetAmt----value:100000.0
 [DEBUG] 2017-11-30 20:43:08,461 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,461 Line:313 exeCondition:tblExpense_Add : 100000.0 != 100000.00
 [DEBUG] 2017-11-30 20:43:08,463 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,463 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,463 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,463 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,463 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,464 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,464 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,464 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,464 Line:988 6值：100000.00
 [DEBUG] 2017-11-30 20:43:08,465 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,466 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,467 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,467 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,467 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,468 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,468 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,469 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,469 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,469 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,469 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,469 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,471 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,471 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,472 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,476 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0152
 [DEBUG] 2017-11-30 20:43:08,477 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-13
 [DEBUG] 2017-11-30 20:43:08,477 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,477 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,478 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,478 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,478 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,478 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,479 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,479 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,479 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,479 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,480 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,480 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,480 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=110034.24
 [DEBUG] 2017-11-30 20:43:08,480 Line:1322 JXLTOOL.setValue 主表字段BillAmt=110034.24
 [DEBUG] 2017-11-30 20:43:08,480 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:08,481 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,481 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,481 Line:1344 JXLTOOL.setValue 明细表字段Amt=110034.24
 [DEBUG] 2017-11-30 20:43:08,481 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=110034.24
 [DEBUG] 2017-11-30 20:43:08,481 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,482 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,499 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,500 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,500 Line:5872 2:2d6dcd1b_1711302043084980345
 [DEBUG] 2017-11-30 20:43:08,500 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,500 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,500 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,500 Line:5872 6:OE0152
 [DEBUG] 2017-11-30 20:43:08,501 Line:5872 7:2017-11-13
 [DEBUG] 2017-11-30 20:43:08,501 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,501 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,501 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,501 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,501 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 14:110034.24
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 15:110034.24
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,502 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,503 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,504 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,505 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,505 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,505 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,506 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,507 Line:5872 1:2d6dcd1b_1711302043084980345
 [DEBUG] 2017-11-30 20:43:08,507 Line:5872 2:2d6dcd1b_1711302043085060346
 [DEBUG] 2017-11-30 20:43:08,507 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:08,507 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,507 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,508 Line:5872 6:110034.24
 [DEBUG] 2017-11-30 20:43:08,508 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,508 Line:5872 8:110034.24
 [DEBUG] 2017-11-30 20:43:08,508 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,508 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,509 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,509 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,509 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,509 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,509 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,512 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,513 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,514 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,515 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,515 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,517 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,517 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,517 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,517 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,518 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,519 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,519 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,519 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,519 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,519 Line:988 2值：2d6dcd1b_1711302043084980345
 [DEBUG] 2017-11-30 20:43:08,520 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,520 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,521 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,521 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,522 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,523 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,523 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,523 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,525 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,525 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,526 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,527 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,527 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,527 Line:988 1值：2d6dcd1b_1711302043084980345
 [DEBUG] 2017-11-30 20:43:08,528 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,529 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,529 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,530 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,531 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,531 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,531 Line:988 1值：2d6dcd1b_1711302043084980345
 [DEBUG] 2017-11-30 20:43:08,532 Line:1025 query condition columnName:SumDetAmt----value:110034.24
 [DEBUG] 2017-11-30 20:43:08,532 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,533 Line:313 exeCondition:tblExpense_Add : 110034.24 != 110034.24
 [DEBUG] 2017-11-30 20:43:08,534 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,534 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,534 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,534 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,534 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,535 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,535 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,535 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,535 Line:988 6值：110034.24
 [DEBUG] 2017-11-30 20:43:08,537 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,537 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,538 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,538 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,539 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,539 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,539 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,540 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,540 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,540 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,540 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,540 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,540 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,541 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,542 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,542 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,545 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0153
 [DEBUG] 2017-11-30 20:43:08,545 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-13
 [DEBUG] 2017-11-30 20:43:08,545 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,546 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,546 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,546 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,546 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,546 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=14115.72
 [DEBUG] 2017-11-30 20:43:08,547 Line:1322 JXLTOOL.setValue 主表字段BillAmt=14115.72
 [DEBUG] 2017-11-30 20:43:08,548 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:08,548 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,548 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,548 Line:1344 JXLTOOL.setValue 明细表字段Amt=14115.72
 [DEBUG] 2017-11-30 20:43:08,548 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=14115.72
 [DEBUG] 2017-11-30 20:43:08,548 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,549 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,562 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 2:2d6dcd1b_1711302043085610347
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 6:OE0153
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 7:2017-11-13
 [DEBUG] 2017-11-30 20:43:08,562 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 14:14115.72
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 15:14115.72
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,563 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,564 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,565 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,566 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,566 Line:5872 1:2d6dcd1b_1711302043085610347
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 2:2d6dcd1b_1711302043085660348
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 6:14115.72
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,567 Line:5872 8:14115.72
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,568 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,570 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,571 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,571 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,572 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,572 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,573 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,573 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,573 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,573 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,574 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,574 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,574 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,574 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,574 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,575 Line:988 2值：2d6dcd1b_1711302043085610347
 [DEBUG] 2017-11-30 20:43:08,575 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,575 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,575 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,575 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,576 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,577 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,577 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,577 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,578 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,578 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,579 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,579 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,579 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,579 Line:988 1值：2d6dcd1b_1711302043085610347
 [DEBUG] 2017-11-30 20:43:08,580 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,580 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,581 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,582 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,582 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,582 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,582 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045788580
 [DEBUG] 2017-11-30 20:43:08,583 Line:988 1值：2d6dcd1b_1711302043085610347
 [DEBUG] 2017-11-30 20:43:08,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045788580,];
 [DEBUG] 2017-11-30 20:43:08,584 Line:1025 query condition columnName:SumDetAmt----value:14115.72
 [DEBUG] 2017-11-30 20:43:08,585 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,585 Line:313 exeCondition:tblExpense_Add : 14115.72 != 14115.72
 [DEBUG] 2017-11-30 20:43:08,586 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,587 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,587 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,587 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,588 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,588 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,588 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,588 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,588 Line:988 6值：14115.72
 [DEBUG] 2017-11-30 20:43:08,591 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:08,591 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,593 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,593 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,594 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,594 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,594 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,595 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,596 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,596 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,596 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,596 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,596 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,597 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,598 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,598 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,600 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0154
 [DEBUG] 2017-11-30 20:43:08,601 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-13
 [DEBUG] 2017-11-30 20:43:08,601 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,601 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,601 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,602 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,603 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,603 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10450.03
 [DEBUG] 2017-11-30 20:43:08,603 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10450.03
 [DEBUG] 2017-11-30 20:43:08,603 Line:1344 JXLTOOL.setValue 明细表字段Remark=待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:08,603 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,603 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,603 Line:1344 JXLTOOL.setValue 明细表字段Amt=10450.03
 [DEBUG] 2017-11-30 20:43:08,604 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10450.03
 [DEBUG] 2017-11-30 20:43:08,604 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,604 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,619 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,619 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,619 Line:5872 2:2d6dcd1b_1711302043086180349
 [DEBUG] 2017-11-30 20:43:08,619 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 6:OE0154
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 7:2017-11-13
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,620 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 14:10450.03
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 15:10450.03
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,621 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,622 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,623 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,624 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,624 Line:5872 1:2d6dcd1b_1711302043086180349
 [DEBUG] 2017-11-30 20:43:08,624 Line:5872 2:2d6dcd1b_1711302043086240350
 [DEBUG] 2017-11-30 20:43:08,624 Line:5872 3:待报解预算收入东莞市财税库行横向联网集中户
 [DEBUG] 2017-11-30 20:43:08,624 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 6:10450.03
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 8:10450.03
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,625 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,626 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,627 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,628 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,628 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,629 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,630 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,631 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,631 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,632 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,632 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,632 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,633 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,633 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,633 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,633 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,633 Line:988 2值：2d6dcd1b_1711302043086180349
 [DEBUG] 2017-11-30 20:43:08,633 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,634 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,634 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,634 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,635 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,635 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,636 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,636 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,637 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,637 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,638 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,639 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,639 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,639 Line:988 1值：2d6dcd1b_1711302043086180349
 [DEBUG] 2017-11-30 20:43:08,656 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,657 Line:1043 ---上述语句时间---18
 [DEBUG] 2017-11-30 20:43:08,657 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,659 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,659 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,659 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,659 Line:988 1值：2d6dcd1b_1711302043086180349
 [DEBUG] 2017-11-30 20:43:08,676 Line:1025 query condition columnName:SumDetAmt----value:10450.03
 [DEBUG] 2017-11-30 20:43:08,677 Line:1043 ---上述语句时间---18
 [DEBUG] 2017-11-30 20:43:08,677 Line:313 exeCondition:tblExpense_Add : 10450.03 != 10450.03
 [DEBUG] 2017-11-30 20:43:08,678 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,678 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,678 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,679 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,679 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,679 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,679 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,679 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,679 Line:988 6值：10450.03
 [DEBUG] 2017-11-30 20:43:08,682 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:08,682 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,684 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,684 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,684 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,684 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,684 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,685 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,686 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,686 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,686 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,686 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,686 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,688 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,688 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,689 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,694 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0155
 [DEBUG] 2017-11-30 20:43:08,694 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-14
 [DEBUG] 2017-11-30 20:43:08,695 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,695 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,695 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,696 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,696 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,696 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,696 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,696 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,697 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,697 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,697 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,697 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,697 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=104.06
 [DEBUG] 2017-11-30 20:43:08,697 Line:1322 JXLTOOL.setValue 主表字段BillAmt=104.06
 [DEBUG] 2017-11-30 20:43:08,698 Line:1344 JXLTOOL.setValue 明细表字段Remark=代收通讯费主办行归集户
 [DEBUG] 2017-11-30 20:43:08,698 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,698 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,698 Line:1344 JXLTOOL.setValue 明细表字段Amt=104.06
 [DEBUG] 2017-11-30 20:43:08,698 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=104.06
 [DEBUG] 2017-11-30 20:43:08,698 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,699 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,718 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,718 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,718 Line:5872 2:2d6dcd1b_1711302043087160351
 [DEBUG] 2017-11-30 20:43:08,718 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,719 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,719 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,719 Line:5872 6:OE0155
 [DEBUG] 2017-11-30 20:43:08,719 Line:5872 7:2017-11-14
 [DEBUG] 2017-11-30 20:43:08,719 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,719 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,720 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,720 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,720 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,720 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,720 Line:5872 14:104.06
 [DEBUG] 2017-11-30 20:43:08,720 Line:5872 15:104.06
 [DEBUG] 2017-11-30 20:43:08,721 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,721 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,721 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,721 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,721 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,721 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,722 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,722 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,722 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,722 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,722 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,722 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,723 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,723 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,723 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,723 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,723 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,723 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,724 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,724 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,724 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,726 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,726 Line:5872 1:2d6dcd1b_1711302043087160351
 [DEBUG] 2017-11-30 20:43:08,726 Line:5872 2:2d6dcd1b_1711302043087260352
 [DEBUG] 2017-11-30 20:43:08,726 Line:5872 3:代收通讯费主办行归集户
 [DEBUG] 2017-11-30 20:43:08,726 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,727 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,727 Line:5872 6:104.06
 [DEBUG] 2017-11-30 20:43:08,727 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,727 Line:5872 8:104.06
 [DEBUG] 2017-11-30 20:43:08,727 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,727 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,728 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,728 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,728 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,728 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,728 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,731 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,733 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,733 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,735 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,735 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,736 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,737 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,737 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,737 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,738 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,738 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,738 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,739 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,739 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,739 Line:988 2值：2d6dcd1b_1711302043087160351
 [DEBUG] 2017-11-30 20:43:08,739 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,740 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,740 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,741 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,742 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,742 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,742 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,743 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,744 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,745 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,746 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,746 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,747 Line:988 1值：2d6dcd1b_1711302043087160351
 [DEBUG] 2017-11-30 20:43:08,748 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,748 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,748 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,750 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,750 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,750 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,750 Line:988 1值：2d6dcd1b_1711302043087160351
 [DEBUG] 2017-11-30 20:43:08,751 Line:1025 query condition columnName:SumDetAmt----value:104.06
 [DEBUG] 2017-11-30 20:43:08,752 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,752 Line:313 exeCondition:tblExpense_Add : 104.06 != 104.06
 [DEBUG] 2017-11-30 20:43:08,753 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,753 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,753 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,754 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,754 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,754 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,754 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,754 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,755 Line:988 6值：104.06
 [DEBUG] 2017-11-30 20:43:08,757 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:08,757 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,759 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,759 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,760 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,760 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,760 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,761 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,761 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,761 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,761 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,762 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:08,762 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,763 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,763 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,764 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,767 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0156
 [DEBUG] 2017-11-30 20:43:08,768 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-15
 [DEBUG] 2017-11-30 20:43:08,768 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,768 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,768 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,768 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,769 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,770 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,770 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=295000.00
 [DEBUG] 2017-11-30 20:43:08,770 Line:1322 JXLTOOL.setValue 主表字段BillAmt=295000.00
 [DEBUG] 2017-11-30 20:43:08,770 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:08,770 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,771 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,771 Line:1344 JXLTOOL.setValue 明细表字段Amt=295000.00
 [DEBUG] 2017-11-30 20:43:08,771 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=295000.00
 [DEBUG] 2017-11-30 20:43:08,771 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,771 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,789 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,789 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 2:2d6dcd1b_1711302043087880353
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 6:OE0156
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 7:2017-11-15
 [DEBUG] 2017-11-30 20:43:08,790 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 14:295000.0
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 15:295000.0
 [DEBUG] 2017-11-30 20:43:08,791 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,792 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,793 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,793 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,793 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,793 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,793 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,793 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,794 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,794 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,794 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,794 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,794 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,794 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,795 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,796 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,796 Line:5872 1:2d6dcd1b_1711302043087880353
 [DEBUG] 2017-11-30 20:43:08,796 Line:5872 2:2d6dcd1b_1711302043087950354
 [DEBUG] 2017-11-30 20:43:08,796 Line:5872 3:济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:08,796 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,796 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 6:295000.0
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 8:295000.0
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,797 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,798 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,798 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,800 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,801 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,801 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,802 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,803 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,804 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,804 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,804 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,804 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,805 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,805 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,805 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,806 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,806 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,806 Line:988 2值：2d6dcd1b_1711302043087880353
 [DEBUG] 2017-11-30 20:43:08,806 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,807 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,807 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,807 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,809 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,809 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,809 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,809 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,811 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,811 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,812 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,812 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,812 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,813 Line:988 1值：2d6dcd1b_1711302043087880353
 [DEBUG] 2017-11-30 20:43:08,814 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,814 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,814 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,815 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,816 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,816 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,816 Line:988 1值：2d6dcd1b_1711302043087880353
 [DEBUG] 2017-11-30 20:43:08,817 Line:1025 query condition columnName:SumDetAmt----value:295000.0
 [DEBUG] 2017-11-30 20:43:08,818 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,818 Line:313 exeCondition:tblExpense_Add : 295000.0 != 295000.00
 [DEBUG] 2017-11-30 20:43:08,819 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,819 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,820 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,820 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,820 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,820 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,820 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,820 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,820 Line:988 6值：295000.00
 [DEBUG] 2017-11-30 20:43:08,823 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:08,823 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,824 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,824 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,825 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,825 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,825 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,826 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,826 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,826 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,826 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,826 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,827 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,828 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,828 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,828 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,832 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0157
 [DEBUG] 2017-11-30 20:43:08,832 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-15
 [DEBUG] 2017-11-30 20:43:08,832 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,832 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,833 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,833 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,833 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,833 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,833 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,833 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,834 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,834 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,834 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,834 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,834 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=230307.04
 [DEBUG] 2017-11-30 20:43:08,835 Line:1322 JXLTOOL.setValue 主表字段BillAmt=230307.04
 [DEBUG] 2017-11-30 20:43:08,835 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:08,835 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,835 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,835 Line:1344 JXLTOOL.setValue 明细表字段Amt=230307.04
 [DEBUG] 2017-11-30 20:43:08,836 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=230307.04
 [DEBUG] 2017-11-30 20:43:08,836 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,836 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,852 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,852 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,852 Line:5872 2:2d6dcd1b_1711302043088510355
 [DEBUG] 2017-11-30 20:43:08,852 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,852 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 6:OE0157
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 7:2017-11-15
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,853 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 14:230307.04
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 15:230307.04
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,854 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,855 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,856 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,857 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 1:2d6dcd1b_1711302043088510355
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 2:2d6dcd1b_1711302043088570356
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 6:230307.04
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 8:230307.04
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,858 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,859 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,859 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,859 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,859 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,859 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,861 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,862 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,862 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,863 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,864 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,864 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,865 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,865 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,866 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,866 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,866 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,866 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,867 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,867 Line:988 2值：2d6dcd1b_1711302043088510355
 [DEBUG] 2017-11-30 20:43:08,867 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,868 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,868 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,868 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,869 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,869 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,869 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,869 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,870 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,870 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,872 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,872 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,872 Line:988 1值：2d6dcd1b_1711302043088510355
 [DEBUG] 2017-11-30 20:43:08,873 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,873 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,873 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,874 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,874 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,874 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,875 Line:988 1值：2d6dcd1b_1711302043088510355
 [DEBUG] 2017-11-30 20:43:08,876 Line:1025 query condition columnName:SumDetAmt----value:230307.04
 [DEBUG] 2017-11-30 20:43:08,876 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,877 Line:313 exeCondition:tblExpense_Add : 230307.04 != 230307.04
 [DEBUG] 2017-11-30 20:43:08,878 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,879 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,879 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,879 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,879 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,879 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,879 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,879 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,880 Line:988 6值：230307.04
 [DEBUG] 2017-11-30 20:43:08,882 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:08,882 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,883 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,884 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,884 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,884 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,884 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,885 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,886 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,886 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,886 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,886 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,886 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,888 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,888 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,889 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,892 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0158
 [DEBUG] 2017-11-30 20:43:08,893 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-16
 [DEBUG] 2017-11-30 20:43:08,893 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,893 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,894 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,894 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,894 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,894 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,894 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,894 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,895 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,895 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,895 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,895 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,895 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=37.00
 [DEBUG] 2017-11-30 20:43:08,895 Line:1322 JXLTOOL.setValue 主表字段BillAmt=37.00
 [DEBUG] 2017-11-30 20:43:08,895 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,896 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,896 Line:1344 JXLTOOL.setValue 明细表字段Amt=37.00
 [DEBUG] 2017-11-30 20:43:08,896 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=37.00
 [DEBUG] 2017-11-30 20:43:08,896 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,896 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,911 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,912 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,912 Line:5872 2:2d6dcd1b_1711302043089100357
 [DEBUG] 2017-11-30 20:43:08,912 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,912 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,912 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,913 Line:5872 6:OE0158
 [DEBUG] 2017-11-30 20:43:08,913 Line:5872 7:2017-11-16
 [DEBUG] 2017-11-30 20:43:08,913 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,913 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,913 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,913 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 14:37.0
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 15:37.0
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,914 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,915 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,915 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,915 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,915 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,915 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,915 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,916 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,916 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,916 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,916 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,916 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,916 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,917 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,917 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,917 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,917 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,917 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,917 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,919 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,919 Line:5872 1:2d6dcd1b_1711302043089100357
 [DEBUG] 2017-11-30 20:43:08,919 Line:5872 2:2d6dcd1b_1711302043089190358
 [DEBUG] 2017-11-30 20:43:08,919 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:08,919 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,919 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,919 Line:5872 6:37.0
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 8:37.0
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,920 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,922 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,924 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,924 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,926 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,926 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,927 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,928 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,928 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,928 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,929 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,929 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,929 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,929 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,929 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,930 Line:988 2值：2d6dcd1b_1711302043089100357
 [DEBUG] 2017-11-30 20:43:08,930 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,931 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,931 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,931 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,933 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,933 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,933 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,933 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,935 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,935 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,936 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,937 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,937 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,937 Line:988 1值：2d6dcd1b_1711302043089100357
 [DEBUG] 2017-11-30 20:43:08,938 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:08,939 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,939 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,940 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,940 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:08,940 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,941 Line:988 1值：2d6dcd1b_1711302043089100357
 [DEBUG] 2017-11-30 20:43:08,942 Line:1025 query condition columnName:SumDetAmt----value:37.0
 [DEBUG] 2017-11-30 20:43:08,942 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:08,943 Line:313 exeCondition:tblExpense_Add : 37.0 != 37.00
 [DEBUG] 2017-11-30 20:43:08,944 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,945 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:08,945 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,945 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,945 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:08,945 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:08,945 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:08,946 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:08,946 Line:988 6值：37.00
 [DEBUG] 2017-11-30 20:43:08,948 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:08,948 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:08,949 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,950 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:08,950 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,950 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:08,950 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:08,951 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:08,951 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:08,951 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:08,951 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:08,951 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,951 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:08,953 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:08,953 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:08,953 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:08,956 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0159
 [DEBUG] 2017-11-30 20:43:08,956 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-16
 [DEBUG] 2017-11-30 20:43:08,957 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,957 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:08,957 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:08,957 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:08,957 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:08,957 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:08,958 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:08,958 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:08,958 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:08,958 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,958 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:08,958 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:08,959 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=15.00
 [DEBUG] 2017-11-30 20:43:08,959 Line:1322 JXLTOOL.setValue 主表字段BillAmt=15.00
 [DEBUG] 2017-11-30 20:43:08,959 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:08,959 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:08,959 Line:1344 JXLTOOL.setValue 明细表字段Amt=15.00
 [DEBUG] 2017-11-30 20:43:08,959 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=15.00
 [DEBUG] 2017-11-30 20:43:08,960 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:08,960 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:08,973 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,973 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:08,973 Line:5872 2:2d6dcd1b_1711302043089720359
 [DEBUG] 2017-11-30 20:43:08,973 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:08,973 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:08,973 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:08,973 Line:5872 6:OE0159
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 7:2017-11-16
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 14:15.0
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 15:15.0
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:08,974 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:08,975 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 30:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 33:2017-11-30 20:43:08
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:08,976 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:08,977 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:08,977 Line:5872 1:2d6dcd1b_1711302043089720359
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 2:2d6dcd1b_1711302043089770360
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 6:15.0
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 8:15.0
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:08,978 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:08,979 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:08,979 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:08,979 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:08,979 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:08,979 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:08,980 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:08,981 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,982 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:08,982 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,983 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:08,983 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,984 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:08,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,984 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:08,984 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:08,985 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,985 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:08,985 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,985 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:08,985 Line:988 2值：2d6dcd1b_1711302043089720359
 [DEBUG] 2017-11-30 20:43:08,985 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:08,986 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:08,986 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,986 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:08,987 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,987 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:08,987 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,987 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:08,988 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:08,989 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:08,990 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:08,990 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:08,990 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:08,990 Line:988 1值：2d6dcd1b_1711302043089720359
 [DEBUG] 2017-11-30 20:43:09,003 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,003 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-11-30 20:43:09,003 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,004 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,004 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,005 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,005 Line:988 1值：2d6dcd1b_1711302043089720359
 [DEBUG] 2017-11-30 20:43:09,018 Line:1025 query condition columnName:SumDetAmt----value:15.0
 [DEBUG] 2017-11-30 20:43:09,018 Line:1043 ---上述语句时间---14
 [DEBUG] 2017-11-30 20:43:09,018 Line:313 exeCondition:tblExpense_Add : 15.0 != 15.00
 [DEBUG] 2017-11-30 20:43:09,019 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,019 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,020 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,020 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,020 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,020 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,020 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,020 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,020 Line:988 6值：15.00
 [DEBUG] 2017-11-30 20:43:09,022 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,022 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,023 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,023 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,024 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,024 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,024 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,025 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,025 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,025 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,025 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,025 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,025 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,026 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,027 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,027 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,029 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0160
 [DEBUG] 2017-11-30 20:43:09,030 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,030 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,030 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,030 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,031 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,031 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,031 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,031 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,031 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,031 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,032 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,032 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,032 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,032 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=90000.00
 [DEBUG] 2017-11-30 20:43:09,032 Line:1322 JXLTOOL.setValue 主表字段BillAmt=90000.00
 [DEBUG] 2017-11-30 20:43:09,032 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市旗宏机电工程有限公司
 [DEBUG] 2017-11-30 20:43:09,032 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,033 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,033 Line:1344 JXLTOOL.setValue 明细表字段Amt=90000.00
 [DEBUG] 2017-11-30 20:43:09,033 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=90000.00
 [DEBUG] 2017-11-30 20:43:09,033 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,033 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,047 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,047 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,047 Line:5872 2:2d6dcd1b_1711302043090460361
 [DEBUG] 2017-11-30 20:43:09,047 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,047 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,048 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,048 Line:5872 6:OE0160
 [DEBUG] 2017-11-30 20:43:09,048 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,048 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,048 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,048 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,049 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,049 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,049 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,049 Line:5872 14:90000.0
 [DEBUG] 2017-11-30 20:43:09,049 Line:5872 15:90000.0
 [DEBUG] 2017-11-30 20:43:09,049 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,050 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,051 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,052 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,052 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,052 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,052 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,052 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,053 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,053 Line:5872 1:2d6dcd1b_1711302043090460361
 [DEBUG] 2017-11-30 20:43:09,054 Line:5872 2:2d6dcd1b_1711302043090530362
 [DEBUG] 2017-11-30 20:43:09,054 Line:5872 3:东莞市旗宏机电工程有限公司
 [DEBUG] 2017-11-30 20:43:09,054 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,054 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,054 Line:5872 6:90000.0
 [DEBUG] 2017-11-30 20:43:09,054 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 8:90000.0
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,055 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,056 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,057 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,059 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,059 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,061 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,061 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,062 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,062 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,063 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,063 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,064 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,064 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,064 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,064 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,064 Line:988 2值：2d6dcd1b_1711302043090460361
 [DEBUG] 2017-11-30 20:43:09,065 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,065 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,065 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,065 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,067 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,067 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,067 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,067 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,068 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,068 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,069 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,070 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,070 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,070 Line:988 1值：2d6dcd1b_1711302043090460361
 [DEBUG] 2017-11-30 20:43:09,071 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,071 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,071 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,072 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,073 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,073 Line:988 1值：2d6dcd1b_1711302043090460361
 [DEBUG] 2017-11-30 20:43:09,074 Line:1025 query condition columnName:SumDetAmt----value:90000.0
 [DEBUG] 2017-11-30 20:43:09,075 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,075 Line:313 exeCondition:tblExpense_Add : 90000.0 != 90000.00
 [DEBUG] 2017-11-30 20:43:09,076 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,077 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,077 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,077 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,077 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,078 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,078 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,078 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,078 Line:988 6值：90000.00
 [DEBUG] 2017-11-30 20:43:09,080 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,080 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,081 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,082 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,082 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,082 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,082 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,083 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,083 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,083 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,083 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,084 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,084 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,085 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,085 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,085 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,089 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0161
 [DEBUG] 2017-11-30 20:43:09,089 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,089 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,089 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,090 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,091 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,091 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=47000.00
 [DEBUG] 2017-11-30 20:43:09,091 Line:1322 JXLTOOL.setValue 主表字段BillAmt=47000.00
 [DEBUG] 2017-11-30 20:43:09,091 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市星科企业管理咨询有限公司
 [DEBUG] 2017-11-30 20:43:09,091 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,091 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,091 Line:1344 JXLTOOL.setValue 明细表字段Amt=47000.00
 [DEBUG] 2017-11-30 20:43:09,091 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=47000.00
 [DEBUG] 2017-11-30 20:43:09,092 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,092 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,104 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,105 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,105 Line:5872 2:2d6dcd1b_1711302043091030363
 [DEBUG] 2017-11-30 20:43:09,105 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,105 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,105 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,106 Line:5872 6:OE0161
 [DEBUG] 2017-11-30 20:43:09,106 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,106 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,106 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,106 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,106 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,107 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,107 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,107 Line:5872 14:47000.0
 [DEBUG] 2017-11-30 20:43:09,107 Line:5872 15:47000.0
 [DEBUG] 2017-11-30 20:43:09,107 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,107 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,108 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,109 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,110 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,110 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,111 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,111 Line:5872 1:2d6dcd1b_1711302043091030363
 [DEBUG] 2017-11-30 20:43:09,111 Line:5872 2:2d6dcd1b_1711302043091110364
 [DEBUG] 2017-11-30 20:43:09,111 Line:5872 3:东莞市星科企业管理咨询有限公司
 [DEBUG] 2017-11-30 20:43:09,111 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 6:47000.0
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 8:47000.0
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,112 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,113 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,113 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,114 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,115 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,115 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,116 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,117 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,117 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,118 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,118 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,118 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,118 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,119 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,119 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,119 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,119 Line:988 2值：2d6dcd1b_1711302043091030363
 [DEBUG] 2017-11-30 20:43:09,120 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,120 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,120 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,120 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,121 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,121 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,122 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,123 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,123 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,124 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,124 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,124 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,125 Line:988 1值：2d6dcd1b_1711302043091030363
 [DEBUG] 2017-11-30 20:43:09,125 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,125 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,126 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,127 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,127 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,127 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,127 Line:988 1值：2d6dcd1b_1711302043091030363
 [DEBUG] 2017-11-30 20:43:09,128 Line:1025 query condition columnName:SumDetAmt----value:47000.0
 [DEBUG] 2017-11-30 20:43:09,128 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,128 Line:313 exeCondition:tblExpense_Add : 47000.0 != 47000.00
 [DEBUG] 2017-11-30 20:43:09,129 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,129 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,130 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,130 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,130 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,130 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,130 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,131 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,131 Line:988 6值：47000.00
 [DEBUG] 2017-11-30 20:43:09,133 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:09,133 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,134 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,134 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,134 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,134 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,134 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,135 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,135 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,135 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,135 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,136 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,136 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,137 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,137 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,137 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,140 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0162
 [DEBUG] 2017-11-30 20:43:09,141 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,141 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,141 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,141 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,141 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,142 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,143 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1100.00
 [DEBUG] 2017-11-30 20:43:09,143 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1100.00
 [DEBUG] 2017-11-30 20:43:09,143 Line:1344 JXLTOOL.setValue 明细表字段Remark=山东卓创资讯股份有限公司
 [DEBUG] 2017-11-30 20:43:09,143 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,143 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,143 Line:1344 JXLTOOL.setValue 明细表字段Amt=1100.00
 [DEBUG] 2017-11-30 20:43:09,143 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1100.00
 [DEBUG] 2017-11-30 20:43:09,143 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,144 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,155 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,155 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,155 Line:5872 2:2d6dcd1b_1711302043091540365
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 6:OE0162
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,156 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 14:1100.0
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 15:1100.0
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,157 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,158 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,159 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,160 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,160 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,160 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,160 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,161 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,161 Line:5872 1:2d6dcd1b_1711302043091540365
 [DEBUG] 2017-11-30 20:43:09,161 Line:5872 2:2d6dcd1b_1711302043091610366
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 3:山东卓创资讯股份有限公司
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 6:1100.0
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 8:1100.0
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,162 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,163 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,163 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,163 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,163 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,163 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,165 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,167 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,167 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,168 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,169 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,170 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,170 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,171 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,171 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,172 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,172 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,172 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,172 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,173 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,173 Line:988 2值：2d6dcd1b_1711302043091540365
 [DEBUG] 2017-11-30 20:43:09,173 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,174 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,174 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,175 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,176 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,176 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,176 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,177 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,178 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,178 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,180 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,180 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,180 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,180 Line:988 1值：2d6dcd1b_1711302043091540365
 [DEBUG] 2017-11-30 20:43:09,181 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,182 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,182 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,183 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,183 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,184 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,184 Line:988 1值：2d6dcd1b_1711302043091540365
 [DEBUG] 2017-11-30 20:43:09,185 Line:1025 query condition columnName:SumDetAmt----value:1100.0
 [DEBUG] 2017-11-30 20:43:09,186 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,186 Line:313 exeCondition:tblExpense_Add : 1100.0 != 1100.00
 [DEBUG] 2017-11-30 20:43:09,187 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,188 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,188 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,188 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,188 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,188 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,188 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,188 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,189 Line:988 6值：1100.00
 [DEBUG] 2017-11-30 20:43:09,191 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:09,191 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,192 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,193 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,193 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,193 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,193 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,194 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,194 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,195 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,195 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,195 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,195 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,196 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,196 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,197 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,200 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0163
 [DEBUG] 2017-11-30 20:43:09,200 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,200 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,200 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,201 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,201 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,201 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,201 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,202 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=37620.00
 [DEBUG] 2017-11-30 20:43:09,203 Line:1322 JXLTOOL.setValue 主表字段BillAmt=37620.00
 [DEBUG] 2017-11-30 20:43:09,203 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市集时通讯股份有限公司
 [DEBUG] 2017-11-30 20:43:09,203 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,203 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,203 Line:1344 JXLTOOL.setValue 明细表字段Amt=37620.00
 [DEBUG] 2017-11-30 20:43:09,204 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=37620.00
 [DEBUG] 2017-11-30 20:43:09,204 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,204 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,220 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,220 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,220 Line:5872 2:2d6dcd1b_1711302043092190367
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 6:OE0163
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,221 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 14:37620.0
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 15:37620.0
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,222 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,223 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,224 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,225 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,225 Line:5872 1:2d6dcd1b_1711302043092190367
 [DEBUG] 2017-11-30 20:43:09,225 Line:5872 2:2d6dcd1b_1711302043092250368
 [DEBUG] 2017-11-30 20:43:09,225 Line:5872 3:深圳市集时通讯股份有限公司
 [DEBUG] 2017-11-30 20:43:09,226 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,226 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,226 Line:5872 6:37620.0
 [DEBUG] 2017-11-30 20:43:09,226 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,226 Line:5872 8:37620.0
 [DEBUG] 2017-11-30 20:43:09,226 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,227 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,227 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,227 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,227 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,227 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,227 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,229 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,230 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,230 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,231 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,232 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,232 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,233 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,233 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,233 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,234 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,234 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,234 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,234 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,234 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,234 Line:988 2值：2d6dcd1b_1711302043092190367
 [DEBUG] 2017-11-30 20:43:09,234 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,235 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,235 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,235 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,236 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,236 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,237 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,237 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,237 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,238 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,239 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,239 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,239 Line:988 1值：2d6dcd1b_1711302043092190367
 [DEBUG] 2017-11-30 20:43:09,240 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,240 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,240 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,241 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,241 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,241 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,242 Line:988 1值：2d6dcd1b_1711302043092190367
 [DEBUG] 2017-11-30 20:43:09,243 Line:1025 query condition columnName:SumDetAmt----value:37620.0
 [DEBUG] 2017-11-30 20:43:09,243 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,244 Line:313 exeCondition:tblExpense_Add : 37620.0 != 37620.00
 [DEBUG] 2017-11-30 20:43:09,245 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,245 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,245 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,245 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,245 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,245 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,246 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,246 Line:988 6值：37620.00
 [DEBUG] 2017-11-30 20:43:09,247 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,247 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,249 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,249 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,249 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,249 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,249 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,250 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,250 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,250 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,250 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,250 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,250 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,251 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,252 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,252 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,255 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0164
 [DEBUG] 2017-11-30 20:43:09,255 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,256 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,256 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,256 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,256 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,256 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,256 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1931.00
 [DEBUG] 2017-11-30 20:43:09,257 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1931.00
 [DEBUG] 2017-11-30 20:43:09,258 Line:1344 JXLTOOL.setValue 明细表字段Remark=顺丰速运(东莞)有限公司
 [DEBUG] 2017-11-30 20:43:09,258 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,258 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,258 Line:1344 JXLTOOL.setValue 明细表字段Amt=1931.00
 [DEBUG] 2017-11-30 20:43:09,258 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1931.00
 [DEBUG] 2017-11-30 20:43:09,258 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,258 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,270 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,270 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,270 Line:5872 2:2d6dcd1b_1711302043092690369
 [DEBUG] 2017-11-30 20:43:09,270 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,270 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,270 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 6:OE0164
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 14:1931.0
 [DEBUG] 2017-11-30 20:43:09,271 Line:5872 15:1931.0
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,272 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,273 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,274 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,274 Line:5872 1:2d6dcd1b_1711302043092690369
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 2:2d6dcd1b_1711302043092740370
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 3:顺丰速运(东莞)有限公司
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 6:1931.0
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 8:1931.0
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,275 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,276 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,276 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,276 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,276 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,276 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,277 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,278 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,278 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,279 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,280 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,281 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,281 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,281 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,282 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,282 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,282 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,282 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,283 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,283 Line:988 2值：2d6dcd1b_1711302043092690369
 [DEBUG] 2017-11-30 20:43:09,283 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,283 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,284 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,284 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,285 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,285 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,285 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,285 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,286 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,286 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,287 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,287 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,288 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,288 Line:988 1值：2d6dcd1b_1711302043092690369
 [DEBUG] 2017-11-30 20:43:09,304 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,304 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:09,304 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,306 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,306 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,307 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,307 Line:988 1值：2d6dcd1b_1711302043092690369
 [DEBUG] 2017-11-30 20:43:09,323 Line:1025 query condition columnName:SumDetAmt----value:1931.0
 [DEBUG] 2017-11-30 20:43:09,323 Line:1043 ---上述语句时间---17
 [DEBUG] 2017-11-30 20:43:09,323 Line:313 exeCondition:tblExpense_Add : 1931.0 != 1931.00
 [DEBUG] 2017-11-30 20:43:09,325 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,325 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,325 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,326 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,326 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,326 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,326 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,326 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,327 Line:988 6值：1931.00
 [DEBUG] 2017-11-30 20:43:09,328 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,329 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,330 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,330 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,330 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,330 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,330 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,331 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,331 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,332 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,332 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,332 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,332 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,333 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,334 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,334 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,337 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0165
 [DEBUG] 2017-11-30 20:43:09,338 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,338 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,338 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,339 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,339 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,339 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,339 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,339 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,339 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,340 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,340 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,340 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,340 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,340 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=900287.70
 [DEBUG] 2017-11-30 20:43:09,340 Line:1322 JXLTOOL.setValue 主表字段BillAmt=900287.70
 [DEBUG] 2017-11-30 20:43:09,340 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:09,341 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,341 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,341 Line:1344 JXLTOOL.setValue 明细表字段Amt=900287.70
 [DEBUG] 2017-11-30 20:43:09,341 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=900287.70
 [DEBUG] 2017-11-30 20:43:09,341 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,341 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,356 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,356 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,356 Line:5872 2:2d6dcd1b_1711302043093550371
 [DEBUG] 2017-11-30 20:43:09,356 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,356 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 6:OE0165
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,357 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 14:900287.7
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 15:900287.7
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,358 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,359 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,360 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,360 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,360 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,360 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,361 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,361 Line:5872 1:2d6dcd1b_1711302043093550371
 [DEBUG] 2017-11-30 20:43:09,361 Line:5872 2:2d6dcd1b_1711302043093610372
 [DEBUG] 2017-11-30 20:43:09,361 Line:5872 3:广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 6:900287.7
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 8:900287.7
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,362 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,363 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,363 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,363 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,364 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,365 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,365 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,366 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,366 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,367 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,367 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,367 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,368 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,368 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,368 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,368 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,369 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,369 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,369 Line:988 2值：2d6dcd1b_1711302043093550371
 [DEBUG] 2017-11-30 20:43:09,369 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,370 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,370 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,370 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,371 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,371 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,372 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,372 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,373 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,373 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,374 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,374 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,374 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,374 Line:988 1值：2d6dcd1b_1711302043093550371
 [DEBUG] 2017-11-30 20:43:09,375 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,375 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,375 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,377 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,377 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,377 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,378 Line:988 1值：2d6dcd1b_1711302043093550371
 [DEBUG] 2017-11-30 20:43:09,379 Line:1025 query condition columnName:SumDetAmt----value:900287.7
 [DEBUG] 2017-11-30 20:43:09,379 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,379 Line:313 exeCondition:tblExpense_Add : 900287.7 != 900287.70
 [DEBUG] 2017-11-30 20:43:09,380 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,380 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,381 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,381 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,381 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,381 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,381 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,381 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,381 Line:988 6值：900287.70
 [DEBUG] 2017-11-30 20:43:09,383 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,383 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,384 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,384 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,385 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,385 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,385 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,385 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,386 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,386 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,386 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,386 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,386 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,387 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,388 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,388 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,390 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0166
 [DEBUG] 2017-11-30 20:43:09,390 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,391 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,391 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,391 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,391 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,391 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,391 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=18100.00
 [DEBUG] 2017-11-30 20:43:09,392 Line:1322 JXLTOOL.setValue 主表字段BillAmt=18100.00
 [DEBUG] 2017-11-30 20:43:09,393 Line:1344 JXLTOOL.setValue 明细表字段Remark=广东林安物流发展有限公司
 [DEBUG] 2017-11-30 20:43:09,393 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,393 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,393 Line:1344 JXLTOOL.setValue 明细表字段Amt=18100.00
 [DEBUG] 2017-11-30 20:43:09,393 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=18100.00
 [DEBUG] 2017-11-30 20:43:09,393 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,393 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,406 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,406 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 2:2d6dcd1b_1711302043094050373
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 6:OE0166
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,407 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 14:18100.0
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 15:18100.0
 [DEBUG] 2017-11-30 20:43:09,408 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,409 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,410 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,411 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,411 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,411 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,412 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,412 Line:5872 1:2d6dcd1b_1711302043094050373
 [DEBUG] 2017-11-30 20:43:09,412 Line:5872 2:2d6dcd1b_1711302043094120374
 [DEBUG] 2017-11-30 20:43:09,412 Line:5872 3:广东林安物流发展有限公司
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 6:18100.0
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 8:18100.0
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,413 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,414 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,414 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,414 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,414 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,416 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,417 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,417 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,418 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,418 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,420 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,420 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,421 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,421 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,422 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,422 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,422 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,422 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,422 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,422 Line:988 2值：2d6dcd1b_1711302043094050373
 [DEBUG] 2017-11-30 20:43:09,423 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,423 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,424 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,424 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,425 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,425 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,425 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,426 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,427 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,427 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,429 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,429 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,429 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,430 Line:988 1值：2d6dcd1b_1711302043094050373
 [DEBUG] 2017-11-30 20:43:09,431 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,432 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,432 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,433 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,434 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,434 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,434 Line:988 1值：2d6dcd1b_1711302043094050373
 [DEBUG] 2017-11-30 20:43:09,435 Line:1025 query condition columnName:SumDetAmt----value:18100.0
 [DEBUG] 2017-11-30 20:43:09,436 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,436 Line:313 exeCondition:tblExpense_Add : 18100.0 != 18100.00
 [DEBUG] 2017-11-30 20:43:09,437 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,438 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,438 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,438 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,438 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,439 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,439 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,439 Line:988 6值：18100.00
 [DEBUG] 2017-11-30 20:43:09,441 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,441 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,444 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,444 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,444 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,444 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,445 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,445 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,446 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,446 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,446 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,446 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,447 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,448 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,448 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,449 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,453 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0167
 [DEBUG] 2017-11-30 20:43:09,453 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,453 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,453 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,454 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,454 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,454 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,454 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,455 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,455 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,455 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,455 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,455 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,455 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,456 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=11096.20
 [DEBUG] 2017-11-30 20:43:09,456 Line:1322 JXLTOOL.setValue 主表字段BillAmt=11096.20
 [DEBUG] 2017-11-30 20:43:09,456 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:43:09,456 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,456 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,457 Line:1344 JXLTOOL.setValue 明细表字段Amt=11096.20
 [DEBUG] 2017-11-30 20:43:09,457 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=11096.20
 [DEBUG] 2017-11-30 20:43:09,457 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,457 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,472 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,473 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,473 Line:5872 2:2d6dcd1b_1711302043094710375
 [DEBUG] 2017-11-30 20:43:09,473 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,473 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,473 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,474 Line:5872 6:OE0167
 [DEBUG] 2017-11-30 20:43:09,474 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,474 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,474 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,474 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,474 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,475 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,475 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,475 Line:5872 14:11096.2
 [DEBUG] 2017-11-30 20:43:09,475 Line:5872 15:11096.2
 [DEBUG] 2017-11-30 20:43:09,475 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,476 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,476 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,476 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,476 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,476 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,476 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,477 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,477 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,477 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,477 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,477 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,477 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,478 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,479 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,480 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,480 Line:5872 1:2d6dcd1b_1711302043094710375
 [DEBUG] 2017-11-30 20:43:09,480 Line:5872 2:2d6dcd1b_1711302043094800376
 [DEBUG] 2017-11-30 20:43:09,480 Line:5872 3:东莞市富丽装饰工程有限公司
 [DEBUG] 2017-11-30 20:43:09,480 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,480 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 6:11096.2
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 8:11096.2
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,481 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,482 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,482 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,482 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,484 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,485 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,485 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,486 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,486 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,487 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,488 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,488 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,488 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,489 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,489 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,489 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,489 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,490 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,490 Line:988 2值：2d6dcd1b_1711302043094710375
 [DEBUG] 2017-11-30 20:43:09,490 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,491 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,492 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,492 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,493 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,493 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,493 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,494 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,495 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,495 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,497 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,497 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,497 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,497 Line:988 1值：2d6dcd1b_1711302043094710375
 [DEBUG] 2017-11-30 20:43:09,498 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,498 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,499 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,500 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,500 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,500 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,500 Line:988 1值：2d6dcd1b_1711302043094710375
 [DEBUG] 2017-11-30 20:43:09,501 Line:1025 query condition columnName:SumDetAmt----value:11096.2
 [DEBUG] 2017-11-30 20:43:09,501 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,502 Line:313 exeCondition:tblExpense_Add : 11096.2 != 11096.20
 [DEBUG] 2017-11-30 20:43:09,503 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,503 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,503 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,503 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,503 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,504 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,504 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,504 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,504 Line:988 6值：11096.20
 [DEBUG] 2017-11-30 20:43:09,506 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,506 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,507 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,508 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,508 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,508 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,508 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,509 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,509 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,509 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,510 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,510 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,510 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,511 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,512 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,512 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,515 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0168
 [DEBUG] 2017-11-30 20:43:09,515 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,516 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,516 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,516 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,516 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,517 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,518 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5688.00
 [DEBUG] 2017-11-30 20:43:09,518 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5688.00
 [DEBUG] 2017-11-30 20:43:09,518 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞岩舍茶业有限公司
 [DEBUG] 2017-11-30 20:43:09,518 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,518 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,518 Line:1344 JXLTOOL.setValue 明细表字段Amt=5688.00
 [DEBUG] 2017-11-30 20:43:09,518 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5688.00
 [DEBUG] 2017-11-30 20:43:09,518 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,519 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,533 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,533 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,533 Line:5872 2:2d6dcd1b_1711302043095320377
 [DEBUG] 2017-11-30 20:43:09,533 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,533 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,533 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,533 Line:5872 6:OE0168
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,534 Line:5872 14:5688.0
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 15:5688.0
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,535 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,536 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,537 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,537 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,537 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,537 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,538 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,538 Line:5872 1:2d6dcd1b_1711302043095320377
 [DEBUG] 2017-11-30 20:43:09,538 Line:5872 2:2d6dcd1b_1711302043095380378
 [DEBUG] 2017-11-30 20:43:09,539 Line:5872 3:东莞岩舍茶业有限公司
 [DEBUG] 2017-11-30 20:43:09,539 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,539 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,539 Line:5872 6:5688.0
 [DEBUG] 2017-11-30 20:43:09,539 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 8:5688.0
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,540 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,541 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,543 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,544 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,544 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,546 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,546 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,548 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,548 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,548 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,548 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,549 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,549 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,549 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,549 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,550 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,550 Line:988 2值：2d6dcd1b_1711302043095320377
 [DEBUG] 2017-11-30 20:43:09,550 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,551 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,551 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,551 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,552 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,552 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,553 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,553 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,554 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,555 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,556 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,557 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,557 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,557 Line:988 1值：2d6dcd1b_1711302043095320377
 [DEBUG] 2017-11-30 20:43:09,558 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,558 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,558 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,560 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,560 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,560 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,560 Line:988 1值：2d6dcd1b_1711302043095320377
 [DEBUG] 2017-11-30 20:43:09,561 Line:1025 query condition columnName:SumDetAmt----value:5688.0
 [DEBUG] 2017-11-30 20:43:09,562 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,562 Line:313 exeCondition:tblExpense_Add : 5688.0 != 5688.00
 [DEBUG] 2017-11-30 20:43:09,563 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,563 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,564 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,564 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,564 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,564 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,564 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,564 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,564 Line:988 6值：5688.00
 [DEBUG] 2017-11-30 20:43:09,566 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,566 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,568 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,568 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,568 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,568 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,568 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,569 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,569 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,569 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,569 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,570 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,570 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,571 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,571 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,571 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,575 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0169
 [DEBUG] 2017-11-30 20:43:09,575 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,576 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,576 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,576 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,577 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,577 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,577 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,577 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,577 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,578 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,578 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,578 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,578 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,579 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=27879.70
 [DEBUG] 2017-11-30 20:43:09,579 Line:1322 JXLTOOL.setValue 主表字段BillAmt=27879.70
 [DEBUG] 2017-11-30 20:43:09,579 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市冠一塑料容器有限公司
 [DEBUG] 2017-11-30 20:43:09,579 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,579 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,579 Line:1344 JXLTOOL.setValue 明细表字段Amt=27879.70
 [DEBUG] 2017-11-30 20:43:09,580 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=27879.70
 [DEBUG] 2017-11-30 20:43:09,580 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,580 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,582 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045789580
 [DEBUG] 2017-11-30 20:43:09,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045789580,];
 [DEBUG] 2017-11-30 20:43:09,605 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 2:2d6dcd1b_1711302043096040379
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 6:OE0169
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,606 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 14:27879.7
 [DEBUG] 2017-11-30 20:43:09,607 Line:5872 15:27879.7
 [DEBUG] 2017-11-30 20:43:09,608 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,608 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,608 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,608 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,608 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,608 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,609 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,610 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,611 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,612 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,612 Line:5872 1:2d6dcd1b_1711302043096040379
 [DEBUG] 2017-11-30 20:43:09,612 Line:5872 2:2d6dcd1b_1711302043096120380
 [DEBUG] 2017-11-30 20:43:09,612 Line:5872 3:东莞市冠一塑料容器有限公司
 [DEBUG] 2017-11-30 20:43:09,612 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,612 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 6:27879.7
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 8:27879.7
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,613 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,614 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,614 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,614 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,617 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,618 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,619 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,620 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,621 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,622 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,622 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,623 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,623 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,624 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,624 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,624 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,624 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,625 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,625 Line:988 2值：2d6dcd1b_1711302043096040379
 [DEBUG] 2017-11-30 20:43:09,625 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,634 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,635 Line:1043 ---上述语句时间---11
 [DEBUG] 2017-11-30 20:43:09,635 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,636 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,637 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,637 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,637 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,638 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,639 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,640 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,641 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,641 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,641 Line:988 1值：2d6dcd1b_1711302043096040379
 [DEBUG] 2017-11-30 20:43:09,661 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,661 Line:1043 ---上述语句时间---20
 [DEBUG] 2017-11-30 20:43:09,661 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,662 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,663 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,663 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,663 Line:988 1值：2d6dcd1b_1711302043096040379
 [DEBUG] 2017-11-30 20:43:09,685 Line:1025 query condition columnName:SumDetAmt----value:27879.7
 [DEBUG] 2017-11-30 20:43:09,685 Line:1043 ---上述语句时间---22
 [DEBUG] 2017-11-30 20:43:09,685 Line:313 exeCondition:tblExpense_Add : 27879.7 != 27879.70
 [DEBUG] 2017-11-30 20:43:09,686 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,687 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,687 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,687 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,687 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,687 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,687 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,687 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,688 Line:988 6值：27879.70
 [DEBUG] 2017-11-30 20:43:09,689 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,690 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,691 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,692 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,692 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,692 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,692 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,693 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,693 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,693 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,694 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,694 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,694 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,695 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,695 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,695 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,699 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0170
 [DEBUG] 2017-11-30 20:43:09,700 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,700 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,700 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,701 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,701 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,701 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,702 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,702 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,702 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,702 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,703 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,703 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,703 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,703 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4055.94
 [DEBUG] 2017-11-30 20:43:09,703 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4055.94
 [DEBUG] 2017-11-30 20:43:09,704 Line:1344 JXLTOOL.setValue 明细表字段Remark=增城市盈昌印铁制罐有限公司
 [DEBUG] 2017-11-30 20:43:09,704 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,704 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,704 Line:1344 JXLTOOL.setValue 明细表字段Amt=4055.94
 [DEBUG] 2017-11-30 20:43:09,704 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4055.94
 [DEBUG] 2017-11-30 20:43:09,704 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,705 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,722 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,722 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,722 Line:5872 2:2d6dcd1b_1711302043097210381
 [DEBUG] 2017-11-30 20:43:09,722 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,722 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 6:OE0170
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,723 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 14:4055.94
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 15:4055.94
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,724 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,725 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,726 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,726 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,726 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,726 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,726 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,726 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,727 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,727 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,727 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,727 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,727 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,729 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,729 Line:5872 1:2d6dcd1b_1711302043097210381
 [DEBUG] 2017-11-30 20:43:09,729 Line:5872 2:2d6dcd1b_1711302043097280382
 [DEBUG] 2017-11-30 20:43:09,729 Line:5872 3:增城市盈昌印铁制罐有限公司
 [DEBUG] 2017-11-30 20:43:09,729 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 6:4055.94
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 8:4055.94
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,730 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,731 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,731 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,731 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,731 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,733 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,734 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,735 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,736 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,736 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,737 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,738 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,738 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,738 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,739 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,739 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,740 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,740 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,740 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,740 Line:988 2值：2d6dcd1b_1711302043097210381
 [DEBUG] 2017-11-30 20:43:09,740 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,741 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,741 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,741 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,743 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,743 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,743 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,744 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,745 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,745 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,747 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,747 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,747 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,748 Line:988 1值：2d6dcd1b_1711302043097210381
 [DEBUG] 2017-11-30 20:43:09,749 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,749 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,749 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,750 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,750 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,750 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,751 Line:988 1值：2d6dcd1b_1711302043097210381
 [DEBUG] 2017-11-30 20:43:09,752 Line:1025 query condition columnName:SumDetAmt----value:4055.94
 [DEBUG] 2017-11-30 20:43:09,752 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,752 Line:313 exeCondition:tblExpense_Add : 4055.94 != 4055.94
 [DEBUG] 2017-11-30 20:43:09,754 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,754 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,754 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,754 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,754 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,755 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,755 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,755 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,755 Line:988 6值：4055.94
 [DEBUG] 2017-11-30 20:43:09,757 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,757 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,759 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,759 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,759 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,760 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,761 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,761 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,761 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,761 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,761 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,762 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,763 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,764 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,764 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,767 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0171
 [DEBUG] 2017-11-30 20:43:09,767 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,768 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,768 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,768 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,768 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,768 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,769 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,769 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,769 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,769 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,770 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,770 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,770 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,770 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=14597.00
 [DEBUG] 2017-11-30 20:43:09,770 Line:1322 JXLTOOL.setValue 主表字段BillAmt=14597.00
 [DEBUG] 2017-11-30 20:43:09,771 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市金笛广告有限公司
 [DEBUG] 2017-11-30 20:43:09,771 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,771 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,771 Line:1344 JXLTOOL.setValue 明细表字段Amt=14597.00
 [DEBUG] 2017-11-30 20:43:09,771 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=14597.00
 [DEBUG] 2017-11-30 20:43:09,772 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,772 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,789 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,789 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,789 Line:5872 2:2d6dcd1b_1711302043097870383
 [DEBUG] 2017-11-30 20:43:09,789 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,789 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,790 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,790 Line:5872 6:OE0171
 [DEBUG] 2017-11-30 20:43:09,790 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,790 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,790 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,790 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 14:14597.0
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 15:14597.0
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,791 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,792 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,792 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,792 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,792 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,792 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,792 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,793 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,793 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,793 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,793 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,793 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,793 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,794 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,796 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,796 Line:5872 1:2d6dcd1b_1711302043097870383
 [DEBUG] 2017-11-30 20:43:09,796 Line:5872 2:2d6dcd1b_1711302043097960384
 [DEBUG] 2017-11-30 20:43:09,797 Line:5872 3:东莞市金笛广告有限公司
 [DEBUG] 2017-11-30 20:43:09,797 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,797 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,797 Line:5872 6:14597.0
 [DEBUG] 2017-11-30 20:43:09,797 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,797 Line:5872 8:14597.0
 [DEBUG] 2017-11-30 20:43:09,798 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,798 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,798 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,798 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,798 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,798 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,799 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,801 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,802 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,803 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,804 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,805 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,806 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,806 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,807 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,807 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,808 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,808 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,808 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,809 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,809 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,809 Line:988 2值：2d6dcd1b_1711302043097870383
 [DEBUG] 2017-11-30 20:43:09,809 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,810 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,811 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:09,811 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,813 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,813 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,813 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,814 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,815 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,815 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,817 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,817 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,817 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,818 Line:988 1值：2d6dcd1b_1711302043097870383
 [DEBUG] 2017-11-30 20:43:09,819 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,819 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,819 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,820 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,820 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,821 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,821 Line:988 1值：2d6dcd1b_1711302043097870383
 [DEBUG] 2017-11-30 20:43:09,822 Line:1025 query condition columnName:SumDetAmt----value:14597.0
 [DEBUG] 2017-11-30 20:43:09,822 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,823 Line:313 exeCondition:tblExpense_Add : 14597.0 != 14597.00
 [DEBUG] 2017-11-30 20:43:09,824 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,824 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,825 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,825 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,825 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,825 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,825 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,826 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,826 Line:988 6值：14597.00
 [DEBUG] 2017-11-30 20:43:09,828 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:09,828 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,830 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,830 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,830 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,830 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,831 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,831 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,832 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,832 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,832 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,832 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,832 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,834 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,834 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,834 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,838 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0172
 [DEBUG] 2017-11-30 20:43:09,838 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-17
 [DEBUG] 2017-11-30 20:43:09,838 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,839 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,839 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,839 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,839 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,839 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,840 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,840 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,840 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,840 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,840 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,841 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,841 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=28221.08
 [DEBUG] 2017-11-30 20:43:09,841 Line:1322 JXLTOOL.setValue 主表字段BillAmt=28221.08
 [DEBUG] 2017-11-30 20:43:09,841 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:09,841 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,842 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,842 Line:1344 JXLTOOL.setValue 明细表字段Amt=28221.08
 [DEBUG] 2017-11-30 20:43:09,842 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=28221.08
 [DEBUG] 2017-11-30 20:43:09,842 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,842 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,858 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,859 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,859 Line:5872 2:2d6dcd1b_1711302043098570385
 [DEBUG] 2017-11-30 20:43:09,859 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,859 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,859 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,859 Line:5872 6:OE0172
 [DEBUG] 2017-11-30 20:43:09,860 Line:5872 7:2017-11-17
 [DEBUG] 2017-11-30 20:43:09,860 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,860 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,860 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,860 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,860 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,861 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,861 Line:5872 14:28221.08
 [DEBUG] 2017-11-30 20:43:09,861 Line:5872 15:28221.08
 [DEBUG] 2017-11-30 20:43:09,861 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,861 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,861 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,862 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,862 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,862 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,862 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,862 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,862 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,863 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,864 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,864 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,864 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,864 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,864 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,865 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,865 Line:5872 1:2d6dcd1b_1711302043098570385
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 2:2d6dcd1b_1711302043098650386
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 6:28221.08
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 8:28221.08
 [DEBUG] 2017-11-30 20:43:09,866 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,867 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,867 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,867 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,867 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,867 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,867 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,869 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,871 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,872 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,872 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,873 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,873 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,873 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,874 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,874 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,874 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,875 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,875 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,875 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,876 Line:988 2值：2d6dcd1b_1711302043098570385
 [DEBUG] 2017-11-30 20:43:09,876 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,876 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,877 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,877 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,878 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,878 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,878 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,879 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,880 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,880 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,881 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,881 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,881 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,882 Line:988 1值：2d6dcd1b_1711302043098570385
 [DEBUG] 2017-11-30 20:43:09,882 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,883 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,883 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,884 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,884 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,884 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,884 Line:988 1值：2d6dcd1b_1711302043098570385
 [DEBUG] 2017-11-30 20:43:09,885 Line:1025 query condition columnName:SumDetAmt----value:28221.08
 [DEBUG] 2017-11-30 20:43:09,885 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,886 Line:313 exeCondition:tblExpense_Add : 28221.08 != 28221.08
 [DEBUG] 2017-11-30 20:43:09,887 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,887 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,887 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,887 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,887 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,887 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,888 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,888 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,888 Line:988 6值：28221.08
 [DEBUG] 2017-11-30 20:43:09,889 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,889 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,891 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,891 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,891 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,891 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,891 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,892 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,892 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,892 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,893 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,893 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,893 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,894 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,895 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,895 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,897 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0173
 [DEBUG] 2017-11-30 20:43:09,897 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-18
 [DEBUG] 2017-11-30 20:43:09,898 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,898 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,898 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,898 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,898 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,898 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,899 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=9.00
 [DEBUG] 2017-11-30 20:43:09,900 Line:1322 JXLTOOL.setValue 主表字段BillAmt=9.00
 [DEBUG] 2017-11-30 20:43:09,900 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,900 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,900 Line:1344 JXLTOOL.setValue 明细表字段Amt=9.00
 [DEBUG] 2017-11-30 20:43:09,900 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=9.00
 [DEBUG] 2017-11-30 20:43:09,900 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,900 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,912 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,912 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,912 Line:5872 2:2d6dcd1b_1711302043099110387
 [DEBUG] 2017-11-30 20:43:09,912 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,912 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 6:OE0173
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 7:2017-11-18
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,913 Line:5872 14:9.0
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 15:9.0
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,914 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,915 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,916 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,916 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,917 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,917 Line:5872 1:2d6dcd1b_1711302043099110387
 [DEBUG] 2017-11-30 20:43:09,917 Line:5872 2:2d6dcd1b_1711302043099170388
 [DEBUG] 2017-11-30 20:43:09,917 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 6:9.0
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 8:9.0
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,918 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,919 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,919 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,919 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,920 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,921 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,922 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,922 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,923 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,923 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,924 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,924 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,925 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,925 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,925 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,925 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,925 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,925 Line:988 2值：2d6dcd1b_1711302043099110387
 [DEBUG] 2017-11-30 20:43:09,925 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,926 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,926 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,926 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,927 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,927 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,928 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,928 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,929 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,930 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,930 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,930 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,930 Line:988 1值：2d6dcd1b_1711302043099110387
 [DEBUG] 2017-11-30 20:43:09,931 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:09,931 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,931 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,932 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,932 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:09,933 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,933 Line:988 1值：2d6dcd1b_1711302043099110387
 [DEBUG] 2017-11-30 20:43:09,934 Line:1025 query condition columnName:SumDetAmt----value:9.0
 [DEBUG] 2017-11-30 20:43:09,934 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,934 Line:313 exeCondition:tblExpense_Add : 9.0 != 9.00
 [DEBUG] 2017-11-30 20:43:09,935 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,935 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:09,935 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,935 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,935 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:09,936 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:09,936 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:09,936 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:09,936 Line:988 6值：9.00
 [DEBUG] 2017-11-30 20:43:09,937 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,938 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:09,939 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,940 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:09,940 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,940 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:09,940 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:09,941 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:09,941 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:09,941 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:09,942 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:09,942 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,942 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:09,943 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:09,944 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:09,944 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:09,947 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0174
 [DEBUG] 2017-11-30 20:43:09,947 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-18
 [DEBUG] 2017-11-30 20:43:09,948 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,948 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:09,948 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:09,948 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:09,948 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:09,949 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:09,949 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:09,949 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:09,949 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:09,949 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,949 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:09,950 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:09,950 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.80
 [DEBUG] 2017-11-30 20:43:09,950 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.80
 [DEBUG] 2017-11-30 20:43:09,950 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:09,950 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:09,950 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.80
 [DEBUG] 2017-11-30 20:43:09,950 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.80
 [DEBUG] 2017-11-30 20:43:09,951 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:09,951 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:09,967 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,967 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 2:2d6dcd1b_1711302043099660389
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 6:OE0174
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 7:2017-11-18
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:09,968 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 14:0.8
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 15:0.8
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:09,969 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:09,970 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 30:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:09,971 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:09,972 Line:5872 33:2017-11-30 20:43:09
 [DEBUG] 2017-11-30 20:43:09,972 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:09,972 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:09,972 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:09,973 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:09,973 Line:5872 1:2d6dcd1b_1711302043099660389
 [DEBUG] 2017-11-30 20:43:09,973 Line:5872 2:2d6dcd1b_1711302043099730390
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 6:0.8
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 8:0.8
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:09,974 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:09,975 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:09,975 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:09,975 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:09,975 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:09,977 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:09,978 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,978 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:09,979 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,979 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:09,981 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,981 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:09,981 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,981 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:09,982 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:09,982 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:09,983 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:09,983 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,983 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:09,983 Line:988 2值：2d6dcd1b_1711302043099660389
 [DEBUG] 2017-11-30 20:43:09,984 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:09,984 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:09,985 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,985 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:09,986 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,986 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:09,987 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,987 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:09,988 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:09,988 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:09,989 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:09,990 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:09,990 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:09,990 Line:988 1值：2d6dcd1b_1711302043099660389
 [DEBUG] 2017-11-30 20:43:10,004 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,005 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:43:10,005 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,006 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,006 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,006 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,006 Line:988 1值：2d6dcd1b_1711302043099660389
 [DEBUG] 2017-11-30 20:43:10,019 Line:1025 query condition columnName:SumDetAmt----value:0.8
 [DEBUG] 2017-11-30 20:43:10,019 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-11-30 20:43:10,019 Line:313 exeCondition:tblExpense_Add : 0.8 != 0.80
 [DEBUG] 2017-11-30 20:43:10,020 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,021 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,021 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,021 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,021 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,021 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,021 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,021 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,021 Line:988 6值：0.80
 [DEBUG] 2017-11-30 20:43:10,023 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,023 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,024 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,025 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,025 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,025 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,025 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,026 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,026 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,026 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,027 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,027 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,027 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,028 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,028 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,028 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,031 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0175
 [DEBUG] 2017-11-30 20:43:10,031 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-18
 [DEBUG] 2017-11-30 20:43:10,032 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,032 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,032 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,032 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,032 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,032 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,033 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=50.00
 [DEBUG] 2017-11-30 20:43:10,034 Line:1322 JXLTOOL.setValue 主表字段BillAmt=50.00
 [DEBUG] 2017-11-30 20:43:10,034 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,034 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,034 Line:1344 JXLTOOL.setValue 明细表字段Amt=50.00
 [DEBUG] 2017-11-30 20:43:10,034 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=50.00
 [DEBUG] 2017-11-30 20:43:10,034 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,034 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,047 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,047 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,047 Line:5872 2:2d6dcd1b_1711302043100460391
 [DEBUG] 2017-11-30 20:43:10,047 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 6:OE0175
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 7:2017-11-18
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,048 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 14:50.0
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 15:50.0
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,049 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,050 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,050 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,050 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,050 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,050 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,050 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,051 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,052 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,053 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,053 Line:5872 1:2d6dcd1b_1711302043100460391
 [DEBUG] 2017-11-30 20:43:10,053 Line:5872 2:2d6dcd1b_1711302043100530392
 [DEBUG] 2017-11-30 20:43:10,053 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:10,054 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,054 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,054 Line:5872 6:50.0
 [DEBUG] 2017-11-30 20:43:10,054 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,054 Line:5872 8:50.0
 [DEBUG] 2017-11-30 20:43:10,054 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,055 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,055 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,055 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,055 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,055 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,055 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,057 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,059 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,059 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,060 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,061 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,062 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,062 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,062 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,062 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,063 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,063 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,064 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,064 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,064 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,064 Line:988 2值：2d6dcd1b_1711302043100460391
 [DEBUG] 2017-11-30 20:43:10,064 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,065 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,065 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,065 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,067 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,067 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,067 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,067 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,068 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,068 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,069 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,070 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,070 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,070 Line:988 1值：2d6dcd1b_1711302043100460391
 [DEBUG] 2017-11-30 20:43:10,071 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,071 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,071 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,073 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,073 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,073 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,073 Line:988 1值：2d6dcd1b_1711302043100460391
 [DEBUG] 2017-11-30 20:43:10,074 Line:1025 query condition columnName:SumDetAmt----value:50.0
 [DEBUG] 2017-11-30 20:43:10,075 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,075 Line:313 exeCondition:tblExpense_Add : 50.0 != 50.00
 [DEBUG] 2017-11-30 20:43:10,076 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,076 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,076 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,076 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,077 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,077 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,077 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,077 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,077 Line:988 6值：50.00
 [DEBUG] 2017-11-30 20:43:10,079 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,079 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,080 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,080 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,080 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,081 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,081 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,081 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,081 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,082 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,082 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,082 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,082 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,083 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,083 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,083 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,086 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0176
 [DEBUG] 2017-11-30 20:43:10,086 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-18
 [DEBUG] 2017-11-30 20:43:10,086 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,087 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,087 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,087 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,088 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,088 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,088 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,088 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,088 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,089 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,089 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,089 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,089 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=6.00
 [DEBUG] 2017-11-30 20:43:10,089 Line:1322 JXLTOOL.setValue 主表字段BillAmt=6.00
 [DEBUG] 2017-11-30 20:43:10,089 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,089 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,090 Line:1344 JXLTOOL.setValue 明细表字段Amt=6.00
 [DEBUG] 2017-11-30 20:43:10,090 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=6.00
 [DEBUG] 2017-11-30 20:43:10,090 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,090 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,103 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,104 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,104 Line:5872 2:2d6dcd1b_1711302043101020393
 [DEBUG] 2017-11-30 20:43:10,104 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,104 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,104 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,105 Line:5872 6:OE0176
 [DEBUG] 2017-11-30 20:43:10,105 Line:5872 7:2017-11-18
 [DEBUG] 2017-11-30 20:43:10,105 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,105 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,105 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,105 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,106 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,106 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,106 Line:5872 14:6.0
 [DEBUG] 2017-11-30 20:43:10,106 Line:5872 15:6.0
 [DEBUG] 2017-11-30 20:43:10,106 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,106 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,107 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,108 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,108 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,108 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,108 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,108 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,108 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,109 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,109 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,109 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,109 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,109 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,109 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,111 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,111 Line:5872 1:2d6dcd1b_1711302043101020393
 [DEBUG] 2017-11-30 20:43:10,111 Line:5872 2:2d6dcd1b_1711302043101110394
 [DEBUG] 2017-11-30 20:43:10,111 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:10,111 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,112 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,112 Line:5872 6:6.0
 [DEBUG] 2017-11-30 20:43:10,112 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,112 Line:5872 8:6.0
 [DEBUG] 2017-11-30 20:43:10,112 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,112 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,113 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,113 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,113 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,113 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,113 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,115 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,116 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,117 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,118 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,118 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,119 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,120 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,120 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,120 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,121 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,121 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,122 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,122 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,122 Line:988 2值：2d6dcd1b_1711302043101020393
 [DEBUG] 2017-11-30 20:43:10,122 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,123 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,123 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,124 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,125 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,125 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,125 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,125 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,126 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,127 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,128 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,128 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,128 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,128 Line:988 1值：2d6dcd1b_1711302043101020393
 [DEBUG] 2017-11-30 20:43:10,129 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,129 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,130 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,131 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,131 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,131 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,131 Line:988 1值：2d6dcd1b_1711302043101020393
 [DEBUG] 2017-11-30 20:43:10,132 Line:1025 query condition columnName:SumDetAmt----value:6.0
 [DEBUG] 2017-11-30 20:43:10,133 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,133 Line:313 exeCondition:tblExpense_Add : 6.0 != 6.00
 [DEBUG] 2017-11-30 20:43:10,134 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,134 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,134 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,134 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,135 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,135 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,135 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,135 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,135 Line:988 6值：6.00
 [DEBUG] 2017-11-30 20:43:10,137 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,137 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,139 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,139 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,139 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,139 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,139 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,140 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,140 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,140 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,141 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,141 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,141 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,142 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,142 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,142 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,146 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0177
 [DEBUG] 2017-11-30 20:43:10,146 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-20
 [DEBUG] 2017-11-30 20:43:10,146 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,146 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,147 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,147 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,147 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,147 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,148 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,148 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,148 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,148 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,148 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,148 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,149 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=20942.00
 [DEBUG] 2017-11-30 20:43:10,149 Line:1322 JXLTOOL.setValue 主表字段BillAmt=20942.00
 [DEBUG] 2017-11-30 20:43:10,149 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市住房公积金管理中心结算户
 [DEBUG] 2017-11-30 20:43:10,149 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,149 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,150 Line:1344 JXLTOOL.setValue 明细表字段Amt=20942.00
 [DEBUG] 2017-11-30 20:43:10,150 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=20942.00
 [DEBUG] 2017-11-30 20:43:10,150 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,150 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,164 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,164 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,164 Line:5872 2:2d6dcd1b_1711302043101630395
 [DEBUG] 2017-11-30 20:43:10,165 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,165 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,165 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,165 Line:5872 6:OE0177
 [DEBUG] 2017-11-30 20:43:10,165 Line:5872 7:2017-11-20
 [DEBUG] 2017-11-30 20:43:10,165 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,166 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,166 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,166 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,166 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,166 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,166 Line:5872 14:20942.0
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 15:20942.0
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,167 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,168 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,169 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,169 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,169 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,169 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,169 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,170 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 1:2d6dcd1b_1711302043101630395
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 2:2d6dcd1b_1711302043101700396
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 3:东莞市住房公积金管理中心结算户
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 6:20942.0
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,171 Line:5872 8:20942.0
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,172 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,174 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,175 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,176 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,177 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,178 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,179 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,179 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,180 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,180 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,180 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,181 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,181 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,181 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,181 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,181 Line:988 2值：2d6dcd1b_1711302043101630395
 [DEBUG] 2017-11-30 20:43:10,181 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,182 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,182 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,182 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,184 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,184 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,184 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,184 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,185 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,185 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,186 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,187 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,187 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,187 Line:988 1值：2d6dcd1b_1711302043101630395
 [DEBUG] 2017-11-30 20:43:10,188 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,188 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,188 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,189 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,189 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,189 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,189 Line:988 1值：2d6dcd1b_1711302043101630395
 [DEBUG] 2017-11-30 20:43:10,190 Line:1025 query condition columnName:SumDetAmt----value:20942.0
 [DEBUG] 2017-11-30 20:43:10,190 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,190 Line:313 exeCondition:tblExpense_Add : 20942.0 != 20942.00
 [DEBUG] 2017-11-30 20:43:10,191 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,192 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,192 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,192 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,192 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,192 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,192 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,192 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,193 Line:988 6值：20942.00
 [DEBUG] 2017-11-30 20:43:10,194 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,194 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,195 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,196 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,196 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,196 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,196 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,197 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,197 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,197 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,197 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,197 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,197 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,199 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,199 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,199 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,201 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0178
 [DEBUG] 2017-11-30 20:43:10,202 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-20
 [DEBUG] 2017-11-30 20:43:10,202 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,202 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,202 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,202 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,202 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,203 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,204 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=4772.73
 [DEBUG] 2017-11-30 20:43:10,204 Line:1322 JXLTOOL.setValue 主表字段BillAmt=4772.73
 [DEBUG] 2017-11-30 20:43:10,204 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州永道工程咨询有限公司东莞分公司
 [DEBUG] 2017-11-30 20:43:10,204 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,204 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,204 Line:1344 JXLTOOL.setValue 明细表字段Amt=4772.73
 [DEBUG] 2017-11-30 20:43:10,205 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=4772.73
 [DEBUG] 2017-11-30 20:43:10,205 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,205 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,217 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,217 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,217 Line:5872 2:2d6dcd1b_1711302043102160397
 [DEBUG] 2017-11-30 20:43:10,217 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,217 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 6:OE0178
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 7:2017-11-20
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,218 Line:5872 14:4772.73
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 15:4772.73
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,219 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,220 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,221 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,221 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 1:2d6dcd1b_1711302043102160397
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 2:2d6dcd1b_1711302043102210398
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 3:广州永道工程咨询有限公司东莞分公司
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 6:4772.73
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 8:4772.73
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,222 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,223 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,223 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,223 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,223 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,224 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,225 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,226 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,227 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,227 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,228 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,228 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,228 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,228 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,229 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,229 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,229 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,229 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,229 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,229 Line:988 2值：2d6dcd1b_1711302043102160397
 [DEBUG] 2017-11-30 20:43:10,230 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,230 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,230 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,231 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,232 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,232 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,232 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,232 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,233 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,233 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,234 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,235 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,235 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,235 Line:988 1值：2d6dcd1b_1711302043102160397
 [DEBUG] 2017-11-30 20:43:10,236 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,236 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,236 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,237 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,237 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,237 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,237 Line:988 1值：2d6dcd1b_1711302043102160397
 [DEBUG] 2017-11-30 20:43:10,238 Line:1025 query condition columnName:SumDetAmt----value:4772.73
 [DEBUG] 2017-11-30 20:43:10,238 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,239 Line:313 exeCondition:tblExpense_Add : 4772.73 != 4772.73
 [DEBUG] 2017-11-30 20:43:10,240 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,240 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,240 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,240 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,240 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,240 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,240 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,240 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,241 Line:988 6值：4772.73
 [DEBUG] 2017-11-30 20:43:10,242 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,242 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,244 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,244 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,244 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,244 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,244 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,245 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,245 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,245 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,245 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,246 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,246 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,247 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,247 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,247 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,251 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0179
 [DEBUG] 2017-11-30 20:43:10,251 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-20
 [DEBUG] 2017-11-30 20:43:10,251 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,251 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,251 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,252 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,253 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,253 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=19250.00
 [DEBUG] 2017-11-30 20:43:10,253 Line:1322 JXLTOOL.setValue 主表字段BillAmt=19250.00
 [DEBUG] 2017-11-30 20:43:10,253 Line:1344 JXLTOOL.setValue 明细表字段Remark=苍南艺乐服饰有限公司
 [DEBUG] 2017-11-30 20:43:10,253 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,253 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,253 Line:1344 JXLTOOL.setValue 明细表字段Amt=19250.00
 [DEBUG] 2017-11-30 20:43:10,253 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=19250.00
 [DEBUG] 2017-11-30 20:43:10,254 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,254 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,267 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,267 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,267 Line:5872 2:2d6dcd1b_1711302043102660399
 [DEBUG] 2017-11-30 20:43:10,267 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,267 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,267 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,267 Line:5872 6:OE0179
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 7:2017-11-20
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 14:19250.0
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 15:19250.0
 [DEBUG] 2017-11-30 20:43:10,268 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,269 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,270 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,271 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,271 Line:5872 1:2d6dcd1b_1711302043102660399
 [DEBUG] 2017-11-30 20:43:10,271 Line:5872 2:2d6dcd1b_1711302043102710400
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 3:苍南艺乐服饰有限公司
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 6:19250.0
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 8:19250.0
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,272 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,273 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,273 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,273 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,275 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,276 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,276 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,277 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,278 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,279 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,279 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,279 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,280 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,280 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,280 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,281 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,281 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,281 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,281 Line:988 2值：2d6dcd1b_1711302043102660399
 [DEBUG] 2017-11-30 20:43:10,281 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,282 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,282 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,282 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,284 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,284 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,284 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,284 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,285 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,285 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,287 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,287 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,287 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,288 Line:988 1值：2d6dcd1b_1711302043102660399
 [DEBUG] 2017-11-30 20:43:10,306 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,306 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-11-30 20:43:10,306 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,307 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,307 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,308 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,308 Line:988 1值：2d6dcd1b_1711302043102660399
 [DEBUG] 2017-11-30 20:43:10,327 Line:1025 query condition columnName:SumDetAmt----value:19250.0
 [DEBUG] 2017-11-30 20:43:10,328 Line:1043 ---上述语句时间---21
 [DEBUG] 2017-11-30 20:43:10,328 Line:313 exeCondition:tblExpense_Add : 19250.0 != 19250.00
 [DEBUG] 2017-11-30 20:43:10,329 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,329 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,329 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,329 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,330 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,330 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,330 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,330 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,330 Line:988 6值：19250.00
 [DEBUG] 2017-11-30 20:43:10,332 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,332 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,334 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,334 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,335 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,335 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,335 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,336 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,336 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,336 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,336 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,337 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,337 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,338 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,339 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,339 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,343 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0180
 [DEBUG] 2017-11-30 20:43:10,343 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-21
 [DEBUG] 2017-11-30 20:43:10,343 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,343 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,344 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,344 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,344 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,344 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,345 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,345 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,345 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,345 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,346 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,346 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,346 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1.00
 [DEBUG] 2017-11-30 20:43:10,346 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1.00
 [DEBUG] 2017-11-30 20:43:10,346 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,346 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,347 Line:1344 JXLTOOL.setValue 明细表字段Amt=1.00
 [DEBUG] 2017-11-30 20:43:10,347 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1.00
 [DEBUG] 2017-11-30 20:43:10,347 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,347 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,363 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 2:2d6dcd1b_1711302043103620401
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 6:OE0180
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 7:2017-11-21
 [DEBUG] 2017-11-30 20:43:10,363 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 14:1.0
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 15:1.0
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,364 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,365 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,366 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,367 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,367 Line:5872 1:2d6dcd1b_1711302043103620401
 [DEBUG] 2017-11-30 20:43:10,367 Line:5872 2:2d6dcd1b_1711302043103670402
 [DEBUG] 2017-11-30 20:43:10,367 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 6:1.0
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 8:1.0
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,368 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,369 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,369 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,369 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,371 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,372 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,372 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,373 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,373 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,374 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,374 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,374 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,374 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,375 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,375 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,375 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,375 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,376 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,376 Line:988 2值：2d6dcd1b_1711302043103620401
 [DEBUG] 2017-11-30 20:43:10,376 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,376 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,377 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,377 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,378 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,378 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,378 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,378 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,379 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,379 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,380 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,380 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,380 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,381 Line:988 1值：2d6dcd1b_1711302043103620401
 [DEBUG] 2017-11-30 20:43:10,381 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,381 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,381 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,382 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,383 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,383 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,383 Line:988 1值：2d6dcd1b_1711302043103620401
 [DEBUG] 2017-11-30 20:43:10,384 Line:1025 query condition columnName:SumDetAmt----value:1.0
 [DEBUG] 2017-11-30 20:43:10,384 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,384 Line:313 exeCondition:tblExpense_Add : 1.0 != 1.00
 [DEBUG] 2017-11-30 20:43:10,385 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,385 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,385 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,385 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,385 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,386 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,386 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,386 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,386 Line:988 6值：1.00
 [DEBUG] 2017-11-30 20:43:10,387 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,387 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,389 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,389 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,389 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,389 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,389 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,390 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,390 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,390 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,390 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,390 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,391 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,392 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,392 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,392 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,395 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0181
 [DEBUG] 2017-11-30 20:43:10,396 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-21
 [DEBUG] 2017-11-30 20:43:10,397 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,397 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,398 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,398 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,398 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,398 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,398 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,398 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,399 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,399 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,399 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,399 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,399 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:43:10,399 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:43:10,400 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,400 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,400 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:43:10,400 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:43:10,400 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,401 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,413 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,414 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,414 Line:5872 2:2d6dcd1b_1711302043104130403
 [DEBUG] 2017-11-30 20:43:10,414 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,414 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,414 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,414 Line:5872 6:OE0181
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 7:2017-11-21
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:43:10,415 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,416 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,417 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,418 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 1:2d6dcd1b_1711302043104130403
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 2:2d6dcd1b_1711302043104180404
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,419 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,420 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,420 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,420 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,420 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,422 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,423 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,423 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,424 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,424 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,425 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,426 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,426 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,426 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,427 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,427 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,427 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,427 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,427 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,427 Line:988 2值：2d6dcd1b_1711302043104130403
 [DEBUG] 2017-11-30 20:43:10,428 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,428 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,428 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,428 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,430 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,430 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,430 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,431 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,432 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,432 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,433 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,433 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,433 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,434 Line:988 1值：2d6dcd1b_1711302043104130403
 [DEBUG] 2017-11-30 20:43:10,435 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,435 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,435 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,436 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,436 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,436 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,436 Line:988 1值：2d6dcd1b_1711302043104130403
 [DEBUG] 2017-11-30 20:43:10,438 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:43:10,438 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,438 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:43:10,440 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,440 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,440 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,440 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,441 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,441 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,441 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,441 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,441 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:43:10,443 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,443 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,445 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,445 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,445 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,446 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,446 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,447 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,447 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,447 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,447 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,448 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,448 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,449 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,450 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,450 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,454 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0182
 [DEBUG] 2017-11-30 20:43:10,454 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-21
 [DEBUG] 2017-11-30 20:43:10,454 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,454 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,455 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,455 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,455 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,455 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,455 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,455 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,456 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,456 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,456 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,456 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,456 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=200000.00
 [DEBUG] 2017-11-30 20:43:10,456 Line:1322 JXLTOOL.setValue 主表字段BillAmt=200000.00
 [DEBUG] 2017-11-30 20:43:10,456 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:10,456 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,457 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,457 Line:1344 JXLTOOL.setValue 明细表字段Amt=200000.00
 [DEBUG] 2017-11-30 20:43:10,457 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=200000.00
 [DEBUG] 2017-11-30 20:43:10,457 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,457 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,471 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,471 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,471 Line:5872 2:2d6dcd1b_1711302043104700405
 [DEBUG] 2017-11-30 20:43:10,471 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 6:OE0182
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 7:2017-11-21
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,472 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,473 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,473 Line:5872 14:200000.0
 [DEBUG] 2017-11-30 20:43:10,473 Line:5872 15:200000.0
 [DEBUG] 2017-11-30 20:43:10,473 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,473 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,473 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,474 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,475 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,476 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,476 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,477 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,477 Line:5872 1:2d6dcd1b_1711302043104700405
 [DEBUG] 2017-11-30 20:43:10,477 Line:5872 2:2d6dcd1b_1711302043104770406
 [DEBUG] 2017-11-30 20:43:10,477 Line:5872 3:济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 6:200000.0
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 8:200000.0
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,478 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,479 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,479 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,481 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,482 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,482 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,483 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,484 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,485 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,485 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,485 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,485 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,486 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,486 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,486 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,486 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,487 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,487 Line:988 2值：2d6dcd1b_1711302043104700405
 [DEBUG] 2017-11-30 20:43:10,487 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,488 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,488 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,488 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,489 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,489 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,489 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,489 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,491 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,491 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,493 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,493 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,493 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,493 Line:988 1值：2d6dcd1b_1711302043104700405
 [DEBUG] 2017-11-30 20:43:10,494 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,495 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,495 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,496 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,496 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,496 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,496 Line:988 1值：2d6dcd1b_1711302043104700405
 [DEBUG] 2017-11-30 20:43:10,497 Line:1025 query condition columnName:SumDetAmt----value:200000.0
 [DEBUG] 2017-11-30 20:43:10,498 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,498 Line:313 exeCondition:tblExpense_Add : 200000.0 != 200000.00
 [DEBUG] 2017-11-30 20:43:10,499 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,499 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,499 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,499 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,499 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,499 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,500 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,500 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,500 Line:988 6值：200000.00
 [DEBUG] 2017-11-30 20:43:10,502 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,502 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,503 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,503 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,503 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,504 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,504 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,504 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,505 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,505 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,505 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,505 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,505 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,506 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,506 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,507 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,510 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0183
 [DEBUG] 2017-11-30 20:43:10,510 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-21
 [DEBUG] 2017-11-30 20:43:10,510 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,510 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,511 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,511 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,511 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,511 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,511 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=35.00
 [DEBUG] 2017-11-30 20:43:10,512 Line:1322 JXLTOOL.setValue 主表字段BillAmt=35.00
 [DEBUG] 2017-11-30 20:43:10,512 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,513 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,513 Line:1344 JXLTOOL.setValue 明细表字段Amt=35.00
 [DEBUG] 2017-11-30 20:43:10,513 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=35.00
 [DEBUG] 2017-11-30 20:43:10,513 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,513 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,525 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,525 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,525 Line:5872 2:2d6dcd1b_1711302043105240407
 [DEBUG] 2017-11-30 20:43:10,525 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,525 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,525 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,525 Line:5872 6:OE0183
 [DEBUG] 2017-11-30 20:43:10,526 Line:5872 7:2017-11-21
 [DEBUG] 2017-11-30 20:43:10,526 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,526 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,526 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,526 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,526 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 14:35.0
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 15:35.0
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,527 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,528 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,529 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,530 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,530 Line:5872 1:2d6dcd1b_1711302043105240407
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 2:2d6dcd1b_1711302043105300408
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 6:35.0
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 8:35.0
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,531 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,532 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,532 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,532 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,533 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,534 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,534 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,535 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,535 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,536 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,536 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,536 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,537 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,537 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,537 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,538 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,538 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,538 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,538 Line:988 2值：2d6dcd1b_1711302043105240407
 [DEBUG] 2017-11-30 20:43:10,538 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,539 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,539 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,539 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,540 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,540 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,540 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,540 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,541 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,541 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,542 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,542 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,542 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,543 Line:988 1值：2d6dcd1b_1711302043105240407
 [DEBUG] 2017-11-30 20:43:10,543 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,543 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,544 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,544 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,545 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,545 Line:988 1值：2d6dcd1b_1711302043105240407
 [DEBUG] 2017-11-30 20:43:10,546 Line:1025 query condition columnName:SumDetAmt----value:35.0
 [DEBUG] 2017-11-30 20:43:10,546 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,546 Line:313 exeCondition:tblExpense_Add : 35.0 != 35.00
 [DEBUG] 2017-11-30 20:43:10,548 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,548 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,548 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,548 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,548 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,548 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,548 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,548 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,549 Line:988 6值：35.00
 [DEBUG] 2017-11-30 20:43:10,550 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,550 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,552 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,552 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,552 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,552 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,553 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,553 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,554 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,554 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,554 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,554 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,556 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,556 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,556 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,559 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0184
 [DEBUG] 2017-11-30 20:43:10,559 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-22
 [DEBUG] 2017-11-30 20:43:10,560 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,560 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,560 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,560 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,560 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,560 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,561 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=15.00
 [DEBUG] 2017-11-30 20:43:10,562 Line:1322 JXLTOOL.setValue 主表字段BillAmt=15.00
 [DEBUG] 2017-11-30 20:43:10,562 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,562 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,562 Line:1344 JXLTOOL.setValue 明细表字段Amt=15.00
 [DEBUG] 2017-11-30 20:43:10,562 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=15.00
 [DEBUG] 2017-11-30 20:43:10,562 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,562 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,574 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,574 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,574 Line:5872 2:2d6dcd1b_1711302043105730409
 [DEBUG] 2017-11-30 20:43:10,574 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 6:OE0184
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 7:2017-11-22
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,575 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 14:15.0
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 15:15.0
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,576 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,577 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,578 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,578 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,578 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 1:2d6dcd1b_1711302043105730409
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 2:2d6dcd1b_1711302043105780410
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 6:15.0
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 8:15.0
 [DEBUG] 2017-11-30 20:43:10,579 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,580 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,580 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,580 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,580 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,580 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,580 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,582 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045790580
 [DEBUG] 2017-11-30 20:43:10,583 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045790580,];
 [DEBUG] 2017-11-30 20:43:10,584 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,585 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,586 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,587 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,588 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,589 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,589 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,589 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,590 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,590 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,591 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,591 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,591 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,591 Line:988 2值：2d6dcd1b_1711302043105730409
 [DEBUG] 2017-11-30 20:43:10,591 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,592 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,592 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,592 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,594 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,595 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,595 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,595 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,596 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,596 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,598 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,598 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,598 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,598 Line:988 1值：2d6dcd1b_1711302043105730409
 [DEBUG] 2017-11-30 20:43:10,618 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,618 Line:1043 ---上述语句时间---20
 [DEBUG] 2017-11-30 20:43:10,618 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,619 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,620 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,620 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,620 Line:988 1值：2d6dcd1b_1711302043105730409
 [DEBUG] 2017-11-30 20:43:10,633 Line:1025 query condition columnName:SumDetAmt----value:15.0
 [DEBUG] 2017-11-30 20:43:10,633 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-11-30 20:43:10,634 Line:313 exeCondition:tblExpense_Add : 15.0 != 15.00
 [DEBUG] 2017-11-30 20:43:10,635 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,635 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,635 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,635 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,635 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,636 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,636 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,636 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,636 Line:988 6值：15.00
 [DEBUG] 2017-11-30 20:43:10,638 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,639 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,640 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,641 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,641 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,641 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,641 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,642 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,642 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,642 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,643 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,643 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,674 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,682 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,682 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,683 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,685 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0185
 [DEBUG] 2017-11-30 20:43:10,685 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:10,686 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,686 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,686 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,686 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,686 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,686 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,687 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,687 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,687 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,687 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,687 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,687 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,688 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=26400.00
 [DEBUG] 2017-11-30 20:43:10,688 Line:1322 JXLTOOL.setValue 主表字段BillAmt=26400.00
 [DEBUG] 2017-11-30 20:43:10,688 Line:1344 JXLTOOL.setValue 明细表字段Remark=深圳市吉君贸易有限公司
 [DEBUG] 2017-11-30 20:43:10,688 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,688 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,688 Line:1344 JXLTOOL.setValue 明细表字段Amt=26400.00
 [DEBUG] 2017-11-30 20:43:10,688 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=26400.00
 [DEBUG] 2017-11-30 20:43:10,689 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,689 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,701 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 2:2d6dcd1b_1711302043107000411
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 6:OE0185
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:10,702 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 14:26400.0
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 15:26400.0
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,703 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,704 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,705 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,706 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 1:2d6dcd1b_1711302043107000411
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 2:2d6dcd1b_1711302043107060412
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 3:深圳市吉君贸易有限公司
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 6:26400.0
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,707 Line:5872 8:26400.0
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,708 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,710 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,711 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,711 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,712 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,712 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,713 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,713 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,713 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,714 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,714 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,714 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,715 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,715 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,715 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,715 Line:988 2值：2d6dcd1b_1711302043107000411
 [DEBUG] 2017-11-30 20:43:10,715 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,716 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,716 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,716 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,721 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,722 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,722 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,722 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,723 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,723 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,724 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,725 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,725 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,726 Line:988 1值：2d6dcd1b_1711302043107000411
 [DEBUG] 2017-11-30 20:43:10,727 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,727 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,727 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,729 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,729 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,729 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,730 Line:988 1值：2d6dcd1b_1711302043107000411
 [DEBUG] 2017-11-30 20:43:10,731 Line:1025 query condition columnName:SumDetAmt----value:26400.0
 [DEBUG] 2017-11-30 20:43:10,731 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,731 Line:313 exeCondition:tblExpense_Add : 26400.0 != 26400.00
 [DEBUG] 2017-11-30 20:43:10,732 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,733 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,733 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,733 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,733 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,733 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,733 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,734 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,734 Line:988 6值：26400.00
 [DEBUG] 2017-11-30 20:43:10,735 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,736 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,737 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,737 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,737 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,737 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,737 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,738 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,739 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,739 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,739 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,739 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,739 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,740 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,741 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,741 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,744 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0186
 [DEBUG] 2017-11-30 20:43:10,745 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:10,745 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,745 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,745 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,745 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,745 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,746 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,747 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=198898.20
 [DEBUG] 2017-11-30 20:43:10,747 Line:1322 JXLTOOL.setValue 主表字段BillAmt=198898.20
 [DEBUG] 2017-11-30 20:43:10,747 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:43:10,747 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,747 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,747 Line:1344 JXLTOOL.setValue 明细表字段Amt=198898.20
 [DEBUG] 2017-11-30 20:43:10,747 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=198898.20
 [DEBUG] 2017-11-30 20:43:10,747 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,748 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,764 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,764 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,764 Line:5872 2:2d6dcd1b_1711302043107630413
 [DEBUG] 2017-11-30 20:43:10,764 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,764 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,764 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,766 Line:5872 6:OE0186
 [DEBUG] 2017-11-30 20:43:10,766 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:10,766 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,766 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,766 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,767 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,767 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,767 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,767 Line:5872 14:198898.2
 [DEBUG] 2017-11-30 20:43:10,767 Line:5872 15:198898.2
 [DEBUG] 2017-11-30 20:43:10,767 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,768 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,768 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,768 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,768 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,768 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,769 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,770 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,770 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,770 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,770 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,770 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,770 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,771 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,771 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,772 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,772 Line:5872 1:2d6dcd1b_1711302043107630413
 [DEBUG] 2017-11-30 20:43:10,772 Line:5872 2:2d6dcd1b_1711302043107720414
 [DEBUG] 2017-11-30 20:43:10,772 Line:5872 3:广州万其贸易有限公司
 [DEBUG] 2017-11-30 20:43:10,772 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 6:198898.2
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 8:198898.2
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,773 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,774 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,774 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,776 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,777 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,778 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,779 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,779 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,780 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,780 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,780 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,781 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,781 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,782 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,782 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,782 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,782 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,782 Line:988 2值：2d6dcd1b_1711302043107630413
 [DEBUG] 2017-11-30 20:43:10,782 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,783 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,783 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,783 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,784 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,785 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,785 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,785 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,786 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,787 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,788 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,788 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,788 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,789 Line:988 1值：2d6dcd1b_1711302043107630413
 [DEBUG] 2017-11-30 20:43:10,790 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,790 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,790 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,791 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,792 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,792 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,792 Line:988 1值：2d6dcd1b_1711302043107630413
 [DEBUG] 2017-11-30 20:43:10,793 Line:1025 query condition columnName:SumDetAmt----value:198898.2
 [DEBUG] 2017-11-30 20:43:10,793 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,793 Line:313 exeCondition:tblExpense_Add : 198898.2 != 198898.20
 [DEBUG] 2017-11-30 20:43:10,795 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,795 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,795 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,795 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,795 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,795 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,796 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,796 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,796 Line:988 6值：198898.20
 [DEBUG] 2017-11-30 20:43:10,798 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,798 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,799 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,800 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,800 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,800 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,800 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,801 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,801 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,801 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,801 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,801 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,802 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,803 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,803 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,804 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,807 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0187
 [DEBUG] 2017-11-30 20:43:10,807 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:10,808 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,808 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,809 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,809 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,809 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,809 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,809 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,810 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,810 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,810 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,810 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,810 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,810 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=236979.60
 [DEBUG] 2017-11-30 20:43:10,811 Line:1322 JXLTOOL.setValue 主表字段BillAmt=236979.60
 [DEBUG] 2017-11-30 20:43:10,811 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:10,811 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,811 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,811 Line:1344 JXLTOOL.setValue 明细表字段Amt=236979.60
 [DEBUG] 2017-11-30 20:43:10,812 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=236979.60
 [DEBUG] 2017-11-30 20:43:10,812 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,812 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,830 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,830 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,831 Line:5872 2:2d6dcd1b_1711302043108290415
 [DEBUG] 2017-11-30 20:43:10,831 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,831 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,831 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,831 Line:5872 6:OE0187
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,832 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,833 Line:5872 14:236979.6
 [DEBUG] 2017-11-30 20:43:10,833 Line:5872 15:236979.6
 [DEBUG] 2017-11-30 20:43:10,833 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,833 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,833 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,833 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,834 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,834 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,834 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,834 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,834 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,834 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,835 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,835 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,835 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,835 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,835 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,835 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,836 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,836 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,836 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,836 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,837 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,839 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,839 Line:5872 1:2d6dcd1b_1711302043108290415
 [DEBUG] 2017-11-30 20:43:10,839 Line:5872 2:2d6dcd1b_1711302043108390416
 [DEBUG] 2017-11-30 20:43:10,839 Line:5872 3:广州市亿悦化工有限公司
 [DEBUG] 2017-11-30 20:43:10,839 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,840 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,841 Line:5872 6:236979.6
 [DEBUG] 2017-11-30 20:43:10,841 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,841 Line:5872 8:236979.6
 [DEBUG] 2017-11-30 20:43:10,841 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,842 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,842 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,842 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,842 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,842 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,842 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,845 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,850 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,851 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,852 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,853 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,854 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [DEBUG] 2017-11-30 20:43:10,854 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,854 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,854 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,854 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,856 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,856 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,856 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,856 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,856 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,856 Line:988 2值：2d6dcd1b_1711302043108290415
 [DEBUG] 2017-11-30 20:43:10,857 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,857 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,858 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,858 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,859 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,859 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,859 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,859 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,860 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,861 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,862 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,862 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,862 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,862 Line:988 1值：2d6dcd1b_1711302043108290415
 [DEBUG] 2017-11-30 20:43:10,863 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,863 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,863 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,864 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,864 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,865 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,865 Line:988 1值：2d6dcd1b_1711302043108290415
 [DEBUG] 2017-11-30 20:43:10,866 Line:1025 query condition columnName:SumDetAmt----value:236979.6
 [DEBUG] 2017-11-30 20:43:10,866 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,866 Line:313 exeCondition:tblExpense_Add : 236979.6 != 236979.60
 [DEBUG] 2017-11-30 20:43:10,867 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,867 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,867 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,868 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,868 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,868 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,868 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,868 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,868 Line:988 6值：236979.60
 [DEBUG] 2017-11-30 20:43:10,870 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,870 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,871 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,871 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,872 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,872 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,872 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,873 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,873 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,873 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,873 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,873 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,874 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,875 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,875 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,879 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0188
 [DEBUG] 2017-11-30 20:43:10,879 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:10,879 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,879 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,880 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,880 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,880 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,880 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,880 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,880 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,881 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,881 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,881 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,881 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,881 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=96000.00
 [DEBUG] 2017-11-30 20:43:10,881 Line:1322 JXLTOOL.setValue 主表字段BillAmt=96000.00
 [DEBUG] 2017-11-30 20:43:10,881 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州尧恩贸易有限公司
 [DEBUG] 2017-11-30 20:43:10,882 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,882 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,882 Line:1344 JXLTOOL.setValue 明细表字段Amt=96000.00
 [DEBUG] 2017-11-30 20:43:10,882 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=96000.00
 [DEBUG] 2017-11-30 20:43:10,882 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,882 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,895 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 2:2d6dcd1b_1711302043108950417
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 6:OE0188
 [DEBUG] 2017-11-30 20:43:10,896 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 14:96000.0
 [DEBUG] 2017-11-30 20:43:10,897 Line:5872 15:96000.0
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,898 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,899 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,900 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,900 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,900 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,900 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,900 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,901 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,901 Line:5872 1:2d6dcd1b_1711302043108950417
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 2:2d6dcd1b_1711302043109010418
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 3:广州尧恩贸易有限公司
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 6:96000.0
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,902 Line:5872 8:96000.0
 [DEBUG] 2017-11-30 20:43:10,903 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,903 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,903 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,903 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,903 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,903 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,904 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,906 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,907 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,908 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,909 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,909 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,910 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,910 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,911 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,911 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,911 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,912 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,912 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,912 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,912 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,912 Line:988 2值：2d6dcd1b_1711302043108950417
 [DEBUG] 2017-11-30 20:43:10,912 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,913 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,913 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,913 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,914 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,914 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,914 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,915 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,915 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,916 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,917 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,917 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,917 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,917 Line:988 1值：2d6dcd1b_1711302043108950417
 [DEBUG] 2017-11-30 20:43:10,918 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:10,918 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:10,918 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,919 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,919 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:10,919 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,920 Line:988 1值：2d6dcd1b_1711302043108950417
 [DEBUG] 2017-11-30 20:43:10,920 Line:1025 query condition columnName:SumDetAmt----value:96000.0
 [DEBUG] 2017-11-30 20:43:10,921 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,921 Line:313 exeCondition:tblExpense_Add : 96000.0 != 96000.00
 [DEBUG] 2017-11-30 20:43:10,922 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,922 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:10,922 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,922 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,922 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:10,922 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:10,923 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:10,923 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:10,923 Line:988 6值：96000.00
 [DEBUG] 2017-11-30 20:43:10,924 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,925 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:10,926 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,926 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:10,926 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,926 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:10,926 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:10,927 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:10,927 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:10,927 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:10,927 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:10,928 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,928 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:10,929 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:10,929 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:10,929 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:10,933 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0189
 [DEBUG] 2017-11-30 20:43:10,933 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:10,934 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,934 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:10,934 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:10,935 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:10,935 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:10,935 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:10,935 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:10,935 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:10,936 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:10,936 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,936 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:10,936 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:10,937 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1931.00
 [DEBUG] 2017-11-30 20:43:10,937 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1931.00
 [DEBUG] 2017-11-30 20:43:10,937 Line:1344 JXLTOOL.setValue 明细表字段Remark=顺丰速运(东莞)有限公司
 [DEBUG] 2017-11-30 20:43:10,937 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:10,937 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:10,938 Line:1344 JXLTOOL.setValue 明细表字段Amt=1931.00
 [DEBUG] 2017-11-30 20:43:10,938 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1931.00
 [DEBUG] 2017-11-30 20:43:10,938 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:10,938 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:10,957 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,958 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:10,958 Line:5872 2:2d6dcd1b_1711302043109560419
 [DEBUG] 2017-11-30 20:43:10,958 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:10,958 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:10,959 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:10,959 Line:5872 6:OE0189
 [DEBUG] 2017-11-30 20:43:10,959 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:10,959 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:10,959 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:10,960 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:10,960 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:10,960 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:10,960 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:10,960 Line:5872 14:1931.0
 [DEBUG] 2017-11-30 20:43:10,960 Line:5872 15:1931.0
 [DEBUG] 2017-11-30 20:43:10,961 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:10,961 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:10,961 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:10,961 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:10,961 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:10,961 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:10,962 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:10,962 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:10,962 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:10,962 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:10,962 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:10,962 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:10,963 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:10,963 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:10,963 Line:5872 30:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,963 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:10,963 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:10,963 Line:5872 33:2017-11-30 20:43:10
 [DEBUG] 2017-11-30 20:43:10,964 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:10,964 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:10,964 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:10,965 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:10,966 Line:5872 1:2d6dcd1b_1711302043109560419
 [DEBUG] 2017-11-30 20:43:10,966 Line:5872 2:2d6dcd1b_1711302043109650420
 [DEBUG] 2017-11-30 20:43:10,966 Line:5872 3:顺丰速运(东莞)有限公司
 [DEBUG] 2017-11-30 20:43:10,966 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:10,966 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:10,967 Line:5872 6:1931.0
 [DEBUG] 2017-11-30 20:43:10,967 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:10,967 Line:5872 8:1931.0
 [DEBUG] 2017-11-30 20:43:10,967 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:10,967 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:10,967 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:10,968 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:10,968 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:10,968 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:10,968 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:10,970 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:10,972 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,973 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:10,974 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,974 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:10,976 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,976 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:10,976 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,977 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:10,978 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:10,979 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,979 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:10,979 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,979 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:10,980 Line:988 2值：2d6dcd1b_1711302043109560419
 [DEBUG] 2017-11-30 20:43:10,980 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:10,982 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:10,982 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:10,982 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:10,984 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,984 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:10,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,985 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:10,986 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:10,987 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:10,988 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:10,989 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:10,989 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:10,989 Line:988 1值：2d6dcd1b_1711302043109560419
 [DEBUG] 2017-11-30 20:43:11,013 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,013 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:43:11,014 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,015 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,016 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,016 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,016 Line:988 1值：2d6dcd1b_1711302043109560419
 [DEBUG] 2017-11-30 20:43:11,048 Line:1025 query condition columnName:SumDetAmt----value:1931.0
 [DEBUG] 2017-11-30 20:43:11,049 Line:1043 ---上述语句时间---33
 [DEBUG] 2017-11-30 20:43:11,049 Line:313 exeCondition:tblExpense_Add : 1931.0 != 1931.00
 [DEBUG] 2017-11-30 20:43:11,050 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,051 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,051 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,051 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,051 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,051 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,051 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,052 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,052 Line:988 6值：1931.00
 [DEBUG] 2017-11-30 20:43:11,055 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,055 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,057 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,057 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,057 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,057 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,058 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,059 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,060 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,060 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,060 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,060 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,061 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,062 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,063 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,063 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,068 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0190
 [DEBUG] 2017-11-30 20:43:11,069 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,069 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,069 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,070 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,070 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,070 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,070 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,071 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,071 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,071 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,071 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,072 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,072 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,072 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=1200.00
 [DEBUG] 2017-11-30 20:43:11,072 Line:1322 JXLTOOL.setValue 主表字段BillAmt=1200.00
 [DEBUG] 2017-11-30 20:43:11,072 Line:1344 JXLTOOL.setValue 明细表字段Remark=中华人民共和国国家知识产权局专利局
 [DEBUG] 2017-11-30 20:43:11,073 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,073 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,073 Line:1344 JXLTOOL.setValue 明细表字段Amt=1200.00
 [DEBUG] 2017-11-30 20:43:11,073 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=1200.00
 [DEBUG] 2017-11-30 20:43:11,073 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,074 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,094 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,094 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,094 Line:5872 2:2d6dcd1b_1711302043110910421
 [DEBUG] 2017-11-30 20:43:11,094 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,094 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,095 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,095 Line:5872 6:OE0190
 [DEBUG] 2017-11-30 20:43:11,095 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,095 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,095 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,095 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,096 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,096 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,096 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,096 Line:5872 14:1200.0
 [DEBUG] 2017-11-30 20:43:11,096 Line:5872 15:1200.0
 [DEBUG] 2017-11-30 20:43:11,096 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,097 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,098 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,099 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,099 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,099 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,099 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,099 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,099 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,129 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,129 Line:5872 1:2d6dcd1b_1711302043110910421
 [DEBUG] 2017-11-30 20:43:11,129 Line:5872 2:2d6dcd1b_1711302043111280422
 [DEBUG] 2017-11-30 20:43:11,129 Line:5872 3:中华人民共和国国家知识产权局专利局
 [DEBUG] 2017-11-30 20:43:11,129 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,129 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,130 Line:5872 6:1200.0
 [DEBUG] 2017-11-30 20:43:11,130 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,130 Line:5872 8:1200.0
 [DEBUG] 2017-11-30 20:43:11,130 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,130 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,131 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,131 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,131 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,131 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,131 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,146 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,148 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,148 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,150 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,150 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,152 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,152 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,153 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,153 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,154 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,154 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,155 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,155 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,155 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,155 Line:988 2值：2d6dcd1b_1711302043110910421
 [DEBUG] 2017-11-30 20:43:11,155 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,157 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,157 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,157 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,159 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,160 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,160 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,160 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,162 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,162 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,164 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,164 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,164 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,165 Line:988 1值：2d6dcd1b_1711302043110910421
 [DEBUG] 2017-11-30 20:43:11,166 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,166 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,166 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,168 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,168 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,169 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,169 Line:988 1值：2d6dcd1b_1711302043110910421
 [DEBUG] 2017-11-30 20:43:11,170 Line:1025 query condition columnName:SumDetAmt----value:1200.0
 [DEBUG] 2017-11-30 20:43:11,171 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,171 Line:313 exeCondition:tblExpense_Add : 1200.0 != 1200.00
 [DEBUG] 2017-11-30 20:43:11,173 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,173 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,173 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,173 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,174 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,174 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,174 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,174 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,174 Line:988 6值：1200.00
 [DEBUG] 2017-11-30 20:43:11,217 Line:1043 ---上述语句时间---44
 [DEBUG] 2017-11-30 20:43:11,217 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,219 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,219 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,220 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,220 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,220 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,221 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,222 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,222 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,222 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,222 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,223 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,224 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,225 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,225 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,235 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0191
 [DEBUG] 2017-11-30 20:43:11,235 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,235 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,236 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,236 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,236 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,237 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,237 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,237 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,237 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,238 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,238 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,238 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,238 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,238 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=5000.00
 [DEBUG] 2017-11-30 20:43:11,238 Line:1322 JXLTOOL.setValue 主表字段BillAmt=5000.00
 [DEBUG] 2017-11-30 20:43:11,239 Line:1344 JXLTOOL.setValue 明细表字段Remark=广州沣源化工贸易有限公司
 [DEBUG] 2017-11-30 20:43:11,239 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,239 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,239 Line:1344 JXLTOOL.setValue 明细表字段Amt=5000.00
 [DEBUG] 2017-11-30 20:43:11,240 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=5000.00
 [DEBUG] 2017-11-30 20:43:11,240 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,240 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,260 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,260 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,260 Line:5872 2:2d6dcd1b_1711302043112580423
 [DEBUG] 2017-11-30 20:43:11,261 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,261 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,261 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,261 Line:5872 6:OE0191
 [DEBUG] 2017-11-30 20:43:11,262 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,262 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,262 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,262 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,262 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 14:5000.0
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 15:5000.0
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,263 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,264 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,264 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,264 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,264 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,264 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,264 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,265 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,265 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,265 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,265 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,265 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,265 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,266 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,266 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,266 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,266 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,266 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,266 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,327 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,327 Line:5872 1:2d6dcd1b_1711302043112580423
 [DEBUG] 2017-11-30 20:43:11,327 Line:5872 2:2d6dcd1b_1711302043113270424
 [DEBUG] 2017-11-30 20:43:11,327 Line:5872 3:广州沣源化工贸易有限公司
 [DEBUG] 2017-11-30 20:43:11,328 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,328 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,328 Line:5872 6:5000.0
 [DEBUG] 2017-11-30 20:43:11,328 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,328 Line:5872 8:5000.0
 [DEBUG] 2017-11-30 20:43:11,328 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,329 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,329 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,329 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,329 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,329 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,329 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,332 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,334 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,334 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,336 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,336 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,338 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,338 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,338 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,338 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,340 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,340 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,340 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,340 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,341 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,341 Line:988 2值：2d6dcd1b_1711302043112580423
 [DEBUG] 2017-11-30 20:43:11,341 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,342 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,343 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,343 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,344 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,345 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,345 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,345 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,347 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,347 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,349 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,349 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,350 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,350 Line:988 1值：2d6dcd1b_1711302043112580423
 [DEBUG] 2017-11-30 20:43:11,355 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,355 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:11,355 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,357 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,357 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,358 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,358 Line:988 1值：2d6dcd1b_1711302043112580423
 [DEBUG] 2017-11-30 20:43:11,359 Line:1025 query condition columnName:SumDetAmt----value:5000.0
 [DEBUG] 2017-11-30 20:43:11,360 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,360 Line:313 exeCondition:tblExpense_Add : 5000.0 != 5000.00
 [DEBUG] 2017-11-30 20:43:11,362 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,362 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,362 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,362 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,363 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,363 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,363 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,363 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,364 Line:988 6值：5000.00
 [DEBUG] 2017-11-30 20:43:11,366 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,366 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,368 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,368 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,368 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,368 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,369 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,370 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,370 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,370 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,370 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,370 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,371 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,372 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,373 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,373 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,377 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0192
 [DEBUG] 2017-11-30 20:43:11,377 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,377 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,377 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,378 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,378 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,378 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,379 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,379 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,379 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,379 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,380 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,380 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,380 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,380 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=96195.00
 [DEBUG] 2017-11-30 20:43:11,380 Line:1322 JXLTOOL.setValue 主表字段BillAmt=96195.00
 [DEBUG] 2017-11-30 20:43:11,380 Line:1344 JXLTOOL.setValue 明细表字段Remark=北京顶点透视公关顾问有限公司
 [DEBUG] 2017-11-30 20:43:11,381 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,381 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,381 Line:1344 JXLTOOL.setValue 明细表字段Amt=96195.00
 [DEBUG] 2017-11-30 20:43:11,381 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=96195.00
 [DEBUG] 2017-11-30 20:43:11,381 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,381 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,403 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,403 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,403 Line:5872 2:2d6dcd1b_1711302043114010425
 [DEBUG] 2017-11-30 20:43:11,403 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,403 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 6:OE0192
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,404 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,405 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,405 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,405 Line:5872 14:96195.0
 [DEBUG] 2017-11-30 20:43:11,405 Line:5872 15:96195.0
 [DEBUG] 2017-11-30 20:43:11,405 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,405 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,406 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,407 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,407 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,407 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,407 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,407 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,407 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,408 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,408 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,408 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,408 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,408 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,408 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,413 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,413 Line:5872 1:2d6dcd1b_1711302043114010425
 [DEBUG] 2017-11-30 20:43:11,413 Line:5872 2:2d6dcd1b_1711302043114130426
 [DEBUG] 2017-11-30 20:43:11,414 Line:5872 3:北京顶点透视公关顾问有限公司
 [DEBUG] 2017-11-30 20:43:11,414 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,414 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,414 Line:5872 6:96195.0
 [DEBUG] 2017-11-30 20:43:11,414 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,414 Line:5872 8:96195.0
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,415 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,438 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,440 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,440 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,442 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,442 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,444 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,444 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,444 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,444 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,447 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,447 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,447 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,448 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,448 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,448 Line:988 2值：2d6dcd1b_1711302043114010425
 [DEBUG] 2017-11-30 20:43:11,448 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,451 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,451 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,451 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,453 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,453 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,453 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,454 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,455 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,456 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,457 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,458 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,458 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,458 Line:988 1值：2d6dcd1b_1711302043114010425
 [DEBUG] 2017-11-30 20:43:11,459 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,460 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,460 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,462 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,462 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,462 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,462 Line:988 1值：2d6dcd1b_1711302043114010425
 [DEBUG] 2017-11-30 20:43:11,464 Line:1025 query condition columnName:SumDetAmt----value:96195.0
 [DEBUG] 2017-11-30 20:43:11,464 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,465 Line:313 exeCondition:tblExpense_Add : 96195.0 != 96195.00
 [DEBUG] 2017-11-30 20:43:11,466 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,467 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,467 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,467 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,467 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,468 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,468 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,468 Line:988 6值：96195.00
 [DEBUG] 2017-11-30 20:43:11,470 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,471 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,473 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,473 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,473 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,473 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,473 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,488 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,488 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,488 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,489 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,489 Line:1043 ---上述语句时间---16
 [DEBUG] 2017-11-30 20:43:11,489 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,491 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,491 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,491 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,499 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0193
 [DEBUG] 2017-11-30 20:43:11,499 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,500 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,500 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,500 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,501 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,501 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,501 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,501 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,502 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,502 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,502 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,502 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,503 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,503 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=57343.30
 [DEBUG] 2017-11-30 20:43:11,503 Line:1322 JXLTOOL.setValue 主表字段BillAmt=57343.30
 [DEBUG] 2017-11-30 20:43:11,503 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市恒锐塑料制品有限公司
 [DEBUG] 2017-11-30 20:43:11,503 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,504 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,504 Line:1344 JXLTOOL.setValue 明细表字段Amt=57343.30
 [DEBUG] 2017-11-30 20:43:11,504 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=57343.30
 [DEBUG] 2017-11-30 20:43:11,504 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,504 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,525 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,525 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,525 Line:5872 2:2d6dcd1b_1711302043115230427
 [DEBUG] 2017-11-30 20:43:11,526 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,526 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,526 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,526 Line:5872 6:OE0193
 [DEBUG] 2017-11-30 20:43:11,526 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,526 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,527 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,527 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,527 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,527 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,527 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,528 Line:5872 14:57343.3
 [DEBUG] 2017-11-30 20:43:11,528 Line:5872 15:57343.3
 [DEBUG] 2017-11-30 20:43:11,528 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,528 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,528 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,529 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,530 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,530 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,530 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,530 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,530 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,531 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,531 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,531 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,531 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,531 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,531 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,533 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,533 Line:5872 1:2d6dcd1b_1711302043115230427
 [DEBUG] 2017-11-30 20:43:11,533 Line:5872 2:2d6dcd1b_1711302043115330428
 [DEBUG] 2017-11-30 20:43:11,534 Line:5872 3:东莞市恒锐塑料制品有限公司
 [DEBUG] 2017-11-30 20:43:11,534 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,534 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,534 Line:5872 6:57343.3
 [DEBUG] 2017-11-30 20:43:11,534 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,534 Line:5872 8:57343.3
 [DEBUG] 2017-11-30 20:43:11,535 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,535 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,535 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,535 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,535 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,535 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,536 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,538 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,540 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,540 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,542 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,542 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,544 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,545 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,545 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,547 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,547 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,548 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,548 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,548 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,548 Line:988 2值：2d6dcd1b_1711302043115230427
 [DEBUG] 2017-11-30 20:43:11,549 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,550 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,550 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,550 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,552 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,552 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,552 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,552 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,554 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,554 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,556 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,556 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,556 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,557 Line:988 1值：2d6dcd1b_1711302043115230427
 [DEBUG] 2017-11-30 20:43:11,558 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,558 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,559 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,560 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,560 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,561 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,561 Line:988 1值：2d6dcd1b_1711302043115230427
 [DEBUG] 2017-11-30 20:43:11,563 Line:1025 query condition columnName:SumDetAmt----value:57343.3
 [DEBUG] 2017-11-30 20:43:11,563 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,563 Line:313 exeCondition:tblExpense_Add : 57343.3 != 57343.30
 [DEBUG] 2017-11-30 20:43:11,565 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,565 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,565 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,566 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,566 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,566 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,566 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,566 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,567 Line:988 6值：57343.30
 [DEBUG] 2017-11-30 20:43:11,569 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,569 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,571 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,573 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,574 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,574 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,574 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,575 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,575 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,575 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,575 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,576 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,576 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,578 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,578 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,578 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,583 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045791580
 [DEBUG] 2017-11-30 20:43:11,583 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045791580,];
 [DEBUG] 2017-11-30 20:43:11,583 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0194
 [DEBUG] 2017-11-30 20:43:11,583 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,584 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,584 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,585 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,585 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,585 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,585 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,586 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,586 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,586 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,586 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,587 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,587 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,587 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=27900.00
 [DEBUG] 2017-11-30 20:43:11,587 Line:1322 JXLTOOL.setValue 主表字段BillAmt=27900.00
 [DEBUG] 2017-11-30 20:43:11,587 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市汇利纸品有限公司
 [DEBUG] 2017-11-30 20:43:11,588 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,588 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,588 Line:1344 JXLTOOL.setValue 明细表字段Amt=27900.00
 [DEBUG] 2017-11-30 20:43:11,588 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=27900.00
 [DEBUG] 2017-11-30 20:43:11,588 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,589 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,612 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 2:2d6dcd1b_1711302043116070429
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 6:OE0194
 [DEBUG] 2017-11-30 20:43:11,613 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,614 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,614 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,614 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,614 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,614 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,614 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 14:27900.0
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 15:27900.0
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,615 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,616 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,617 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,617 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,617 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,617 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,617 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,618 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,618 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,618 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,618 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,620 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,620 Line:5872 1:2d6dcd1b_1711302043116070429
 [DEBUG] 2017-11-30 20:43:11,620 Line:5872 2:2d6dcd1b_1711302043116200430
 [DEBUG] 2017-11-30 20:43:11,621 Line:5872 3:东莞市汇利纸品有限公司
 [DEBUG] 2017-11-30 20:43:11,621 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,621 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,621 Line:5872 6:27900.0
 [DEBUG] 2017-11-30 20:43:11,621 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,621 Line:5872 8:27900.0
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,622 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,625 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,626 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,627 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,629 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,629 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,631 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,631 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,631 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,631 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,633 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,633 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,633 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,633 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,634 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,634 Line:988 2值：2d6dcd1b_1711302043116070429
 [DEBUG] 2017-11-30 20:43:11,634 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,645 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,646 Line:1043 ---上述语句时间---13
 [DEBUG] 2017-11-30 20:43:11,646 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,647 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,648 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,648 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,648 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,650 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,650 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,652 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,652 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,652 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,652 Line:988 1值：2d6dcd1b_1711302043116070429
 [DEBUG] 2017-11-30 20:43:11,675 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,675 Line:1043 ---上述语句时间---23
 [DEBUG] 2017-11-30 20:43:11,676 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,677 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,677 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,678 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,678 Line:988 1值：2d6dcd1b_1711302043116070429
 [DEBUG] 2017-11-30 20:43:11,707 Line:1025 query condition columnName:SumDetAmt----value:27900.0
 [DEBUG] 2017-11-30 20:43:11,707 Line:1043 ---上述语句时间---30
 [DEBUG] 2017-11-30 20:43:11,707 Line:313 exeCondition:tblExpense_Add : 27900.0 != 27900.00
 [DEBUG] 2017-11-30 20:43:11,709 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,709 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,710 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,710 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,711 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,712 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,712 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,712 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,712 Line:988 6值：27900.00
 [DEBUG] 2017-11-30 20:43:11,740 Line:1043 ---上述语句时间---31
 [DEBUG] 2017-11-30 20:43:11,741 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,742 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,743 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,743 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,743 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,743 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,747 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,747 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,747 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,747 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,748 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:11,748 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,750 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,750 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,750 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,781 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0195
 [DEBUG] 2017-11-30 20:43:11,781 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,781 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,782 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,782 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,782 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,783 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,783 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,783 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,783 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,784 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,784 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,784 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,784 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,785 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=6450.51
 [DEBUG] 2017-11-30 20:43:11,785 Line:1322 JXLTOOL.setValue 主表字段BillAmt=6450.51
 [DEBUG] 2017-11-30 20:43:11,785 Line:1344 JXLTOOL.setValue 明细表字段Remark=中国平安财产保险股份有限公司东莞分公司
 [DEBUG] 2017-11-30 20:43:11,785 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,786 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,786 Line:1344 JXLTOOL.setValue 明细表字段Amt=6450.51
 [DEBUG] 2017-11-30 20:43:11,786 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=6450.51
 [DEBUG] 2017-11-30 20:43:11,786 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,786 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,807 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,807 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,808 Line:5872 2:2d6dcd1b_1711302043118050431
 [DEBUG] 2017-11-30 20:43:11,808 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,808 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,808 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,808 Line:5872 6:OE0195
 [DEBUG] 2017-11-30 20:43:11,808 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,809 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,809 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,809 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,809 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,809 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,809 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,810 Line:5872 14:6450.51
 [DEBUG] 2017-11-30 20:43:11,810 Line:5872 15:6450.51
 [DEBUG] 2017-11-30 20:43:11,810 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,810 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,810 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,810 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,811 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,812 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,812 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,812 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,812 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,812 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,812 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,813 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,813 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,813 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,813 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,814 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,815 Line:5872 1:2d6dcd1b_1711302043118050431
 [DEBUG] 2017-11-30 20:43:11,815 Line:5872 2:2d6dcd1b_1711302043118140432
 [DEBUG] 2017-11-30 20:43:11,815 Line:5872 3:中国平安财产保险股份有限公司东莞分公司
 [DEBUG] 2017-11-30 20:43:11,815 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,815 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,815 Line:5872 6:6450.51
 [DEBUG] 2017-11-30 20:43:11,816 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,816 Line:5872 8:6450.51
 [DEBUG] 2017-11-30 20:43:11,816 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,816 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,816 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,816 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,817 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,817 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,817 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,819 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,821 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,821 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,823 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,824 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,825 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,826 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,826 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,826 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,830 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,831 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:11,831 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,831 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,831 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,832 Line:988 2值：2d6dcd1b_1711302043118050431
 [DEBUG] 2017-11-30 20:43:11,832 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,835 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,835 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,835 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,837 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,837 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,837 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,838 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,845 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:43:11,845 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,847 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,847 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,848 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,848 Line:988 1值：2d6dcd1b_1711302043118050431
 [DEBUG] 2017-11-30 20:43:11,851 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,851 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:11,851 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,853 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,853 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,854 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,854 Line:988 1值：2d6dcd1b_1711302043118050431
 [DEBUG] 2017-11-30 20:43:11,860 Line:1025 query condition columnName:SumDetAmt----value:6450.51
 [DEBUG] 2017-11-30 20:43:11,860 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:43:11,860 Line:313 exeCondition:tblExpense_Add : 6450.51 != 6450.51
 [DEBUG] 2017-11-30 20:43:11,862 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,862 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,863 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,863 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,863 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,863 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,863 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,864 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,864 Line:988 6值：6450.51
 [DEBUG] 2017-11-30 20:43:11,868 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:11,869 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,870 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,871 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,871 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,871 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,872 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,873 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,873 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,873 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,873 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,874 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,874 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,876 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,876 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,877 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,884 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0196
 [DEBUG] 2017-11-30 20:43:11,885 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,885 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,885 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,886 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,886 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,886 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,886 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,887 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,887 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,887 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,887 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,888 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,888 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,888 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=30000.00
 [DEBUG] 2017-11-30 20:43:11,888 Line:1322 JXLTOOL.setValue 主表字段BillAmt=30000.00
 [DEBUG] 2017-11-30 20:43:11,888 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市华力冷气工程有限公司
 [DEBUG] 2017-11-30 20:43:11,889 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,889 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,889 Line:1344 JXLTOOL.setValue 明细表字段Amt=30000.00
 [DEBUG] 2017-11-30 20:43:11,889 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=30000.00
 [DEBUG] 2017-11-30 20:43:11,889 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,890 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:11,908 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,908 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:11,908 Line:5872 2:2d6dcd1b_1711302043119070433
 [DEBUG] 2017-11-30 20:43:11,908 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:11,908 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:11,909 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:11,909 Line:5872 6:OE0196
 [DEBUG] 2017-11-30 20:43:11,909 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:11,909 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:11,909 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 14:30000.0
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 15:30000.0
 [DEBUG] 2017-11-30 20:43:11,910 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:11,911 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:11,911 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:11,911 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:11,911 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:11,911 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:11,912 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:11,913 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:11,913 Line:5872 30:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,913 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:11,913 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:11,913 Line:5872 33:2017-11-30 20:43:11
 [DEBUG] 2017-11-30 20:43:11,913 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:11,914 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:11,914 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:11,915 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:11,915 Line:5872 1:2d6dcd1b_1711302043119070433
 [DEBUG] 2017-11-30 20:43:11,915 Line:5872 2:2d6dcd1b_1711302043119150434
 [DEBUG] 2017-11-30 20:43:11,916 Line:5872 3:东莞市华力冷气工程有限公司
 [DEBUG] 2017-11-30 20:43:11,916 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:11,916 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:11,916 Line:5872 6:30000.0
 [DEBUG] 2017-11-30 20:43:11,916 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:11,917 Line:5872 8:30000.0
 [DEBUG] 2017-11-30 20:43:11,917 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:11,917 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:11,917 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:11,917 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:11,917 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:11,918 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:11,918 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:11,920 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:11,921 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,921 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:11,923 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,923 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:11,924 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,925 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:11,925 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,925 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:11,926 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:11,926 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:11,926 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:11,927 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,927 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:11,927 Line:988 2值：2d6dcd1b_1711302043119070433
 [DEBUG] 2017-11-30 20:43:11,927 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:11,928 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:11,928 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,928 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,930 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,930 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:11,931 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,931 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:11,932 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:11,932 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:11,934 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,934 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:11,935 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,935 Line:988 1值：2d6dcd1b_1711302043119070433
 [DEBUG] 2017-11-30 20:43:11,936 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:11,937 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,937 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:11,938 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,939 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:11,939 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,939 Line:988 1值：2d6dcd1b_1711302043119070433
 [DEBUG] 2017-11-30 20:43:11,942 Line:1025 query condition columnName:SumDetAmt----value:30000.0
 [DEBUG] 2017-11-30 20:43:11,942 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:11,942 Line:313 exeCondition:tblExpense_Add : 30000.0 != 30000.00
 [DEBUG] 2017-11-30 20:43:11,944 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,944 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:11,944 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,945 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,945 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:11,945 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:11,945 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:11,945 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:11,946 Line:988 6值：30000.00
 [DEBUG] 2017-11-30 20:43:11,951 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:43:11,951 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:11,953 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:11,953 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:11,954 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:11,954 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:11,954 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:11,959 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:11,960 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:11,960 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:11,960 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:11,960 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:43:11,961 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:11,962 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:11,963 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:11,963 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:11,982 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0197
 [DEBUG] 2017-11-30 20:43:11,982 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:11,983 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,983 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:11,984 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:11,984 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:11,984 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:11,984 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:11,984 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:11,985 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:11,985 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:11,985 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:11,985 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:11,986 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:11,986 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=3820.00
 [DEBUG] 2017-11-30 20:43:11,986 Line:1322 JXLTOOL.setValue 主表字段BillAmt=3820.00
 [DEBUG] 2017-11-30 20:43:11,986 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市天诺装饰工程有限公司
 [DEBUG] 2017-11-30 20:43:11,986 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:11,987 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:11,987 Line:1344 JXLTOOL.setValue 明细表字段Amt=3820.00
 [DEBUG] 2017-11-30 20:43:11,987 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=3820.00
 [DEBUG] 2017-11-30 20:43:11,987 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:11,988 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,021 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,021 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,022 Line:5872 2:2d6dcd1b_1711302043120200435
 [DEBUG] 2017-11-30 20:43:12,022 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,022 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,022 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,022 Line:5872 6:OE0197
 [DEBUG] 2017-11-30 20:43:12,022 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:12,023 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,023 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,023 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,023 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,023 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,024 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,024 Line:5872 14:3820.0
 [DEBUG] 2017-11-30 20:43:12,024 Line:5872 15:3820.0
 [DEBUG] 2017-11-30 20:43:12,024 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,024 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,024 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,025 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,025 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,025 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,025 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,025 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,025 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,026 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,027 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,027 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,027 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,027 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,027 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,029 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,029 Line:5872 1:2d6dcd1b_1711302043120200435
 [DEBUG] 2017-11-30 20:43:12,029 Line:5872 2:2d6dcd1b_1711302043120290436
 [DEBUG] 2017-11-30 20:43:12,030 Line:5872 3:东莞市天诺装饰工程有限公司
 [DEBUG] 2017-11-30 20:43:12,030 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,030 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,030 Line:5872 6:3820.0
 [DEBUG] 2017-11-30 20:43:12,030 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,031 Line:5872 8:3820.0
 [DEBUG] 2017-11-30 20:43:12,031 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,031 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,031 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,031 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,031 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,032 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,032 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,034 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,036 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,036 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,038 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,038 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,040 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,041 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,041 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,041 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,043 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,043 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,043 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,044 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,045 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,045 Line:988 2值：2d6dcd1b_1711302043120200435
 [DEBUG] 2017-11-30 20:43:12,045 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,046 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,047 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,047 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,048 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,049 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,049 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,049 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,051 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,052 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,054 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,054 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,054 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,055 Line:988 1值：2d6dcd1b_1711302043120200435
 [DEBUG] 2017-11-30 20:43:12,056 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,056 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,056 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,058 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,058 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,059 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,059 Line:988 1值：2d6dcd1b_1711302043120200435
 [DEBUG] 2017-11-30 20:43:12,060 Line:1025 query condition columnName:SumDetAmt----value:3820.0
 [DEBUG] 2017-11-30 20:43:12,061 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,061 Line:313 exeCondition:tblExpense_Add : 3820.0 != 3820.00
 [DEBUG] 2017-11-30 20:43:12,063 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,063 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,063 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,064 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,064 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,064 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,064 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,064 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,064 Line:988 6值：3820.00
 [DEBUG] 2017-11-30 20:43:12,066 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,067 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,068 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,069 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,069 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,069 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,069 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,070 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,070 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,071 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,071 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,071 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,071 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,073 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,073 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,074 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,077 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0198
 [DEBUG] 2017-11-30 20:43:12,077 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-24
 [DEBUG] 2017-11-30 20:43:12,078 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,078 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,079 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,079 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,079 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,079 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,080 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,080 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,080 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,081 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,081 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,081 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,081 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=43690.64
 [DEBUG] 2017-11-30 20:43:12,081 Line:1322 JXLTOOL.setValue 主表字段BillAmt=43690.64
 [DEBUG] 2017-11-30 20:43:12,082 Line:1344 JXLTOOL.setValue 明细表字段Remark=个人／单位存款
 [DEBUG] 2017-11-30 20:43:12,082 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,082 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,082 Line:1344 JXLTOOL.setValue 明细表字段Amt=43690.64
 [DEBUG] 2017-11-30 20:43:12,082 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=43690.64
 [DEBUG] 2017-11-30 20:43:12,083 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,083 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,103 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,103 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,104 Line:5872 2:2d6dcd1b_1711302043121020437
 [DEBUG] 2017-11-30 20:43:12,104 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,104 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,104 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,104 Line:5872 6:OE0198
 [DEBUG] 2017-11-30 20:43:12,104 Line:5872 7:2017-11-24
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,105 Line:5872 14:43690.64
 [DEBUG] 2017-11-30 20:43:12,106 Line:5872 15:43690.64
 [DEBUG] 2017-11-30 20:43:12,106 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,106 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,106 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,106 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,106 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,107 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,107 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,107 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,107 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,107 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,107 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,108 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,108 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,108 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,108 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,108 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,108 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,109 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,109 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,109 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,109 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,110 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,111 Line:5872 1:2d6dcd1b_1711302043121020437
 [DEBUG] 2017-11-30 20:43:12,111 Line:5872 2:2d6dcd1b_1711302043121100438
 [DEBUG] 2017-11-30 20:43:12,111 Line:5872 3:个人／单位存款
 [DEBUG] 2017-11-30 20:43:12,111 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,111 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,111 Line:5872 6:43690.64
 [DEBUG] 2017-11-30 20:43:12,112 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,112 Line:5872 8:43690.64
 [DEBUG] 2017-11-30 20:43:12,112 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,112 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,112 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,112 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,113 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,113 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,113 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,115 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,117 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,118 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,120 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,120 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,122 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,122 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,122 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,122 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,126 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,127 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:12,127 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,127 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,128 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,128 Line:988 2值：2d6dcd1b_1711302043121020437
 [DEBUG] 2017-11-30 20:43:12,128 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,133 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,133 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:12,134 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,135 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,136 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,136 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,136 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,140 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:12,140 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,142 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,142 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,142 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,143 Line:988 1值：2d6dcd1b_1711302043121020437
 [DEBUG] 2017-11-30 20:43:12,148 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,149 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:43:12,149 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,151 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,151 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,151 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,152 Line:988 1值：2d6dcd1b_1711302043121020437
 [DEBUG] 2017-11-30 20:43:12,154 Line:1025 query condition columnName:SumDetAmt----value:43690.64
 [DEBUG] 2017-11-30 20:43:12,155 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,155 Line:313 exeCondition:tblExpense_Add : 43690.64 != 43690.64
 [DEBUG] 2017-11-30 20:43:12,157 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,157 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,157 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,158 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,158 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,158 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,158 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,158 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,159 Line:988 6值：43690.64
 [DEBUG] 2017-11-30 20:43:12,161 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,162 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,164 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,164 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,164 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,164 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,165 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,166 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,166 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,166 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,166 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,167 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,167 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,169 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,169 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,170 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,174 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0199
 [DEBUG] 2017-11-30 20:43:12,175 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-25
 [DEBUG] 2017-11-30 20:43:12,175 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,175 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,176 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,176 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,176 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,178 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,179 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,179 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,179 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,179 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,180 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,181 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,181 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:43:12,182 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:43:12,182 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,182 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,182 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:43:12,183 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:43:12,183 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,183 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,217 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,217 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,217 Line:5872 2:2d6dcd1b_1711302043122110439
 [DEBUG] 2017-11-30 20:43:12,217 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,217 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,218 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,218 Line:5872 6:OE0199
 [DEBUG] 2017-11-30 20:43:12,218 Line:5872 7:2017-11-25
 [DEBUG] 2017-11-30 20:43:12,218 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,218 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,218 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,219 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,219 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,219 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,219 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:43:12,219 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,220 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,221 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,221 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,221 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,221 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,221 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,221 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,222 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,222 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,222 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,222 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,222 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,222 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,223 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,223 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,224 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,224 Line:5872 1:2d6dcd1b_1711302043122110439
 [DEBUG] 2017-11-30 20:43:12,225 Line:5872 2:2d6dcd1b_1711302043122240440
 [DEBUG] 2017-11-30 20:43:12,225 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:12,225 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,225 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,225 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:43:12,225 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,226 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:43:12,226 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,226 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,226 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,226 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,226 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,227 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,227 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,231 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,233 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,233 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,235 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,235 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,237 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,237 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,237 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,237 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,239 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,239 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,239 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,239 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,240 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,240 Line:988 2值：2d6dcd1b_1711302043122110439
 [DEBUG] 2017-11-30 20:43:12,240 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,241 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,242 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,242 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,244 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,244 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,245 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,245 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,247 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,247 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,249 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,249 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,250 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,250 Line:988 1值：2d6dcd1b_1711302043122110439
 [DEBUG] 2017-11-30 20:43:12,328 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,329 Line:1043 ---上述语句时间---80
 [DEBUG] 2017-11-30 20:43:12,329 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,331 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,331 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,331 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,332 Line:988 1值：2d6dcd1b_1711302043122110439
 [DEBUG] 2017-11-30 20:43:12,354 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:43:12,355 Line:1043 ---上述语句时间---24
 [DEBUG] 2017-11-30 20:43:12,355 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:43:12,357 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,357 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,357 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,357 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,358 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,358 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,358 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,358 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,358 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:43:12,361 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,362 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,364 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,364 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,364 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,365 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,365 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,370 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,370 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,370 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,371 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,371 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:43:12,371 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,373 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,373 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,373 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,382 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0200
 [DEBUG] 2017-11-30 20:43:12,382 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-25
 [DEBUG] 2017-11-30 20:43:12,383 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,383 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,384 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,384 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,384 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,384 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,385 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,385 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,385 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,385 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,386 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,386 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,386 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=6.00
 [DEBUG] 2017-11-30 20:43:12,386 Line:1322 JXLTOOL.setValue 主表字段BillAmt=6.00
 [DEBUG] 2017-11-30 20:43:12,386 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,387 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,387 Line:1344 JXLTOOL.setValue 明细表字段Amt=6.00
 [DEBUG] 2017-11-30 20:43:12,387 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=6.00
 [DEBUG] 2017-11-30 20:43:12,387 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,387 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,408 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,408 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,409 Line:5872 2:2d6dcd1b_1711302043124070441
 [DEBUG] 2017-11-30 20:43:12,409 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,409 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,409 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,409 Line:5872 6:OE0200
 [DEBUG] 2017-11-30 20:43:12,409 Line:5872 7:2017-11-25
 [DEBUG] 2017-11-30 20:43:12,410 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,410 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,410 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,410 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,410 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,410 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,411 Line:5872 14:6.0
 [DEBUG] 2017-11-30 20:43:12,411 Line:5872 15:6.0
 [DEBUG] 2017-11-30 20:43:12,411 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,411 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,411 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,411 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,412 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,412 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,412 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,412 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,412 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,412 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,413 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,413 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,413 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,413 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,413 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,414 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,414 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,414 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,414 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,414 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,414 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,416 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,416 Line:5872 1:2d6dcd1b_1711302043124070441
 [DEBUG] 2017-11-30 20:43:12,416 Line:5872 2:2d6dcd1b_1711302043124150442
 [DEBUG] 2017-11-30 20:43:12,416 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:12,416 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,416 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,417 Line:5872 6:6.0
 [DEBUG] 2017-11-30 20:43:12,417 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,417 Line:5872 8:6.0
 [DEBUG] 2017-11-30 20:43:12,417 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,417 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,417 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,418 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,418 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,418 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,418 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,420 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,422 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,423 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,424 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,425 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,426 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,427 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,427 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,427 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,431 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,431 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,431 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,432 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,432 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,432 Line:988 2值：2d6dcd1b_1711302043124070441
 [DEBUG] 2017-11-30 20:43:12,432 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,435 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,435 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,435 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,437 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,437 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,438 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,438 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,443 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:43:12,445 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,446 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,447 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,447 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,447 Line:988 1值：2d6dcd1b_1711302043124070441
 [DEBUG] 2017-11-30 20:43:12,451 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,452 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:12,452 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,453 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,454 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,454 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,454 Line:988 1值：2d6dcd1b_1711302043124070441
 [DEBUG] 2017-11-30 20:43:12,457 Line:1025 query condition columnName:SumDetAmt----value:6.0
 [DEBUG] 2017-11-30 20:43:12,458 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,458 Line:313 exeCondition:tblExpense_Add : 6.0 != 6.00
 [DEBUG] 2017-11-30 20:43:12,460 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,460 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,460 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,461 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,461 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,461 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,461 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,462 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,462 Line:988 6值：6.00
 [DEBUG] 2017-11-30 20:43:12,464 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,465 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,466 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,467 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,467 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,467 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,467 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,468 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,469 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,469 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,469 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,469 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,469 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,471 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,472 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,472 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,476 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0201
 [DEBUG] 2017-11-30 20:43:12,477 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-25
 [DEBUG] 2017-11-30 20:43:12,478 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,478 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,479 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,479 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,479 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,479 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,480 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,480 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,480 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,480 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,480 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,481 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,481 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=70.00
 [DEBUG] 2017-11-30 20:43:12,481 Line:1322 JXLTOOL.setValue 主表字段BillAmt=70.00
 [DEBUG] 2017-11-30 20:43:12,481 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,482 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,482 Line:1344 JXLTOOL.setValue 明细表字段Amt=70.00
 [DEBUG] 2017-11-30 20:43:12,482 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=70.00
 [DEBUG] 2017-11-30 20:43:12,482 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,483 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,509 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,510 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,510 Line:5872 2:2d6dcd1b_1711302043125070443
 [DEBUG] 2017-11-30 20:43:12,510 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,510 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,511 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,511 Line:5872 6:OE0201
 [DEBUG] 2017-11-30 20:43:12,511 Line:5872 7:2017-11-25
 [DEBUG] 2017-11-30 20:43:12,511 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,511 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,511 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 14:70.0
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 15:70.0
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,512 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,513 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,513 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,513 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,513 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,513 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,513 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,514 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,515 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,515 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,515 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,515 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,515 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,515 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,517 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,517 Line:5872 1:2d6dcd1b_1711302043125070443
 [DEBUG] 2017-11-30 20:43:12,518 Line:5872 2:2d6dcd1b_1711302043125170444
 [DEBUG] 2017-11-30 20:43:12,518 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:12,518 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,518 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,518 Line:5872 6:70.0
 [DEBUG] 2017-11-30 20:43:12,519 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,519 Line:5872 8:70.0
 [DEBUG] 2017-11-30 20:43:12,519 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,519 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,519 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,519 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,520 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,520 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,520 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,525 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,526 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,527 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,529 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,529 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,531 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,531 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,531 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,531 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,534 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,534 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,534 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,535 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,535 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,535 Line:988 2值：2d6dcd1b_1711302043125070443
 [DEBUG] 2017-11-30 20:43:12,535 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,537 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,537 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,537 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,539 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,539 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,539 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,540 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,542 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,542 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,544 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,544 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,545 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,545 Line:988 1值：2d6dcd1b_1711302043125070443
 [DEBUG] 2017-11-30 20:43:12,546 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,547 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,547 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,549 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,549 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,549 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,549 Line:988 1值：2d6dcd1b_1711302043125070443
 [DEBUG] 2017-11-30 20:43:12,551 Line:1025 query condition columnName:SumDetAmt----value:70.0
 [DEBUG] 2017-11-30 20:43:12,552 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,552 Line:313 exeCondition:tblExpense_Add : 70.0 != 70.00
 [DEBUG] 2017-11-30 20:43:12,554 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,554 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,555 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,555 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,555 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,555 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,555 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,555 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,556 Line:988 6值：70.00
 [DEBUG] 2017-11-30 20:43:12,563 Line:1043 ---上述语句时间---9
 [DEBUG] 2017-11-30 20:43:12,564 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,565 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,566 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,566 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,566 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,566 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,569 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,569 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,569 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,570 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,570 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,570 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,572 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,572 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,573 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,578 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0202
 [DEBUG] 2017-11-30 20:43:12,578 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-28
 [DEBUG] 2017-11-30 20:43:12,579 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,579 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,580 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,580 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,580 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,580 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,581 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,581 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,581 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,581 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,581 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,583 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045792582
 [DEBUG] 2017-11-30 20:43:12,584 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045792582,];
 [DEBUG] 2017-11-30 20:43:12,584 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,585 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=35800.00
 [DEBUG] 2017-11-30 20:43:12,585 Line:1322 JXLTOOL.setValue 主表字段BillAmt=35800.00
 [DEBUG] 2017-11-30 20:43:12,586 Line:1344 JXLTOOL.setValue 明细表字段Remark=同道精英(天津)信息技术有限公司
 [DEBUG] 2017-11-30 20:43:12,586 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,586 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,586 Line:1344 JXLTOOL.setValue 明细表字段Amt=35800.00
 [DEBUG] 2017-11-30 20:43:12,586 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=35800.00
 [DEBUG] 2017-11-30 20:43:12,587 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,587 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,614 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,615 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,615 Line:5872 2:2d6dcd1b_1711302043126130445
 [DEBUG] 2017-11-30 20:43:12,615 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,615 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,615 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,616 Line:5872 6:OE0202
 [DEBUG] 2017-11-30 20:43:12,616 Line:5872 7:2017-11-28
 [DEBUG] 2017-11-30 20:43:12,616 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,616 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,616 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,616 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,617 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,617 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,617 Line:5872 14:35800.0
 [DEBUG] 2017-11-30 20:43:12,617 Line:5872 15:35800.0
 [DEBUG] 2017-11-30 20:43:12,617 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,617 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,618 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,618 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,618 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,618 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,618 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,618 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,619 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,620 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,620 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,620 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,620 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,620 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,620 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,622 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,622 Line:5872 1:2d6dcd1b_1711302043126130445
 [DEBUG] 2017-11-30 20:43:12,623 Line:5872 2:2d6dcd1b_1711302043126220446
 [DEBUG] 2017-11-30 20:43:12,623 Line:5872 3:同道精英(天津)信息技术有限公司
 [DEBUG] 2017-11-30 20:43:12,623 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,623 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,623 Line:5872 6:35800.0
 [DEBUG] 2017-11-30 20:43:12,623 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,624 Line:5872 8:35800.0
 [DEBUG] 2017-11-30 20:43:12,624 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,624 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,624 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,624 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,624 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,625 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,625 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,628 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,630 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,630 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,632 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,632 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,634 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,634 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,634 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,635 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,636 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,637 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,637 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,637 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,637 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,638 Line:988 2值：2d6dcd1b_1711302043126130445
 [DEBUG] 2017-11-30 20:43:12,638 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,639 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,639 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,639 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,641 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,641 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,642 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,642 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,643 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,644 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,646 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,646 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,646 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,646 Line:988 1值：2d6dcd1b_1711302043126130445
 [DEBUG] 2017-11-30 20:43:12,649 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,649 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,650 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,651 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,651 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,652 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,652 Line:988 1值：2d6dcd1b_1711302043126130445
 [DEBUG] 2017-11-30 20:43:12,653 Line:1025 query condition columnName:SumDetAmt----value:35800.0
 [DEBUG] 2017-11-30 20:43:12,654 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,654 Line:313 exeCondition:tblExpense_Add : 35800.0 != 35800.00
 [DEBUG] 2017-11-30 20:43:12,655 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,656 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,656 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,656 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,656 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,656 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,657 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,657 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,657 Line:988 6值：35800.00
 [DEBUG] 2017-11-30 20:43:12,659 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,659 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,661 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,661 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,661 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,662 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,662 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,663 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,664 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,664 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,664 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,664 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,664 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,666 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,666 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,667 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,670 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0203
 [DEBUG] 2017-11-30 20:43:12,670 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-28
 [DEBUG] 2017-11-30 20:43:12,670 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,670 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,671 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,671 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,671 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,671 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,672 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,672 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,672 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,672 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,672 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,673 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,673 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=90000.00
 [DEBUG] 2017-11-30 20:43:12,673 Line:1322 JXLTOOL.setValue 主表字段BillAmt=90000.00
 [DEBUG] 2017-11-30 20:43:12,673 Line:1344 JXLTOOL.setValue 明细表字段Remark=东莞市旗宏机电工程有限公司
 [DEBUG] 2017-11-30 20:43:12,673 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,674 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,674 Line:1344 JXLTOOL.setValue 明细表字段Amt=90000.00
 [DEBUG] 2017-11-30 20:43:12,674 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=90000.00
 [DEBUG] 2017-11-30 20:43:12,674 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,674 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,693 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,694 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,694 Line:5872 2:2d6dcd1b_1711302043126920447
 [DEBUG] 2017-11-30 20:43:12,694 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,694 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,694 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,694 Line:5872 6:OE0203
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 7:2017-11-28
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,695 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 14:90000.0
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 15:90000.0
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,696 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,697 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,698 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,698 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,698 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,698 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,698 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,698 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,699 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,699 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,699 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,700 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,700 Line:5872 1:2d6dcd1b_1711302043126920447
 [DEBUG] 2017-11-30 20:43:12,701 Line:5872 2:2d6dcd1b_1711302043127000448
 [DEBUG] 2017-11-30 20:43:12,701 Line:5872 3:东莞市旗宏机电工程有限公司
 [DEBUG] 2017-11-30 20:43:12,701 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,701 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,701 Line:5872 6:90000.0
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 8:90000.0
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,702 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,703 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,703 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,705 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,706 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,706 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,708 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,708 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,710 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,710 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,710 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,710 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,711 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,712 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,712 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,712 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,712 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,713 Line:988 2值：2d6dcd1b_1711302043126920447
 [DEBUG] 2017-11-30 20:43:12,713 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,714 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,714 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,714 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,715 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,716 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,716 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,716 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,717 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:12,717 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,719 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,720 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,720 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,720 Line:988 1值：2d6dcd1b_1711302043126920447
 [DEBUG] 2017-11-30 20:43:12,739 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,739 Line:1043 ---上述语句时间---19
 [DEBUG] 2017-11-30 20:43:12,740 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,741 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,742 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,742 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,742 Line:988 1值：2d6dcd1b_1711302043126920447
 [DEBUG] 2017-11-30 20:43:12,746 Line:1025 query condition columnName:SumDetAmt----value:90000.0
 [DEBUG] 2017-11-30 20:43:12,747 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:43:12,747 Line:313 exeCondition:tblExpense_Add : 90000.0 != 90000.00
 [DEBUG] 2017-11-30 20:43:12,749 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,749 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,750 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,750 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,750 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,750 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,750 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,751 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,751 Line:988 6值：90000.00
 [DEBUG] 2017-11-30 20:43:12,756 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:43:12,756 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,758 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,759 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,759 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,759 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,759 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,761 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,762 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,762 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,762 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,762 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,763 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,764 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,765 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,765 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,786 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0204
 [DEBUG] 2017-11-30 20:43:12,786 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-29
 [DEBUG] 2017-11-30 20:43:12,787 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,787 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,788 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,788 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,788 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,788 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,788 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,788 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,789 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,789 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,789 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,789 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,789 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=0.80
 [DEBUG] 2017-11-30 20:43:12,790 Line:1322 JXLTOOL.setValue 主表字段BillAmt=0.80
 [DEBUG] 2017-11-30 20:43:12,790 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,790 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,790 Line:1344 JXLTOOL.setValue 明细表字段Amt=0.80
 [DEBUG] 2017-11-30 20:43:12,790 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=0.80
 [DEBUG] 2017-11-30 20:43:12,791 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,791 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,818 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,818 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,818 Line:5872 2:2d6dcd1b_1711302043128160449
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 6:OE0204
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 7:2017-11-29
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,819 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,820 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,820 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,820 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,820 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,820 Line:5872 14:0.8
 [DEBUG] 2017-11-30 20:43:12,820 Line:5872 15:0.8
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,821 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,822 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,822 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,822 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,822 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,822 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,822 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,823 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,824 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,825 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,825 Line:5872 1:2d6dcd1b_1711302043128160449
 [DEBUG] 2017-11-30 20:43:12,825 Line:5872 2:2d6dcd1b_1711302043128250450
 [DEBUG] 2017-11-30 20:43:12,826 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:12,826 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,826 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,826 Line:5872 6:0.8
 [DEBUG] 2017-11-30 20:43:12,826 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,827 Line:5872 8:0.8
 [DEBUG] 2017-11-30 20:43:12,827 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,827 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,827 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,827 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,828 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,828 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,829 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,832 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,834 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,834 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,836 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,836 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,838 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,838 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,839 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,839 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,840 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,840 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,840 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,840 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,841 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,841 Line:988 2值：2d6dcd1b_1711302043128160449
 [DEBUG] 2017-11-30 20:43:12,841 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,842 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,843 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,843 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,844 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,845 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,845 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,845 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,849 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,849 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,850 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,851 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,851 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,851 Line:988 1值：2d6dcd1b_1711302043128160449
 [DEBUG] 2017-11-30 20:43:12,876 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,877 Line:1043 ---上述语句时间---26
 [DEBUG] 2017-11-30 20:43:12,877 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,879 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,879 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,879 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,879 Line:988 1值：2d6dcd1b_1711302043128160449
 [DEBUG] 2017-11-30 20:43:12,905 Line:1025 query condition columnName:SumDetAmt----value:0.8
 [DEBUG] 2017-11-30 20:43:12,905 Line:1043 ---上述语句时间---26
 [DEBUG] 2017-11-30 20:43:12,905 Line:313 exeCondition:tblExpense_Add : 0.8 != 0.80
 [DEBUG] 2017-11-30 20:43:12,907 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,907 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,907 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,908 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,908 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,908 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,908 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,909 Line:988 6值：0.80
 [DEBUG] 2017-11-30 20:43:12,915 Line:1043 ---上述语句时间---8
 [DEBUG] 2017-11-30 20:43:12,916 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,917 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,918 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,918 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,918 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,918 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:12,921 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:12,921 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:12,922 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:12,922 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:12,922 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:43:12,922 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:12,924 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:12,924 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:12,925 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:12,933 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0205
 [DEBUG] 2017-11-30 20:43:12,933 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-29
 [DEBUG] 2017-11-30 20:43:12,934 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,934 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:12,934 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:12,935 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:12,935 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:12,935 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:12,935 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:12,935 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:12,936 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:12,936 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,936 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:12,936 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:12,937 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=10.00
 [DEBUG] 2017-11-30 20:43:12,937 Line:1322 JXLTOOL.setValue 主表字段BillAmt=10.00
 [DEBUG] 2017-11-30 20:43:12,937 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:12,937 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:12,938 Line:1344 JXLTOOL.setValue 明细表字段Amt=10.00
 [DEBUG] 2017-11-30 20:43:12,938 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=10.00
 [DEBUG] 2017-11-30 20:43:12,938 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:12,938 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:12,957 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,957 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:12,957 Line:5872 2:2d6dcd1b_1711302043129550451
 [DEBUG] 2017-11-30 20:43:12,957 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 6:OE0205
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 7:2017-11-29
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:12,958 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 14:10.0
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 15:10.0
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:12,959 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:12,960 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 30:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,961 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:12,962 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:12,962 Line:5872 33:2017-11-30 20:43:12
 [DEBUG] 2017-11-30 20:43:12,962 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:12,962 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:12,962 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:12,963 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:12,963 Line:5872 1:2d6dcd1b_1711302043129550451
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 2:2d6dcd1b_1711302043129630452
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 3:
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 6:10.0
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:12,964 Line:5872 8:10.0
 [DEBUG] 2017-11-30 20:43:12,965 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:12,965 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:12,965 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:12,965 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:12,965 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:12,965 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:12,966 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:12,968 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:12,969 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,970 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:12,971 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,972 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:12,973 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,974 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:12,974 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,974 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:12,975 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:12,975 Line:1043 ---上述语句时间---1
 [DEBUG] 2017-11-30 20:43:12,976 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:12,976 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,976 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:12,977 Line:988 2值：2d6dcd1b_1711302043129550451
 [DEBUG] 2017-11-30 20:43:12,977 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:12,977 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:12,978 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,978 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,979 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,980 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:12,980 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,980 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:12,982 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,982 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:12,984 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,984 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:12,984 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,984 Line:988 1值：2d6dcd1b_1711302043129550451
 [DEBUG] 2017-11-30 20:43:12,985 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:12,986 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,986 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:12,987 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,988 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:12,988 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,988 Line:988 1值：2d6dcd1b_1711302043129550451
 [DEBUG] 2017-11-30 20:43:12,989 Line:1025 query condition columnName:SumDetAmt----value:10.0
 [DEBUG] 2017-11-30 20:43:12,990 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:12,990 Line:313 exeCondition:tblExpense_Add : 10.0 != 10.00
 [DEBUG] 2017-11-30 20:43:12,992 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,992 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:12,992 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,992 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,993 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:12,993 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:12,993 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:12,993 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:12,993 Line:988 6值：10.00
 [DEBUG] 2017-11-30 20:43:12,995 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:12,996 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:12,998 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:12,998 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:12,998 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:12,998 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:12,999 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:13,000 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:13,000 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:13,000 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:13,001 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:13,001 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:13,001 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:13,003 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:13,003 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:13,004 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:13,007 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0206
 [DEBUG] 2017-11-30 20:43:13,007 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-11-30
 [DEBUG] 2017-11-30 20:43:13,008 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:13,008 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:43:13,008 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:43:13,009 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:43:13,009 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:43:13,009 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:43:13,009 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:43:13,009 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:43:13,010 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:43:13,010 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:13,010 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:43:13,010 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:43:13,010 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=200000.00
 [DEBUG] 2017-11-30 20:43:13,011 Line:1322 JXLTOOL.setValue 主表字段BillAmt=200000.00
 [DEBUG] 2017-11-30 20:43:13,011 Line:1344 JXLTOOL.setValue 明细表字段Remark=济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:13,011 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:43:13,011 Line:655 主字段费用类别为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称FeeType:tblExpenseDet.FeeType
 [DEBUG] 2017-11-30 20:43:13,011 Line:1344 JXLTOOL.setValue 明细表字段Amt=200000.00
 [DEBUG] 2017-11-30 20:43:13,011 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=200000.00
 [DEBUG] 2017-11-30 20:43:13,012 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:43:13,012 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:43:13,039 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:13,039 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:43:13,039 Line:5872 2:2d6dcd1b_1711302043130350453
 [DEBUG] 2017-11-30 20:43:13,039 Line:5872 3:0
 [DEBUG] 2017-11-30 20:43:13,040 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:43:13,040 Line:5872 5:0
 [DEBUG] 2017-11-30 20:43:13,040 Line:5872 6:OE0206
 [DEBUG] 2017-11-30 20:43:13,040 Line:5872 7:2017-11-30
 [DEBUG] 2017-11-30 20:43:13,041 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:43:13,041 Line:5872 9:1
 [DEBUG] 2017-11-30 20:43:13,041 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:43:13,041 Line:5872 11:
 [DEBUG] 2017-11-30 20:43:13,041 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:43:13,041 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 14:200000.0
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 15:200000.0
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 16:
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 17:
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 18:
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:43:13,042 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 21:11
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 22:11
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 26:
 [DEBUG] 2017-11-30 20:43:13,043 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:43:13,044 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:43:13,044 Line:5872 29:1
 [DEBUG] 2017-11-30 20:43:13,044 Line:5872 30:2017-11-30 20:43:13
 [DEBUG] 2017-11-30 20:43:13,044 Line:5872 31:
 [DEBUG] 2017-11-30 20:43:13,044 Line:5872 32:1
 [DEBUG] 2017-11-30 20:43:13,044 Line:5872 33:2017-11-30 20:43:13
 [DEBUG] 2017-11-30 20:43:13,045 Line:5872 34:0
 [DEBUG] 2017-11-30 20:43:13,045 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:43:13,045 Line:5872 36:0
 [DEBUG] 2017-11-30 20:43:13,046 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:43:13,047 Line:5872 1:2d6dcd1b_1711302043130350453
 [DEBUG] 2017-11-30 20:43:13,047 Line:5872 2:2d6dcd1b_1711302043130460454
 [DEBUG] 2017-11-30 20:43:13,047 Line:5872 3:济宁天策石化有限公司
 [DEBUG] 2017-11-30 20:43:13,047 Line:5872 4:
 [DEBUG] 2017-11-30 20:43:13,047 Line:5872 5:
 [DEBUG] 2017-11-30 20:43:13,047 Line:5872 6:200000.0
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 8:200000.0
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 9:
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 11:1
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 12:0
 [DEBUG] 2017-11-30 20:43:13,048 Line:5872 13:
 [DEBUG] 2017-11-30 20:43:13,049 Line:5872 14:
 [DEBUG] 2017-11-30 20:43:13,049 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:43:13,051 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:43:13,052 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,053 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:43:13,054 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,054 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:43:13,056 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,056 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:43:13,056 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,057 Line:988 1值：1
 [DEBUG] 2017-11-30 20:43:13,101 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:43:13,101 Line:1043 ---上述语句时间---45
 [DEBUG] 2017-11-30 20:43:13,102 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:43:13,102 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,102 Line:988 1值：false
 [DEBUG] 2017-11-30 20:43:13,102 Line:988 2值：2d6dcd1b_1711302043130350453
 [DEBUG] 2017-11-30 20:43:13,103 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:43:13,104 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:43:13,104 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:13,104 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:13,118 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,119 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:43:13,119 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,119 Line:988 1值：
 [DEBUG] 2017-11-30 20:43:13,120 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:13,121 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:43:13,122 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,123 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:43:13,123 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,123 Line:988 1值：2d6dcd1b_1711302043130350453
 [DEBUG] 2017-11-30 20:43:13,124 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:43:13,125 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:13,125 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:43:13,126 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,127 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:43:13,127 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,127 Line:988 1值：2d6dcd1b_1711302043130350453
 [DEBUG] 2017-11-30 20:43:13,129 Line:1025 query condition columnName:SumDetAmt----value:200000.0
 [DEBUG] 2017-11-30 20:43:13,129 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:13,130 Line:313 exeCondition:tblExpense_Add : 200000.0 != 200000.00
 [DEBUG] 2017-11-30 20:43:13,131 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,132 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:43:13,132 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,132 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:13,132 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:43:13,132 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:43:13,133 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:43:13,133 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:43:13,133 Line:988 6值：200000.00
 [DEBUG] 2017-11-30 20:43:13,135 Line:1043 ---上述语句时间---3
 [DEBUG] 2017-11-30 20:43:13,135 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:43:13,137 Line:321 flag:false
 [DEBUG] 2017-11-30 20:43:13,137 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:43:13,137 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:43:13,138 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:43:13,138 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:43:13,139 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:43:13,139 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:43:13,139 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:43:13,139 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:43:13,139 Line:1043 ---上述语句时间---2
 [DEBUG] 2017-11-30 20:43:13,139 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:43:13,141 Line:321 flag:true
 [DEBUG] 2017-11-30 20:43:13,141 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:43:13,141 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:43:13,896 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512045793596
 [DEBUG] 2017-11-30 20:43:13,897 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512045793596,];
 [DEBUG] 2017-11-30 20:43:13,903 Line:135 BaseAction.execute 请求地址：/importDataAction.do?operation=91&tableName=tblExpensed&parentTableName=&moduleType=&NoBack=&moduleId=
 [DEBUG] 2017-11-30 20:43:13,904 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[91,];tableName=[tblExpensed,];parentTableName=[,];moduleType=[,];NoBack=[,];moduleId=[,];
 [ERROR] 2017-11-30 20:43:15,494 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:43:16,959 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:44:19,477 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:44:20,599 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 20:44:53,404 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=readErrorExcel&fileName=../log/tblExpensed_1.xls
 [DEBUG] 2017-11-30 20:44:53,405 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[readErrorExcel,];fileName=[../log/tblExpensed_1.xls,];
 [ERROR] 2017-11-30 20:45:23,069 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:45:24,286 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:46:27,010 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:46:28,317 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:47:30,525 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:47:31,787 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:48:34,709 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:48:36,107 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:49:38,240 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:49:39,311 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:50:42,094 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:50:43,449 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:51:45,571 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:51:46,633 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:52:49,427 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:52:50,775 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 20:53:01,878 Line:135 BaseAction.execute 请求地址：/importDataAction.do?operation=91&fromPage=&tableName=tblExpensed&moduleType=&winCurIndex=
 [DEBUG] 2017-11-30 20:53:01,879 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[91,];fromPage=[,];tableName=[tblExpensed,];moduleType=[,];winCurIndex=[,];
 [DEBUG] 2017-11-30 20:53:11,242 Line:135 BaseAction.execute 请求地址：/importDataAction.do
 [DEBUG] 2017-11-30 20:53:11,242 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[,];moduleType=[,];fromPage=[,];importName=[tblExpensed,];org.apache.struts.taglib.html.TOKEN=[,];operation=[92,];moduleParam=[,];NoBack=[,];
 [DEBUG] 2017-11-30 20:53:12,309 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512046392233
 [DEBUG] 2017-11-30 20:53:12,309 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512046392233,];
 [DEBUG] 2017-11-30 20:53:12,318 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0001
 [DEBUG] 2017-11-30 20:53:12,318 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-07
 [DEBUG] 2017-11-30 20:53:12,368 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:53:12,368 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:53:12,391 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:53:12,391 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:53:12,391 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:53:12,391 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:53:12,392 Line:861 ImportDataMgt.queryPopSql 如果是分级报表，查询是否选择了父级:
select 
tblAccTypeInfo.isCatalog,
 tblAccTypeInfo.AccNumber f1 ,tblAccTypeInfo.AccName f2 ,tblAccTypeInfo.AccFullName f3 ,tblAccTypeInfo.PyCode f4 ,tblAccTypeInfo.classCode f5
from tblAccTypeInfo
      where 1=1  and tblAccTypeInfo.AccName in ( select id from tblLanguage where  zh_CN ='建设银行东莞宏伟路支行' ) 
 [DEBUG] 2017-11-30 20:53:12,460 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512046392457
 [DEBUG] 2017-11-30 20:53:12,460 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512046392457,];
 [DEBUG] 2017-11-30 20:53:12,505 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:53:12,505 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:53:12,514 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:53:12,514 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:53:12,515 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:53:12,515 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:53:12,515 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=300.00
 [DEBUG] 2017-11-30 20:53:12,515 Line:1322 JXLTOOL.setValue 主表字段BillAmt=300.00
 [DEBUG] 2017-11-30 20:53:12,516 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:53:12,521 Line:1048 JXLTOOL.replaceData 导入弹出窗未找到数据： select tblExpenses.Subclass f1 ,tblExpenses.Parentclass f2 
from tblExpenses
		 where 1=1  and tblExpenses.Subclass='300' 
 [DEBUG] 2017-11-30 20:53:12,522 Line:1109 JXLTOOL.ReplaceData PoPup Sql :tblExpenseDet:FeeType select tblExpenses.Subclass f1 ,tblExpenses.Parentclass f2 
from tblExpenses
		 where 1=1  and tblExpenses.Subclass='300' 
 [DEBUG] 2017-11-30 20:53:12,522 Line:1123 JXLTOOL.ReplaceData PoPup value :费用支出单明细:子类科目 is NULL
 [DEBUG] 2017-11-30 20:53:12,522 Line:1344 JXLTOOL.setValue 明细表字段Amt=300.00
 [DEBUG] 2017-11-30 20:53:12,522 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:53:12,522 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [ERROR] 2017-11-30 20:53:12,530 Line:146 公式运算设置 tblExpenseDet_FcAmt set error:300
 [ERROR] 2017-11-30 20:53:12,534 Line:160 BSFExec.calculate Error matStr: {tblExpenseDet_FcAmt}={tblExpenseDet_Amt}/{CurrencyRate};{FcBillAmt}=sum{tblExpenseDet_FcAmt};{BillAmt}=sum{tblExpenseDet_Amt}
 [ERROR] 2017-11-30 20:53:12,534 Line:161 BSFExec.calculate Error newCals: bsf.setValue('tblExpenseDet_Amt','tblExpenseDet_FcAmt',bsf.getValue('tblExpenseDet_Amt',0)/bsf.getValue('CurrencyRate',0),0);bsf.setValue('tblExpenseDet_Amt','FcBillAmt',bsf.getSum('tblExpenseDet_FcAmt',0),0);bsf.setValue('tblExpenseDet_Amt','BillAmt',bsf.getSum('tblExpenseDet_Amt',0),0)
 [ERROR] 2017-11-30 20:53:12,534 Line:162 BSFExec.calculate Error  
 org.apache.bsf.BSFException: JavaScript Error: Internal Error: java.lang.RuntimeException: java.lang.Exception: 原币金额(0)与公式推算结果(300.0)不一致
	at org.apache.bsf.engines.javascript.JavaScriptEngine.handleError(JavaScriptEngine.java:195)
	at org.apache.bsf.engines.javascript.JavaScriptEngine.eval(JavaScriptEngine.java:147)
	at org.apache.bsf.util.BSFEngineImpl.exec(BSFEngineImpl.java:141)
	at org.apache.bsf.BSFManager$6.run(BSFManager.java:493)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.bsf.BSFManager.exec(BSFManager.java:491)
	at com.menyi.aio.web.importData.BSFExec.calculate(BSFExec.java:157)
	at com.menyi.aio.web.importData.ImportThread.saveToDb(ImportThread.java:1117)
	at com.menyi.aio.web.importData.ImportThread.importData(ImportThread.java:878)
	at com.menyi.aio.web.importData.ImportThread.run(ImportThread.java:1385)
[DEBUG] 2017-11-30 20:53:13,465 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512046393462
 [DEBUG] 2017-11-30 20:53:13,466 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512046393462,];
 [DEBUG] 2017-11-30 20:53:13,471 Line:135 BaseAction.execute 请求地址：/importDataAction.do?operation=91&tableName=tblExpensed&parentTableName=&moduleType=&NoBack=&moduleId=
 [DEBUG] 2017-11-30 20:53:13,472 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[91,];tableName=[tblExpensed,];parentTableName=[,];moduleType=[,];NoBack=[,];moduleId=[,];
 [DEBUG] 2017-11-30 20:53:15,843 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=readErrorExcel&fileName=../log/tblExpensed_1.xls
 [DEBUG] 2017-11-30 20:53:15,843 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[readErrorExcel,];fileName=[../log/tblExpensed_1.xls,];
 [ERROR] 2017-11-30 20:53:53,930 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:53:55,482 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 20:53:56,344 Line:135 BaseAction.execute 请求地址：/importDataAction.do?operation=91&fromPage=&tableName=tblExpensed&moduleType=&winCurIndex=
 [DEBUG] 2017-11-30 20:53:56,345 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[91,];fromPage=[,];tableName=[tblExpensed,];moduleType=[,];winCurIndex=[,];
 [DEBUG] 2017-11-30 20:54:02,833 Line:135 BaseAction.execute 请求地址：/importDataAction.do
 [DEBUG] 2017-11-30 20:54:02,834 Line:146 BaseAction.execute 操作人:admin;请求数据：winCurIndex=[,];moduleType=[,];fromPage=[,];importName=[tblExpensed,];org.apache.struts.taglib.html.TOKEN=[,];operation=[92,];moduleParam=[,];NoBack=[,];
 [DEBUG] 2017-11-30 20:54:03,740 Line:1322 JXLTOOL.setValue 主表字段BillNo=OE0001
 [DEBUG] 2017-11-30 20:54:03,741 Line:1322 JXLTOOL.setValue 主表字段BillDate=2017-10-07
 [DEBUG] 2017-11-30 20:54:03,767 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:54:03,768 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName=总经办
 [DEBUG] 2017-11-30 20:54:03,772 Line:1322 JXLTOOL.setValue 主表字段EmployeeID=1
 [DEBUG] 2017-11-30 20:54:03,772 Line:1322 JXLTOOL.setValue 主表字段DepartmentCode=00101
 [DEBUG] 2017-11-30 20:54:03,772 Line:1322 JXLTOOL.setValue 主表字段tblEmployee_EmpFullName=admin
 [DEBUG] 2017-11-30 20:54:03,772 Line:1322 JXLTOOL.setValue 主表字段tblDepartment_DeptFullName3=总经办
 [DEBUG] 2017-11-30 20:54:03,773 Line:861 ImportDataMgt.queryPopSql 如果是分级报表，查询是否选择了父级:
select 
tblAccTypeInfo.isCatalog,
 tblAccTypeInfo.AccNumber f1 ,tblAccTypeInfo.AccName f2 ,tblAccTypeInfo.AccFullName f3 ,tblAccTypeInfo.PyCode f4 ,tblAccTypeInfo.classCode f5
from tblAccTypeInfo
      where 1=1  and tblAccTypeInfo.AccName in ( select id from tblLanguage where  zh_CN ='建设银行东莞宏伟路支行' ) 
 [DEBUG] 2017-11-30 20:54:03,807 Line:1322 JXLTOOL.setValue 主表字段SubCode=100201
 [DEBUG] 2017-11-30 20:54:03,808 Line:1322 JXLTOOL.setValue 主表字段tblAccTypeInfo_AccName=建设银行东莞宏伟路支行
 [DEBUG] 2017-11-30 20:54:03,809 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0
 [DEBUG] 2017-11-30 20:54:03,810 Line:1322 JXLTOOL.setValue 主表字段Currency=42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:54:03,810 Line:1322 JXLTOOL.setValue 主表字段tblSetExchange_CurrencyName=人民币
 [DEBUG] 2017-11-30 20:54:03,810 Line:1322 JXLTOOL.setValue 主表字段CurrencyRate=1.0000
 [DEBUG] 2017-11-30 20:54:03,810 Line:1322 JXLTOOL.setValue 主表字段FcBillAmt=300.00
 [DEBUG] 2017-11-30 20:54:03,810 Line:1322 JXLTOOL.setValue 主表字段BillAmt=300.00
 [DEBUG] 2017-11-30 20:54:03,811 Line:655 主字段会计科目为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称SubCode:tblExpenseDet.SubCode
 [DEBUG] 2017-11-30 20:54:03,812 Line:1048 JXLTOOL.replaceData 导入弹出窗未找到数据： select tblExpenses.Subclass f1 ,tblExpenses.Parentclass f2 
from tblExpenses
		 where 1=1  and tblExpenses.Subclass='300' 
 [DEBUG] 2017-11-30 20:54:03,812 Line:1109 JXLTOOL.ReplaceData PoPup Sql :tblExpenseDet:FeeType select tblExpenses.Subclass f1 ,tblExpenses.Parentclass f2 
from tblExpenses
		 where 1=1  and tblExpenses.Subclass='300' 
 [DEBUG] 2017-11-30 20:54:03,812 Line:1123 JXLTOOL.ReplaceData PoPup value :费用支出单明细:子类科目 is NULL
 [DEBUG] 2017-11-30 20:54:03,813 Line:1344 JXLTOOL.setValue 明细表字段Amt=300.00
 [DEBUG] 2017-11-30 20:54:03,813 Line:1344 JXLTOOL.setValue 明细表字段FcAmt=300.00
 [DEBUG] 2017-11-30 20:54:03,813 Line:655 主字段部门为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称DepartmentCode:tblExpenseDet.DepartmentCode
 [DEBUG] 2017-11-30 20:54:03,813 Line:655 主字段经手人为空，不执行弹出窗条件查询，如确定要执行，请修改字段名称EmployeeID:tblExpenseDet.EmployeeID
 [DEBUG] 2017-11-30 20:54:03,814 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512046443812
 [DEBUG] 2017-11-30 20:54:03,814 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512046443812,];
 [DEBUG] 2017-11-30 20:54:03,864 Line:5866  INSERT INTO  tblExpensed(checkPersons,id,workFlowNode,workFlowNodeName,ExpenseType,BillNo,BillDate,DepartmentCode,EmployeeID,SubCode,CompanyCode,Currency,CurrencyRate,FcBillAmt,BillAmt,Remark,CheckCompany,RefBillID,NeedPayAmt,CurNeedPayAmt,Period,PeriodMonth,PeriodYear,AlreadyPayAmt,CurAlreadyPayAmt,Attachment,NotInvoiceAmount,InvoiceAmount,lastUpdateBy,lastUpdateTime,finishTime,createBy,createTime,printCount,SCompanyID,statusId) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:54:03,865 Line:5872 1:;1;
 [DEBUG] 2017-11-30 20:54:03,865 Line:5872 2:2d6dcd1b_1711302054038450455
 [DEBUG] 2017-11-30 20:54:03,865 Line:5872 3:0
 [DEBUG] 2017-11-30 20:54:03,865 Line:5872 4:notApprove
 [DEBUG] 2017-11-30 20:54:03,866 Line:5872 5:0
 [DEBUG] 2017-11-30 20:54:03,866 Line:5872 6:OE0001
 [DEBUG] 2017-11-30 20:54:03,866 Line:5872 7:2017-10-07
 [DEBUG] 2017-11-30 20:54:03,866 Line:5872 8:00101
 [DEBUG] 2017-11-30 20:54:03,866 Line:5872 9:1
 [DEBUG] 2017-11-30 20:54:03,867 Line:5872 10:100201
 [DEBUG] 2017-11-30 20:54:03,867 Line:5872 11:
 [DEBUG] 2017-11-30 20:54:03,867 Line:5872 12:42428a07_1604181718549566965
 [DEBUG] 2017-11-30 20:54:03,867 Line:5872 13:1.0
 [DEBUG] 2017-11-30 20:54:03,867 Line:5872 14:300.0
 [DEBUG] 2017-11-30 20:54:03,868 Line:5872 15:300.0
 [DEBUG] 2017-11-30 20:54:03,868 Line:5872 16:
 [DEBUG] 2017-11-30 20:54:03,868 Line:5872 17:
 [DEBUG] 2017-11-30 20:54:03,868 Line:5872 18:
 [DEBUG] 2017-11-30 20:54:03,868 Line:5872 19:0.0
 [DEBUG] 2017-11-30 20:54:03,869 Line:5872 20:0.0
 [DEBUG] 2017-11-30 20:54:03,869 Line:5872 21:10
 [DEBUG] 2017-11-30 20:54:03,869 Line:5872 22:10
 [DEBUG] 2017-11-30 20:54:03,869 Line:5872 23:2017
 [DEBUG] 2017-11-30 20:54:03,869 Line:5872 24:0.0
 [DEBUG] 2017-11-30 20:54:03,870 Line:5872 25:0.0
 [DEBUG] 2017-11-30 20:54:03,870 Line:5872 26:
 [DEBUG] 2017-11-30 20:54:03,870 Line:5872 27:0.0
 [DEBUG] 2017-11-30 20:54:03,870 Line:5872 28:0.0
 [DEBUG] 2017-11-30 20:54:03,870 Line:5872 29:1
 [DEBUG] 2017-11-30 20:54:03,870 Line:5872 30:2017-11-30 20:54:03
 [DEBUG] 2017-11-30 20:54:03,871 Line:5872 31:
 [DEBUG] 2017-11-30 20:54:03,871 Line:5872 32:1
 [DEBUG] 2017-11-30 20:54:03,871 Line:5872 33:2017-11-30 20:54:03
 [DEBUG] 2017-11-30 20:54:03,871 Line:5872 34:0
 [DEBUG] 2017-11-30 20:54:03,871 Line:5872 35:00001
 [DEBUG] 2017-11-30 20:54:03,871 Line:5872 36:0
 [DEBUG] 2017-11-30 20:54:03,878 Line:5866  INSERT INTO  tblExpenseDet(f_ref,id,Remark,SubCode,FeeType,Amt,CurrencyRate,FcAmt,CompanyCode,DepartmentCode,EmployeeID,ItemNo,RefBillID,RefBillType,SCompanyID) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) 
 [DEBUG] 2017-11-30 20:54:03,878 Line:5872 1:2d6dcd1b_1711302054038450455
 [DEBUG] 2017-11-30 20:54:03,879 Line:5872 2:2d6dcd1b_1711302054038780456
 [DEBUG] 2017-11-30 20:54:03,879 Line:5872 3:
 [DEBUG] 2017-11-30 20:54:03,879 Line:5872 4:
 [DEBUG] 2017-11-30 20:54:03,879 Line:5872 5:
 [DEBUG] 2017-11-30 20:54:03,879 Line:5872 6:300.0
 [DEBUG] 2017-11-30 20:54:03,879 Line:5872 7:1.0
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 8:300.0
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 9:
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 10:00101
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 11:1
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 12:0
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 13:
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 14:
 [DEBUG] 2017-11-30 20:54:03,880 Line:5872 15:00001
 [DEBUG] 2017-11-30 20:54:03,890 Line:313 exeCondition:tblExpense_Add :('100201'=='2202')&&(''!='1,'||''=='')
 [DEBUG] 2017-11-30 20:54:03,892 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,893 Line:313 exeCondition:tblExpense_Add :''=='1,'&&('100201'.indexOf('1001')==0||'100201'.indexOf('1002')==0)
 [DEBUG] 2017-11-30 20:54:03,894 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,894 Line:313 exeCondition:tblExpense_Add :''=='1,'&&''==''
 [DEBUG] 2017-11-30 20:54:03,895 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,895 Line:921 自定义执行的语句显示： tblExpense_Add :select DepartmentCode as CreateDeptCode from tblEmployee where id=?
 [DEBUG] 2017-11-30 20:54:03,896 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:03,896 Line:988 1值：1
 [DEBUG] 2017-11-30 20:54:03,898 Line:1025 query condition columnName:CreateDeptCode----value:00101
 [DEBUG] 2017-11-30 20:54:03,899 Line:1043 ---上述语句时间---4
 [DEBUG] 2017-11-30 20:54:03,899 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as deptError from tblExpenseDet where ?='true' and f_ref=? and substring(DepartmentCode,1,5)!=substring(?,1,5)
 [DEBUG] 2017-11-30 20:54:03,899 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:03,899 Line:988 1值：false
 [DEBUG] 2017-11-30 20:54:03,900 Line:988 2值：2d6dcd1b_1711302054038450455
 [DEBUG] 2017-11-30 20:54:03,900 Line:988 3值：00101
 [DEBUG] 2017-11-30 20:54:03,905 Line:1025 query condition columnName:deptError----value:0
 [DEBUG] 2017-11-30 20:54:03,906 Line:1043 ---上述语句时间---7
 [DEBUG] 2017-11-30 20:54:03,906 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:54:03,907 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,907 Line:921 自定义执行的语句显示： tblExpense_Add :select ClientFlag from tblCompany where classCode=?
 [DEBUG] 2017-11-30 20:54:03,907 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:03,908 Line:988 1值：
 [DEBUG] 2017-11-30 20:54:03,922 Line:1043 ---上述语句时间---15
 [DEBUG] 2017-11-30 20:54:03,922 Line:313 exeCondition:tblExpense_Add :null==2&&'100201'=='2202'
 [DEBUG] 2017-11-30 20:54:03,923 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,924 Line:921 自定义执行的语句显示： tblExpense_Add :select count(0) as AmtNeC from tblExpenseDet where f_ref=? and Amt<=0
 [DEBUG] 2017-11-30 20:54:03,924 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:03,924 Line:988 1值：2d6dcd1b_1711302054038450455
 [DEBUG] 2017-11-30 20:54:03,929 Line:1025 query condition columnName:AmtNeC----value:0
 [DEBUG] 2017-11-30 20:54:03,929 Line:1043 ---上述语句时间---5
 [DEBUG] 2017-11-30 20:54:03,929 Line:313 exeCondition:tblExpense_Add :0>0
 [DEBUG] 2017-11-30 20:54:03,930 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,930 Line:921 自定义执行的语句显示： tblExpense_Add :select dbo.getDigits('tblExpenseDet','Amt',sum(Amt)) as SumDetAmt from tblExpenseDet where f_ref=?
 [DEBUG] 2017-11-30 20:54:03,931 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:03,931 Line:988 1值：2d6dcd1b_1711302054038450455
 [DEBUG] 2017-11-30 20:54:03,980 Line:1025 query condition columnName:SumDetAmt----value:300.0
 [DEBUG] 2017-11-30 20:54:03,980 Line:1043 ---上述语句时间---50
 [DEBUG] 2017-11-30 20:54:03,980 Line:313 exeCondition:tblExpense_Add : 300.0 != 300.00
 [DEBUG] 2017-11-30 20:54:03,982 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:03,982 Line:921 自定义执行的语句显示： tblExpense_Add :SELECT e.zh_CN AS AccountName FROM tblAccBalance b JOIN (SELECT a.SubCode,a.Nyear,MAX(a.Period) Period FROM tblAccBalance a JOIN (SELECT MAX(Nyear) Nyear FROM tblAccBalance WHERE SubCode = ? AND Nyear>=?) b ON a.Nyear = b.Nyear WHERE a.SubCode = ? GROUP BY a.SubCode,a.Nyear) c ON b.Period = c.Period AND b.Nyear = c.Nyear JOIN tblAccTypeInfo d ON d.AccNumber=? JOIN tblLanguage e ON d.AccName = e.id WHERE b.SubCode=? AND (b.PeriodBalaBase - ?)<0 AND (b.SubCode like '1001%' or b.SubCode like '1002%')
 [DEBUG] 2017-11-30 20:54:03,982 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:03,983 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:54:03,983 Line:988 2值：2017
 [DEBUG] 2017-11-30 20:54:03,983 Line:988 3值：100201
 [DEBUG] 2017-11-30 20:54:03,983 Line:988 4值：100201
 [DEBUG] 2017-11-30 20:54:03,983 Line:988 5值：100201
 [DEBUG] 2017-11-30 20:54:03,984 Line:988 6值：300.00
 [DEBUG] 2017-11-30 20:54:04,034 Line:1043 ---上述语句时间---52
 [DEBUG] 2017-11-30 20:54:04,034 Line:313 exeCondition:tblExpense_Add :"null".length != 0 && "null" != "null" && "" == "true"
 [DEBUG] 2017-11-30 20:54:04,036 Line:321 flag:false
 [DEBUG] 2017-11-30 20:54:04,036 Line:921 自定义执行的语句显示： tblExpense_Add :select AccNumber,AccName,IsForCur,Currency as CURD from tblAccTypeInfo where AccNumber=? and SCompanyID=?
 [DEBUG] 2017-11-30 20:54:04,036 Line:922 上述自定义执行的语句参数显示： 
 [DEBUG] 2017-11-30 20:54:04,036 Line:988 1值：100201
 [DEBUG] 2017-11-30 20:54:04,036 Line:988 2值：00001
 [DEBUG] 2017-11-30 20:54:04,042 Line:1025 query condition columnName:AccNumber----value:100201
 [DEBUG] 2017-11-30 20:54:04,042 Line:1025 query condition columnName:AccName----value:c458e541_1608160940291060295
 [DEBUG] 2017-11-30 20:54:04,042 Line:1025 query condition columnName:IsForCur----value:2
 [DEBUG] 2017-11-30 20:54:04,042 Line:1025 query condition columnName:CURD----value:
 [DEBUG] 2017-11-30 20:54:04,042 Line:1043 ---上述语句时间---6
 [DEBUG] 2017-11-30 20:54:04,043 Line:313 exeCondition:tblExpense_Add :'42428a07_1604181718549566965'.length != 0 && '42428a07_1604181718549566965' != ''
 [DEBUG] 2017-11-30 20:54:04,044 Line:321 flag:true
 [DEBUG] 2017-11-30 20:54:04,045 Line:372 ---error，返回信息：tblAccTypeInfo.SelectCurType.errorurl=
 [ERROR] 2017-11-30 20:54:04,045 Line:3868 DynDBManager After add defineSql Error code = -2102 Msg=选择的付款账户不是该币种对应的账户.
 [DEBUG] 2017-11-30 20:54:04,820 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=importInfo&importName=tblExpensed&time=1512046444818
 [DEBUG] 2017-11-30 20:54:04,820 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[importInfo,];importName=[tblExpensed,];time=[1512046444818,];
 [DEBUG] 2017-11-30 20:54:04,826 Line:135 BaseAction.execute 请求地址：/importDataAction.do?operation=91&tableName=tblExpensed&parentTableName=&moduleType=&NoBack=&moduleId=
 [DEBUG] 2017-11-30 20:54:04,826 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[91,];tableName=[tblExpensed,];parentTableName=[,];moduleType=[,];NoBack=[,];moduleId=[,];
 [DEBUG] 2017-11-30 20:54:06,747 Line:152 UtilServlet.service 请求地址：/UtilServlet?operation=readErrorExcel&fileName=../log/tblExpensed_1.xls
 [DEBUG] 2017-11-30 20:54:06,747 Line:163 UtilServlet.service 操作人:admin;请求数据：operation=[readErrorExcel,];fileName=[../log/tblExpensed_1.xls,];
 [DEBUG] 2017-11-30 20:54:37,885 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblCurrency&src=menu&winCurIndex=2
 [DEBUG] 2017-11-30 20:54:37,886 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblCurrency,];src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-11-30 20:54:37,886 Line:215 ---------->SET Page 2 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblCurrency
 [DEBUG] 2017-11-30 20:54:38,378 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,CurrencyName,CurrencySign,IsBaseCurrency,Remark from ( select tblCurrency.id as keyId,'1' as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id='1') as deptCodeR,'1' as employeeId,(select isnull(DepartmentCode,'') from tblEmployee as e where e.id='1') as deptCodeRE,      tblCurrency.CurrencyName as CurrencyName,     tblCurrency.CurrencySign as CurrencySign,     tblCurrency.IsBaseCurrency as IsBaseCurrency,     tblCurrency.Remark as Remark   ,ROW_NUMBER() over(order by tblCurrency.CurrencyName) as row_id  from tblCurrency where 1=1         )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 20:54:38,411 Line:690 通过SQL读原始数据：15
 [DEBUG] 2017-11-30 20:54:38,412 Line:1392 整理数据：0
 [DEBUG] 2017-11-30 20:54:38,772 Line:5227 GlobalsTool.js 生成js 时间95:/js/gen/validate.vjs_zh_CN.js
 [DEBUG] 2017-11-30 20:54:38,942 Line:5227 GlobalsTool.js 生成js 时间170:/js/gen/defineList.vjstblCurrency_zh_CN.js
 [DEBUG] 2017-11-30 20:54:50,082 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblAccTypeInfo&src=menu&winCurIndex=3
 [DEBUG] 2017-11-30 20:54:50,082 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblAccTypeInfo,];src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-11-30 20:54:50,083 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblAccTypeInfo
 [DEBUG] 2017-11-30 20:54:50,223 Line:135 BaseAction.execute 请求地址：/TreeAction.do?tableName=tblAccTypeInfo&moduleType=&SysType=&MOID=454c3d18_0811261436269060163&editable=true&subSql=
 [DEBUG] 2017-11-30 20:54:50,223 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblAccTypeInfo&src=menu&winCurIndex=3&checkTab=Y
 [DEBUG] 2017-11-30 20:54:50,224 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblAccTypeInfo,];moduleType=[,];SysType=[,];MOID=[454c3d18_0811261436269060163,];editable=[true,];subSql=[,];
 [DEBUG] 2017-11-30 20:54:50,224 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblAccTypeInfo,];src=[menu,];winCurIndex=[3,];checkTab=[Y,];
 [DEBUG] 2017-11-30 20:54:50,225 Line:215 ---------->SET Page 3 DEFAULT URL = /UserFunctionQueryAction.do?tableName=tblAccTypeInfo
 [DEBUG] 2017-11-30 20:54:50,225 Line:229 TreeMgt.getTree sql=select classCode,zh_CN,AccNumber,tblAccTypeInfo.id from tblAccTypeInfo  join tblLanguage b  on tblAccTypeInfo.AccName=b.id where statusId =0  and isCatalog=1  order by AccNumber
 [DEBUG] 2017-11-30 20:54:50,322 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,classCode,childCount,AccNumber,AccName,AccFullName,JdFlag,IsDept,IsQty,IsPersonal,IsProject,IsClient,IsCash,IsProvider,IsForCur,statusId,Remark from ( select tblAccTypeInfo.classCode as classCode,tblAccTypeInfo.isCatalog as childCount, tblAccTypeInfo.id as keyId,'1' as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id='1') as deptCodeR,'1' as employeeId,(select isnull(DepartmentCode,'') from tblEmployee as e where e.id='1') as deptCodeRE,      tblAccTypeInfo.AccNumber as AccNumber,     tblAccTypeInfo.AccName as AccName,     tblAccTypeInfo.AccFullName as AccFullName,     tblAccTypeInfo.JdFlag as JdFlag,     tblAccTypeInfo.IsDept as IsDept,     tblAccTypeInfo.IsQty as IsQty,     tblAccTypeInfo.IsPersonal as IsPersonal,     tblAccTypeInfo.IsProject as IsProject,     tblAccTypeInfo.IsClient as IsClient,     tblAccTypeInfo.IsCash as IsCash,     tblAccTypeInfo.IsProvider as IsProvider,     tblAccTypeInfo.IsForCur as IsForCur,     tblAccTypeInfo.statusId as statusId,     tblAccTypeInfo.Remark as Remark   ,ROW_NUMBER() over(order by     tblAccTypeInfo.AccNumber) as row_id  from tblAccTypeInfo where 1=1 and tblAccTypeInfo.classCode like '_____'                                    and isnull(isCalculate,'')!=1   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 20:54:50,400 Line:690 通过SQL读原始数据：77
 [DEBUG] 2017-11-30 20:54:50,407 Line:1392 整理数据：7
 [DEBUG] 2017-11-30 20:54:50,564 Line:5227 GlobalsTool.js 生成js 时间106:/js/gen/defineList.vjstblAccTypeInfo_zh_CN.js
 [DEBUG] 2017-11-30 20:54:54,372 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblAccTypeInfo&parentCode=00001&operation=4&moduleType=&winCurIndex=3&parentTableName=&checkTab=Y&selectType=endClass
 [DEBUG] 2017-11-30 20:54:54,373 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblAccTypeInfo,];parentCode=[00001,];operation=[4,];moduleType=[,];winCurIndex=[3,];parentTableName=[,];checkTab=[Y,];selectType=[endClass,];
 [DEBUG] 2017-11-30 20:54:54,393 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,classCode,childCount,AccNumber,AccName,AccFullName,JdFlag,IsDept,IsQty,IsPersonal,IsProject,IsClient,IsCash,IsProvider,IsForCur,statusId,Remark from ( select tblAccTypeInfo.classCode as classCode,tblAccTypeInfo.isCatalog as childCount, tblAccTypeInfo.id as keyId,'1' as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id='1') as deptCodeR,'1' as employeeId,(select isnull(DepartmentCode,'') from tblEmployee as e where e.id='1') as deptCodeRE,      tblAccTypeInfo.AccNumber as AccNumber,     tblAccTypeInfo.AccName as AccName,     tblAccTypeInfo.AccFullName as AccFullName,     tblAccTypeInfo.JdFlag as JdFlag,     tblAccTypeInfo.IsDept as IsDept,     tblAccTypeInfo.IsQty as IsQty,     tblAccTypeInfo.IsPersonal as IsPersonal,     tblAccTypeInfo.IsProject as IsProject,     tblAccTypeInfo.IsClient as IsClient,     tblAccTypeInfo.IsCash as IsCash,     tblAccTypeInfo.IsProvider as IsProvider,     tblAccTypeInfo.IsForCur as IsForCur,     tblAccTypeInfo.statusId as statusId,     tblAccTypeInfo.Remark as Remark   ,ROW_NUMBER() over(order by     tblAccTypeInfo.AccNumber) as row_id  from tblAccTypeInfo where 1=1 and tblAccTypeInfo.classCode like '00001_____'                                    and isnull(isCalculate,'')!=1   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 20:54:54,451 Line:690 通过SQL读原始数据：57
 [DEBUG] 2017-11-30 20:54:54,492 Line:1392 整理数据：41
 [ERROR] 2017-11-30 20:54:59,389 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:55:01,055 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 20:55:02,898 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblAccTypeInfo&keyId=32357a3d_0812082110009680003&parentCode=0000100001&operation=4&moduleType=&winCurIndex=3&parentTableName=&checkTab=Y&selectType=endClass
 [DEBUG] 2017-11-30 20:55:02,898 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblAccTypeInfo,];keyId=[32357a3d_0812082110009680003,];parentCode=[0000100001,];operation=[4,];moduleType=[,];winCurIndex=[3,];parentTableName=[,];checkTab=[Y,];selectType=[endClass,];
 [DEBUG] 2017-11-30 20:55:02,932 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,classCode,childCount,AccNumber,AccName,AccFullName,JdFlag,IsDept,IsQty,IsPersonal,IsProject,IsClient,IsCash,IsProvider,IsForCur,statusId,Remark from ( select tblAccTypeInfo.classCode as classCode,tblAccTypeInfo.isCatalog as childCount, tblAccTypeInfo.id as keyId,'1' as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id='1') as deptCodeR,'1' as employeeId,(select isnull(DepartmentCode,'') from tblEmployee as e where e.id='1') as deptCodeRE,      tblAccTypeInfo.AccNumber as AccNumber,     tblAccTypeInfo.AccName as AccName,     tblAccTypeInfo.AccFullName as AccFullName,     tblAccTypeInfo.JdFlag as JdFlag,     tblAccTypeInfo.IsDept as IsDept,     tblAccTypeInfo.IsQty as IsQty,     tblAccTypeInfo.IsPersonal as IsPersonal,     tblAccTypeInfo.IsProject as IsProject,     tblAccTypeInfo.IsClient as IsClient,     tblAccTypeInfo.IsCash as IsCash,     tblAccTypeInfo.IsProvider as IsProvider,     tblAccTypeInfo.IsForCur as IsForCur,     tblAccTypeInfo.statusId as statusId,     tblAccTypeInfo.Remark as Remark   ,ROW_NUMBER() over(order by     tblAccTypeInfo.AccNumber) as row_id  from tblAccTypeInfo where 1=1 and tblAccTypeInfo.classCode like '0000100001_____'                                    and isnull(isCalculate,'')!=1   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 20:55:02,955 Line:690 通过SQL读原始数据：22
 [DEBUG] 2017-11-30 20:55:02,959 Line:1392 整理数据：4
 [DEBUG] 2017-11-30 20:55:05,184 Line:135 BaseAction.execute 请求地址：/UserFunctionQueryAction.do?tableName=tblAccTypeInfo&parentCode=00001&operation=4&parentTableName=&moduleType=&winCurIndex=3&checkTab=Y
 [DEBUG] 2017-11-30 20:55:05,184 Line:146 BaseAction.execute 操作人:admin;请求数据：tableName=[tblAccTypeInfo,];parentCode=[00001,];operation=[4,];parentTableName=[,];moduleType=[,];winCurIndex=[3,];checkTab=[Y,];
 [DEBUG] 2017-11-30 20:55:05,202 Line:549 ReportDataMgt.getReportData SQL=select keyId,createBy,deptCodeR,employeeId,deptCodeRE,classCode,childCount,AccNumber,AccName,AccFullName,JdFlag,IsDept,IsQty,IsPersonal,IsProject,IsClient,IsCash,IsProvider,IsForCur,statusId,Remark from ( select tblAccTypeInfo.classCode as classCode,tblAccTypeInfo.isCatalog as childCount, tblAccTypeInfo.id as keyId,'1' as createBy,(select isnull(DepartmentCode,'') from tblEmployee where tblEmployee.id='1') as deptCodeR,'1' as employeeId,(select isnull(DepartmentCode,'') from tblEmployee as e where e.id='1') as deptCodeRE,      tblAccTypeInfo.AccNumber as AccNumber,     tblAccTypeInfo.AccName as AccName,     tblAccTypeInfo.AccFullName as AccFullName,     tblAccTypeInfo.JdFlag as JdFlag,     tblAccTypeInfo.IsDept as IsDept,     tblAccTypeInfo.IsQty as IsQty,     tblAccTypeInfo.IsPersonal as IsPersonal,     tblAccTypeInfo.IsProject as IsProject,     tblAccTypeInfo.IsClient as IsClient,     tblAccTypeInfo.IsCash as IsCash,     tblAccTypeInfo.IsProvider as IsProvider,     tblAccTypeInfo.IsForCur as IsForCur,     tblAccTypeInfo.statusId as statusId,     tblAccTypeInfo.Remark as Remark   ,ROW_NUMBER() over(order by     tblAccTypeInfo.AccNumber) as row_id  from tblAccTypeInfo where 1=1 and tblAccTypeInfo.classCode like '00001_____'                                    and isnull(isCalculate,'')!=1   )  a  where row_id between 1 and 101 order by row_id
 [DEBUG] 2017-11-30 20:55:05,226 Line:690 通过SQL读原始数据：23
 [DEBUG] 2017-11-30 20:55:05,232 Line:1392 整理数据：6
 [ERROR] 2017-11-30 20:56:03,550 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:56:04,703 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 20:56:36,274 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=4
 [DEBUG] 2017-11-30 20:56:36,274 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[4,];
 [DEBUG] 2017-11-30 20:56:36,275 Line:215 ---------->SET Page 4 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-11-30 20:56:37,477 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-11-30 20:56:37,477 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-11-30 20:56:38,471 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=5
 [DEBUG] 2017-11-30 20:56:38,471 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[5,];
 [DEBUG] 2017-11-30 20:56:38,472 Line:215 ---------->SET Page 5 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-11-30 20:56:48,045 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-11-30 20:56:48,047 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[5,];search=[费用支出单,];
 [DEBUG] 2017-11-30 20:56:51,306 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblExpensed&search=%E8%B4%B9%E7%94%A8%E6%94%AF%E5%87%BA%E5%8D%95&popWinName=TablemgtDiv
 [DEBUG] 2017-11-30 20:56:51,306 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblExpensed,];search=[è????¨?????????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-11-30 20:56:51,539 Line:5227 GlobalsTool.js 生成js 时间19:/js/gen/editPage.vjs_zh_CN.js
 [DEBUG] 2017-11-30 20:56:52,421 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2017-11-30 20:56:52,421 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2017-11-30 20:56:54,800 Line:1061 ------Init Enumeration record:518
 [ERROR] 2017-11-30 20:57:07,331 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:57:08,556 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:58:10,900 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:58:12,052 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 20:59:14,955 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 20:59:16,316 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:00:18,392 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:00:19,385 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:02:35,661 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:02:36,687 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:03:38,701 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:03:39,665 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:04:41,637 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:04:42,641 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:05:44,682 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:05:45,653 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:06:47,637 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:06:48,660 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:07:50,720 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:07:51,697 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:08:53,805 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:08:54,769 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:09:56,759 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:09:57,736 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:10:59,810 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:11:00,786 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:12:02,834 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:12:03,863 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:13:05,890 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:13:06,861 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 21:14:06,883 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-11-30 21:14:09,024 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:14:10,004 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:15:12,011 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:15:12,996 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:16:14,935 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:16:15,899 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:17:17,892 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:17:18,866 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:18:21,308 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:18:22,464 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:19:25,065 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:19:26,312 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:20:28,892 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:20:30,126 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:21:32,486 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:21:33,728 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:22:36,188 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:22:37,371 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:23:39,737 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:23:40,900 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:24:43,375 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:24:44,611 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:25:46,982 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:25:48,117 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:26:50,468 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:26:51,606 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:27:53,991 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:27:55,132 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:28:57,478 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:28:58,612 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:30:00,982 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:30:02,125 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:31:04,620 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:31:05,845 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:32:07,756 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:32:09,388 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:33:11,339 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:33:12,289 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:34:14,260 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:34:15,241 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:35:17,205 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:35:18,154 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:36:20,090 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:36:21,030 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:37:22,988 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:37:23,936 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:38:25,855 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:38:26,810 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:39:28,761 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:39:29,712 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:40:31,682 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:40:32,630 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:41:34,551 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:41:35,502 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:42:37,448 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:42:38,417 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:43:40,354 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:43:41,301 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 21:44:41,313 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-11-30 21:44:43,318 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:44:44,291 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:45:46,265 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:45:47,245 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:46:49,232 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:46:50,191 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:47:52,127 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:47:53,093 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:48:55,037 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:48:55,981 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:49:57,925 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:49:58,872 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:51:00,891 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:51:01,836 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:52:03,813 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:52:04,743 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:53:06,671 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:53:07,618 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:54:09,543 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:54:10,487 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:55:12,525 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:55:13,523 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:56:15,527 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:56:16,523 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:57:18,568 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:57:19,569 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 21:58:21,679 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:58:22,714 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 21:59:06,735 Line:135 BaseAction.execute 请求地址：/AIO.do
 [DEBUG] 2017-11-30 21:59:06,736 Line:146 BaseAction.execute 操作人:admin;请求数据：
 [DEBUG] 2017-11-30 21:59:06,744 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 21:59:07,117 Line:135 BaseAction.execute 请求地址：/newMenu.do?keyId=28141812_0811271603291400086&name=%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8F%B0&operation=0&winCurIndex=0
 [DEBUG] 2017-11-30 21:59:07,117 Line:146 BaseAction.execute 操作人:admin;请求数据：keyId=[28141812_0811271603291400086,];name=[???????・??????°,];operation=[0,];winCurIndex=[0,];
 [DEBUG] 2017-11-30 21:59:07,145 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=1&loadMenu=true
 [DEBUG] 2017-11-30 21:59:07,145 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[1,];loadMenu=[true,];
 [DEBUG] 2017-11-30 21:59:07,146 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 21:59:07,188 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=2&loadMenu=true
 [DEBUG] 2017-11-30 21:59:07,189 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[2,];loadMenu=[true,];
 [DEBUG] 2017-11-30 21:59:07,190 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 21:59:07,206 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=3&loadMenu=true
 [DEBUG] 2017-11-30 21:59:07,207 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[3,];loadMenu=[true,];
 [DEBUG] 2017-11-30 21:59:07,208 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [DEBUG] 2017-11-30 21:59:07,229 Line:135 BaseAction.execute 请求地址：/MenuQueryAction.do?sysType=0&loadMenu=true
 [DEBUG] 2017-11-30 21:59:07,230 Line:146 BaseAction.execute 操作人:admin;请求数据：sysType=[0,];loadMenu=[true,];
 [DEBUG] 2017-11-30 21:59:07,231 Line:404 PublicMgt.queryClass 查询可新建工作流sql=select work.id,work.templateName,work.templateType,a.ModuleName,work.templateStatus,work.templateClass,work.statusId,work.flowOrder,work.templateFile,work.allowAdd,work.timeType,work.timeVal,work.designType  from OAWorkFlowTemplate work, tblWorkFlowType a where work.templateClass=a.classCode and a.classCode like '00002%'  and work.fileFinish='1' and work.templateStatus=1 and work.statusId=0  order by work.flowOrder
 [ERROR] 2017-11-30 21:59:24,782 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 21:59:25,755 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:00:27,809 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:00:28,857 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:01:30,826 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:01:31,842 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 22:02:15,834 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?src=menu&winCurIndex=1
 [DEBUG] 2017-11-30 22:02:15,835 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[1,];
 [DEBUG] 2017-11-30 22:02:15,835 Line:215 ---------->SET Page 1 DEFAULT URL = /AdvanceAction.do
 [DEBUG] 2017-11-30 22:02:17,019 Line:135 BaseAction.execute 请求地址：/AdvanceAction.do?optype=index
 [DEBUG] 2017-11-30 22:02:17,020 Line:146 BaseAction.execute 操作人:admin;请求数据：optype=[index,];
 [DEBUG] 2017-11-30 22:02:18,406 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=2
 [DEBUG] 2017-11-30 22:02:18,406 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[2,];
 [DEBUG] 2017-11-30 22:02:18,406 Line:215 ---------->SET Page 2 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-11-30 22:02:29,190 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do
 [DEBUG] 2017-11-30 22:02:29,191 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];org.apache.struts.taglib.html.TOKEN=[,];winCurIndex=[2,];search=[费用支出,];Submit=[,];
 [ERROR] 2017-11-30 22:02:34,223 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:02:35,229 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:03:37,207 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:03:38,186 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:04:40,234 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:04:41,216 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:05:43,218 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:05:44,196 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:06:46,228 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:06:47,204 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:07:49,171 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:07:50,191 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 22:08:27,756 Line:135 BaseAction.execute 请求地址：/CustomQueryAction.do?src=menu&winCurIndex=3
 [DEBUG] 2017-11-30 22:08:27,756 Line:146 BaseAction.execute 操作人:admin;请求数据：src=[menu,];winCurIndex=[3,];
 [DEBUG] 2017-11-30 22:08:27,757 Line:215 ---------->SET Page 3 DEFAULT URL = /CustomQueryAction.do
 [DEBUG] 2017-11-30 22:08:32,885 Line:135 BaseAction.execute 请求地址：/CustomAction.do?operation=7&keyId=tblExpensed&search=%E8%B4%B9%E7%94%A8%E6%94%AF%E5%87%BA&popWinName=TablemgtDiv
 [DEBUG] 2017-11-30 22:08:32,885 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[7,];keyId=[tblExpensed,];search=[è????¨??????,];popWinName=[TablemgtDiv,];
 [DEBUG] 2017-11-30 22:08:33,215 Line:135 BaseAction.execute 请求地址：/ClientSettingAction.do?operation=4&queryType=reloadEnum&enumerName=CheckCompany
 [DEBUG] 2017-11-30 22:08:33,216 Line:146 BaseAction.execute 操作人:admin;请求数据：operation=[4,];queryType=[reloadEnum,];enumerName=[CheckCompany,];
 [DEBUG] 2017-11-30 22:08:34,889 Line:1061 ------Init Enumeration record:518
 [ERROR] 2017-11-30 22:08:52,611 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:08:53,597 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:09:55,564 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:09:56,549 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:10:58,560 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:10:59,534 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:12:01,592 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:12:02,553 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:13:04,490 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:13:05,498 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:14:07,582 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:14:08,544 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [DEBUG] 2017-11-30 22:15:08,566 Line:56 ConfigRefresh.getLastInfo -- and refresh ip
 [ERROR] 2017-11-30 22:15:10,694 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:15:11,761 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:16:13,749 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:16:14,722 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:17:16,781 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:17:17,848 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:18:19,880 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:18:20,900 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:19:22,910 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:19:23,906 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:20:25,926 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:20:26,934 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:21:28,993 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:21:29,999 Line:3882 --------Refresh PopSelectConfig Failture---------------
 [ERROR] 2017-11-30 22:22:32,057 Line:68 -----------PopSelectConfig parseFile C:\koron\HFtomcat\tomcat7\bin\..\..\config_v7\popupSelect\QuoteMany\popuptblSaleReceive.xml error----------------
 java.lang.Exception: 弹出窗popuptblSaleReceive复合字段：isnull(tblCompany.ComFullName,tblFreightCom.ComFullName)未设置asName!!!!!
	at com.menyi.aio.web.customize.PopupSelectBean.parse(PopupSelectBean.java:371)
	at com.menyi.web.util.PopSelectConfig.parse(PopSelectConfig.java:63)
	at com.menyi.web.util.PopSelectConfig.parseConfig(PopSelectConfig.java:38)
	at com.menyi.web.util.InitMenData.initConfigFile(InitMenData.java:3881)
	at com.menyi.web.util.ConfigRefresh.run(ConfigRefresh.java:192)
[ERROR] 2017-11-30 22:22:33,097 Line:3882 --------Refresh PopSelectConfig Failture---------------
 